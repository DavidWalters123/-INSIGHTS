var Aee=Object.defineProperty;var LD=t=>{throw TypeError(t)};var kee=(t,e,n)=>e in t?Aee(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var $D=(t,e,n)=>kee(t,typeof e!="symbol"?e+"":e,n),VE=(t,e,n)=>e.has(t)||LD("Cannot "+n);var V=(t,e,n)=>(VE(t,e,"read from private field"),n?n.call(t):e.get(t)),je=(t,e,n)=>e.has(t)?LD("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,n),ve=(t,e,n,r)=>(VE(t,e,"write to private field"),r?r.call(t,n):e.set(t,n),n),Ge=(t,e,n)=>(VE(t,e,"access private method"),n);var u0=(t,e,n,r)=>({set _(i){ve(t,e,i,n)},get _(){return V(t,e,r)}});function Pee(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const s=Object.getOwnPropertyDescriptor(r,i);s&&Object.defineProperty(t,i,s.get?s:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();var d0=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function vt(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Gz={exports:{}},u_={},Qz={exports:{}},nt={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var cv=Symbol.for("react.element"),Cee=Symbol.for("react.portal"),Iee=Symbol.for("react.fragment"),Oee=Symbol.for("react.strict_mode"),Nee=Symbol.for("react.profiler"),jee=Symbol.for("react.provider"),Ree=Symbol.for("react.context"),Dee=Symbol.for("react.forward_ref"),Mee=Symbol.for("react.suspense"),Lee=Symbol.for("react.memo"),$ee=Symbol.for("react.lazy"),VD=Symbol.iterator;function Vee(t){return t===null||typeof t!="object"?null:(t=VD&&t[VD]||t["@@iterator"],typeof t=="function"?t:null)}var Yz={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Xz=Object.assign,Jz={};function Zh(t,e,n){this.props=t,this.context=e,this.refs=Jz,this.updater=n||Yz}Zh.prototype.isReactComponent={};Zh.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};Zh.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function Zz(){}Zz.prototype=Zh.prototype;function pO(t,e,n){this.props=t,this.context=e,this.refs=Jz,this.updater=n||Yz}var mO=pO.prototype=new Zz;mO.constructor=pO;Xz(mO,Zh.prototype);mO.isPureReactComponent=!0;var FD=Array.isArray,e6=Object.prototype.hasOwnProperty,gO={current:null},t6={key:!0,ref:!0,__self:!0,__source:!0};function n6(t,e,n){var r,i={},s=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(s=""+e.key),e)e6.call(e,r)&&!t6.hasOwnProperty(r)&&(i[r]=e[r]);var a=arguments.length-2;if(a===1)i.children=n;else if(1<a){for(var l=Array(a),c=0;c<a;c++)l[c]=arguments[c+2];i.children=l}if(t&&t.defaultProps)for(r in a=t.defaultProps,a)i[r]===void 0&&(i[r]=a[r]);return{$$typeof:cv,type:t,key:s,ref:o,props:i,_owner:gO.current}}function Fee(t,e){return{$$typeof:cv,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function yO(t){return typeof t=="object"&&t!==null&&t.$$typeof===cv}function Bee(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var BD=/\/+/g;function FE(t,e){return typeof t=="object"&&t!==null&&t.key!=null?Bee(""+t.key):e.toString(36)}function xx(t,e,n,r,i){var s=typeof t;(s==="undefined"||s==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(s){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case cv:case Cee:o=!0}}if(o)return o=t,i=i(o),t=r===""?"."+FE(o,0):r,FD(i)?(n="",t!=null&&(n=t.replace(BD,"$&/")+"/"),xx(i,e,n,"",function(c){return c})):i!=null&&(yO(i)&&(i=Fee(i,n+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(BD,"$&/")+"/")+t)),e.push(i)),1;if(o=0,r=r===""?".":r+":",FD(t))for(var a=0;a<t.length;a++){s=t[a];var l=r+FE(s,a);o+=xx(s,e,n,l,i)}else if(l=Vee(t),typeof l=="function")for(t=l.call(t),a=0;!(s=t.next()).done;)s=s.value,l=r+FE(s,a++),o+=xx(s,e,n,l,i);else if(s==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function f0(t,e,n){if(t==null)return t;var r=[],i=0;return xx(t,r,"","",function(s){return e.call(n,s,i++)}),r}function Uee(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var Qr={current:null},bx={transition:null},zee={ReactCurrentDispatcher:Qr,ReactCurrentBatchConfig:bx,ReactCurrentOwner:gO};function r6(){throw Error("act(...) is not supported in production builds of React.")}nt.Children={map:f0,forEach:function(t,e,n){f0(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return f0(t,function(){e++}),e},toArray:function(t){return f0(t,function(e){return e})||[]},only:function(t){if(!yO(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};nt.Component=Zh;nt.Fragment=Iee;nt.Profiler=Nee;nt.PureComponent=pO;nt.StrictMode=Oee;nt.Suspense=Mee;nt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=zee;nt.act=r6;nt.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=Xz({},t.props),i=t.key,s=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(s=e.ref,o=gO.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(l in e)e6.call(e,l)&&!t6.hasOwnProperty(l)&&(r[l]=e[l]===void 0&&a!==void 0?a[l]:e[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){a=Array(l);for(var c=0;c<l;c++)a[c]=arguments[c+2];r.children=a}return{$$typeof:cv,type:t.type,key:i,ref:s,props:r,_owner:o}};nt.createContext=function(t){return t={$$typeof:Ree,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:jee,_context:t},t.Consumer=t};nt.createElement=n6;nt.createFactory=function(t){var e=n6.bind(null,t);return e.type=t,e};nt.createRef=function(){return{current:null}};nt.forwardRef=function(t){return{$$typeof:Dee,render:t}};nt.isValidElement=yO;nt.lazy=function(t){return{$$typeof:$ee,_payload:{_status:-1,_result:t},_init:Uee}};nt.memo=function(t,e){return{$$typeof:Lee,type:t,compare:e===void 0?null:e}};nt.startTransition=function(t){var e=bx.transition;bx.transition={};try{t()}finally{bx.transition=e}};nt.unstable_act=r6;nt.useCallback=function(t,e){return Qr.current.useCallback(t,e)};nt.useContext=function(t){return Qr.current.useContext(t)};nt.useDebugValue=function(){};nt.useDeferredValue=function(t){return Qr.current.useDeferredValue(t)};nt.useEffect=function(t,e){return Qr.current.useEffect(t,e)};nt.useId=function(){return Qr.current.useId()};nt.useImperativeHandle=function(t,e,n){return Qr.current.useImperativeHandle(t,e,n)};nt.useInsertionEffect=function(t,e){return Qr.current.useInsertionEffect(t,e)};nt.useLayoutEffect=function(t,e){return Qr.current.useLayoutEffect(t,e)};nt.useMemo=function(t,e){return Qr.current.useMemo(t,e)};nt.useReducer=function(t,e,n){return Qr.current.useReducer(t,e,n)};nt.useRef=function(t){return Qr.current.useRef(t)};nt.useState=function(t){return Qr.current.useState(t)};nt.useSyncExternalStore=function(t,e,n){return Qr.current.useSyncExternalStore(t,e,n)};nt.useTransition=function(){return Qr.current.useTransition()};nt.version="18.3.1";Qz.exports=nt;var C=Qz.exports;const M=vt(C),qee=Pee({__proto__:null,default:M},[C]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Hee=C,Wee=Symbol.for("react.element"),Kee=Symbol.for("react.fragment"),Gee=Object.prototype.hasOwnProperty,Qee=Hee.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Yee={key:!0,ref:!0,__self:!0,__source:!0};function i6(t,e,n){var r,i={},s=null,o=null;n!==void 0&&(s=""+n),e.key!==void 0&&(s=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)Gee.call(e,r)&&!Yee.hasOwnProperty(r)&&(i[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:Wee,type:t,key:s,ref:o,props:i,_owner:Qee.current}}u_.Fragment=Kee;u_.jsx=i6;u_.jsxs=i6;Gz.exports=u_;var h=Gz.exports,s6={exports:{}},Mi={},o6={exports:{}},a6={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e($,U){var W=$.length;$.push(U);e:for(;0<W;){var Z=W-1>>>1,Q=$[Z];if(0<i(Q,U))$[Z]=U,$[W]=Q,W=Z;else break e}}function n($){return $.length===0?null:$[0]}function r($){if($.length===0)return null;var U=$[0],W=$.pop();if(W!==U){$[0]=W;e:for(var Z=0,Q=$.length,fe=Q>>>1;Z<fe;){var Le=2*(Z+1)-1,Ye=$[Le],rt=Le+1,Gt=$[rt];if(0>i(Ye,W))rt<Q&&0>i(Gt,Ye)?($[Z]=Gt,$[rt]=W,Z=rt):($[Z]=Ye,$[Le]=W,Z=Le);else if(rt<Q&&0>i(Gt,W))$[Z]=Gt,$[rt]=W,Z=rt;else break e}}return U}function i($,U){var W=$.sortIndex-U.sortIndex;return W!==0?W:$.id-U.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();t.unstable_now=function(){return o.now()-a}}var l=[],c=[],u=1,d=null,f=3,p=!1,m=!1,g=!1,v=typeof setTimeout=="function"?setTimeout:null,x=typeof clearTimeout=="function"?clearTimeout:null,b=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function w($){for(var U=n(c);U!==null;){if(U.callback===null)r(c);else if(U.startTime<=$)r(c),U.sortIndex=U.expirationTime,e(l,U);else break;U=n(c)}}function T($){if(g=!1,w($),!m)if(n(l)!==null)m=!0,L(_);else{var U=n(c);U!==null&&B(T,U.startTime-$)}}function _($,U){m=!1,g&&(g=!1,x(E),E=-1),p=!0;var W=f;try{for(w(U),d=n(l);d!==null&&(!(d.expirationTime>U)||$&&!N());){var Z=d.callback;if(typeof Z=="function"){d.callback=null,f=d.priorityLevel;var Q=Z(d.expirationTime<=U);U=t.unstable_now(),typeof Q=="function"?d.callback=Q:d===n(l)&&r(l),w(U)}else r(l);d=n(l)}if(d!==null)var fe=!0;else{var Le=n(c);Le!==null&&B(T,Le.startTime-U),fe=!1}return fe}finally{d=null,f=W,p=!1}}var k=!1,S=null,E=-1,P=5,O=-1;function N(){return!(t.unstable_now()-O<P)}function R(){if(S!==null){var $=t.unstable_now();O=$;var U=!0;try{U=S(!0,$)}finally{U?j():(k=!1,S=null)}}else k=!1}var j;if(typeof b=="function")j=function(){b(R)};else if(typeof MessageChannel<"u"){var z=new MessageChannel,F=z.port2;z.port1.onmessage=R,j=function(){F.postMessage(null)}}else j=function(){v(R,0)};function L($){S=$,k||(k=!0,j())}function B($,U){E=v(function(){$(t.unstable_now())},U)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function($){$.callback=null},t.unstable_continueExecution=function(){m||p||(m=!0,L(_))},t.unstable_forceFrameRate=function($){0>$||125<$?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):P=0<$?Math.floor(1e3/$):5},t.unstable_getCurrentPriorityLevel=function(){return f},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function($){switch(f){case 1:case 2:case 3:var U=3;break;default:U=f}var W=f;f=U;try{return $()}finally{f=W}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function($,U){switch($){case 1:case 2:case 3:case 4:case 5:break;default:$=3}var W=f;f=$;try{return U()}finally{f=W}},t.unstable_scheduleCallback=function($,U,W){var Z=t.unstable_now();switch(typeof W=="object"&&W!==null?(W=W.delay,W=typeof W=="number"&&0<W?Z+W:Z):W=Z,$){case 1:var Q=-1;break;case 2:Q=250;break;case 5:Q=1073741823;break;case 4:Q=1e4;break;default:Q=5e3}return Q=W+Q,$={id:u++,callback:U,priorityLevel:$,startTime:W,expirationTime:Q,sortIndex:-1},W>Z?($.sortIndex=W,e(c,$),n(l)===null&&$===n(c)&&(g?(x(E),E=-1):g=!0,B(T,W-Z))):($.sortIndex=Q,e(l,$),m||p||(m=!0,L(_))),$},t.unstable_shouldYield=N,t.unstable_wrapCallback=function($){var U=f;return function(){var W=f;f=U;try{return $.apply(this,arguments)}finally{f=W}}}})(a6);o6.exports=a6;var Xee=o6.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Jee=C,Ni=Xee;function ie(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var l6=new Set,wg={};function ed(t,e){Yf(t,e),Yf(t+"Capture",e)}function Yf(t,e){for(wg[t]=e,t=0;t<e.length;t++)l6.add(e[t])}var ia=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),GA=Object.prototype.hasOwnProperty,Zee=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,UD={},zD={};function ete(t){return GA.call(zD,t)?!0:GA.call(UD,t)?!1:Zee.test(t)?zD[t]=!0:(UD[t]=!0,!1)}function tte(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function nte(t,e,n,r){if(e===null||typeof e>"u"||tte(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Yr(t,e,n,r,i,s,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=s,this.removeEmptyString=o}var ar={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){ar[t]=new Yr(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];ar[e]=new Yr(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){ar[t]=new Yr(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){ar[t]=new Yr(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){ar[t]=new Yr(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){ar[t]=new Yr(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){ar[t]=new Yr(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){ar[t]=new Yr(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){ar[t]=new Yr(t,5,!1,t.toLowerCase(),null,!1,!1)});var vO=/[\-:]([a-z])/g;function xO(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(vO,xO);ar[e]=new Yr(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(vO,xO);ar[e]=new Yr(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(vO,xO);ar[e]=new Yr(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){ar[t]=new Yr(t,1,!1,t.toLowerCase(),null,!1,!1)});ar.xlinkHref=new Yr("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){ar[t]=new Yr(t,1,!1,t.toLowerCase(),null,!0,!0)});function bO(t,e,n,r){var i=ar.hasOwnProperty(e)?ar[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(nte(e,n,i,r)&&(n=null),r||i===null?ete(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,r=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var xa=Jee.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,h0=Symbol.for("react.element"),zd=Symbol.for("react.portal"),qd=Symbol.for("react.fragment"),wO=Symbol.for("react.strict_mode"),QA=Symbol.for("react.profiler"),c6=Symbol.for("react.provider"),u6=Symbol.for("react.context"),_O=Symbol.for("react.forward_ref"),YA=Symbol.for("react.suspense"),XA=Symbol.for("react.suspense_list"),SO=Symbol.for("react.memo"),Ba=Symbol.for("react.lazy"),d6=Symbol.for("react.offscreen"),qD=Symbol.iterator;function qp(t){return t===null||typeof t!="object"?null:(t=qD&&t[qD]||t["@@iterator"],typeof t=="function"?t:null)}var ln=Object.assign,BE;function Sm(t){if(BE===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);BE=e&&e[1]||""}return`
`+BE+t}var UE=!1;function zE(t,e){if(!t||UE)return"";UE=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(c){var r=c}Reflect.construct(t,[],e)}else{try{e.call()}catch(c){r=c}t.call(e.prototype)}else{try{throw Error()}catch(c){r=c}t()}}catch(c){if(c&&r&&typeof c.stack=="string"){for(var i=c.stack.split(`
`),s=r.stack.split(`
`),o=i.length-1,a=s.length-1;1<=o&&0<=a&&i[o]!==s[a];)a--;for(;1<=o&&0<=a;o--,a--)if(i[o]!==s[a]){if(o!==1||a!==1)do if(o--,a--,0>a||i[o]!==s[a]){var l=`
`+i[o].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=o&&0<=a);break}}}finally{UE=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?Sm(t):""}function rte(t){switch(t.tag){case 5:return Sm(t.type);case 16:return Sm("Lazy");case 13:return Sm("Suspense");case 19:return Sm("SuspenseList");case 0:case 2:case 15:return t=zE(t.type,!1),t;case 11:return t=zE(t.type.render,!1),t;case 1:return t=zE(t.type,!0),t;default:return""}}function JA(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case qd:return"Fragment";case zd:return"Portal";case QA:return"Profiler";case wO:return"StrictMode";case YA:return"Suspense";case XA:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case u6:return(t.displayName||"Context")+".Consumer";case c6:return(t._context.displayName||"Context")+".Provider";case _O:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case SO:return e=t.displayName||null,e!==null?e:JA(t.type)||"Memo";case Ba:e=t._payload,t=t._init;try{return JA(t(e))}catch{}}return null}function ite(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return JA(e);case 8:return e===wO?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Bl(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function f6(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function ste(t){var e=f6(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,s=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(o){r=""+o,s.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function p0(t){t._valueTracker||(t._valueTracker=ste(t))}function h6(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=f6(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function sb(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function ZA(t,e){var n=e.checked;return ln({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function HD(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=Bl(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function p6(t,e){e=e.checked,e!=null&&bO(t,"checked",e,!1)}function ek(t,e){p6(t,e);var n=Bl(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?tk(t,e.type,n):e.hasOwnProperty("defaultValue")&&tk(t,e.type,Bl(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function WD(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function tk(t,e,n){(e!=="number"||sb(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var Em=Array.isArray;function mf(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+Bl(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function nk(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(ie(91));return ln({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function KD(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(ie(92));if(Em(n)){if(1<n.length)throw Error(ie(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:Bl(n)}}function m6(t,e){var n=Bl(e.value),r=Bl(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function GD(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function g6(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function rk(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?g6(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var m0,y6=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(m0=m0||document.createElement("div"),m0.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=m0.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function _g(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var Bm={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},ote=["Webkit","ms","Moz","O"];Object.keys(Bm).forEach(function(t){ote.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),Bm[e]=Bm[t]})});function v6(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||Bm.hasOwnProperty(t)&&Bm[t]?(""+e).trim():e+"px"}function x6(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=v6(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}var ate=ln({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ik(t,e){if(e){if(ate[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(ie(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(ie(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(ie(61))}if(e.style!=null&&typeof e.style!="object")throw Error(ie(62))}}function sk(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ok=null;function EO(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var ak=null,gf=null,yf=null;function QD(t){if(t=fv(t)){if(typeof ak!="function")throw Error(ie(280));var e=t.stateNode;e&&(e=m_(e),ak(t.stateNode,t.type,e))}}function b6(t){gf?yf?yf.push(t):yf=[t]:gf=t}function w6(){if(gf){var t=gf,e=yf;if(yf=gf=null,QD(t),e)for(t=0;t<e.length;t++)QD(e[t])}}function _6(t,e){return t(e)}function S6(){}var qE=!1;function E6(t,e,n){if(qE)return t(e,n);qE=!0;try{return _6(t,e,n)}finally{qE=!1,(gf!==null||yf!==null)&&(S6(),w6())}}function Sg(t,e){var n=t.stateNode;if(n===null)return null;var r=m_(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(ie(231,e,typeof n));return n}var lk=!1;if(ia)try{var Hp={};Object.defineProperty(Hp,"passive",{get:function(){lk=!0}}),window.addEventListener("test",Hp,Hp),window.removeEventListener("test",Hp,Hp)}catch{lk=!1}function lte(t,e,n,r,i,s,o,a,l){var c=Array.prototype.slice.call(arguments,3);try{e.apply(n,c)}catch(u){this.onError(u)}}var Um=!1,ob=null,ab=!1,ck=null,cte={onError:function(t){Um=!0,ob=t}};function ute(t,e,n,r,i,s,o,a,l){Um=!1,ob=null,lte.apply(cte,arguments)}function dte(t,e,n,r,i,s,o,a,l){if(ute.apply(this,arguments),Um){if(Um){var c=ob;Um=!1,ob=null}else throw Error(ie(198));ab||(ab=!0,ck=c)}}function td(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function T6(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function YD(t){if(td(t)!==t)throw Error(ie(188))}function fte(t){var e=t.alternate;if(!e){if(e=td(t),e===null)throw Error(ie(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var s=i.alternate;if(s===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===n)return YD(i),t;if(s===r)return YD(i),e;s=s.sibling}throw Error(ie(188))}if(n.return!==r.return)n=i,r=s;else{for(var o=!1,a=i.child;a;){if(a===n){o=!0,n=i,r=s;break}if(a===r){o=!0,r=i,n=s;break}a=a.sibling}if(!o){for(a=s.child;a;){if(a===n){o=!0,n=s,r=i;break}if(a===r){o=!0,r=s,n=i;break}a=a.sibling}if(!o)throw Error(ie(189))}}if(n.alternate!==r)throw Error(ie(190))}if(n.tag!==3)throw Error(ie(188));return n.stateNode.current===n?t:e}function A6(t){return t=fte(t),t!==null?k6(t):null}function k6(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=k6(t);if(e!==null)return e;t=t.sibling}return null}var P6=Ni.unstable_scheduleCallback,XD=Ni.unstable_cancelCallback,hte=Ni.unstable_shouldYield,pte=Ni.unstable_requestPaint,xn=Ni.unstable_now,mte=Ni.unstable_getCurrentPriorityLevel,TO=Ni.unstable_ImmediatePriority,C6=Ni.unstable_UserBlockingPriority,lb=Ni.unstable_NormalPriority,gte=Ni.unstable_LowPriority,I6=Ni.unstable_IdlePriority,d_=null,Js=null;function yte(t){if(Js&&typeof Js.onCommitFiberRoot=="function")try{Js.onCommitFiberRoot(d_,t,void 0,(t.current.flags&128)===128)}catch{}}var Es=Math.clz32?Math.clz32:bte,vte=Math.log,xte=Math.LN2;function bte(t){return t>>>=0,t===0?32:31-(vte(t)/xte|0)|0}var g0=64,y0=4194304;function Tm(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function cb(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,i=t.suspendedLanes,s=t.pingedLanes,o=n&268435455;if(o!==0){var a=o&~i;a!==0?r=Tm(a):(s&=o,s!==0&&(r=Tm(s)))}else o=n&~i,o!==0?r=Tm(o):s!==0&&(r=Tm(s));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,s=e&-e,i>=s||i===16&&(s&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-Es(e),i=1<<n,r|=t[n],e&=~i;return r}function wte(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function _te(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,s=t.pendingLanes;0<s;){var o=31-Es(s),a=1<<o,l=i[o];l===-1?(!(a&n)||a&r)&&(i[o]=wte(a,e)):l<=e&&(t.expiredLanes|=a),s&=~a}}function uk(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function O6(){var t=g0;return g0<<=1,!(g0&4194240)&&(g0=64),t}function HE(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function uv(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-Es(e),t[e]=n}function Ste(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-Es(n),s=1<<i;e[i]=0,r[i]=-1,t[i]=-1,n&=~s}}function AO(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-Es(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}var At=0;function N6(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var j6,kO,R6,D6,M6,dk=!1,v0=[],Sl=null,El=null,Tl=null,Eg=new Map,Tg=new Map,Ka=[],Ete="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function JD(t,e){switch(t){case"focusin":case"focusout":Sl=null;break;case"dragenter":case"dragleave":El=null;break;case"mouseover":case"mouseout":Tl=null;break;case"pointerover":case"pointerout":Eg.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Tg.delete(e.pointerId)}}function Wp(t,e,n,r,i,s){return t===null||t.nativeEvent!==s?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},e!==null&&(e=fv(e),e!==null&&kO(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function Tte(t,e,n,r,i){switch(e){case"focusin":return Sl=Wp(Sl,t,e,n,r,i),!0;case"dragenter":return El=Wp(El,t,e,n,r,i),!0;case"mouseover":return Tl=Wp(Tl,t,e,n,r,i),!0;case"pointerover":var s=i.pointerId;return Eg.set(s,Wp(Eg.get(s)||null,t,e,n,r,i)),!0;case"gotpointercapture":return s=i.pointerId,Tg.set(s,Wp(Tg.get(s)||null,t,e,n,r,i)),!0}return!1}function L6(t){var e=Wc(t.target);if(e!==null){var n=td(e);if(n!==null){if(e=n.tag,e===13){if(e=T6(n),e!==null){t.blockedOn=e,M6(t.priority,function(){R6(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function wx(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=fk(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);ok=r,n.target.dispatchEvent(r),ok=null}else return e=fv(n),e!==null&&kO(e),t.blockedOn=n,!1;e.shift()}return!0}function ZD(t,e,n){wx(t)&&n.delete(e)}function Ate(){dk=!1,Sl!==null&&wx(Sl)&&(Sl=null),El!==null&&wx(El)&&(El=null),Tl!==null&&wx(Tl)&&(Tl=null),Eg.forEach(ZD),Tg.forEach(ZD)}function Kp(t,e){t.blockedOn===e&&(t.blockedOn=null,dk||(dk=!0,Ni.unstable_scheduleCallback(Ni.unstable_NormalPriority,Ate)))}function Ag(t){function e(i){return Kp(i,t)}if(0<v0.length){Kp(v0[0],t);for(var n=1;n<v0.length;n++){var r=v0[n];r.blockedOn===t&&(r.blockedOn=null)}}for(Sl!==null&&Kp(Sl,t),El!==null&&Kp(El,t),Tl!==null&&Kp(Tl,t),Eg.forEach(e),Tg.forEach(e),n=0;n<Ka.length;n++)r=Ka[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<Ka.length&&(n=Ka[0],n.blockedOn===null);)L6(n),n.blockedOn===null&&Ka.shift()}var vf=xa.ReactCurrentBatchConfig,ub=!0;function kte(t,e,n,r){var i=At,s=vf.transition;vf.transition=null;try{At=1,PO(t,e,n,r)}finally{At=i,vf.transition=s}}function Pte(t,e,n,r){var i=At,s=vf.transition;vf.transition=null;try{At=4,PO(t,e,n,r)}finally{At=i,vf.transition=s}}function PO(t,e,n,r){if(ub){var i=fk(t,e,n,r);if(i===null)tT(t,e,r,db,n),JD(t,r);else if(Tte(i,t,e,n,r))r.stopPropagation();else if(JD(t,r),e&4&&-1<Ete.indexOf(t)){for(;i!==null;){var s=fv(i);if(s!==null&&j6(s),s=fk(t,e,n,r),s===null&&tT(t,e,r,db,n),s===i)break;i=s}i!==null&&r.stopPropagation()}else tT(t,e,r,null,n)}}var db=null;function fk(t,e,n,r){if(db=null,t=EO(r),t=Wc(t),t!==null)if(e=td(t),e===null)t=null;else if(n=e.tag,n===13){if(t=T6(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return db=t,null}function $6(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(mte()){case TO:return 1;case C6:return 4;case lb:case gte:return 16;case I6:return 536870912;default:return 16}default:return 16}}var ml=null,CO=null,_x=null;function V6(){if(_x)return _x;var t,e=CO,n=e.length,r,i="value"in ml?ml.value:ml.textContent,s=i.length;for(t=0;t<n&&e[t]===i[t];t++);var o=n-t;for(r=1;r<=o&&e[n-r]===i[s-r];r++);return _x=i.slice(t,1<r?1-r:void 0)}function Sx(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function x0(){return!0}function eM(){return!1}function Li(t){function e(n,r,i,s,o){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=s,this.target=o,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(n=t[a],this[a]=n?n(s):s[a]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?x0:eM,this.isPropagationStopped=eM,this}return ln(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=x0)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=x0)},persist:function(){},isPersistent:x0}),e}var ep={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},IO=Li(ep),dv=ln({},ep,{view:0,detail:0}),Cte=Li(dv),WE,KE,Gp,f_=ln({},dv,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:OO,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Gp&&(Gp&&t.type==="mousemove"?(WE=t.screenX-Gp.screenX,KE=t.screenY-Gp.screenY):KE=WE=0,Gp=t),WE)},movementY:function(t){return"movementY"in t?t.movementY:KE}}),tM=Li(f_),Ite=ln({},f_,{dataTransfer:0}),Ote=Li(Ite),Nte=ln({},dv,{relatedTarget:0}),GE=Li(Nte),jte=ln({},ep,{animationName:0,elapsedTime:0,pseudoElement:0}),Rte=Li(jte),Dte=ln({},ep,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Mte=Li(Dte),Lte=ln({},ep,{data:0}),nM=Li(Lte),$te={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Vte={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Fte={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Bte(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=Fte[t])?!!e[t]:!1}function OO(){return Bte}var Ute=ln({},dv,{key:function(t){if(t.key){var e=$te[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Sx(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Vte[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:OO,charCode:function(t){return t.type==="keypress"?Sx(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Sx(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),zte=Li(Ute),qte=ln({},f_,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),rM=Li(qte),Hte=ln({},dv,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:OO}),Wte=Li(Hte),Kte=ln({},ep,{propertyName:0,elapsedTime:0,pseudoElement:0}),Gte=Li(Kte),Qte=ln({},f_,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),Yte=Li(Qte),Xte=[9,13,27,32],NO=ia&&"CompositionEvent"in window,zm=null;ia&&"documentMode"in document&&(zm=document.documentMode);var Jte=ia&&"TextEvent"in window&&!zm,F6=ia&&(!NO||zm&&8<zm&&11>=zm),iM=" ",sM=!1;function B6(t,e){switch(t){case"keyup":return Xte.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function U6(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Hd=!1;function Zte(t,e){switch(t){case"compositionend":return U6(e);case"keypress":return e.which!==32?null:(sM=!0,iM);case"textInput":return t=e.data,t===iM&&sM?null:t;default:return null}}function ene(t,e){if(Hd)return t==="compositionend"||!NO&&B6(t,e)?(t=V6(),_x=CO=ml=null,Hd=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return F6&&e.locale!=="ko"?null:e.data;default:return null}}var tne={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function oM(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!tne[t.type]:e==="textarea"}function z6(t,e,n,r){b6(r),e=fb(e,"onChange"),0<e.length&&(n=new IO("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var qm=null,kg=null;function nne(t){e9(t,0)}function h_(t){var e=Gd(t);if(h6(e))return t}function rne(t,e){if(t==="change")return e}var q6=!1;if(ia){var QE;if(ia){var YE="oninput"in document;if(!YE){var aM=document.createElement("div");aM.setAttribute("oninput","return;"),YE=typeof aM.oninput=="function"}QE=YE}else QE=!1;q6=QE&&(!document.documentMode||9<document.documentMode)}function lM(){qm&&(qm.detachEvent("onpropertychange",H6),kg=qm=null)}function H6(t){if(t.propertyName==="value"&&h_(kg)){var e=[];z6(e,kg,t,EO(t)),E6(nne,e)}}function ine(t,e,n){t==="focusin"?(lM(),qm=e,kg=n,qm.attachEvent("onpropertychange",H6)):t==="focusout"&&lM()}function sne(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return h_(kg)}function one(t,e){if(t==="click")return h_(e)}function ane(t,e){if(t==="input"||t==="change")return h_(e)}function lne(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Ps=typeof Object.is=="function"?Object.is:lne;function Pg(t,e){if(Ps(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!GA.call(e,i)||!Ps(t[i],e[i]))return!1}return!0}function cM(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function uM(t,e){var n=cM(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=cM(n)}}function W6(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?W6(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function K6(){for(var t=window,e=sb();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=sb(t.document)}return e}function jO(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function cne(t){var e=K6(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&W6(n.ownerDocument.documentElement,n)){if(r!==null&&jO(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=n.textContent.length,s=Math.min(r.start,i);r=r.end===void 0?s:Math.min(r.end,i),!t.extend&&s>r&&(i=r,r=s,s=i),i=uM(n,s);var o=uM(n,r);i&&o&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),s>r?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var une=ia&&"documentMode"in document&&11>=document.documentMode,Wd=null,hk=null,Hm=null,pk=!1;function dM(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;pk||Wd==null||Wd!==sb(r)||(r=Wd,"selectionStart"in r&&jO(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Hm&&Pg(Hm,r)||(Hm=r,r=fb(hk,"onSelect"),0<r.length&&(e=new IO("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=Wd)))}function b0(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var Kd={animationend:b0("Animation","AnimationEnd"),animationiteration:b0("Animation","AnimationIteration"),animationstart:b0("Animation","AnimationStart"),transitionend:b0("Transition","TransitionEnd")},XE={},G6={};ia&&(G6=document.createElement("div").style,"AnimationEvent"in window||(delete Kd.animationend.animation,delete Kd.animationiteration.animation,delete Kd.animationstart.animation),"TransitionEvent"in window||delete Kd.transitionend.transition);function p_(t){if(XE[t])return XE[t];if(!Kd[t])return t;var e=Kd[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in G6)return XE[t]=e[n];return t}var Q6=p_("animationend"),Y6=p_("animationiteration"),X6=p_("animationstart"),J6=p_("transitionend"),Z6=new Map,fM="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Jl(t,e){Z6.set(t,e),ed(e,[t])}for(var JE=0;JE<fM.length;JE++){var ZE=fM[JE],dne=ZE.toLowerCase(),fne=ZE[0].toUpperCase()+ZE.slice(1);Jl(dne,"on"+fne)}Jl(Q6,"onAnimationEnd");Jl(Y6,"onAnimationIteration");Jl(X6,"onAnimationStart");Jl("dblclick","onDoubleClick");Jl("focusin","onFocus");Jl("focusout","onBlur");Jl(J6,"onTransitionEnd");Yf("onMouseEnter",["mouseout","mouseover"]);Yf("onMouseLeave",["mouseout","mouseover"]);Yf("onPointerEnter",["pointerout","pointerover"]);Yf("onPointerLeave",["pointerout","pointerover"]);ed("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));ed("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));ed("onBeforeInput",["compositionend","keypress","textInput","paste"]);ed("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));ed("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));ed("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Am="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),hne=new Set("cancel close invalid load scroll toggle".split(" ").concat(Am));function hM(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,dte(r,e,void 0,t),t.currentTarget=null}function e9(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var s=void 0;if(e)for(var o=r.length-1;0<=o;o--){var a=r[o],l=a.instance,c=a.currentTarget;if(a=a.listener,l!==s&&i.isPropagationStopped())break e;hM(i,a,c),s=l}else for(o=0;o<r.length;o++){if(a=r[o],l=a.instance,c=a.currentTarget,a=a.listener,l!==s&&i.isPropagationStopped())break e;hM(i,a,c),s=l}}}if(ab)throw t=ck,ab=!1,ck=null,t}function Ut(t,e){var n=e[xk];n===void 0&&(n=e[xk]=new Set);var r=t+"__bubble";n.has(r)||(t9(e,t,2,!1),n.add(r))}function eT(t,e,n){var r=0;e&&(r|=4),t9(n,t,r,e)}var w0="_reactListening"+Math.random().toString(36).slice(2);function Cg(t){if(!t[w0]){t[w0]=!0,l6.forEach(function(n){n!=="selectionchange"&&(hne.has(n)||eT(n,!1,t),eT(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[w0]||(e[w0]=!0,eT("selectionchange",!1,e))}}function t9(t,e,n,r){switch($6(e)){case 1:var i=kte;break;case 4:i=Pte;break;default:i=PO}n=i.bind(null,e,n,t),i=void 0,!lk||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function tT(t,e,n,r,i){var s=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var a=r.stateNode.containerInfo;if(a===i||a.nodeType===8&&a.parentNode===i)break;if(o===4)for(o=r.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;o=o.return}for(;a!==null;){if(o=Wc(a),o===null)return;if(l=o.tag,l===5||l===6){r=s=o;continue e}a=a.parentNode}}r=r.return}E6(function(){var c=s,u=EO(n),d=[];e:{var f=Z6.get(t);if(f!==void 0){var p=IO,m=t;switch(t){case"keypress":if(Sx(n)===0)break e;case"keydown":case"keyup":p=zte;break;case"focusin":m="focus",p=GE;break;case"focusout":m="blur",p=GE;break;case"beforeblur":case"afterblur":p=GE;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":p=tM;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":p=Ote;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":p=Wte;break;case Q6:case Y6:case X6:p=Rte;break;case J6:p=Gte;break;case"scroll":p=Cte;break;case"wheel":p=Yte;break;case"copy":case"cut":case"paste":p=Mte;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":p=rM}var g=(e&4)!==0,v=!g&&t==="scroll",x=g?f!==null?f+"Capture":null:f;g=[];for(var b=c,w;b!==null;){w=b;var T=w.stateNode;if(w.tag===5&&T!==null&&(w=T,x!==null&&(T=Sg(b,x),T!=null&&g.push(Ig(b,T,w)))),v)break;b=b.return}0<g.length&&(f=new p(f,m,null,n,u),d.push({event:f,listeners:g}))}}if(!(e&7)){e:{if(f=t==="mouseover"||t==="pointerover",p=t==="mouseout"||t==="pointerout",f&&n!==ok&&(m=n.relatedTarget||n.fromElement)&&(Wc(m)||m[sa]))break e;if((p||f)&&(f=u.window===u?u:(f=u.ownerDocument)?f.defaultView||f.parentWindow:window,p?(m=n.relatedTarget||n.toElement,p=c,m=m?Wc(m):null,m!==null&&(v=td(m),m!==v||m.tag!==5&&m.tag!==6)&&(m=null)):(p=null,m=c),p!==m)){if(g=tM,T="onMouseLeave",x="onMouseEnter",b="mouse",(t==="pointerout"||t==="pointerover")&&(g=rM,T="onPointerLeave",x="onPointerEnter",b="pointer"),v=p==null?f:Gd(p),w=m==null?f:Gd(m),f=new g(T,b+"leave",p,n,u),f.target=v,f.relatedTarget=w,T=null,Wc(u)===c&&(g=new g(x,b+"enter",m,n,u),g.target=w,g.relatedTarget=v,T=g),v=T,p&&m)t:{for(g=p,x=m,b=0,w=g;w;w=bd(w))b++;for(w=0,T=x;T;T=bd(T))w++;for(;0<b-w;)g=bd(g),b--;for(;0<w-b;)x=bd(x),w--;for(;b--;){if(g===x||x!==null&&g===x.alternate)break t;g=bd(g),x=bd(x)}g=null}else g=null;p!==null&&pM(d,f,p,g,!1),m!==null&&v!==null&&pM(d,v,m,g,!0)}}e:{if(f=c?Gd(c):window,p=f.nodeName&&f.nodeName.toLowerCase(),p==="select"||p==="input"&&f.type==="file")var _=rne;else if(oM(f))if(q6)_=ane;else{_=sne;var k=ine}else(p=f.nodeName)&&p.toLowerCase()==="input"&&(f.type==="checkbox"||f.type==="radio")&&(_=one);if(_&&(_=_(t,c))){z6(d,_,n,u);break e}k&&k(t,f,c),t==="focusout"&&(k=f._wrapperState)&&k.controlled&&f.type==="number"&&tk(f,"number",f.value)}switch(k=c?Gd(c):window,t){case"focusin":(oM(k)||k.contentEditable==="true")&&(Wd=k,hk=c,Hm=null);break;case"focusout":Hm=hk=Wd=null;break;case"mousedown":pk=!0;break;case"contextmenu":case"mouseup":case"dragend":pk=!1,dM(d,n,u);break;case"selectionchange":if(une)break;case"keydown":case"keyup":dM(d,n,u)}var S;if(NO)e:{switch(t){case"compositionstart":var E="onCompositionStart";break e;case"compositionend":E="onCompositionEnd";break e;case"compositionupdate":E="onCompositionUpdate";break e}E=void 0}else Hd?B6(t,n)&&(E="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(E="onCompositionStart");E&&(F6&&n.locale!=="ko"&&(Hd||E!=="onCompositionStart"?E==="onCompositionEnd"&&Hd&&(S=V6()):(ml=u,CO="value"in ml?ml.value:ml.textContent,Hd=!0)),k=fb(c,E),0<k.length&&(E=new nM(E,t,null,n,u),d.push({event:E,listeners:k}),S?E.data=S:(S=U6(n),S!==null&&(E.data=S)))),(S=Jte?Zte(t,n):ene(t,n))&&(c=fb(c,"onBeforeInput"),0<c.length&&(u=new nM("onBeforeInput","beforeinput",null,n,u),d.push({event:u,listeners:c}),u.data=S))}e9(d,e)})}function Ig(t,e,n){return{instance:t,listener:e,currentTarget:n}}function fb(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=Sg(t,n),s!=null&&r.unshift(Ig(t,s,i)),s=Sg(t,e),s!=null&&r.push(Ig(t,s,i))),t=t.return}return r}function bd(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function pM(t,e,n,r,i){for(var s=e._reactName,o=[];n!==null&&n!==r;){var a=n,l=a.alternate,c=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&c!==null&&(a=c,i?(l=Sg(n,s),l!=null&&o.unshift(Ig(n,l,a))):i||(l=Sg(n,s),l!=null&&o.push(Ig(n,l,a)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var pne=/\r\n?/g,mne=/\u0000|\uFFFD/g;function mM(t){return(typeof t=="string"?t:""+t).replace(pne,`
`).replace(mne,"")}function _0(t,e,n){if(e=mM(e),mM(t)!==e&&n)throw Error(ie(425))}function hb(){}var mk=null,gk=null;function yk(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var vk=typeof setTimeout=="function"?setTimeout:void 0,gne=typeof clearTimeout=="function"?clearTimeout:void 0,gM=typeof Promise=="function"?Promise:void 0,yne=typeof queueMicrotask=="function"?queueMicrotask:typeof gM<"u"?function(t){return gM.resolve(null).then(t).catch(vne)}:vk;function vne(t){setTimeout(function(){throw t})}function nT(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){t.removeChild(i),Ag(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);Ag(e)}function Al(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function yM(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var tp=Math.random().toString(36).slice(2),qs="__reactFiber$"+tp,Og="__reactProps$"+tp,sa="__reactContainer$"+tp,xk="__reactEvents$"+tp,xne="__reactListeners$"+tp,bne="__reactHandles$"+tp;function Wc(t){var e=t[qs];if(e)return e;for(var n=t.parentNode;n;){if(e=n[sa]||n[qs]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=yM(t);t!==null;){if(n=t[qs])return n;t=yM(t)}return e}t=n,n=t.parentNode}return null}function fv(t){return t=t[qs]||t[sa],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Gd(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(ie(33))}function m_(t){return t[Og]||null}var bk=[],Qd=-1;function Zl(t){return{current:t}}function Wt(t){0>Qd||(t.current=bk[Qd],bk[Qd]=null,Qd--)}function $t(t,e){Qd++,bk[Qd]=t.current,t.current=e}var Ul={},kr=Zl(Ul),si=Zl(!1),Au=Ul;function Xf(t,e){var n=t.type.contextTypes;if(!n)return Ul;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in n)i[s]=e[s];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function oi(t){return t=t.childContextTypes,t!=null}function pb(){Wt(si),Wt(kr)}function vM(t,e,n){if(kr.current!==Ul)throw Error(ie(168));$t(kr,e),$t(si,n)}function n9(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(ie(108,ite(t)||"Unknown",i));return ln({},n,r)}function mb(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Ul,Au=kr.current,$t(kr,t),$t(si,si.current),!0}function xM(t,e,n){var r=t.stateNode;if(!r)throw Error(ie(169));n?(t=n9(t,e,Au),r.__reactInternalMemoizedMergedChildContext=t,Wt(si),Wt(kr),$t(kr,t)):Wt(si),$t(si,n)}var Do=null,g_=!1,rT=!1;function r9(t){Do===null?Do=[t]:Do.push(t)}function wne(t){g_=!0,r9(t)}function ec(){if(!rT&&Do!==null){rT=!0;var t=0,e=At;try{var n=Do;for(At=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}Do=null,g_=!1}catch(i){throw Do!==null&&(Do=Do.slice(t+1)),P6(TO,ec),i}finally{At=e,rT=!1}}return null}var Yd=[],Xd=0,gb=null,yb=0,Gi=[],Qi=0,ku=null,Lo=1,$o="";function kc(t,e){Yd[Xd++]=yb,Yd[Xd++]=gb,gb=t,yb=e}function i9(t,e,n){Gi[Qi++]=Lo,Gi[Qi++]=$o,Gi[Qi++]=ku,ku=t;var r=Lo;t=$o;var i=32-Es(r)-1;r&=~(1<<i),n+=1;var s=32-Es(e)+i;if(30<s){var o=i-i%5;s=(r&(1<<o)-1).toString(32),r>>=o,i-=o,Lo=1<<32-Es(e)+i|n<<i|r,$o=s+t}else Lo=1<<s|n<<i|r,$o=t}function RO(t){t.return!==null&&(kc(t,1),i9(t,1,0))}function DO(t){for(;t===gb;)gb=Yd[--Xd],Yd[Xd]=null,yb=Yd[--Xd],Yd[Xd]=null;for(;t===ku;)ku=Gi[--Qi],Gi[Qi]=null,$o=Gi[--Qi],Gi[Qi]=null,Lo=Gi[--Qi],Gi[Qi]=null}var Pi=null,Ei=null,Yt=!1,xs=null;function s9(t,e){var n=Ji(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function bM(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,Pi=t,Ei=Al(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,Pi=t,Ei=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=ku!==null?{id:Lo,overflow:$o}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=Ji(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,Pi=t,Ei=null,!0):!1;default:return!1}}function wk(t){return(t.mode&1)!==0&&(t.flags&128)===0}function _k(t){if(Yt){var e=Ei;if(e){var n=e;if(!bM(t,e)){if(wk(t))throw Error(ie(418));e=Al(n.nextSibling);var r=Pi;e&&bM(t,e)?s9(r,n):(t.flags=t.flags&-4097|2,Yt=!1,Pi=t)}}else{if(wk(t))throw Error(ie(418));t.flags=t.flags&-4097|2,Yt=!1,Pi=t}}}function wM(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Pi=t}function S0(t){if(t!==Pi)return!1;if(!Yt)return wM(t),Yt=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!yk(t.type,t.memoizedProps)),e&&(e=Ei)){if(wk(t))throw o9(),Error(ie(418));for(;e;)s9(t,e),e=Al(e.nextSibling)}if(wM(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(ie(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){Ei=Al(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}Ei=null}}else Ei=Pi?Al(t.stateNode.nextSibling):null;return!0}function o9(){for(var t=Ei;t;)t=Al(t.nextSibling)}function Jf(){Ei=Pi=null,Yt=!1}function MO(t){xs===null?xs=[t]:xs.push(t)}var _ne=xa.ReactCurrentBatchConfig;function Qp(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(ie(309));var r=n.stateNode}if(!r)throw Error(ie(147,t));var i=r,s=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===s?e.ref:(e=function(o){var a=i.refs;o===null?delete a[s]:a[s]=o},e._stringRef=s,e)}if(typeof t!="string")throw Error(ie(284));if(!n._owner)throw Error(ie(290,t))}return t}function E0(t,e){throw t=Object.prototype.toString.call(e),Error(ie(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function _M(t){var e=t._init;return e(t._payload)}function a9(t){function e(x,b){if(t){var w=x.deletions;w===null?(x.deletions=[b],x.flags|=16):w.push(b)}}function n(x,b){if(!t)return null;for(;b!==null;)e(x,b),b=b.sibling;return null}function r(x,b){for(x=new Map;b!==null;)b.key!==null?x.set(b.key,b):x.set(b.index,b),b=b.sibling;return x}function i(x,b){return x=Il(x,b),x.index=0,x.sibling=null,x}function s(x,b,w){return x.index=w,t?(w=x.alternate,w!==null?(w=w.index,w<b?(x.flags|=2,b):w):(x.flags|=2,b)):(x.flags|=1048576,b)}function o(x){return t&&x.alternate===null&&(x.flags|=2),x}function a(x,b,w,T){return b===null||b.tag!==6?(b=uT(w,x.mode,T),b.return=x,b):(b=i(b,w),b.return=x,b)}function l(x,b,w,T){var _=w.type;return _===qd?u(x,b,w.props.children,T,w.key):b!==null&&(b.elementType===_||typeof _=="object"&&_!==null&&_.$$typeof===Ba&&_M(_)===b.type)?(T=i(b,w.props),T.ref=Qp(x,b,w),T.return=x,T):(T=Ix(w.type,w.key,w.props,null,x.mode,T),T.ref=Qp(x,b,w),T.return=x,T)}function c(x,b,w,T){return b===null||b.tag!==4||b.stateNode.containerInfo!==w.containerInfo||b.stateNode.implementation!==w.implementation?(b=dT(w,x.mode,T),b.return=x,b):(b=i(b,w.children||[]),b.return=x,b)}function u(x,b,w,T,_){return b===null||b.tag!==7?(b=fu(w,x.mode,T,_),b.return=x,b):(b=i(b,w),b.return=x,b)}function d(x,b,w){if(typeof b=="string"&&b!==""||typeof b=="number")return b=uT(""+b,x.mode,w),b.return=x,b;if(typeof b=="object"&&b!==null){switch(b.$$typeof){case h0:return w=Ix(b.type,b.key,b.props,null,x.mode,w),w.ref=Qp(x,null,b),w.return=x,w;case zd:return b=dT(b,x.mode,w),b.return=x,b;case Ba:var T=b._init;return d(x,T(b._payload),w)}if(Em(b)||qp(b))return b=fu(b,x.mode,w,null),b.return=x,b;E0(x,b)}return null}function f(x,b,w,T){var _=b!==null?b.key:null;if(typeof w=="string"&&w!==""||typeof w=="number")return _!==null?null:a(x,b,""+w,T);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case h0:return w.key===_?l(x,b,w,T):null;case zd:return w.key===_?c(x,b,w,T):null;case Ba:return _=w._init,f(x,b,_(w._payload),T)}if(Em(w)||qp(w))return _!==null?null:u(x,b,w,T,null);E0(x,w)}return null}function p(x,b,w,T,_){if(typeof T=="string"&&T!==""||typeof T=="number")return x=x.get(w)||null,a(b,x,""+T,_);if(typeof T=="object"&&T!==null){switch(T.$$typeof){case h0:return x=x.get(T.key===null?w:T.key)||null,l(b,x,T,_);case zd:return x=x.get(T.key===null?w:T.key)||null,c(b,x,T,_);case Ba:var k=T._init;return p(x,b,w,k(T._payload),_)}if(Em(T)||qp(T))return x=x.get(w)||null,u(b,x,T,_,null);E0(b,T)}return null}function m(x,b,w,T){for(var _=null,k=null,S=b,E=b=0,P=null;S!==null&&E<w.length;E++){S.index>E?(P=S,S=null):P=S.sibling;var O=f(x,S,w[E],T);if(O===null){S===null&&(S=P);break}t&&S&&O.alternate===null&&e(x,S),b=s(O,b,E),k===null?_=O:k.sibling=O,k=O,S=P}if(E===w.length)return n(x,S),Yt&&kc(x,E),_;if(S===null){for(;E<w.length;E++)S=d(x,w[E],T),S!==null&&(b=s(S,b,E),k===null?_=S:k.sibling=S,k=S);return Yt&&kc(x,E),_}for(S=r(x,S);E<w.length;E++)P=p(S,x,E,w[E],T),P!==null&&(t&&P.alternate!==null&&S.delete(P.key===null?E:P.key),b=s(P,b,E),k===null?_=P:k.sibling=P,k=P);return t&&S.forEach(function(N){return e(x,N)}),Yt&&kc(x,E),_}function g(x,b,w,T){var _=qp(w);if(typeof _!="function")throw Error(ie(150));if(w=_.call(w),w==null)throw Error(ie(151));for(var k=_=null,S=b,E=b=0,P=null,O=w.next();S!==null&&!O.done;E++,O=w.next()){S.index>E?(P=S,S=null):P=S.sibling;var N=f(x,S,O.value,T);if(N===null){S===null&&(S=P);break}t&&S&&N.alternate===null&&e(x,S),b=s(N,b,E),k===null?_=N:k.sibling=N,k=N,S=P}if(O.done)return n(x,S),Yt&&kc(x,E),_;if(S===null){for(;!O.done;E++,O=w.next())O=d(x,O.value,T),O!==null&&(b=s(O,b,E),k===null?_=O:k.sibling=O,k=O);return Yt&&kc(x,E),_}for(S=r(x,S);!O.done;E++,O=w.next())O=p(S,x,E,O.value,T),O!==null&&(t&&O.alternate!==null&&S.delete(O.key===null?E:O.key),b=s(O,b,E),k===null?_=O:k.sibling=O,k=O);return t&&S.forEach(function(R){return e(x,R)}),Yt&&kc(x,E),_}function v(x,b,w,T){if(typeof w=="object"&&w!==null&&w.type===qd&&w.key===null&&(w=w.props.children),typeof w=="object"&&w!==null){switch(w.$$typeof){case h0:e:{for(var _=w.key,k=b;k!==null;){if(k.key===_){if(_=w.type,_===qd){if(k.tag===7){n(x,k.sibling),b=i(k,w.props.children),b.return=x,x=b;break e}}else if(k.elementType===_||typeof _=="object"&&_!==null&&_.$$typeof===Ba&&_M(_)===k.type){n(x,k.sibling),b=i(k,w.props),b.ref=Qp(x,k,w),b.return=x,x=b;break e}n(x,k);break}else e(x,k);k=k.sibling}w.type===qd?(b=fu(w.props.children,x.mode,T,w.key),b.return=x,x=b):(T=Ix(w.type,w.key,w.props,null,x.mode,T),T.ref=Qp(x,b,w),T.return=x,x=T)}return o(x);case zd:e:{for(k=w.key;b!==null;){if(b.key===k)if(b.tag===4&&b.stateNode.containerInfo===w.containerInfo&&b.stateNode.implementation===w.implementation){n(x,b.sibling),b=i(b,w.children||[]),b.return=x,x=b;break e}else{n(x,b);break}else e(x,b);b=b.sibling}b=dT(w,x.mode,T),b.return=x,x=b}return o(x);case Ba:return k=w._init,v(x,b,k(w._payload),T)}if(Em(w))return m(x,b,w,T);if(qp(w))return g(x,b,w,T);E0(x,w)}return typeof w=="string"&&w!==""||typeof w=="number"?(w=""+w,b!==null&&b.tag===6?(n(x,b.sibling),b=i(b,w),b.return=x,x=b):(n(x,b),b=uT(w,x.mode,T),b.return=x,x=b),o(x)):n(x,b)}return v}var Zf=a9(!0),l9=a9(!1),vb=Zl(null),xb=null,Jd=null,LO=null;function $O(){LO=Jd=xb=null}function VO(t){var e=vb.current;Wt(vb),t._currentValue=e}function Sk(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function xf(t,e){xb=t,LO=Jd=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(ni=!0),t.firstContext=null)}function is(t){var e=t._currentValue;if(LO!==t)if(t={context:t,memoizedValue:e,next:null},Jd===null){if(xb===null)throw Error(ie(308));Jd=t,xb.dependencies={lanes:0,firstContext:t}}else Jd=Jd.next=t;return e}var Kc=null;function FO(t){Kc===null?Kc=[t]:Kc.push(t)}function c9(t,e,n,r){var i=e.interleaved;return i===null?(n.next=n,FO(e)):(n.next=i.next,i.next=n),e.interleaved=n,oa(t,r)}function oa(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var Ua=!1;function BO(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function u9(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Ko(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function kl(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,ut&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,oa(t,n)}return i=r.interleaved,i===null?(e.next=e,FO(r)):(e.next=i.next,i.next=e),r.interleaved=e,oa(t,n)}function Ex(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,AO(t,n)}}function SM(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};s===null?i=s=o:s=s.next=o,n=n.next}while(n!==null);s===null?i=s=e:s=s.next=e}else i=s=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function bb(t,e,n,r){var i=t.updateQueue;Ua=!1;var s=i.firstBaseUpdate,o=i.lastBaseUpdate,a=i.shared.pending;if(a!==null){i.shared.pending=null;var l=a,c=l.next;l.next=null,o===null?s=c:o.next=c,o=l;var u=t.alternate;u!==null&&(u=u.updateQueue,a=u.lastBaseUpdate,a!==o&&(a===null?u.firstBaseUpdate=c:a.next=c,u.lastBaseUpdate=l))}if(s!==null){var d=i.baseState;o=0,u=c=l=null,a=s;do{var f=a.lane,p=a.eventTime;if((r&f)===f){u!==null&&(u=u.next={eventTime:p,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var m=t,g=a;switch(f=e,p=n,g.tag){case 1:if(m=g.payload,typeof m=="function"){d=m.call(p,d,f);break e}d=m;break e;case 3:m.flags=m.flags&-65537|128;case 0:if(m=g.payload,f=typeof m=="function"?m.call(p,d,f):m,f==null)break e;d=ln({},d,f);break e;case 2:Ua=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,f=i.effects,f===null?i.effects=[a]:f.push(a))}else p={eventTime:p,lane:f,tag:a.tag,payload:a.payload,callback:a.callback,next:null},u===null?(c=u=p,l=d):u=u.next=p,o|=f;if(a=a.next,a===null){if(a=i.shared.pending,a===null)break;f=a,a=f.next,f.next=null,i.lastBaseUpdate=f,i.shared.pending=null}}while(!0);if(u===null&&(l=d),i.baseState=l,i.firstBaseUpdate=c,i.lastBaseUpdate=u,e=i.shared.interleaved,e!==null){i=e;do o|=i.lane,i=i.next;while(i!==e)}else s===null&&(i.shared.lanes=0);Cu|=o,t.lanes=o,t.memoizedState=d}}function EM(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(ie(191,i));i.call(r)}}}var hv={},Zs=Zl(hv),Ng=Zl(hv),jg=Zl(hv);function Gc(t){if(t===hv)throw Error(ie(174));return t}function UO(t,e){switch($t(jg,e),$t(Ng,t),$t(Zs,hv),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:rk(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=rk(e,t)}Wt(Zs),$t(Zs,e)}function eh(){Wt(Zs),Wt(Ng),Wt(jg)}function d9(t){Gc(jg.current);var e=Gc(Zs.current),n=rk(e,t.type);e!==n&&($t(Ng,t),$t(Zs,n))}function zO(t){Ng.current===t&&(Wt(Zs),Wt(Ng))}var rn=Zl(0);function wb(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var iT=[];function qO(){for(var t=0;t<iT.length;t++)iT[t]._workInProgressVersionPrimary=null;iT.length=0}var Tx=xa.ReactCurrentDispatcher,sT=xa.ReactCurrentBatchConfig,Pu=0,an=null,On=null,Un=null,_b=!1,Wm=!1,Rg=0,Sne=0;function fr(){throw Error(ie(321))}function HO(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!Ps(t[n],e[n]))return!1;return!0}function WO(t,e,n,r,i,s){if(Pu=s,an=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Tx.current=t===null||t.memoizedState===null?kne:Pne,t=n(r,i),Wm){s=0;do{if(Wm=!1,Rg=0,25<=s)throw Error(ie(301));s+=1,Un=On=null,e.updateQueue=null,Tx.current=Cne,t=n(r,i)}while(Wm)}if(Tx.current=Sb,e=On!==null&&On.next!==null,Pu=0,Un=On=an=null,_b=!1,e)throw Error(ie(300));return t}function KO(){var t=Rg!==0;return Rg=0,t}function Ds(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Un===null?an.memoizedState=Un=t:Un=Un.next=t,Un}function ss(){if(On===null){var t=an.alternate;t=t!==null?t.memoizedState:null}else t=On.next;var e=Un===null?an.memoizedState:Un.next;if(e!==null)Un=e,On=t;else{if(t===null)throw Error(ie(310));On=t,t={memoizedState:On.memoizedState,baseState:On.baseState,baseQueue:On.baseQueue,queue:On.queue,next:null},Un===null?an.memoizedState=Un=t:Un=Un.next=t}return Un}function Dg(t,e){return typeof e=="function"?e(t):e}function oT(t){var e=ss(),n=e.queue;if(n===null)throw Error(ie(311));n.lastRenderedReducer=t;var r=On,i=r.baseQueue,s=n.pending;if(s!==null){if(i!==null){var o=i.next;i.next=s.next,s.next=o}r.baseQueue=i=s,n.pending=null}if(i!==null){s=i.next,r=r.baseState;var a=o=null,l=null,c=s;do{var u=c.lane;if((Pu&u)===u)l!==null&&(l=l.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:t(r,c.action);else{var d={lane:u,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};l===null?(a=l=d,o=r):l=l.next=d,an.lanes|=u,Cu|=u}c=c.next}while(c!==null&&c!==s);l===null?o=r:l.next=a,Ps(r,e.memoizedState)||(ni=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=l,n.lastRenderedState=r}if(t=n.interleaved,t!==null){i=t;do s=i.lane,an.lanes|=s,Cu|=s,i=i.next;while(i!==t)}else i===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function aT(t){var e=ss(),n=e.queue;if(n===null)throw Error(ie(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,s=e.memoizedState;if(i!==null){n.pending=null;var o=i=i.next;do s=t(s,o.action),o=o.next;while(o!==i);Ps(s,e.memoizedState)||(ni=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),n.lastRenderedState=s}return[s,r]}function f9(){}function h9(t,e){var n=an,r=ss(),i=e(),s=!Ps(r.memoizedState,i);if(s&&(r.memoizedState=i,ni=!0),r=r.queue,GO(g9.bind(null,n,r,t),[t]),r.getSnapshot!==e||s||Un!==null&&Un.memoizedState.tag&1){if(n.flags|=2048,Mg(9,m9.bind(null,n,r,i,e),void 0,null),Hn===null)throw Error(ie(349));Pu&30||p9(n,e,i)}return i}function p9(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=an.updateQueue,e===null?(e={lastEffect:null,stores:null},an.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function m9(t,e,n,r){e.value=n,e.getSnapshot=r,y9(e)&&v9(t)}function g9(t,e,n){return n(function(){y9(e)&&v9(t)})}function y9(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!Ps(t,n)}catch{return!0}}function v9(t){var e=oa(t,1);e!==null&&Ts(e,t,1,-1)}function TM(t){var e=Ds();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Dg,lastRenderedState:t},e.queue=t,t=t.dispatch=Ane.bind(null,an,t),[e.memoizedState,t]}function Mg(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=an.updateQueue,e===null?(e={lastEffect:null,stores:null},an.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function x9(){return ss().memoizedState}function Ax(t,e,n,r){var i=Ds();an.flags|=t,i.memoizedState=Mg(1|e,n,void 0,r===void 0?null:r)}function y_(t,e,n,r){var i=ss();r=r===void 0?null:r;var s=void 0;if(On!==null){var o=On.memoizedState;if(s=o.destroy,r!==null&&HO(r,o.deps)){i.memoizedState=Mg(e,n,s,r);return}}an.flags|=t,i.memoizedState=Mg(1|e,n,s,r)}function AM(t,e){return Ax(8390656,8,t,e)}function GO(t,e){return y_(2048,8,t,e)}function b9(t,e){return y_(4,2,t,e)}function w9(t,e){return y_(4,4,t,e)}function _9(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function S9(t,e,n){return n=n!=null?n.concat([t]):null,y_(4,4,_9.bind(null,e,t),n)}function QO(){}function E9(t,e){var n=ss();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&HO(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function T9(t,e){var n=ss();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&HO(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function A9(t,e,n){return Pu&21?(Ps(n,e)||(n=O6(),an.lanes|=n,Cu|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,ni=!0),t.memoizedState=n)}function Ene(t,e){var n=At;At=n!==0&&4>n?n:4,t(!0);var r=sT.transition;sT.transition={};try{t(!1),e()}finally{At=n,sT.transition=r}}function k9(){return ss().memoizedState}function Tne(t,e,n){var r=Cl(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},P9(t))C9(e,n);else if(n=c9(t,e,n,r),n!==null){var i=Ur();Ts(n,t,r,i),I9(n,e,r)}}function Ane(t,e,n){var r=Cl(t),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(P9(t))C9(e,i);else{var s=t.alternate;if(t.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var o=e.lastRenderedState,a=s(o,n);if(i.hasEagerState=!0,i.eagerState=a,Ps(a,o)){var l=e.interleaved;l===null?(i.next=i,FO(e)):(i.next=l.next,l.next=i),e.interleaved=i;return}}catch{}finally{}n=c9(t,e,i,r),n!==null&&(i=Ur(),Ts(n,t,r,i),I9(n,e,r))}}function P9(t){var e=t.alternate;return t===an||e!==null&&e===an}function C9(t,e){Wm=_b=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function I9(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,AO(t,n)}}var Sb={readContext:is,useCallback:fr,useContext:fr,useEffect:fr,useImperativeHandle:fr,useInsertionEffect:fr,useLayoutEffect:fr,useMemo:fr,useReducer:fr,useRef:fr,useState:fr,useDebugValue:fr,useDeferredValue:fr,useTransition:fr,useMutableSource:fr,useSyncExternalStore:fr,useId:fr,unstable_isNewReconciler:!1},kne={readContext:is,useCallback:function(t,e){return Ds().memoizedState=[t,e===void 0?null:e],t},useContext:is,useEffect:AM,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,Ax(4194308,4,_9.bind(null,e,t),n)},useLayoutEffect:function(t,e){return Ax(4194308,4,t,e)},useInsertionEffect:function(t,e){return Ax(4,2,t,e)},useMemo:function(t,e){var n=Ds();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=Ds();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=Tne.bind(null,an,t),[r.memoizedState,t]},useRef:function(t){var e=Ds();return t={current:t},e.memoizedState=t},useState:TM,useDebugValue:QO,useDeferredValue:function(t){return Ds().memoizedState=t},useTransition:function(){var t=TM(!1),e=t[0];return t=Ene.bind(null,t[1]),Ds().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=an,i=Ds();if(Yt){if(n===void 0)throw Error(ie(407));n=n()}else{if(n=e(),Hn===null)throw Error(ie(349));Pu&30||p9(r,e,n)}i.memoizedState=n;var s={value:n,getSnapshot:e};return i.queue=s,AM(g9.bind(null,r,s,t),[t]),r.flags|=2048,Mg(9,m9.bind(null,r,s,n,e),void 0,null),n},useId:function(){var t=Ds(),e=Hn.identifierPrefix;if(Yt){var n=$o,r=Lo;n=(r&~(1<<32-Es(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=Rg++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=Sne++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},Pne={readContext:is,useCallback:E9,useContext:is,useEffect:GO,useImperativeHandle:S9,useInsertionEffect:b9,useLayoutEffect:w9,useMemo:T9,useReducer:oT,useRef:x9,useState:function(){return oT(Dg)},useDebugValue:QO,useDeferredValue:function(t){var e=ss();return A9(e,On.memoizedState,t)},useTransition:function(){var t=oT(Dg)[0],e=ss().memoizedState;return[t,e]},useMutableSource:f9,useSyncExternalStore:h9,useId:k9,unstable_isNewReconciler:!1},Cne={readContext:is,useCallback:E9,useContext:is,useEffect:GO,useImperativeHandle:S9,useInsertionEffect:b9,useLayoutEffect:w9,useMemo:T9,useReducer:aT,useRef:x9,useState:function(){return aT(Dg)},useDebugValue:QO,useDeferredValue:function(t){var e=ss();return On===null?e.memoizedState=t:A9(e,On.memoizedState,t)},useTransition:function(){var t=aT(Dg)[0],e=ss().memoizedState;return[t,e]},useMutableSource:f9,useSyncExternalStore:h9,useId:k9,unstable_isNewReconciler:!1};function ps(t,e){if(t&&t.defaultProps){e=ln({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function Ek(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:ln({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var v_={isMounted:function(t){return(t=t._reactInternals)?td(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=Ur(),i=Cl(t),s=Ko(r,i);s.payload=e,n!=null&&(s.callback=n),e=kl(t,s,i),e!==null&&(Ts(e,t,i,r),Ex(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=Ur(),i=Cl(t),s=Ko(r,i);s.tag=1,s.payload=e,n!=null&&(s.callback=n),e=kl(t,s,i),e!==null&&(Ts(e,t,i,r),Ex(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=Ur(),r=Cl(t),i=Ko(n,r);i.tag=2,e!=null&&(i.callback=e),e=kl(t,i,r),e!==null&&(Ts(e,t,r,n),Ex(e,t,r))}};function kM(t,e,n,r,i,s,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,s,o):e.prototype&&e.prototype.isPureReactComponent?!Pg(n,r)||!Pg(i,s):!0}function O9(t,e,n){var r=!1,i=Ul,s=e.contextType;return typeof s=="object"&&s!==null?s=is(s):(i=oi(e)?Au:kr.current,r=e.contextTypes,s=(r=r!=null)?Xf(t,i):Ul),e=new e(n,s),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=v_,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=s),e}function PM(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&v_.enqueueReplaceState(e,e.state,null)}function Tk(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs={},BO(t);var s=e.contextType;typeof s=="object"&&s!==null?i.context=is(s):(s=oi(e)?Au:kr.current,i.context=Xf(t,s)),i.state=t.memoizedState,s=e.getDerivedStateFromProps,typeof s=="function"&&(Ek(t,e,s,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&v_.enqueueReplaceState(i,i.state,null),bb(t,n,i,r),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function th(t,e){try{var n="",r=e;do n+=rte(r),r=r.return;while(r);var i=n}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:t,source:e,stack:i,digest:null}}function lT(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function Ak(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var Ine=typeof WeakMap=="function"?WeakMap:Map;function N9(t,e,n){n=Ko(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){Tb||(Tb=!0,Mk=r),Ak(t,e)},n}function j9(t,e,n){n=Ko(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;n.payload=function(){return r(i)},n.callback=function(){Ak(t,e)}}var s=t.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(n.callback=function(){Ak(t,e),typeof r!="function"&&(Pl===null?Pl=new Set([this]):Pl.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function CM(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new Ine;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(i.add(n),t=qne.bind(null,t,e,n),e.then(t,t))}function IM(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function OM(t,e,n,r,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=Ko(-1,1),e.tag=2,kl(n,e,1))),n.lanes|=1),t)}var One=xa.ReactCurrentOwner,ni=!1;function Dr(t,e,n,r){e.child=t===null?l9(e,null,n,r):Zf(e,t.child,n,r)}function NM(t,e,n,r,i){n=n.render;var s=e.ref;return xf(e,i),r=WO(t,e,n,r,s,i),n=KO(),t!==null&&!ni?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,aa(t,e,i)):(Yt&&n&&RO(e),e.flags|=1,Dr(t,e,r,i),e.child)}function jM(t,e,n,r,i){if(t===null){var s=n.type;return typeof s=="function"&&!rN(s)&&s.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=s,R9(t,e,s,r,i)):(t=Ix(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(s=t.child,!(t.lanes&i)){var o=s.memoizedProps;if(n=n.compare,n=n!==null?n:Pg,n(o,r)&&t.ref===e.ref)return aa(t,e,i)}return e.flags|=1,t=Il(s,r),t.ref=e.ref,t.return=e,e.child=t}function R9(t,e,n,r,i){if(t!==null){var s=t.memoizedProps;if(Pg(s,r)&&t.ref===e.ref)if(ni=!1,e.pendingProps=r=s,(t.lanes&i)!==0)t.flags&131072&&(ni=!0);else return e.lanes=t.lanes,aa(t,e,i)}return kk(t,e,n,r,i)}function D9(t,e,n){var r=e.pendingProps,i=r.children,s=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},$t(ef,xi),xi|=n;else{if(!(n&1073741824))return t=s!==null?s.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,$t(ef,xi),xi|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=s!==null?s.baseLanes:n,$t(ef,xi),xi|=r}else s!==null?(r=s.baseLanes|n,e.memoizedState=null):r=n,$t(ef,xi),xi|=r;return Dr(t,e,i,n),e.child}function M9(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function kk(t,e,n,r,i){var s=oi(n)?Au:kr.current;return s=Xf(e,s),xf(e,i),n=WO(t,e,n,r,s,i),r=KO(),t!==null&&!ni?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,aa(t,e,i)):(Yt&&r&&RO(e),e.flags|=1,Dr(t,e,n,i),e.child)}function RM(t,e,n,r,i){if(oi(n)){var s=!0;mb(e)}else s=!1;if(xf(e,i),e.stateNode===null)kx(t,e),O9(e,n,r),Tk(e,n,r,i),r=!0;else if(t===null){var o=e.stateNode,a=e.memoizedProps;o.props=a;var l=o.context,c=n.contextType;typeof c=="object"&&c!==null?c=is(c):(c=oi(n)?Au:kr.current,c=Xf(e,c));var u=n.getDerivedStateFromProps,d=typeof u=="function"||typeof o.getSnapshotBeforeUpdate=="function";d||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==r||l!==c)&&PM(e,o,r,c),Ua=!1;var f=e.memoizedState;o.state=f,bb(e,r,o,i),l=e.memoizedState,a!==r||f!==l||si.current||Ua?(typeof u=="function"&&(Ek(e,n,u,r),l=e.memoizedState),(a=Ua||kM(e,n,a,r,f,l,c))?(d||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=l),o.props=r,o.state=l,o.context=c,r=a):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,u9(t,e),a=e.memoizedProps,c=e.type===e.elementType?a:ps(e.type,a),o.props=c,d=e.pendingProps,f=o.context,l=n.contextType,typeof l=="object"&&l!==null?l=is(l):(l=oi(n)?Au:kr.current,l=Xf(e,l));var p=n.getDerivedStateFromProps;(u=typeof p=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==d||f!==l)&&PM(e,o,r,l),Ua=!1,f=e.memoizedState,o.state=f,bb(e,r,o,i);var m=e.memoizedState;a!==d||f!==m||si.current||Ua?(typeof p=="function"&&(Ek(e,n,p,r),m=e.memoizedState),(c=Ua||kM(e,n,c,r,f,m,l)||!1)?(u||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,m,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,m,l)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=m),o.props=r,o.state=m,o.context=l,r=c):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),r=!1)}return Pk(t,e,n,r,s,i)}function Pk(t,e,n,r,i,s){M9(t,e);var o=(e.flags&128)!==0;if(!r&&!o)return i&&xM(e,n,!1),aa(t,e,s);r=e.stateNode,One.current=e;var a=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&o?(e.child=Zf(e,t.child,null,s),e.child=Zf(e,null,a,s)):Dr(t,e,a,s),e.memoizedState=r.state,i&&xM(e,n,!0),e.child}function L9(t){var e=t.stateNode;e.pendingContext?vM(t,e.pendingContext,e.pendingContext!==e.context):e.context&&vM(t,e.context,!1),UO(t,e.containerInfo)}function DM(t,e,n,r,i){return Jf(),MO(i),e.flags|=256,Dr(t,e,n,r),e.child}var Ck={dehydrated:null,treeContext:null,retryLane:0};function Ik(t){return{baseLanes:t,cachePool:null,transitions:null}}function $9(t,e,n){var r=e.pendingProps,i=rn.current,s=!1,o=(e.flags&128)!==0,a;if((a=o)||(a=t!==null&&t.memoizedState===null?!1:(i&2)!==0),a?(s=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),$t(rn,i&1),t===null)return _k(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=r.children,t=r.fallback,s?(r=e.mode,s=e.child,o={mode:"hidden",children:o},!(r&1)&&s!==null?(s.childLanes=0,s.pendingProps=o):s=w_(o,r,0,null),t=fu(t,r,n,null),s.return=e,t.return=e,s.sibling=t,e.child=s,e.child.memoizedState=Ik(n),e.memoizedState=Ck,t):YO(e,o));if(i=t.memoizedState,i!==null&&(a=i.dehydrated,a!==null))return Nne(t,e,o,r,a,i,n);if(s){s=r.fallback,o=e.mode,i=t.child,a=i.sibling;var l={mode:"hidden",children:r.children};return!(o&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=l,e.deletions=null):(r=Il(i,l),r.subtreeFlags=i.subtreeFlags&14680064),a!==null?s=Il(a,s):(s=fu(s,o,n,null),s.flags|=2),s.return=e,r.return=e,r.sibling=s,e.child=r,r=s,s=e.child,o=t.child.memoizedState,o=o===null?Ik(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},s.memoizedState=o,s.childLanes=t.childLanes&~n,e.memoizedState=Ck,r}return s=t.child,t=s.sibling,r=Il(s,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function YO(t,e){return e=w_({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function T0(t,e,n,r){return r!==null&&MO(r),Zf(e,t.child,null,n),t=YO(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function Nne(t,e,n,r,i,s,o){if(n)return e.flags&256?(e.flags&=-257,r=lT(Error(ie(422))),T0(t,e,o,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(s=r.fallback,i=e.mode,r=w_({mode:"visible",children:r.children},i,0,null),s=fu(s,i,o,null),s.flags|=2,r.return=e,s.return=e,r.sibling=s,e.child=r,e.mode&1&&Zf(e,t.child,null,o),e.child.memoizedState=Ik(o),e.memoizedState=Ck,s);if(!(e.mode&1))return T0(t,e,o,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var a=r.dgst;return r=a,s=Error(ie(419)),r=lT(s,r,void 0),T0(t,e,o,r)}if(a=(o&t.childLanes)!==0,ni||a){if(r=Hn,r!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|o)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,oa(t,i),Ts(r,t,i,-1))}return nN(),r=lT(Error(ie(421))),T0(t,e,o,r)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=Hne.bind(null,t),i._reactRetry=e,null):(t=s.treeContext,Ei=Al(i.nextSibling),Pi=e,Yt=!0,xs=null,t!==null&&(Gi[Qi++]=Lo,Gi[Qi++]=$o,Gi[Qi++]=ku,Lo=t.id,$o=t.overflow,ku=e),e=YO(e,r.children),e.flags|=4096,e)}function MM(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),Sk(t.return,e,n)}function cT(t,e,n,r,i){var s=t.memoizedState;s===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=i)}function V9(t,e,n){var r=e.pendingProps,i=r.revealOrder,s=r.tail;if(Dr(t,e,r.children,n),r=rn.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&MM(t,n,e);else if(t.tag===19)MM(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if($t(rn,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&wb(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),cT(e,!1,i,n,s);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&wb(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}cT(e,!0,n,null,s);break;case"together":cT(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function kx(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function aa(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),Cu|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(ie(153));if(e.child!==null){for(t=e.child,n=Il(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=Il(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function jne(t,e,n){switch(e.tag){case 3:L9(e),Jf();break;case 5:d9(e);break;case 1:oi(e.type)&&mb(e);break;case 4:UO(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;$t(vb,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?($t(rn,rn.current&1),e.flags|=128,null):n&e.child.childLanes?$9(t,e,n):($t(rn,rn.current&1),t=aa(t,e,n),t!==null?t.sibling:null);$t(rn,rn.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return V9(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),$t(rn,rn.current),r)break;return null;case 22:case 23:return e.lanes=0,D9(t,e,n)}return aa(t,e,n)}var F9,Ok,B9,U9;F9=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Ok=function(){};B9=function(t,e,n,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,Gc(Zs.current);var s=null;switch(n){case"input":i=ZA(t,i),r=ZA(t,r),s=[];break;case"select":i=ln({},i,{value:void 0}),r=ln({},r,{value:void 0}),s=[];break;case"textarea":i=nk(t,i),r=nk(t,r),s=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=hb)}ik(n,r);var o;n=null;for(c in i)if(!r.hasOwnProperty(c)&&i.hasOwnProperty(c)&&i[c]!=null)if(c==="style"){var a=i[c];for(o in a)a.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(wg.hasOwnProperty(c)?s||(s=[]):(s=s||[]).push(c,null));for(c in r){var l=r[c];if(a=i!=null?i[c]:void 0,r.hasOwnProperty(c)&&l!==a&&(l!=null||a!=null))if(c==="style")if(a){for(o in a)!a.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in l)l.hasOwnProperty(o)&&a[o]!==l[o]&&(n||(n={}),n[o]=l[o])}else n||(s||(s=[]),s.push(c,n)),n=l;else c==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(s=s||[]).push(c,l)):c==="children"?typeof l!="string"&&typeof l!="number"||(s=s||[]).push(c,""+l):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(wg.hasOwnProperty(c)?(l!=null&&c==="onScroll"&&Ut("scroll",t),s||a===l||(s=[])):(s=s||[]).push(c,l))}n&&(s=s||[]).push("style",n);var c=s;(e.updateQueue=c)&&(e.flags|=4)}};U9=function(t,e,n,r){n!==r&&(e.flags|=4)};function Yp(t,e){if(!Yt)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function hr(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function Rne(t,e,n){var r=e.pendingProps;switch(DO(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return hr(e),null;case 1:return oi(e.type)&&pb(),hr(e),null;case 3:return r=e.stateNode,eh(),Wt(si),Wt(kr),qO(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(S0(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,xs!==null&&(Vk(xs),xs=null))),Ok(t,e),hr(e),null;case 5:zO(e);var i=Gc(jg.current);if(n=e.type,t!==null&&e.stateNode!=null)B9(t,e,n,r,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(ie(166));return hr(e),null}if(t=Gc(Zs.current),S0(e)){r=e.stateNode,n=e.type;var s=e.memoizedProps;switch(r[qs]=e,r[Og]=s,t=(e.mode&1)!==0,n){case"dialog":Ut("cancel",r),Ut("close",r);break;case"iframe":case"object":case"embed":Ut("load",r);break;case"video":case"audio":for(i=0;i<Am.length;i++)Ut(Am[i],r);break;case"source":Ut("error",r);break;case"img":case"image":case"link":Ut("error",r),Ut("load",r);break;case"details":Ut("toggle",r);break;case"input":HD(r,s),Ut("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},Ut("invalid",r);break;case"textarea":KD(r,s),Ut("invalid",r)}ik(n,s),i=null;for(var o in s)if(s.hasOwnProperty(o)){var a=s[o];o==="children"?typeof a=="string"?r.textContent!==a&&(s.suppressHydrationWarning!==!0&&_0(r.textContent,a,t),i=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(s.suppressHydrationWarning!==!0&&_0(r.textContent,a,t),i=["children",""+a]):wg.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&Ut("scroll",r)}switch(n){case"input":p0(r),WD(r,s,!0);break;case"textarea":p0(r),GD(r);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(r.onclick=hb)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=g6(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=o.createElement(n,{is:r.is}):(t=o.createElement(n),n==="select"&&(o=t,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):t=o.createElementNS(t,n),t[qs]=e,t[Og]=r,F9(t,e,!1,!1),e.stateNode=t;e:{switch(o=sk(n,r),n){case"dialog":Ut("cancel",t),Ut("close",t),i=r;break;case"iframe":case"object":case"embed":Ut("load",t),i=r;break;case"video":case"audio":for(i=0;i<Am.length;i++)Ut(Am[i],t);i=r;break;case"source":Ut("error",t),i=r;break;case"img":case"image":case"link":Ut("error",t),Ut("load",t),i=r;break;case"details":Ut("toggle",t),i=r;break;case"input":HD(t,r),i=ZA(t,r),Ut("invalid",t);break;case"option":i=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=ln({},r,{value:void 0}),Ut("invalid",t);break;case"textarea":KD(t,r),i=nk(t,r),Ut("invalid",t);break;default:i=r}ik(n,i),a=i;for(s in a)if(a.hasOwnProperty(s)){var l=a[s];s==="style"?x6(t,l):s==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&y6(t,l)):s==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&_g(t,l):typeof l=="number"&&_g(t,""+l):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(wg.hasOwnProperty(s)?l!=null&&s==="onScroll"&&Ut("scroll",t):l!=null&&bO(t,s,l,o))}switch(n){case"input":p0(t),WD(t,r,!1);break;case"textarea":p0(t),GD(t);break;case"option":r.value!=null&&t.setAttribute("value",""+Bl(r.value));break;case"select":t.multiple=!!r.multiple,s=r.value,s!=null?mf(t,!!r.multiple,s,!1):r.defaultValue!=null&&mf(t,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=hb)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return hr(e),null;case 6:if(t&&e.stateNode!=null)U9(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(ie(166));if(n=Gc(jg.current),Gc(Zs.current),S0(e)){if(r=e.stateNode,n=e.memoizedProps,r[qs]=e,(s=r.nodeValue!==n)&&(t=Pi,t!==null))switch(t.tag){case 3:_0(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&_0(r.nodeValue,n,(t.mode&1)!==0)}s&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[qs]=e,e.stateNode=r}return hr(e),null;case 13:if(Wt(rn),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(Yt&&Ei!==null&&e.mode&1&&!(e.flags&128))o9(),Jf(),e.flags|=98560,s=!1;else if(s=S0(e),r!==null&&r.dehydrated!==null){if(t===null){if(!s)throw Error(ie(318));if(s=e.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(ie(317));s[qs]=e}else Jf(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;hr(e),s=!1}else xs!==null&&(Vk(xs),xs=null),s=!0;if(!s)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||rn.current&1?Rn===0&&(Rn=3):nN())),e.updateQueue!==null&&(e.flags|=4),hr(e),null);case 4:return eh(),Ok(t,e),t===null&&Cg(e.stateNode.containerInfo),hr(e),null;case 10:return VO(e.type._context),hr(e),null;case 17:return oi(e.type)&&pb(),hr(e),null;case 19:if(Wt(rn),s=e.memoizedState,s===null)return hr(e),null;if(r=(e.flags&128)!==0,o=s.rendering,o===null)if(r)Yp(s,!1);else{if(Rn!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=wb(t),o!==null){for(e.flags|=128,Yp(s,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)s=n,t=r,s.flags&=14680066,o=s.alternate,o===null?(s.childLanes=0,s.lanes=t,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,t=o.dependencies,s.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return $t(rn,rn.current&1|2),e.child}t=t.sibling}s.tail!==null&&xn()>nh&&(e.flags|=128,r=!0,Yp(s,!1),e.lanes=4194304)}else{if(!r)if(t=wb(o),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),Yp(s,!0),s.tail===null&&s.tailMode==="hidden"&&!o.alternate&&!Yt)return hr(e),null}else 2*xn()-s.renderingStartTime>nh&&n!==1073741824&&(e.flags|=128,r=!0,Yp(s,!1),e.lanes=4194304);s.isBackwards?(o.sibling=e.child,e.child=o):(n=s.last,n!==null?n.sibling=o:e.child=o,s.last=o)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=xn(),e.sibling=null,n=rn.current,$t(rn,r?n&1|2:n&1),e):(hr(e),null);case 22:case 23:return tN(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?xi&1073741824&&(hr(e),e.subtreeFlags&6&&(e.flags|=8192)):hr(e),null;case 24:return null;case 25:return null}throw Error(ie(156,e.tag))}function Dne(t,e){switch(DO(e),e.tag){case 1:return oi(e.type)&&pb(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return eh(),Wt(si),Wt(kr),qO(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return zO(e),null;case 13:if(Wt(rn),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(ie(340));Jf()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return Wt(rn),null;case 4:return eh(),null;case 10:return VO(e.type._context),null;case 22:case 23:return tN(),null;case 24:return null;default:return null}}var A0=!1,xr=!1,Mne=typeof WeakSet=="function"?WeakSet:Set,be=null;function Zd(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){dn(t,e,r)}else n.current=null}function Nk(t,e,n){try{n()}catch(r){dn(t,e,r)}}var LM=!1;function Lne(t,e){if(mk=ub,t=K6(),jO(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break e}var o=0,a=-1,l=-1,c=0,u=0,d=t,f=null;t:for(;;){for(var p;d!==n||i!==0&&d.nodeType!==3||(a=o+i),d!==s||r!==0&&d.nodeType!==3||(l=o+r),d.nodeType===3&&(o+=d.nodeValue.length),(p=d.firstChild)!==null;)f=d,d=p;for(;;){if(d===t)break t;if(f===n&&++c===i&&(a=o),f===s&&++u===r&&(l=o),(p=d.nextSibling)!==null)break;d=f,f=d.parentNode}d=p}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(gk={focusedElem:t,selectionRange:n},ub=!1,be=e;be!==null;)if(e=be,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,be=t;else for(;be!==null;){e=be;try{var m=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(m!==null){var g=m.memoizedProps,v=m.memoizedState,x=e.stateNode,b=x.getSnapshotBeforeUpdate(e.elementType===e.type?g:ps(e.type,g),v);x.__reactInternalSnapshotBeforeUpdate=b}break;case 3:var w=e.stateNode.containerInfo;w.nodeType===1?w.textContent="":w.nodeType===9&&w.documentElement&&w.removeChild(w.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(ie(163))}}catch(T){dn(e,e.return,T)}if(t=e.sibling,t!==null){t.return=e.return,be=t;break}be=e.return}return m=LM,LM=!1,m}function Km(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&t)===t){var s=i.destroy;i.destroy=void 0,s!==void 0&&Nk(e,n,s)}i=i.next}while(i!==r)}}function x_(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function jk(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function z9(t){var e=t.alternate;e!==null&&(t.alternate=null,z9(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[qs],delete e[Og],delete e[xk],delete e[xne],delete e[bne])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function q9(t){return t.tag===5||t.tag===3||t.tag===4}function $M(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||q9(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Rk(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=hb));else if(r!==4&&(t=t.child,t!==null))for(Rk(t,e,n),t=t.sibling;t!==null;)Rk(t,e,n),t=t.sibling}function Dk(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(Dk(t,e,n),t=t.sibling;t!==null;)Dk(t,e,n),t=t.sibling}var Zn=null,gs=!1;function Na(t,e,n){for(n=n.child;n!==null;)H9(t,e,n),n=n.sibling}function H9(t,e,n){if(Js&&typeof Js.onCommitFiberUnmount=="function")try{Js.onCommitFiberUnmount(d_,n)}catch{}switch(n.tag){case 5:xr||Zd(n,e);case 6:var r=Zn,i=gs;Zn=null,Na(t,e,n),Zn=r,gs=i,Zn!==null&&(gs?(t=Zn,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):Zn.removeChild(n.stateNode));break;case 18:Zn!==null&&(gs?(t=Zn,n=n.stateNode,t.nodeType===8?nT(t.parentNode,n):t.nodeType===1&&nT(t,n),Ag(t)):nT(Zn,n.stateNode));break;case 4:r=Zn,i=gs,Zn=n.stateNode.containerInfo,gs=!0,Na(t,e,n),Zn=r,gs=i;break;case 0:case 11:case 14:case 15:if(!xr&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var s=i,o=s.destroy;s=s.tag,o!==void 0&&(s&2||s&4)&&Nk(n,e,o),i=i.next}while(i!==r)}Na(t,e,n);break;case 1:if(!xr&&(Zd(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){dn(n,e,a)}Na(t,e,n);break;case 21:Na(t,e,n);break;case 22:n.mode&1?(xr=(r=xr)||n.memoizedState!==null,Na(t,e,n),xr=r):Na(t,e,n);break;default:Na(t,e,n)}}function VM(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new Mne),e.forEach(function(r){var i=Wne.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}}function fs(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var s=t,o=e,a=o;e:for(;a!==null;){switch(a.tag){case 5:Zn=a.stateNode,gs=!1;break e;case 3:Zn=a.stateNode.containerInfo,gs=!0;break e;case 4:Zn=a.stateNode.containerInfo,gs=!0;break e}a=a.return}if(Zn===null)throw Error(ie(160));H9(s,o,i),Zn=null,gs=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(c){dn(i,e,c)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)W9(e,t),e=e.sibling}function W9(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(fs(e,t),js(t),r&4){try{Km(3,t,t.return),x_(3,t)}catch(g){dn(t,t.return,g)}try{Km(5,t,t.return)}catch(g){dn(t,t.return,g)}}break;case 1:fs(e,t),js(t),r&512&&n!==null&&Zd(n,n.return);break;case 5:if(fs(e,t),js(t),r&512&&n!==null&&Zd(n,n.return),t.flags&32){var i=t.stateNode;try{_g(i,"")}catch(g){dn(t,t.return,g)}}if(r&4&&(i=t.stateNode,i!=null)){var s=t.memoizedProps,o=n!==null?n.memoizedProps:s,a=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{a==="input"&&s.type==="radio"&&s.name!=null&&p6(i,s),sk(a,o);var c=sk(a,s);for(o=0;o<l.length;o+=2){var u=l[o],d=l[o+1];u==="style"?x6(i,d):u==="dangerouslySetInnerHTML"?y6(i,d):u==="children"?_g(i,d):bO(i,u,d,c)}switch(a){case"input":ek(i,s);break;case"textarea":m6(i,s);break;case"select":var f=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var p=s.value;p!=null?mf(i,!!s.multiple,p,!1):f!==!!s.multiple&&(s.defaultValue!=null?mf(i,!!s.multiple,s.defaultValue,!0):mf(i,!!s.multiple,s.multiple?[]:"",!1))}i[Og]=s}catch(g){dn(t,t.return,g)}}break;case 6:if(fs(e,t),js(t),r&4){if(t.stateNode===null)throw Error(ie(162));i=t.stateNode,s=t.memoizedProps;try{i.nodeValue=s}catch(g){dn(t,t.return,g)}}break;case 3:if(fs(e,t),js(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Ag(e.containerInfo)}catch(g){dn(t,t.return,g)}break;case 4:fs(e,t),js(t);break;case 13:fs(e,t),js(t),i=t.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(ZO=xn())),r&4&&VM(t);break;case 22:if(u=n!==null&&n.memoizedState!==null,t.mode&1?(xr=(c=xr)||u,fs(e,t),xr=c):fs(e,t),js(t),r&8192){if(c=t.memoizedState!==null,(t.stateNode.isHidden=c)&&!u&&t.mode&1)for(be=t,u=t.child;u!==null;){for(d=be=u;be!==null;){switch(f=be,p=f.child,f.tag){case 0:case 11:case 14:case 15:Km(4,f,f.return);break;case 1:Zd(f,f.return);var m=f.stateNode;if(typeof m.componentWillUnmount=="function"){r=f,n=f.return;try{e=r,m.props=e.memoizedProps,m.state=e.memoizedState,m.componentWillUnmount()}catch(g){dn(r,n,g)}}break;case 5:Zd(f,f.return);break;case 22:if(f.memoizedState!==null){BM(d);continue}}p!==null?(p.return=f,be=p):BM(d)}u=u.sibling}e:for(u=null,d=t;;){if(d.tag===5){if(u===null){u=d;try{i=d.stateNode,c?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(a=d.stateNode,l=d.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=v6("display",o))}catch(g){dn(t,t.return,g)}}}else if(d.tag===6){if(u===null)try{d.stateNode.nodeValue=c?"":d.memoizedProps}catch(g){dn(t,t.return,g)}}else if((d.tag!==22&&d.tag!==23||d.memoizedState===null||d===t)&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===t)break e;for(;d.sibling===null;){if(d.return===null||d.return===t)break e;u===d&&(u=null),d=d.return}u===d&&(u=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:fs(e,t),js(t),r&4&&VM(t);break;case 21:break;default:fs(e,t),js(t)}}function js(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(q9(n)){var r=n;break e}n=n.return}throw Error(ie(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(_g(i,""),r.flags&=-33);var s=$M(t);Dk(t,s,i);break;case 3:case 4:var o=r.stateNode.containerInfo,a=$M(t);Rk(t,a,o);break;default:throw Error(ie(161))}}catch(l){dn(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function $ne(t,e,n){be=t,K9(t)}function K9(t,e,n){for(var r=(t.mode&1)!==0;be!==null;){var i=be,s=i.child;if(i.tag===22&&r){var o=i.memoizedState!==null||A0;if(!o){var a=i.alternate,l=a!==null&&a.memoizedState!==null||xr;a=A0;var c=xr;if(A0=o,(xr=l)&&!c)for(be=i;be!==null;)o=be,l=o.child,o.tag===22&&o.memoizedState!==null?UM(i):l!==null?(l.return=o,be=l):UM(i);for(;s!==null;)be=s,K9(s),s=s.sibling;be=i,A0=a,xr=c}FM(t)}else i.subtreeFlags&8772&&s!==null?(s.return=i,be=s):FM(t)}}function FM(t){for(;be!==null;){var e=be;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:xr||x_(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!xr)if(n===null)r.componentDidMount();else{var i=e.elementType===e.type?n.memoizedProps:ps(e.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=e.updateQueue;s!==null&&EM(e,s,r);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}EM(e,o,n)}break;case 5:var a=e.stateNode;if(n===null&&e.flags&4){n=a;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var c=e.alternate;if(c!==null){var u=c.memoizedState;if(u!==null){var d=u.dehydrated;d!==null&&Ag(d)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(ie(163))}xr||e.flags&512&&jk(e)}catch(f){dn(e,e.return,f)}}if(e===t){be=null;break}if(n=e.sibling,n!==null){n.return=e.return,be=n;break}be=e.return}}function BM(t){for(;be!==null;){var e=be;if(e===t){be=null;break}var n=e.sibling;if(n!==null){n.return=e.return,be=n;break}be=e.return}}function UM(t){for(;be!==null;){var e=be;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{x_(4,e)}catch(l){dn(e,n,l)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(l){dn(e,i,l)}}var s=e.return;try{jk(e)}catch(l){dn(e,s,l)}break;case 5:var o=e.return;try{jk(e)}catch(l){dn(e,o,l)}}}catch(l){dn(e,e.return,l)}if(e===t){be=null;break}var a=e.sibling;if(a!==null){a.return=e.return,be=a;break}be=e.return}}var Vne=Math.ceil,Eb=xa.ReactCurrentDispatcher,XO=xa.ReactCurrentOwner,ts=xa.ReactCurrentBatchConfig,ut=0,Hn=null,En=null,sr=0,xi=0,ef=Zl(0),Rn=0,Lg=null,Cu=0,b_=0,JO=0,Gm=null,ei=null,ZO=0,nh=1/0,No=null,Tb=!1,Mk=null,Pl=null,k0=!1,gl=null,Ab=0,Qm=0,Lk=null,Px=-1,Cx=0;function Ur(){return ut&6?xn():Px!==-1?Px:Px=xn()}function Cl(t){return t.mode&1?ut&2&&sr!==0?sr&-sr:_ne.transition!==null?(Cx===0&&(Cx=O6()),Cx):(t=At,t!==0||(t=window.event,t=t===void 0?16:$6(t.type)),t):1}function Ts(t,e,n,r){if(50<Qm)throw Qm=0,Lk=null,Error(ie(185));uv(t,n,r),(!(ut&2)||t!==Hn)&&(t===Hn&&(!(ut&2)&&(b_|=n),Rn===4&&Ga(t,sr)),ai(t,r),n===1&&ut===0&&!(e.mode&1)&&(nh=xn()+500,g_&&ec()))}function ai(t,e){var n=t.callbackNode;_te(t,e);var r=cb(t,t===Hn?sr:0);if(r===0)n!==null&&XD(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&XD(n),e===1)t.tag===0?wne(zM.bind(null,t)):r9(zM.bind(null,t)),yne(function(){!(ut&6)&&ec()}),n=null;else{switch(N6(r)){case 1:n=TO;break;case 4:n=C6;break;case 16:n=lb;break;case 536870912:n=I6;break;default:n=lb}n=t8(n,G9.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function G9(t,e){if(Px=-1,Cx=0,ut&6)throw Error(ie(327));var n=t.callbackNode;if(bf()&&t.callbackNode!==n)return null;var r=cb(t,t===Hn?sr:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=kb(t,r);else{e=r;var i=ut;ut|=2;var s=Y9();(Hn!==t||sr!==e)&&(No=null,nh=xn()+500,du(t,e));do try{Une();break}catch(a){Q9(t,a)}while(!0);$O(),Eb.current=s,ut=i,En!==null?e=0:(Hn=null,sr=0,e=Rn)}if(e!==0){if(e===2&&(i=uk(t),i!==0&&(r=i,e=$k(t,i))),e===1)throw n=Lg,du(t,0),Ga(t,r),ai(t,xn()),n;if(e===6)Ga(t,r);else{if(i=t.current.alternate,!(r&30)&&!Fne(i)&&(e=kb(t,r),e===2&&(s=uk(t),s!==0&&(r=s,e=$k(t,s))),e===1))throw n=Lg,du(t,0),Ga(t,r),ai(t,xn()),n;switch(t.finishedWork=i,t.finishedLanes=r,e){case 0:case 1:throw Error(ie(345));case 2:Pc(t,ei,No);break;case 3:if(Ga(t,r),(r&130023424)===r&&(e=ZO+500-xn(),10<e)){if(cb(t,0)!==0)break;if(i=t.suspendedLanes,(i&r)!==r){Ur(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=vk(Pc.bind(null,t,ei,No),e);break}Pc(t,ei,No);break;case 4:if(Ga(t,r),(r&4194240)===r)break;for(e=t.eventTimes,i=-1;0<r;){var o=31-Es(r);s=1<<o,o=e[o],o>i&&(i=o),r&=~s}if(r=i,r=xn()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*Vne(r/1960))-r,10<r){t.timeoutHandle=vk(Pc.bind(null,t,ei,No),r);break}Pc(t,ei,No);break;case 5:Pc(t,ei,No);break;default:throw Error(ie(329))}}}return ai(t,xn()),t.callbackNode===n?G9.bind(null,t):null}function $k(t,e){var n=Gm;return t.current.memoizedState.isDehydrated&&(du(t,e).flags|=256),t=kb(t,e),t!==2&&(e=ei,ei=n,e!==null&&Vk(e)),t}function Vk(t){ei===null?ei=t:ei.push.apply(ei,t)}function Fne(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],s=i.getSnapshot;i=i.value;try{if(!Ps(s(),i))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Ga(t,e){for(e&=~JO,e&=~b_,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-Es(e),r=1<<n;t[n]=-1,e&=~r}}function zM(t){if(ut&6)throw Error(ie(327));bf();var e=cb(t,0);if(!(e&1))return ai(t,xn()),null;var n=kb(t,e);if(t.tag!==0&&n===2){var r=uk(t);r!==0&&(e=r,n=$k(t,r))}if(n===1)throw n=Lg,du(t,0),Ga(t,e),ai(t,xn()),n;if(n===6)throw Error(ie(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,Pc(t,ei,No),ai(t,xn()),null}function eN(t,e){var n=ut;ut|=1;try{return t(e)}finally{ut=n,ut===0&&(nh=xn()+500,g_&&ec())}}function Iu(t){gl!==null&&gl.tag===0&&!(ut&6)&&bf();var e=ut;ut|=1;var n=ts.transition,r=At;try{if(ts.transition=null,At=1,t)return t()}finally{At=r,ts.transition=n,ut=e,!(ut&6)&&ec()}}function tN(){xi=ef.current,Wt(ef)}function du(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,gne(n)),En!==null)for(n=En.return;n!==null;){var r=n;switch(DO(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&pb();break;case 3:eh(),Wt(si),Wt(kr),qO();break;case 5:zO(r);break;case 4:eh();break;case 13:Wt(rn);break;case 19:Wt(rn);break;case 10:VO(r.type._context);break;case 22:case 23:tN()}n=n.return}if(Hn=t,En=t=Il(t.current,null),sr=xi=e,Rn=0,Lg=null,JO=b_=Cu=0,ei=Gm=null,Kc!==null){for(e=0;e<Kc.length;e++)if(n=Kc[e],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,s=n.pending;if(s!==null){var o=s.next;s.next=i,r.next=o}n.pending=r}Kc=null}return t}function Q9(t,e){do{var n=En;try{if($O(),Tx.current=Sb,_b){for(var r=an.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}_b=!1}if(Pu=0,Un=On=an=null,Wm=!1,Rg=0,XO.current=null,n===null||n.return===null){Rn=1,Lg=e,En=null;break}e:{var s=t,o=n.return,a=n,l=e;if(e=sr,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var c=l,u=a,d=u.tag;if(!(u.mode&1)&&(d===0||d===11||d===15)){var f=u.alternate;f?(u.updateQueue=f.updateQueue,u.memoizedState=f.memoizedState,u.lanes=f.lanes):(u.updateQueue=null,u.memoizedState=null)}var p=IM(o);if(p!==null){p.flags&=-257,OM(p,o,a,s,e),p.mode&1&&CM(s,c,e),e=p,l=c;var m=e.updateQueue;if(m===null){var g=new Set;g.add(l),e.updateQueue=g}else m.add(l);break e}else{if(!(e&1)){CM(s,c,e),nN();break e}l=Error(ie(426))}}else if(Yt&&a.mode&1){var v=IM(o);if(v!==null){!(v.flags&65536)&&(v.flags|=256),OM(v,o,a,s,e),MO(th(l,a));break e}}s=l=th(l,a),Rn!==4&&(Rn=2),Gm===null?Gm=[s]:Gm.push(s),s=o;do{switch(s.tag){case 3:s.flags|=65536,e&=-e,s.lanes|=e;var x=N9(s,l,e);SM(s,x);break e;case 1:a=l;var b=s.type,w=s.stateNode;if(!(s.flags&128)&&(typeof b.getDerivedStateFromError=="function"||w!==null&&typeof w.componentDidCatch=="function"&&(Pl===null||!Pl.has(w)))){s.flags|=65536,e&=-e,s.lanes|=e;var T=j9(s,a,e);SM(s,T);break e}}s=s.return}while(s!==null)}J9(n)}catch(_){e=_,En===n&&n!==null&&(En=n=n.return);continue}break}while(!0)}function Y9(){var t=Eb.current;return Eb.current=Sb,t===null?Sb:t}function nN(){(Rn===0||Rn===3||Rn===2)&&(Rn=4),Hn===null||!(Cu&268435455)&&!(b_&268435455)||Ga(Hn,sr)}function kb(t,e){var n=ut;ut|=2;var r=Y9();(Hn!==t||sr!==e)&&(No=null,du(t,e));do try{Bne();break}catch(i){Q9(t,i)}while(!0);if($O(),ut=n,Eb.current=r,En!==null)throw Error(ie(261));return Hn=null,sr=0,Rn}function Bne(){for(;En!==null;)X9(En)}function Une(){for(;En!==null&&!hte();)X9(En)}function X9(t){var e=e8(t.alternate,t,xi);t.memoizedProps=t.pendingProps,e===null?J9(t):En=e,XO.current=null}function J9(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=Dne(n,e),n!==null){n.flags&=32767,En=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{Rn=6,En=null;return}}else if(n=Rne(n,e,xi),n!==null){En=n;return}if(e=e.sibling,e!==null){En=e;return}En=e=t}while(e!==null);Rn===0&&(Rn=5)}function Pc(t,e,n){var r=At,i=ts.transition;try{ts.transition=null,At=1,zne(t,e,n,r)}finally{ts.transition=i,At=r}return null}function zne(t,e,n,r){do bf();while(gl!==null);if(ut&6)throw Error(ie(327));n=t.finishedWork;var i=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(ie(177));t.callbackNode=null,t.callbackPriority=0;var s=n.lanes|n.childLanes;if(Ste(t,s),t===Hn&&(En=Hn=null,sr=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||k0||(k0=!0,t8(lb,function(){return bf(),null})),s=(n.flags&15990)!==0,n.subtreeFlags&15990||s){s=ts.transition,ts.transition=null;var o=At;At=1;var a=ut;ut|=4,XO.current=null,Lne(t,n),W9(n,t),cne(gk),ub=!!mk,gk=mk=null,t.current=n,$ne(n),pte(),ut=a,At=o,ts.transition=s}else t.current=n;if(k0&&(k0=!1,gl=t,Ab=i),s=t.pendingLanes,s===0&&(Pl=null),yte(n.stateNode),ai(t,xn()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)i=e[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(Tb)throw Tb=!1,t=Mk,Mk=null,t;return Ab&1&&t.tag!==0&&bf(),s=t.pendingLanes,s&1?t===Lk?Qm++:(Qm=0,Lk=t):Qm=0,ec(),null}function bf(){if(gl!==null){var t=N6(Ab),e=ts.transition,n=At;try{if(ts.transition=null,At=16>t?16:t,gl===null)var r=!1;else{if(t=gl,gl=null,Ab=0,ut&6)throw Error(ie(331));var i=ut;for(ut|=4,be=t.current;be!==null;){var s=be,o=s.child;if(be.flags&16){var a=s.deletions;if(a!==null){for(var l=0;l<a.length;l++){var c=a[l];for(be=c;be!==null;){var u=be;switch(u.tag){case 0:case 11:case 15:Km(8,u,s)}var d=u.child;if(d!==null)d.return=u,be=d;else for(;be!==null;){u=be;var f=u.sibling,p=u.return;if(z9(u),u===c){be=null;break}if(f!==null){f.return=p,be=f;break}be=p}}}var m=s.alternate;if(m!==null){var g=m.child;if(g!==null){m.child=null;do{var v=g.sibling;g.sibling=null,g=v}while(g!==null)}}be=s}}if(s.subtreeFlags&2064&&o!==null)o.return=s,be=o;else e:for(;be!==null;){if(s=be,s.flags&2048)switch(s.tag){case 0:case 11:case 15:Km(9,s,s.return)}var x=s.sibling;if(x!==null){x.return=s.return,be=x;break e}be=s.return}}var b=t.current;for(be=b;be!==null;){o=be;var w=o.child;if(o.subtreeFlags&2064&&w!==null)w.return=o,be=w;else e:for(o=b;be!==null;){if(a=be,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:x_(9,a)}}catch(_){dn(a,a.return,_)}if(a===o){be=null;break e}var T=a.sibling;if(T!==null){T.return=a.return,be=T;break e}be=a.return}}if(ut=i,ec(),Js&&typeof Js.onPostCommitFiberRoot=="function")try{Js.onPostCommitFiberRoot(d_,t)}catch{}r=!0}return r}finally{At=n,ts.transition=e}}return!1}function qM(t,e,n){e=th(n,e),e=N9(t,e,1),t=kl(t,e,1),e=Ur(),t!==null&&(uv(t,1,e),ai(t,e))}function dn(t,e,n){if(t.tag===3)qM(t,t,n);else for(;e!==null;){if(e.tag===3){qM(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Pl===null||!Pl.has(r))){t=th(n,t),t=j9(e,t,1),e=kl(e,t,1),t=Ur(),e!==null&&(uv(e,1,t),ai(e,t));break}}e=e.return}}function qne(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=Ur(),t.pingedLanes|=t.suspendedLanes&n,Hn===t&&(sr&n)===n&&(Rn===4||Rn===3&&(sr&130023424)===sr&&500>xn()-ZO?du(t,0):JO|=n),ai(t,e)}function Z9(t,e){e===0&&(t.mode&1?(e=y0,y0<<=1,!(y0&130023424)&&(y0=4194304)):e=1);var n=Ur();t=oa(t,e),t!==null&&(uv(t,e,n),ai(t,n))}function Hne(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),Z9(t,n)}function Wne(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(ie(314))}r!==null&&r.delete(e),Z9(t,n)}var e8;e8=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||si.current)ni=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return ni=!1,jne(t,e,n);ni=!!(t.flags&131072)}else ni=!1,Yt&&e.flags&1048576&&i9(e,yb,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;kx(t,e),t=e.pendingProps;var i=Xf(e,kr.current);xf(e,n),i=WO(null,e,r,t,i,n);var s=KO();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,oi(r)?(s=!0,mb(e)):s=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,BO(e),i.updater=v_,e.stateNode=i,i._reactInternals=e,Tk(e,r,t,n),e=Pk(null,e,r,!0,s,n)):(e.tag=0,Yt&&s&&RO(e),Dr(null,e,i,n),e=e.child),e;case 16:r=e.elementType;e:{switch(kx(t,e),t=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=Gne(r),t=ps(r,t),i){case 0:e=kk(null,e,r,t,n);break e;case 1:e=RM(null,e,r,t,n);break e;case 11:e=NM(null,e,r,t,n);break e;case 14:e=jM(null,e,r,ps(r.type,t),n);break e}throw Error(ie(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:ps(r,i),kk(t,e,r,i,n);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:ps(r,i),RM(t,e,r,i,n);case 3:e:{if(L9(e),t===null)throw Error(ie(387));r=e.pendingProps,s=e.memoizedState,i=s.element,u9(t,e),bb(e,r,null,n);var o=e.memoizedState;if(r=o.element,s.isDehydrated)if(s={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=s,e.memoizedState=s,e.flags&256){i=th(Error(ie(423)),e),e=DM(t,e,r,n,i);break e}else if(r!==i){i=th(Error(ie(424)),e),e=DM(t,e,r,n,i);break e}else for(Ei=Al(e.stateNode.containerInfo.firstChild),Pi=e,Yt=!0,xs=null,n=l9(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Jf(),r===i){e=aa(t,e,n);break e}Dr(t,e,r,n)}e=e.child}return e;case 5:return d9(e),t===null&&_k(e),r=e.type,i=e.pendingProps,s=t!==null?t.memoizedProps:null,o=i.children,yk(r,i)?o=null:s!==null&&yk(r,s)&&(e.flags|=32),M9(t,e),Dr(t,e,o,n),e.child;case 6:return t===null&&_k(e),null;case 13:return $9(t,e,n);case 4:return UO(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=Zf(e,null,r,n):Dr(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:ps(r,i),NM(t,e,r,i,n);case 7:return Dr(t,e,e.pendingProps,n),e.child;case 8:return Dr(t,e,e.pendingProps.children,n),e.child;case 12:return Dr(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,s=e.memoizedProps,o=i.value,$t(vb,r._currentValue),r._currentValue=o,s!==null)if(Ps(s.value,o)){if(s.children===i.children&&!si.current){e=aa(t,e,n);break e}}else for(s=e.child,s!==null&&(s.return=e);s!==null;){var a=s.dependencies;if(a!==null){o=s.child;for(var l=a.firstContext;l!==null;){if(l.context===r){if(s.tag===1){l=Ko(-1,n&-n),l.tag=2;var c=s.updateQueue;if(c!==null){c=c.shared;var u=c.pending;u===null?l.next=l:(l.next=u.next,u.next=l),c.pending=l}}s.lanes|=n,l=s.alternate,l!==null&&(l.lanes|=n),Sk(s.return,n,e),a.lanes|=n;break}l=l.next}}else if(s.tag===10)o=s.type===e.type?null:s.child;else if(s.tag===18){if(o=s.return,o===null)throw Error(ie(341));o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),Sk(o,n,e),o=s.sibling}else o=s.child;if(o!==null)o.return=s;else for(o=s;o!==null;){if(o===e){o=null;break}if(s=o.sibling,s!==null){s.return=o.return,o=s;break}o=o.return}s=o}Dr(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,xf(e,n),i=is(i),r=r(i),e.flags|=1,Dr(t,e,r,n),e.child;case 14:return r=e.type,i=ps(r,e.pendingProps),i=ps(r.type,i),jM(t,e,r,i,n);case 15:return R9(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:ps(r,i),kx(t,e),e.tag=1,oi(r)?(t=!0,mb(e)):t=!1,xf(e,n),O9(e,r,i),Tk(e,r,i,n),Pk(null,e,r,!0,t,n);case 19:return V9(t,e,n);case 22:return D9(t,e,n)}throw Error(ie(156,e.tag))};function t8(t,e){return P6(t,e)}function Kne(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ji(t,e,n,r){return new Kne(t,e,n,r)}function rN(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Gne(t){if(typeof t=="function")return rN(t)?1:0;if(t!=null){if(t=t.$$typeof,t===_O)return 11;if(t===SO)return 14}return 2}function Il(t,e){var n=t.alternate;return n===null?(n=Ji(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function Ix(t,e,n,r,i,s){var o=2;if(r=t,typeof t=="function")rN(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case qd:return fu(n.children,i,s,e);case wO:o=8,i|=8;break;case QA:return t=Ji(12,n,e,i|2),t.elementType=QA,t.lanes=s,t;case YA:return t=Ji(13,n,e,i),t.elementType=YA,t.lanes=s,t;case XA:return t=Ji(19,n,e,i),t.elementType=XA,t.lanes=s,t;case d6:return w_(n,i,s,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case c6:o=10;break e;case u6:o=9;break e;case _O:o=11;break e;case SO:o=14;break e;case Ba:o=16,r=null;break e}throw Error(ie(130,t==null?t:typeof t,""))}return e=Ji(o,n,e,i),e.elementType=t,e.type=r,e.lanes=s,e}function fu(t,e,n,r){return t=Ji(7,t,r,e),t.lanes=n,t}function w_(t,e,n,r){return t=Ji(22,t,r,e),t.elementType=d6,t.lanes=n,t.stateNode={isHidden:!1},t}function uT(t,e,n){return t=Ji(6,t,null,e),t.lanes=n,t}function dT(t,e,n){return e=Ji(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function Qne(t,e,n,r,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=HE(0),this.expirationTimes=HE(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=HE(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function iN(t,e,n,r,i,s,o,a,l){return t=new Qne(t,e,n,a,l),e===1?(e=1,s===!0&&(e|=8)):e=0,s=Ji(3,null,null,e),t.current=s,s.stateNode=t,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},BO(s),t}function Yne(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:zd,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function n8(t){if(!t)return Ul;t=t._reactInternals;e:{if(td(t)!==t||t.tag!==1)throw Error(ie(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(oi(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(ie(171))}if(t.tag===1){var n=t.type;if(oi(n))return n9(t,n,e)}return e}function r8(t,e,n,r,i,s,o,a,l){return t=iN(n,r,!0,t,i,s,o,a,l),t.context=n8(null),n=t.current,r=Ur(),i=Cl(n),s=Ko(r,i),s.callback=e??null,kl(n,s,i),t.current.lanes=i,uv(t,i,r),ai(t,r),t}function __(t,e,n,r){var i=e.current,s=Ur(),o=Cl(i);return n=n8(n),e.context===null?e.context=n:e.pendingContext=n,e=Ko(s,o),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=kl(i,e,o),t!==null&&(Ts(t,i,o,s),Ex(t,i,o)),o}function Pb(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function HM(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function sN(t,e){HM(t,e),(t=t.alternate)&&HM(t,e)}function Xne(){return null}var i8=typeof reportError=="function"?reportError:function(t){console.error(t)};function oN(t){this._internalRoot=t}S_.prototype.render=oN.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(ie(409));__(t,e,null,null)};S_.prototype.unmount=oN.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;Iu(function(){__(null,t,null,null)}),e[sa]=null}};function S_(t){this._internalRoot=t}S_.prototype.unstable_scheduleHydration=function(t){if(t){var e=D6();t={blockedOn:null,target:t,priority:e};for(var n=0;n<Ka.length&&e!==0&&e<Ka[n].priority;n++);Ka.splice(n,0,t),n===0&&L6(t)}};function aN(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function E_(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function WM(){}function Jne(t,e,n,r,i){if(i){if(typeof r=="function"){var s=r;r=function(){var c=Pb(o);s.call(c)}}var o=r8(e,r,t,0,null,!1,!1,"",WM);return t._reactRootContainer=o,t[sa]=o.current,Cg(t.nodeType===8?t.parentNode:t),Iu(),o}for(;i=t.lastChild;)t.removeChild(i);if(typeof r=="function"){var a=r;r=function(){var c=Pb(l);a.call(c)}}var l=iN(t,0,!1,null,null,!1,!1,"",WM);return t._reactRootContainer=l,t[sa]=l.current,Cg(t.nodeType===8?t.parentNode:t),Iu(function(){__(e,l,n,r)}),l}function T_(t,e,n,r,i){var s=n._reactRootContainer;if(s){var o=s;if(typeof i=="function"){var a=i;i=function(){var l=Pb(o);a.call(l)}}__(e,o,t,i)}else o=Jne(n,e,t,i,r);return Pb(o)}j6=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=Tm(e.pendingLanes);n!==0&&(AO(e,n|1),ai(e,xn()),!(ut&6)&&(nh=xn()+500,ec()))}break;case 13:Iu(function(){var r=oa(t,1);if(r!==null){var i=Ur();Ts(r,t,1,i)}}),sN(t,1)}};kO=function(t){if(t.tag===13){var e=oa(t,134217728);if(e!==null){var n=Ur();Ts(e,t,134217728,n)}sN(t,134217728)}};R6=function(t){if(t.tag===13){var e=Cl(t),n=oa(t,e);if(n!==null){var r=Ur();Ts(n,t,e,r)}sN(t,e)}};D6=function(){return At};M6=function(t,e){var n=At;try{return At=t,e()}finally{At=n}};ak=function(t,e,n){switch(e){case"input":if(ek(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=m_(r);if(!i)throw Error(ie(90));h6(r),ek(r,i)}}}break;case"textarea":m6(t,n);break;case"select":e=n.value,e!=null&&mf(t,!!n.multiple,e,!1)}};_6=eN;S6=Iu;var Zne={usingClientEntryPoint:!1,Events:[fv,Gd,m_,b6,w6,eN]},Xp={findFiberByHostInstance:Wc,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},ere={bundleType:Xp.bundleType,version:Xp.version,rendererPackageName:Xp.rendererPackageName,rendererConfig:Xp.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:xa.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=A6(t),t===null?null:t.stateNode},findFiberByHostInstance:Xp.findFiberByHostInstance||Xne,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var P0=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!P0.isDisabled&&P0.supportsFiber)try{d_=P0.inject(ere),Js=P0}catch{}}Mi.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Zne;Mi.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!aN(e))throw Error(ie(200));return Yne(t,e,null,n)};Mi.createRoot=function(t,e){if(!aN(t))throw Error(ie(299));var n=!1,r="",i=i8;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=iN(t,1,!1,null,null,n,!1,r,i),t[sa]=e.current,Cg(t.nodeType===8?t.parentNode:t),new oN(e)};Mi.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(ie(188)):(t=Object.keys(t).join(","),Error(ie(268,t)));return t=A6(e),t=t===null?null:t.stateNode,t};Mi.flushSync=function(t){return Iu(t)};Mi.hydrate=function(t,e,n){if(!E_(e))throw Error(ie(200));return T_(null,t,e,!0,n)};Mi.hydrateRoot=function(t,e,n){if(!aN(t))throw Error(ie(405));var r=n!=null&&n.hydratedSources||null,i=!1,s="",o=i8;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=r8(e,null,t,1,n??null,i,!1,s,o),t[sa]=e.current,Cg(t),r)for(t=0;t<r.length;t++)n=r[t],i=n._getVersion,i=i(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,i]:e.mutableSourceEagerHydrationData.push(n,i);return new S_(e)};Mi.render=function(t,e,n){if(!E_(e))throw Error(ie(200));return T_(null,t,e,!1,n)};Mi.unmountComponentAtNode=function(t){if(!E_(t))throw Error(ie(40));return t._reactRootContainer?(Iu(function(){T_(null,null,t,!1,function(){t._reactRootContainer=null,t[sa]=null})}),!0):!1};Mi.unstable_batchedUpdates=eN;Mi.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!E_(n))throw Error(ie(200));if(t==null||t._reactInternals===void 0)throw Error(ie(38));return T_(t,e,n,!1,r)};Mi.version="18.3.1-next-f1338f8080-20240426";function s8(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s8)}catch(t){console.error(t)}}s8(),s6.exports=Mi;var o8=s6.exports;const tre=vt(o8);var a8,KM=o8;a8=KM.createRoot,KM.hydrateRoot;var np=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(t){return this.listeners.add(t),this.onSubscribe(),()=>{this.listeners.delete(t),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},Ou=typeof window>"u"||"Deno"in globalThis;function Wi(){}function nre(t,e){return typeof t=="function"?t(e):t}function Fk(t){return typeof t=="number"&&t>=0&&t!==1/0}function l8(t,e){return Math.max(t+(e||0)-Date.now(),0)}function wf(t,e){return typeof t=="function"?t(e):t}function bs(t,e){return typeof t=="function"?t(e):t}function GM(t,e){const{type:n="all",exact:r,fetchStatus:i,predicate:s,queryKey:o,stale:a}=t;if(o){if(r){if(e.queryHash!==lN(o,e.options))return!1}else if(!$g(e.queryKey,o))return!1}if(n!=="all"){const l=e.isActive();if(n==="active"&&!l||n==="inactive"&&l)return!1}return!(typeof a=="boolean"&&e.isStale()!==a||i&&i!==e.state.fetchStatus||s&&!s(e))}function QM(t,e){const{exact:n,status:r,predicate:i,mutationKey:s}=t;if(s){if(!e.options.mutationKey)return!1;if(n){if(Nu(e.options.mutationKey)!==Nu(s))return!1}else if(!$g(e.options.mutationKey,s))return!1}return!(r&&e.state.status!==r||i&&!i(e))}function lN(t,e){return((e==null?void 0:e.queryKeyHashFn)||Nu)(t)}function Nu(t){return JSON.stringify(t,(e,n)=>Bk(n)?Object.keys(n).sort().reduce((r,i)=>(r[i]=n[i],r),{}):n)}function $g(t,e){return t===e?!0:typeof t!=typeof e?!1:t&&e&&typeof t=="object"&&typeof e=="object"?!Object.keys(e).some(n=>!$g(t[n],e[n])):!1}function c8(t,e){if(t===e)return t;const n=YM(t)&&YM(e);if(n||Bk(t)&&Bk(e)){const r=n?t:Object.keys(t),i=r.length,s=n?e:Object.keys(e),o=s.length,a=n?[]:{};let l=0;for(let c=0;c<o;c++){const u=n?c:s[c];(!n&&r.includes(u)||n)&&t[u]===void 0&&e[u]===void 0?(a[u]=void 0,l++):(a[u]=c8(t[u],e[u]),a[u]===t[u]&&t[u]!==void 0&&l++)}return i===o&&l===i?t:a}return e}function Cb(t,e){if(!e||Object.keys(t).length!==Object.keys(e).length)return!1;for(const n in t)if(t[n]!==e[n])return!1;return!0}function YM(t){return Array.isArray(t)&&t.length===Object.keys(t).length}function Bk(t){if(!XM(t))return!1;const e=t.constructor;if(e===void 0)return!0;const n=e.prototype;return!(!XM(n)||!n.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(t)!==Object.prototype)}function XM(t){return Object.prototype.toString.call(t)==="[object Object]"}function rre(t){return new Promise(e=>{setTimeout(e,t)})}function Uk(t,e,n){return typeof n.structuralSharing=="function"?n.structuralSharing(t,e):n.structuralSharing!==!1?c8(t,e):e}function ire(t,e,n=0){const r=[...t,e];return n&&r.length>n?r.slice(1):r}function sre(t,e,n=0){const r=[e,...t];return n&&r.length>n?r.slice(0,-1):r}var cN=Symbol();function u8(t,e){return!t.queryFn&&(e!=null&&e.initialPromise)?()=>e.initialPromise:!t.queryFn||t.queryFn===cN?()=>Promise.reject(new Error(`Missing queryFn: '${t.queryHash}'`)):t.queryFn}var iu,ol,Lf,$z,ore=($z=class extends np{constructor(){super();je(this,iu);je(this,ol);je(this,Lf);ve(this,Lf,e=>{if(!Ou&&window.addEventListener){const n=()=>e();return window.addEventListener("visibilitychange",n,!1),()=>{window.removeEventListener("visibilitychange",n)}}})}onSubscribe(){V(this,ol)||this.setEventListener(V(this,Lf))}onUnsubscribe(){var e;this.hasListeners()||((e=V(this,ol))==null||e.call(this),ve(this,ol,void 0))}setEventListener(e){var n;ve(this,Lf,e),(n=V(this,ol))==null||n.call(this),ve(this,ol,e(r=>{typeof r=="boolean"?this.setFocused(r):this.onFocus()}))}setFocused(e){V(this,iu)!==e&&(ve(this,iu,e),this.onFocus())}onFocus(){const e=this.isFocused();this.listeners.forEach(n=>{n(e)})}isFocused(){var e;return typeof V(this,iu)=="boolean"?V(this,iu):((e=globalThis.document)==null?void 0:e.visibilityState)!=="hidden"}},iu=new WeakMap,ol=new WeakMap,Lf=new WeakMap,$z),uN=new ore,$f,al,Vf,Vz,are=(Vz=class extends np{constructor(){super();je(this,$f,!0);je(this,al);je(this,Vf);ve(this,Vf,e=>{if(!Ou&&window.addEventListener){const n=()=>e(!0),r=()=>e(!1);return window.addEventListener("online",n,!1),window.addEventListener("offline",r,!1),()=>{window.removeEventListener("online",n),window.removeEventListener("offline",r)}}})}onSubscribe(){V(this,al)||this.setEventListener(V(this,Vf))}onUnsubscribe(){var e;this.hasListeners()||((e=V(this,al))==null||e.call(this),ve(this,al,void 0))}setEventListener(e){var n;ve(this,Vf,e),(n=V(this,al))==null||n.call(this),ve(this,al,e(this.setOnline.bind(this)))}setOnline(e){V(this,$f)!==e&&(ve(this,$f,e),this.listeners.forEach(r=>{r(e)}))}isOnline(){return V(this,$f)}},$f=new WeakMap,al=new WeakMap,Vf=new WeakMap,Vz),Ib=new are;function zk(){let t,e;const n=new Promise((i,s)=>{t=i,e=s});n.status="pending",n.catch(()=>{});function r(i){Object.assign(n,i),delete n.resolve,delete n.reject}return n.resolve=i=>{r({status:"fulfilled",value:i}),t(i)},n.reject=i=>{r({status:"rejected",reason:i}),e(i)},n}function lre(t){return Math.min(1e3*2**t,3e4)}function d8(t){return(t??"online")==="online"?Ib.isOnline():!0}var f8=class extends Error{constructor(t){super("CancelledError"),this.revert=t==null?void 0:t.revert,this.silent=t==null?void 0:t.silent}};function fT(t){return t instanceof f8}function h8(t){let e=!1,n=0,r=!1,i;const s=zk(),o=g=>{var v;r||(f(new f8(g)),(v=t.abort)==null||v.call(t))},a=()=>{e=!0},l=()=>{e=!1},c=()=>uN.isFocused()&&(t.networkMode==="always"||Ib.isOnline())&&t.canRun(),u=()=>d8(t.networkMode)&&t.canRun(),d=g=>{var v;r||(r=!0,(v=t.onSuccess)==null||v.call(t,g),i==null||i(),s.resolve(g))},f=g=>{var v;r||(r=!0,(v=t.onError)==null||v.call(t,g),i==null||i(),s.reject(g))},p=()=>new Promise(g=>{var v;i=x=>{(r||c())&&g(x)},(v=t.onPause)==null||v.call(t)}).then(()=>{var g;i=void 0,r||(g=t.onContinue)==null||g.call(t)}),m=()=>{if(r)return;let g;const v=n===0?t.initialPromise:void 0;try{g=v??t.fn()}catch(x){g=Promise.reject(x)}Promise.resolve(g).then(d).catch(x=>{var k;if(r)return;const b=t.retry??(Ou?0:3),w=t.retryDelay??lre,T=typeof w=="function"?w(n,x):w,_=b===!0||typeof b=="number"&&n<b||typeof b=="function"&&b(n,x);if(e||!_){f(x);return}n++,(k=t.onFail)==null||k.call(t,n,x),rre(T).then(()=>c()?void 0:p()).then(()=>{e?f(x):m()})})};return{promise:s,cancel:o,continue:()=>(i==null||i(),s),cancelRetry:a,continueRetry:l,canStart:u,start:()=>(u()?m():p().then(m),s)}}function cre(){let t=[],e=0,n=a=>{a()},r=a=>{a()},i=a=>setTimeout(a,0);const s=a=>{e?t.push(a):i(()=>{n(a)})},o=()=>{const a=t;t=[],a.length&&i(()=>{r(()=>{a.forEach(l=>{n(l)})})})};return{batch:a=>{let l;e++;try{l=a()}finally{e--,e||o()}return l},batchCalls:a=>(...l)=>{s(()=>{a(...l)})},schedule:s,setNotifyFunction:a=>{n=a},setBatchNotifyFunction:a=>{r=a},setScheduler:a=>{i=a}}}var Nn=cre(),su,Fz,p8=(Fz=class{constructor(){je(this,su)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),Fk(this.gcTime)&&ve(this,su,setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(t){this.gcTime=Math.max(this.gcTime||0,t??(Ou?1/0:5*60*1e3))}clearGcTimeout(){V(this,su)&&(clearTimeout(V(this,su)),ve(this,su,void 0))}},su=new WeakMap,Fz),Ff,Bf,Hi,mr,sv,ou,ms,Io,Bz,ure=(Bz=class extends p8{constructor(n){super();je(this,ms);je(this,Ff);je(this,Bf);je(this,Hi);je(this,mr);je(this,sv);je(this,ou);ve(this,ou,!1),ve(this,sv,n.defaultOptions),this.setOptions(n.options),this.observers=[],ve(this,Hi,n.cache),this.queryKey=n.queryKey,this.queryHash=n.queryHash,ve(this,Ff,dre(this.options)),this.state=n.state??V(this,Ff),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var n;return(n=V(this,mr))==null?void 0:n.promise}setOptions(n){this.options={...V(this,sv),...n},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&V(this,Hi).remove(this)}setData(n,r){const i=Uk(this.state.data,n,this.options);return Ge(this,ms,Io).call(this,{data:i,type:"success",dataUpdatedAt:r==null?void 0:r.updatedAt,manual:r==null?void 0:r.manual}),i}setState(n,r){Ge(this,ms,Io).call(this,{type:"setState",state:n,setStateOptions:r})}cancel(n){var i,s;const r=(i=V(this,mr))==null?void 0:i.promise;return(s=V(this,mr))==null||s.cancel(n),r?r.then(Wi).catch(Wi):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(V(this,Ff))}isActive(){return this.observers.some(n=>bs(n.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===cN||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStale(){return this.state.isInvalidated?!0:this.getObserversCount()>0?this.observers.some(n=>n.getCurrentResult().isStale):this.state.data===void 0}isStaleByTime(n=0){return this.state.isInvalidated||this.state.data===void 0||!l8(this.state.dataUpdatedAt,n)}onFocus(){var r;const n=this.observers.find(i=>i.shouldFetchOnWindowFocus());n==null||n.refetch({cancelRefetch:!1}),(r=V(this,mr))==null||r.continue()}onOnline(){var r;const n=this.observers.find(i=>i.shouldFetchOnReconnect());n==null||n.refetch({cancelRefetch:!1}),(r=V(this,mr))==null||r.continue()}addObserver(n){this.observers.includes(n)||(this.observers.push(n),this.clearGcTimeout(),V(this,Hi).notify({type:"observerAdded",query:this,observer:n}))}removeObserver(n){this.observers.includes(n)&&(this.observers=this.observers.filter(r=>r!==n),this.observers.length||(V(this,mr)&&(V(this,ou)?V(this,mr).cancel({revert:!0}):V(this,mr).cancelRetry()),this.scheduleGc()),V(this,Hi).notify({type:"observerRemoved",query:this,observer:n}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||Ge(this,ms,Io).call(this,{type:"invalidate"})}fetch(n,r){var c,u,d;if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&(r!=null&&r.cancelRefetch))this.cancel({silent:!0});else if(V(this,mr))return V(this,mr).continueRetry(),V(this,mr).promise}if(n&&this.setOptions(n),!this.options.queryFn){const f=this.observers.find(p=>p.options.queryFn);f&&this.setOptions(f.options)}const i=new AbortController,s=f=>{Object.defineProperty(f,"signal",{enumerable:!0,get:()=>(ve(this,ou,!0),i.signal)})},o=()=>{const f=u8(this.options,r),p={queryKey:this.queryKey,meta:this.meta};return s(p),ve(this,ou,!1),this.options.persister?this.options.persister(f,p,this):f(p)},a={fetchOptions:r,options:this.options,queryKey:this.queryKey,state:this.state,fetchFn:o};s(a),(c=this.options.behavior)==null||c.onFetch(a,this),ve(this,Bf,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((u=a.fetchOptions)==null?void 0:u.meta))&&Ge(this,ms,Io).call(this,{type:"fetch",meta:(d=a.fetchOptions)==null?void 0:d.meta});const l=f=>{var p,m,g,v;fT(f)&&f.silent||Ge(this,ms,Io).call(this,{type:"error",error:f}),fT(f)||((m=(p=V(this,Hi).config).onError)==null||m.call(p,f,this),(v=(g=V(this,Hi).config).onSettled)==null||v.call(g,this.state.data,f,this)),this.scheduleGc()};return ve(this,mr,h8({initialPromise:r==null?void 0:r.initialPromise,fn:a.fetchFn,abort:i.abort.bind(i),onSuccess:f=>{var p,m,g,v;if(f===void 0){l(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(f)}catch(x){l(x);return}(m=(p=V(this,Hi).config).onSuccess)==null||m.call(p,f,this),(v=(g=V(this,Hi).config).onSettled)==null||v.call(g,f,this.state.error,this),this.scheduleGc()},onError:l,onFail:(f,p)=>{Ge(this,ms,Io).call(this,{type:"failed",failureCount:f,error:p})},onPause:()=>{Ge(this,ms,Io).call(this,{type:"pause"})},onContinue:()=>{Ge(this,ms,Io).call(this,{type:"continue"})},retry:a.options.retry,retryDelay:a.options.retryDelay,networkMode:a.options.networkMode,canRun:()=>!0})),V(this,mr).start()}},Ff=new WeakMap,Bf=new WeakMap,Hi=new WeakMap,mr=new WeakMap,sv=new WeakMap,ou=new WeakMap,ms=new WeakSet,Io=function(n){const r=i=>{switch(n.type){case"failed":return{...i,fetchFailureCount:n.failureCount,fetchFailureReason:n.error};case"pause":return{...i,fetchStatus:"paused"};case"continue":return{...i,fetchStatus:"fetching"};case"fetch":return{...i,...m8(i.data,this.options),fetchMeta:n.meta??null};case"success":return{...i,data:n.data,dataUpdateCount:i.dataUpdateCount+1,dataUpdatedAt:n.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!n.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const s=n.error;return fT(s)&&s.revert&&V(this,Bf)?{...V(this,Bf),fetchStatus:"idle"}:{...i,error:s,errorUpdateCount:i.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:i.fetchFailureCount+1,fetchFailureReason:s,fetchStatus:"idle",status:"error"};case"invalidate":return{...i,isInvalidated:!0};case"setState":return{...i,...n.state}}};this.state=r(this.state),Nn.batch(()=>{this.observers.forEach(i=>{i.onQueryUpdate()}),V(this,Hi).notify({query:this,type:"updated",action:n})})},Bz);function m8(t,e){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:d8(e.networkMode)?"fetching":"paused",...t===void 0&&{error:null,status:"pending"}}}function dre(t){const e=typeof t.initialData=="function"?t.initialData():t.initialData,n=e!==void 0,r=n?typeof t.initialDataUpdatedAt=="function"?t.initialDataUpdatedAt():t.initialDataUpdatedAt:0;return{data:e,dataUpdateCount:0,dataUpdatedAt:n?r??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:n?"success":"pending",fetchStatus:"idle"}}var Fs,Uz,fre=(Uz=class extends np{constructor(e={}){super();je(this,Fs);this.config=e,ve(this,Fs,new Map)}build(e,n,r){const i=n.queryKey,s=n.queryHash??lN(i,n);let o=this.get(s);return o||(o=new ure({cache:this,queryKey:i,queryHash:s,options:e.defaultQueryOptions(n),state:r,defaultOptions:e.getQueryDefaults(i)}),this.add(o)),o}add(e){V(this,Fs).has(e.queryHash)||(V(this,Fs).set(e.queryHash,e),this.notify({type:"added",query:e}))}remove(e){const n=V(this,Fs).get(e.queryHash);n&&(e.destroy(),n===e&&V(this,Fs).delete(e.queryHash),this.notify({type:"removed",query:e}))}clear(){Nn.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}get(e){return V(this,Fs).get(e)}getAll(){return[...V(this,Fs).values()]}find(e){const n={exact:!0,...e};return this.getAll().find(r=>GM(n,r))}findAll(e={}){const n=this.getAll();return Object.keys(e).length>0?n.filter(r=>GM(e,r)):n}notify(e){Nn.batch(()=>{this.listeners.forEach(n=>{n(e)})})}onFocus(){Nn.batch(()=>{this.getAll().forEach(e=>{e.onFocus()})})}onOnline(){Nn.batch(()=>{this.getAll().forEach(e=>{e.onOnline()})})}},Fs=new WeakMap,Uz),Bs,jr,au,Us,$a,zz,hre=(zz=class extends p8{constructor(n){super();je(this,Us);je(this,Bs);je(this,jr);je(this,au);this.mutationId=n.mutationId,ve(this,jr,n.mutationCache),ve(this,Bs,[]),this.state=n.state||g8(),this.setOptions(n.options),this.scheduleGc()}setOptions(n){this.options=n,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(n){V(this,Bs).includes(n)||(V(this,Bs).push(n),this.clearGcTimeout(),V(this,jr).notify({type:"observerAdded",mutation:this,observer:n}))}removeObserver(n){ve(this,Bs,V(this,Bs).filter(r=>r!==n)),this.scheduleGc(),V(this,jr).notify({type:"observerRemoved",mutation:this,observer:n})}optionalRemove(){V(this,Bs).length||(this.state.status==="pending"?this.scheduleGc():V(this,jr).remove(this))}continue(){var n;return((n=V(this,au))==null?void 0:n.continue())??this.execute(this.state.variables)}async execute(n){var s,o,a,l,c,u,d,f,p,m,g,v,x,b,w,T,_,k,S,E;ve(this,au,h8({fn:()=>this.options.mutationFn?this.options.mutationFn(n):Promise.reject(new Error("No mutationFn found")),onFail:(P,O)=>{Ge(this,Us,$a).call(this,{type:"failed",failureCount:P,error:O})},onPause:()=>{Ge(this,Us,$a).call(this,{type:"pause"})},onContinue:()=>{Ge(this,Us,$a).call(this,{type:"continue"})},retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>V(this,jr).canRun(this)}));const r=this.state.status==="pending",i=!V(this,au).canStart();try{if(!r){Ge(this,Us,$a).call(this,{type:"pending",variables:n,isPaused:i}),await((o=(s=V(this,jr).config).onMutate)==null?void 0:o.call(s,n,this));const O=await((l=(a=this.options).onMutate)==null?void 0:l.call(a,n));O!==this.state.context&&Ge(this,Us,$a).call(this,{type:"pending",context:O,variables:n,isPaused:i})}const P=await V(this,au).start();return await((u=(c=V(this,jr).config).onSuccess)==null?void 0:u.call(c,P,n,this.state.context,this)),await((f=(d=this.options).onSuccess)==null?void 0:f.call(d,P,n,this.state.context)),await((m=(p=V(this,jr).config).onSettled)==null?void 0:m.call(p,P,null,this.state.variables,this.state.context,this)),await((v=(g=this.options).onSettled)==null?void 0:v.call(g,P,null,n,this.state.context)),Ge(this,Us,$a).call(this,{type:"success",data:P}),P}catch(P){try{throw await((b=(x=V(this,jr).config).onError)==null?void 0:b.call(x,P,n,this.state.context,this)),await((T=(w=this.options).onError)==null?void 0:T.call(w,P,n,this.state.context)),await((k=(_=V(this,jr).config).onSettled)==null?void 0:k.call(_,void 0,P,this.state.variables,this.state.context,this)),await((E=(S=this.options).onSettled)==null?void 0:E.call(S,void 0,P,n,this.state.context)),P}finally{Ge(this,Us,$a).call(this,{type:"error",error:P})}}finally{V(this,jr).runNext(this)}}},Bs=new WeakMap,jr=new WeakMap,au=new WeakMap,Us=new WeakSet,$a=function(n){const r=i=>{switch(n.type){case"failed":return{...i,failureCount:n.failureCount,failureReason:n.error};case"pause":return{...i,isPaused:!0};case"continue":return{...i,isPaused:!1};case"pending":return{...i,context:n.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:n.isPaused,status:"pending",variables:n.variables,submittedAt:Date.now()};case"success":return{...i,data:n.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...i,data:void 0,error:n.error,failureCount:i.failureCount+1,failureReason:n.error,isPaused:!1,status:"error"}}};this.state=r(this.state),Nn.batch(()=>{V(this,Bs).forEach(i=>{i.onMutationUpdate(n)}),V(this,jr).notify({mutation:this,type:"updated",action:n})})},zz);function g8(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var vi,ov,qz,pre=(qz=class extends np{constructor(e={}){super();je(this,vi);je(this,ov);this.config=e,ve(this,vi,new Map),ve(this,ov,Date.now())}build(e,n,r){const i=new hre({mutationCache:this,mutationId:++u0(this,ov)._,options:e.defaultMutationOptions(n),state:r});return this.add(i),i}add(e){const n=C0(e),r=V(this,vi).get(n)??[];r.push(e),V(this,vi).set(n,r),this.notify({type:"added",mutation:e})}remove(e){var r;const n=C0(e);if(V(this,vi).has(n)){const i=(r=V(this,vi).get(n))==null?void 0:r.filter(s=>s!==e);i&&(i.length===0?V(this,vi).delete(n):V(this,vi).set(n,i))}this.notify({type:"removed",mutation:e})}canRun(e){var r;const n=(r=V(this,vi).get(C0(e)))==null?void 0:r.find(i=>i.state.status==="pending");return!n||n===e}runNext(e){var r;const n=(r=V(this,vi).get(C0(e)))==null?void 0:r.find(i=>i!==e&&i.state.isPaused);return(n==null?void 0:n.continue())??Promise.resolve()}clear(){Nn.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}getAll(){return[...V(this,vi).values()].flat()}find(e){const n={exact:!0,...e};return this.getAll().find(r=>QM(n,r))}findAll(e={}){return this.getAll().filter(n=>QM(e,n))}notify(e){Nn.batch(()=>{this.listeners.forEach(n=>{n(e)})})}resumePausedMutations(){const e=this.getAll().filter(n=>n.state.isPaused);return Nn.batch(()=>Promise.all(e.map(n=>n.continue().catch(Wi))))}},vi=new WeakMap,ov=new WeakMap,qz);function C0(t){var e;return((e=t.options.scope)==null?void 0:e.id)??String(t.mutationId)}function JM(t){return{onFetch:(e,n)=>{var u,d,f,p,m;const r=e.options,i=(f=(d=(u=e.fetchOptions)==null?void 0:u.meta)==null?void 0:d.fetchMore)==null?void 0:f.direction,s=((p=e.state.data)==null?void 0:p.pages)||[],o=((m=e.state.data)==null?void 0:m.pageParams)||[];let a={pages:[],pageParams:[]},l=0;const c=async()=>{let g=!1;const v=w=>{Object.defineProperty(w,"signal",{enumerable:!0,get:()=>(e.signal.aborted?g=!0:e.signal.addEventListener("abort",()=>{g=!0}),e.signal)})},x=u8(e.options,e.fetchOptions),b=async(w,T,_)=>{if(g)return Promise.reject();if(T==null&&w.pages.length)return Promise.resolve(w);const k={queryKey:e.queryKey,pageParam:T,direction:_?"backward":"forward",meta:e.options.meta};v(k);const S=await x(k),{maxPages:E}=e.options,P=_?sre:ire;return{pages:P(w.pages,S,E),pageParams:P(w.pageParams,T,E)}};if(i&&s.length){const w=i==="backward",T=w?mre:ZM,_={pages:s,pageParams:o},k=T(r,_);a=await b(_,k,w)}else{const w=t??s.length;do{const T=l===0?o[0]??r.initialPageParam:ZM(r,a);if(l>0&&T==null)break;a=await b(a,T),l++}while(l<w)}return a};e.options.persister?e.fetchFn=()=>{var g,v;return(v=(g=e.options).persister)==null?void 0:v.call(g,c,{queryKey:e.queryKey,meta:e.options.meta,signal:e.signal},n)}:e.fetchFn=c}}}function ZM(t,{pages:e,pageParams:n}){const r=e.length-1;return e.length>0?t.getNextPageParam(e[r],e,n[r],n):void 0}function mre(t,{pages:e,pageParams:n}){var r;return e.length>0?(r=t.getPreviousPageParam)==null?void 0:r.call(t,e[0],e,n[0],n):void 0}var un,ll,cl,Uf,zf,ul,qf,Hf,Hz,gre=(Hz=class{constructor(t={}){je(this,un);je(this,ll);je(this,cl);je(this,Uf);je(this,zf);je(this,ul);je(this,qf);je(this,Hf);ve(this,un,t.queryCache||new fre),ve(this,ll,t.mutationCache||new pre),ve(this,cl,t.defaultOptions||{}),ve(this,Uf,new Map),ve(this,zf,new Map),ve(this,ul,0)}mount(){u0(this,ul)._++,V(this,ul)===1&&(ve(this,qf,uN.subscribe(async t=>{t&&(await this.resumePausedMutations(),V(this,un).onFocus())})),ve(this,Hf,Ib.subscribe(async t=>{t&&(await this.resumePausedMutations(),V(this,un).onOnline())})))}unmount(){var t,e;u0(this,ul)._--,V(this,ul)===0&&((t=V(this,qf))==null||t.call(this),ve(this,qf,void 0),(e=V(this,Hf))==null||e.call(this),ve(this,Hf,void 0))}isFetching(t){return V(this,un).findAll({...t,fetchStatus:"fetching"}).length}isMutating(t){return V(this,ll).findAll({...t,status:"pending"}).length}getQueryData(t){var n;const e=this.defaultQueryOptions({queryKey:t});return(n=V(this,un).get(e.queryHash))==null?void 0:n.state.data}ensureQueryData(t){const e=this.getQueryData(t.queryKey);if(e===void 0)return this.fetchQuery(t);{const n=this.defaultQueryOptions(t),r=V(this,un).build(this,n);return t.revalidateIfStale&&r.isStaleByTime(wf(n.staleTime,r))&&this.prefetchQuery(n),Promise.resolve(e)}}getQueriesData(t){return V(this,un).findAll(t).map(({queryKey:e,state:n})=>{const r=n.data;return[e,r]})}setQueryData(t,e,n){const r=this.defaultQueryOptions({queryKey:t}),i=V(this,un).get(r.queryHash),s=i==null?void 0:i.state.data,o=nre(e,s);if(o!==void 0)return V(this,un).build(this,r).setData(o,{...n,manual:!0})}setQueriesData(t,e,n){return Nn.batch(()=>V(this,un).findAll(t).map(({queryKey:r})=>[r,this.setQueryData(r,e,n)]))}getQueryState(t){var n;const e=this.defaultQueryOptions({queryKey:t});return(n=V(this,un).get(e.queryHash))==null?void 0:n.state}removeQueries(t){const e=V(this,un);Nn.batch(()=>{e.findAll(t).forEach(n=>{e.remove(n)})})}resetQueries(t,e){const n=V(this,un),r={type:"active",...t};return Nn.batch(()=>(n.findAll(t).forEach(i=>{i.reset()}),this.refetchQueries(r,e)))}cancelQueries(t={},e={}){const n={revert:!0,...e},r=Nn.batch(()=>V(this,un).findAll(t).map(i=>i.cancel(n)));return Promise.all(r).then(Wi).catch(Wi)}invalidateQueries(t={},e={}){return Nn.batch(()=>{if(V(this,un).findAll(t).forEach(r=>{r.invalidate()}),t.refetchType==="none")return Promise.resolve();const n={...t,type:t.refetchType??t.type??"active"};return this.refetchQueries(n,e)})}refetchQueries(t={},e){const n={...e,cancelRefetch:(e==null?void 0:e.cancelRefetch)??!0},r=Nn.batch(()=>V(this,un).findAll(t).filter(i=>!i.isDisabled()).map(i=>{let s=i.fetch(void 0,n);return n.throwOnError||(s=s.catch(Wi)),i.state.fetchStatus==="paused"?Promise.resolve():s}));return Promise.all(r).then(Wi)}fetchQuery(t){const e=this.defaultQueryOptions(t);e.retry===void 0&&(e.retry=!1);const n=V(this,un).build(this,e);return n.isStaleByTime(wf(e.staleTime,n))?n.fetch(e):Promise.resolve(n.state.data)}prefetchQuery(t){return this.fetchQuery(t).then(Wi).catch(Wi)}fetchInfiniteQuery(t){return t.behavior=JM(t.pages),this.fetchQuery(t)}prefetchInfiniteQuery(t){return this.fetchInfiniteQuery(t).then(Wi).catch(Wi)}ensureInfiniteQueryData(t){return t.behavior=JM(t.pages),this.ensureQueryData(t)}resumePausedMutations(){return Ib.isOnline()?V(this,ll).resumePausedMutations():Promise.resolve()}getQueryCache(){return V(this,un)}getMutationCache(){return V(this,ll)}getDefaultOptions(){return V(this,cl)}setDefaultOptions(t){ve(this,cl,t)}setQueryDefaults(t,e){V(this,Uf).set(Nu(t),{queryKey:t,defaultOptions:e})}getQueryDefaults(t){const e=[...V(this,Uf).values()];let n={};return e.forEach(r=>{$g(t,r.queryKey)&&(n={...n,...r.defaultOptions})}),n}setMutationDefaults(t,e){V(this,zf).set(Nu(t),{mutationKey:t,defaultOptions:e})}getMutationDefaults(t){const e=[...V(this,zf).values()];let n={};return e.forEach(r=>{$g(t,r.mutationKey)&&(n={...n,...r.defaultOptions})}),n}defaultQueryOptions(t){if(t._defaulted)return t;const e={...V(this,cl).queries,...this.getQueryDefaults(t.queryKey),...t,_defaulted:!0};return e.queryHash||(e.queryHash=lN(e.queryKey,e)),e.refetchOnReconnect===void 0&&(e.refetchOnReconnect=e.networkMode!=="always"),e.throwOnError===void 0&&(e.throwOnError=!!e.suspense),!e.networkMode&&e.persister&&(e.networkMode="offlineFirst"),e.enabled!==!0&&e.queryFn===cN&&(e.enabled=!1),e}defaultMutationOptions(t){return t!=null&&t._defaulted?t:{...V(this,cl).mutations,...(t==null?void 0:t.mutationKey)&&this.getMutationDefaults(t.mutationKey),...t,_defaulted:!0}}clear(){V(this,un).clear(),V(this,ll).clear()}},un=new WeakMap,ll=new WeakMap,cl=new WeakMap,Uf=new WeakMap,zf=new WeakMap,ul=new WeakMap,qf=new WeakMap,Hf=new WeakMap,Hz),Xr,at,av,Rr,lu,Wf,dl,zs,lv,Kf,Gf,cu,uu,fl,Qf,bt,km,qk,Hk,Wk,Kk,Gk,Qk,Yk,y8,Wz,yre=(Wz=class extends np{constructor(e,n){super();je(this,bt);je(this,Xr);je(this,at);je(this,av);je(this,Rr);je(this,lu);je(this,Wf);je(this,dl);je(this,zs);je(this,lv);je(this,Kf);je(this,Gf);je(this,cu);je(this,uu);je(this,fl);je(this,Qf,new Set);this.options=n,ve(this,Xr,e),ve(this,zs,null),ve(this,dl,zk()),this.options.experimental_prefetchInRender||V(this,dl).reject(new Error("experimental_prefetchInRender feature flag is not enabled")),this.bindMethods(),this.setOptions(n)}bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(V(this,at).addObserver(this),eL(V(this,at),this.options)?Ge(this,bt,km).call(this):this.updateResult(),Ge(this,bt,Kk).call(this))}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return Xk(V(this,at),this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return Xk(V(this,at),this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,Ge(this,bt,Gk).call(this),Ge(this,bt,Qk).call(this),V(this,at).removeObserver(this)}setOptions(e,n){const r=this.options,i=V(this,at);if(this.options=V(this,Xr).defaultQueryOptions(e),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof bs(this.options.enabled,V(this,at))!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");Ge(this,bt,Yk).call(this),V(this,at).setOptions(this.options),r._defaulted&&!Cb(this.options,r)&&V(this,Xr).getQueryCache().notify({type:"observerOptionsUpdated",query:V(this,at),observer:this});const s=this.hasListeners();s&&tL(V(this,at),i,this.options,r)&&Ge(this,bt,km).call(this),this.updateResult(n),s&&(V(this,at)!==i||bs(this.options.enabled,V(this,at))!==bs(r.enabled,V(this,at))||wf(this.options.staleTime,V(this,at))!==wf(r.staleTime,V(this,at)))&&Ge(this,bt,qk).call(this);const o=Ge(this,bt,Hk).call(this);s&&(V(this,at)!==i||bs(this.options.enabled,V(this,at))!==bs(r.enabled,V(this,at))||o!==V(this,fl))&&Ge(this,bt,Wk).call(this,o)}getOptimisticResult(e){const n=V(this,Xr).getQueryCache().build(V(this,Xr),e),r=this.createResult(n,e);return xre(this,r)&&(ve(this,Rr,r),ve(this,Wf,this.options),ve(this,lu,V(this,at).state)),r}getCurrentResult(){return V(this,Rr)}trackResult(e,n){const r={};return Object.keys(e).forEach(i=>{Object.defineProperty(r,i,{configurable:!1,enumerable:!0,get:()=>(this.trackProp(i),n==null||n(i),e[i])})}),r}trackProp(e){V(this,Qf).add(e)}getCurrentQuery(){return V(this,at)}refetch({...e}={}){return this.fetch({...e})}fetchOptimistic(e){const n=V(this,Xr).defaultQueryOptions(e),r=V(this,Xr).getQueryCache().build(V(this,Xr),n);return r.fetch().then(()=>this.createResult(r,n))}fetch(e){return Ge(this,bt,km).call(this,{...e,cancelRefetch:e.cancelRefetch??!0}).then(()=>(this.updateResult(),V(this,Rr)))}createResult(e,n){var E;const r=V(this,at),i=this.options,s=V(this,Rr),o=V(this,lu),a=V(this,Wf),c=e!==r?e.state:V(this,av),{state:u}=e;let d={...u},f=!1,p;if(n._optimisticResults){const P=this.hasListeners(),O=!P&&eL(e,n),N=P&&tL(e,r,n,i);(O||N)&&(d={...d,...m8(u.data,e.options)}),n._optimisticResults==="isRestoring"&&(d.fetchStatus="idle")}let{error:m,errorUpdatedAt:g,status:v}=d;if(n.select&&d.data!==void 0)if(s&&d.data===(o==null?void 0:o.data)&&n.select===V(this,lv))p=V(this,Kf);else try{ve(this,lv,n.select),p=n.select(d.data),p=Uk(s==null?void 0:s.data,p,n),ve(this,Kf,p),ve(this,zs,null)}catch(P){ve(this,zs,P)}else p=d.data;if(n.placeholderData!==void 0&&p===void 0&&v==="pending"){let P;if(s!=null&&s.isPlaceholderData&&n.placeholderData===(a==null?void 0:a.placeholderData))P=s.data;else if(P=typeof n.placeholderData=="function"?n.placeholderData((E=V(this,Gf))==null?void 0:E.state.data,V(this,Gf)):n.placeholderData,n.select&&P!==void 0)try{P=n.select(P),ve(this,zs,null)}catch(O){ve(this,zs,O)}P!==void 0&&(v="success",p=Uk(s==null?void 0:s.data,P,n),f=!0)}V(this,zs)&&(m=V(this,zs),p=V(this,Kf),g=Date.now(),v="error");const x=d.fetchStatus==="fetching",b=v==="pending",w=v==="error",T=b&&x,_=p!==void 0,S={status:v,fetchStatus:d.fetchStatus,isPending:b,isSuccess:v==="success",isError:w,isInitialLoading:T,isLoading:T,data:p,dataUpdatedAt:d.dataUpdatedAt,error:m,errorUpdatedAt:g,failureCount:d.fetchFailureCount,failureReason:d.fetchFailureReason,errorUpdateCount:d.errorUpdateCount,isFetched:d.dataUpdateCount>0||d.errorUpdateCount>0,isFetchedAfterMount:d.dataUpdateCount>c.dataUpdateCount||d.errorUpdateCount>c.errorUpdateCount,isFetching:x,isRefetching:x&&!b,isLoadingError:w&&!_,isPaused:d.fetchStatus==="paused",isPlaceholderData:f,isRefetchError:w&&_,isStale:dN(e,n),refetch:this.refetch,promise:V(this,dl)};if(this.options.experimental_prefetchInRender){const P=R=>{S.status==="error"?R.reject(S.error):S.data!==void 0&&R.resolve(S.data)},O=()=>{const R=ve(this,dl,S.promise=zk());P(R)},N=V(this,dl);switch(N.status){case"pending":e.queryHash===r.queryHash&&P(N);break;case"fulfilled":(S.status==="error"||S.data!==N.value)&&O();break;case"rejected":(S.status!=="error"||S.error!==N.reason)&&O();break}}return S}updateResult(e){const n=V(this,Rr),r=this.createResult(V(this,at),this.options);if(ve(this,lu,V(this,at).state),ve(this,Wf,this.options),V(this,lu).data!==void 0&&ve(this,Gf,V(this,at)),Cb(r,n))return;ve(this,Rr,r);const i={},s=()=>{if(!n)return!0;const{notifyOnChangeProps:o}=this.options,a=typeof o=="function"?o():o;if(a==="all"||!a&&!V(this,Qf).size)return!0;const l=new Set(a??V(this,Qf));return this.options.throwOnError&&l.add("error"),Object.keys(V(this,Rr)).some(c=>{const u=c;return V(this,Rr)[u]!==n[u]&&l.has(u)})};(e==null?void 0:e.listeners)!==!1&&s()&&(i.listeners=!0),Ge(this,bt,y8).call(this,{...i,...e})}onQueryUpdate(){this.updateResult(),this.hasListeners()&&Ge(this,bt,Kk).call(this)}},Xr=new WeakMap,at=new WeakMap,av=new WeakMap,Rr=new WeakMap,lu=new WeakMap,Wf=new WeakMap,dl=new WeakMap,zs=new WeakMap,lv=new WeakMap,Kf=new WeakMap,Gf=new WeakMap,cu=new WeakMap,uu=new WeakMap,fl=new WeakMap,Qf=new WeakMap,bt=new WeakSet,km=function(e){Ge(this,bt,Yk).call(this);let n=V(this,at).fetch(this.options,e);return e!=null&&e.throwOnError||(n=n.catch(Wi)),n},qk=function(){Ge(this,bt,Gk).call(this);const e=wf(this.options.staleTime,V(this,at));if(Ou||V(this,Rr).isStale||!Fk(e))return;const r=l8(V(this,Rr).dataUpdatedAt,e)+1;ve(this,cu,setTimeout(()=>{V(this,Rr).isStale||this.updateResult()},r))},Hk=function(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(V(this,at)):this.options.refetchInterval)??!1},Wk=function(e){Ge(this,bt,Qk).call(this),ve(this,fl,e),!(Ou||bs(this.options.enabled,V(this,at))===!1||!Fk(V(this,fl))||V(this,fl)===0)&&ve(this,uu,setInterval(()=>{(this.options.refetchIntervalInBackground||uN.isFocused())&&Ge(this,bt,km).call(this)},V(this,fl)))},Kk=function(){Ge(this,bt,qk).call(this),Ge(this,bt,Wk).call(this,Ge(this,bt,Hk).call(this))},Gk=function(){V(this,cu)&&(clearTimeout(V(this,cu)),ve(this,cu,void 0))},Qk=function(){V(this,uu)&&(clearInterval(V(this,uu)),ve(this,uu,void 0))},Yk=function(){const e=V(this,Xr).getQueryCache().build(V(this,Xr),this.options);if(e===V(this,at))return;const n=V(this,at);ve(this,at,e),ve(this,av,e.state),this.hasListeners()&&(n==null||n.removeObserver(this),e.addObserver(this))},y8=function(e){Nn.batch(()=>{e.listeners&&this.listeners.forEach(n=>{n(V(this,Rr))}),V(this,Xr).getQueryCache().notify({query:V(this,at),type:"observerResultsUpdated"})})},Wz);function vre(t,e){return bs(e.enabled,t)!==!1&&t.state.data===void 0&&!(t.state.status==="error"&&e.retryOnMount===!1)}function eL(t,e){return vre(t,e)||t.state.data!==void 0&&Xk(t,e,e.refetchOnMount)}function Xk(t,e,n){if(bs(e.enabled,t)!==!1){const r=typeof n=="function"?n(t):n;return r==="always"||r!==!1&&dN(t,e)}return!1}function tL(t,e,n,r){return(t!==e||bs(r.enabled,t)===!1)&&(!n.suspense||t.state.status!=="error")&&dN(t,n)}function dN(t,e){return bs(e.enabled,t)!==!1&&t.isStaleByTime(wf(e.staleTime,t))}function xre(t,e){return!Cb(t.getCurrentResult(),e)}var hl,pl,Jr,Mo,ra,Ox,Jk,Kz,bre=(Kz=class extends np{constructor(n,r){super();je(this,ra);je(this,hl);je(this,pl);je(this,Jr);je(this,Mo);ve(this,hl,n),this.setOptions(r),this.bindMethods(),Ge(this,ra,Ox).call(this)}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(n){var i;const r=this.options;this.options=V(this,hl).defaultMutationOptions(n),Cb(this.options,r)||V(this,hl).getMutationCache().notify({type:"observerOptionsUpdated",mutation:V(this,Jr),observer:this}),r!=null&&r.mutationKey&&this.options.mutationKey&&Nu(r.mutationKey)!==Nu(this.options.mutationKey)?this.reset():((i=V(this,Jr))==null?void 0:i.state.status)==="pending"&&V(this,Jr).setOptions(this.options)}onUnsubscribe(){var n;this.hasListeners()||(n=V(this,Jr))==null||n.removeObserver(this)}onMutationUpdate(n){Ge(this,ra,Ox).call(this),Ge(this,ra,Jk).call(this,n)}getCurrentResult(){return V(this,pl)}reset(){var n;(n=V(this,Jr))==null||n.removeObserver(this),ve(this,Jr,void 0),Ge(this,ra,Ox).call(this),Ge(this,ra,Jk).call(this)}mutate(n,r){var i;return ve(this,Mo,r),(i=V(this,Jr))==null||i.removeObserver(this),ve(this,Jr,V(this,hl).getMutationCache().build(V(this,hl),this.options)),V(this,Jr).addObserver(this),V(this,Jr).execute(n)}},hl=new WeakMap,pl=new WeakMap,Jr=new WeakMap,Mo=new WeakMap,ra=new WeakSet,Ox=function(){var r;const n=((r=V(this,Jr))==null?void 0:r.state)??g8();ve(this,pl,{...n,isPending:n.status==="pending",isSuccess:n.status==="success",isError:n.status==="error",isIdle:n.status==="idle",mutate:this.mutate,reset:this.reset})},Jk=function(n){Nn.batch(()=>{var r,i,s,o,a,l,c,u;if(V(this,Mo)&&this.hasListeners()){const d=V(this,pl).variables,f=V(this,pl).context;(n==null?void 0:n.type)==="success"?((i=(r=V(this,Mo)).onSuccess)==null||i.call(r,n.data,d,f),(o=(s=V(this,Mo)).onSettled)==null||o.call(s,n.data,null,d,f)):(n==null?void 0:n.type)==="error"&&((l=(a=V(this,Mo)).onError)==null||l.call(a,n.error,d,f),(u=(c=V(this,Mo)).onSettled)==null||u.call(c,void 0,n.error,d,f))}this.listeners.forEach(d=>{d(V(this,pl))})})},Kz),v8=C.createContext(void 0),A_=t=>{const e=C.useContext(v8);if(!e)throw new Error("No QueryClient set, use QueryClientProvider to set one");return e},wre=({client:t,children:e})=>(C.useEffect(()=>(t.mount(),()=>{t.unmount()}),[t]),h.jsx(v8.Provider,{value:t,children:e})),x8=C.createContext(!1),_re=()=>C.useContext(x8);x8.Provider;function Sre(){let t=!1;return{clearReset:()=>{t=!1},reset:()=>{t=!0},isReset:()=>t}}var Ere=C.createContext(Sre()),Tre=()=>C.useContext(Ere);function b8(t,e){return typeof t=="function"?t(...e):!!t}function Zk(){}var Are=(t,e)=>{(t.suspense||t.throwOnError||t.experimental_prefetchInRender)&&(e.isReset()||(t.retryOnMount=!1))},kre=t=>{C.useEffect(()=>{t.clearReset()},[t])},Pre=({result:t,errorResetBoundary:e,throwOnError:n,query:r})=>t.isError&&!e.isReset()&&!t.isFetching&&r&&b8(n,[t.error,r]),Cre=t=>{t.suspense&&(t.staleTime===void 0&&(t.staleTime=1e3),typeof t.gcTime=="number"&&(t.gcTime=Math.max(t.gcTime,1e3)))},Ire=(t,e)=>t.isLoading&&t.isFetching&&!e,Ore=(t,e)=>(t==null?void 0:t.suspense)&&e.isPending,nL=(t,e,n)=>e.fetchOptimistic(t).catch(()=>{n.clearReset()});function Nre(t,e,n){var u,d,f,p,m;const r=A_(),i=_re(),s=Tre(),o=r.defaultQueryOptions(t);(d=(u=r.getDefaultOptions().queries)==null?void 0:u._experimental_beforeQuery)==null||d.call(u,o),o._optimisticResults=i?"isRestoring":"optimistic",Cre(o),Are(o,s),kre(s);const a=!r.getQueryCache().get(o.queryHash),[l]=C.useState(()=>new e(r,o)),c=l.getOptimisticResult(o);if(C.useSyncExternalStore(C.useCallback(g=>{const v=i?Zk:l.subscribe(Nn.batchCalls(g));return l.updateResult(),v},[l,i]),()=>l.getCurrentResult(),()=>l.getCurrentResult()),C.useEffect(()=>{l.setOptions(o,{listeners:!1})},[o,l]),Ore(o,c))throw nL(o,l,s);if(Pre({result:c,errorResetBoundary:s,throwOnError:o.throwOnError,query:r.getQueryCache().get(o.queryHash)}))throw c.error;if((p=(f=r.getDefaultOptions().queries)==null?void 0:f._experimental_afterQuery)==null||p.call(f,o,c),o.experimental_prefetchInRender&&!Ou&&Ire(c,i)){const g=a?nL(o,l,s):(m=r.getQueryCache().get(o.queryHash))==null?void 0:m.promise;g==null||g.catch(Zk).finally(()=>{l.updateResult()})}return o.notifyOnChangeProps?c:l.trackResult(c)}function fN(t,e){return Nre(t,yre)}function Ob(t,e){const n=A_(),[r]=C.useState(()=>new bre(n,t));C.useEffect(()=>{r.setOptions(t)},[r,t]);const i=C.useSyncExternalStore(C.useCallback(o=>r.subscribe(Nn.batchCalls(o)),[r]),()=>r.getCurrentResult(),()=>r.getCurrentResult()),s=C.useCallback((o,a)=>{r.mutate(o,a).catch(Zk)},[r]);if(i.error&&b8(r.options.throwOnError,[i.error]))throw i.error;return{...i,mutate:s,mutateAsync:i.mutate}}/**
 * @remix-run/router v1.21.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Vg(){return Vg=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Vg.apply(this,arguments)}var yl;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(yl||(yl={}));const rL="popstate";function jre(t){t===void 0&&(t={});function e(r,i){let{pathname:s,search:o,hash:a}=r.location;return eP("",{pathname:s,search:o,hash:a},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){return typeof i=="string"?i:Nb(i)}return Dre(e,n,null,t)}function bn(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function w8(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function Rre(){return Math.random().toString(36).substr(2,8)}function iL(t,e){return{usr:t.state,key:t.key,idx:e}}function eP(t,e,n,r){return n===void 0&&(n=null),Vg({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?rp(e):e,{state:n,key:e&&e.key||r||Rre()})}function Nb(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function rp(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function Dre(t,e,n,r){r===void 0&&(r={});let{window:i=document.defaultView,v5Compat:s=!1}=r,o=i.history,a=yl.Pop,l=null,c=u();c==null&&(c=0,o.replaceState(Vg({},o.state,{idx:c}),""));function u(){return(o.state||{idx:null}).idx}function d(){a=yl.Pop;let v=u(),x=v==null?null:v-c;c=v,l&&l({action:a,location:g.location,delta:x})}function f(v,x){a=yl.Push;let b=eP(g.location,v,x);c=u()+1;let w=iL(b,c),T=g.createHref(b);try{o.pushState(w,"",T)}catch(_){if(_ instanceof DOMException&&_.name==="DataCloneError")throw _;i.location.assign(T)}s&&l&&l({action:a,location:g.location,delta:1})}function p(v,x){a=yl.Replace;let b=eP(g.location,v,x);c=u();let w=iL(b,c),T=g.createHref(b);o.replaceState(w,"",T),s&&l&&l({action:a,location:g.location,delta:0})}function m(v){let x=i.location.origin!=="null"?i.location.origin:i.location.href,b=typeof v=="string"?v:Nb(v);return b=b.replace(/ $/,"%20"),bn(x,"No window.location.(origin|href) available to create URL for href: "+b),new URL(b,x)}let g={get action(){return a},get location(){return t(i,o)},listen(v){if(l)throw new Error("A history only accepts one active listener");return i.addEventListener(rL,d),l=v,()=>{i.removeEventListener(rL,d),l=null}},createHref(v){return e(i,v)},createURL:m,encodeLocation(v){let x=m(v);return{pathname:x.pathname,search:x.search,hash:x.hash}},push:f,replace:p,go(v){return o.go(v)}};return g}var sL;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(sL||(sL={}));function Mre(t,e,n){return n===void 0&&(n="/"),Lre(t,e,n,!1)}function Lre(t,e,n,r){let i=typeof e=="string"?rp(e):e,s=hN(i.pathname||"/",n);if(s==null)return null;let o=_8(t);$re(o);let a=null;for(let l=0;a==null&&l<o.length;++l){let c=Qre(s);a=Kre(o[l],c,r)}return a}function _8(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let i=(s,o,a)=>{let l={relativePath:a===void 0?s.path||"":a,caseSensitive:s.caseSensitive===!0,childrenIndex:o,route:s};l.relativePath.startsWith("/")&&(bn(l.relativePath.startsWith(r),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(r.length));let c=Ol([r,l.relativePath]),u=n.concat(l);s.children&&s.children.length>0&&(bn(s.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+c+'".')),_8(s.children,e,u,c)),!(s.path==null&&!s.index)&&e.push({path:c,score:Hre(c,s.index),routesMeta:u})};return t.forEach((s,o)=>{var a;if(s.path===""||!((a=s.path)!=null&&a.includes("?")))i(s,o);else for(let l of S8(s.path))i(s,o,l)}),e}function S8(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,i=n.endsWith("?"),s=n.replace(/\?$/,"");if(r.length===0)return i?[s,""]:[s];let o=S8(r.join("/")),a=[];return a.push(...o.map(l=>l===""?s:[s,l].join("/"))),i&&a.push(...o),a.map(l=>t.startsWith("/")&&l===""?"/":l)}function $re(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:Wre(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const Vre=/^:[\w-]+$/,Fre=3,Bre=2,Ure=1,zre=10,qre=-2,oL=t=>t==="*";function Hre(t,e){let n=t.split("/"),r=n.length;return n.some(oL)&&(r+=qre),e&&(r+=Bre),n.filter(i=>!oL(i)).reduce((i,s)=>i+(Vre.test(s)?Fre:s===""?Ure:zre),r)}function Wre(t,e){return t.length===e.length&&t.slice(0,-1).every((r,i)=>r===e[i])?t[t.length-1]-e[e.length-1]:0}function Kre(t,e,n){let{routesMeta:r}=t,i={},s="/",o=[];for(let a=0;a<r.length;++a){let l=r[a],c=a===r.length-1,u=s==="/"?e:e.slice(s.length)||"/",d=aL({path:l.relativePath,caseSensitive:l.caseSensitive,end:c},u),f=l.route;if(!d&&c&&n&&!r[r.length-1].route.index&&(d=aL({path:l.relativePath,caseSensitive:l.caseSensitive,end:!1},u)),!d)return null;Object.assign(i,d.params),o.push({params:i,pathname:Ol([s,d.pathname]),pathnameBase:Zre(Ol([s,d.pathnameBase])),route:f}),d.pathnameBase!=="/"&&(s=Ol([s,d.pathnameBase]))}return o}function aL(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=Gre(t.path,t.caseSensitive,t.end),i=e.match(n);if(!i)return null;let s=i[0],o=s.replace(/(.)\/+$/,"$1"),a=i.slice(1);return{params:r.reduce((c,u,d)=>{let{paramName:f,isOptional:p}=u;if(f==="*"){let g=a[d]||"";o=s.slice(0,s.length-g.length).replace(/(.)\/+$/,"$1")}const m=a[d];return p&&!m?c[f]=void 0:c[f]=(m||"").replace(/%2F/g,"/"),c},{}),pathname:s,pathnameBase:o,pattern:t}}function Gre(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),w8(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,a,l)=>(r.push({paramName:a,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function Qre(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return w8(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function hN(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function Yre(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:i=""}=typeof t=="string"?rp(t):t;return{pathname:n?n.startsWith("/")?n:Xre(n,e):e,search:eie(r),hash:tie(i)}}function Xre(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function hT(t,e,n,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function Jre(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function pN(t,e){let n=Jre(t);return e?n.map((r,i)=>i===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function mN(t,e,n,r){r===void 0&&(r=!1);let i;typeof t=="string"?i=rp(t):(i=Vg({},t),bn(!i.pathname||!i.pathname.includes("?"),hT("?","pathname","search",i)),bn(!i.pathname||!i.pathname.includes("#"),hT("#","pathname","hash",i)),bn(!i.search||!i.search.includes("#"),hT("#","search","hash",i)));let s=t===""||i.pathname==="",o=s?"/":i.pathname,a;if(o==null)a=n;else{let d=e.length-1;if(!r&&o.startsWith("..")){let f=o.split("/");for(;f[0]==="..";)f.shift(),d-=1;i.pathname=f.join("/")}a=d>=0?e[d]:"/"}let l=Yre(i,a),c=o&&o!=="/"&&o.endsWith("/"),u=(s||o===".")&&n.endsWith("/");return!l.pathname.endsWith("/")&&(c||u)&&(l.pathname+="/"),l}const Ol=t=>t.join("/").replace(/\/\/+/g,"/"),Zre=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),eie=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,tie=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function nie(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const E8=["post","put","patch","delete"];new Set(E8);const rie=["get",...E8];new Set(rie);/**
 * React Router v6.28.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Fg(){return Fg=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Fg.apply(this,arguments)}const gN=C.createContext(null),iie=C.createContext(null),tc=C.createContext(null),k_=C.createContext(null),vo=C.createContext({outlet:null,matches:[],isDataRoute:!1}),T8=C.createContext(null);function sie(t,e){let{relative:n}=e===void 0?{}:e;ip()||bn(!1);let{basename:r,navigator:i}=C.useContext(tc),{hash:s,pathname:o,search:a}=k8(t,{relative:n}),l=o;return r!=="/"&&(l=o==="/"?r:Ol([r,o])),i.createHref({pathname:l,search:a,hash:s})}function ip(){return C.useContext(k_)!=null}function nd(){return ip()||bn(!1),C.useContext(k_).location}function A8(t){C.useContext(tc).static||C.useLayoutEffect(t)}function Os(){let{isDataRoute:t}=C.useContext(vo);return t?bie():oie()}function oie(){ip()||bn(!1);let t=C.useContext(gN),{basename:e,future:n,navigator:r}=C.useContext(tc),{matches:i}=C.useContext(vo),{pathname:s}=nd(),o=JSON.stringify(pN(i,n.v7_relativeSplatPath)),a=C.useRef(!1);return A8(()=>{a.current=!0}),C.useCallback(function(c,u){if(u===void 0&&(u={}),!a.current)return;if(typeof c=="number"){r.go(c);return}let d=mN(c,JSON.parse(o),s,u.relative==="path");t==null&&e!=="/"&&(d.pathname=d.pathname==="/"?e:Ol([e,d.pathname])),(u.replace?r.replace:r.push)(d,u.state,u)},[e,r,o,s,t])}const aie=C.createContext(null);function lie(t){let e=C.useContext(vo).outlet;return e&&C.createElement(aie.Provider,{value:t},e)}function nc(){let{matches:t}=C.useContext(vo),e=t[t.length-1];return e?e.params:{}}function k8(t,e){let{relative:n}=e===void 0?{}:e,{future:r}=C.useContext(tc),{matches:i}=C.useContext(vo),{pathname:s}=nd(),o=JSON.stringify(pN(i,r.v7_relativeSplatPath));return C.useMemo(()=>mN(t,JSON.parse(o),s,n==="path"),[t,o,s,n])}function cie(t,e){return uie(t,e)}function uie(t,e,n,r){ip()||bn(!1);let{navigator:i}=C.useContext(tc),{matches:s}=C.useContext(vo),o=s[s.length-1],a=o?o.params:{};o&&o.pathname;let l=o?o.pathnameBase:"/";o&&o.route;let c=nd(),u;if(e){var d;let v=typeof e=="string"?rp(e):e;l==="/"||(d=v.pathname)!=null&&d.startsWith(l)||bn(!1),u=v}else u=c;let f=u.pathname||"/",p=f;if(l!=="/"){let v=l.replace(/^\//,"").split("/");p="/"+f.replace(/^\//,"").split("/").slice(v.length).join("/")}let m=Mre(t,{pathname:p}),g=mie(m&&m.map(v=>Object.assign({},v,{params:Object.assign({},a,v.params),pathname:Ol([l,i.encodeLocation?i.encodeLocation(v.pathname).pathname:v.pathname]),pathnameBase:v.pathnameBase==="/"?l:Ol([l,i.encodeLocation?i.encodeLocation(v.pathnameBase).pathname:v.pathnameBase])})),s,n,r);return e&&g?C.createElement(k_.Provider,{value:{location:Fg({pathname:"/",search:"",hash:"",state:null,key:"default"},u),navigationType:yl.Pop}},g):g}function die(){let t=xie(),e=nie(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return C.createElement(C.Fragment,null,C.createElement("h2",null,"Unexpected Application Error!"),C.createElement("h3",{style:{fontStyle:"italic"}},e),n?C.createElement("pre",{style:i},n):null,null)}const fie=C.createElement(die,null);class hie extends C.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error!==void 0?C.createElement(vo.Provider,{value:this.props.routeContext},C.createElement(T8.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function pie(t){let{routeContext:e,match:n,children:r}=t,i=C.useContext(gN);return i&&i.static&&i.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),C.createElement(vo.Provider,{value:e},r)}function mie(t,e,n,r){var i;if(e===void 0&&(e=[]),n===void 0&&(n=null),r===void 0&&(r=null),t==null){var s;if(!n)return null;if(n.errors)t=n.matches;else if((s=r)!=null&&s.v7_partialHydration&&e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let o=t,a=(i=n)==null?void 0:i.errors;if(a!=null){let u=o.findIndex(d=>d.route.id&&(a==null?void 0:a[d.route.id])!==void 0);u>=0||bn(!1),o=o.slice(0,Math.min(o.length,u+1))}let l=!1,c=-1;if(n&&r&&r.v7_partialHydration)for(let u=0;u<o.length;u++){let d=o[u];if((d.route.HydrateFallback||d.route.hydrateFallbackElement)&&(c=u),d.route.id){let{loaderData:f,errors:p}=n,m=d.route.loader&&f[d.route.id]===void 0&&(!p||p[d.route.id]===void 0);if(d.route.lazy||m){l=!0,c>=0?o=o.slice(0,c+1):o=[o[0]];break}}}return o.reduceRight((u,d,f)=>{let p,m=!1,g=null,v=null;n&&(p=a&&d.route.id?a[d.route.id]:void 0,g=d.route.errorElement||fie,l&&(c<0&&f===0?(m=!0,v=null):c===f&&(m=!0,v=d.route.hydrateFallbackElement||null)));let x=e.concat(o.slice(0,f+1)),b=()=>{let w;return p?w=g:m?w=v:d.route.Component?w=C.createElement(d.route.Component,null):d.route.element?w=d.route.element:w=u,C.createElement(pie,{match:d,routeContext:{outlet:u,matches:x,isDataRoute:n!=null},children:w})};return n&&(d.route.ErrorBoundary||d.route.errorElement||f===0)?C.createElement(hie,{location:n.location,revalidation:n.revalidation,component:g,error:p,children:b(),routeContext:{outlet:null,matches:x,isDataRoute:!0}}):b()},null)}var P8=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(P8||{}),jb=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(jb||{});function gie(t){let e=C.useContext(gN);return e||bn(!1),e}function yie(t){let e=C.useContext(iie);return e||bn(!1),e}function vie(t){let e=C.useContext(vo);return e||bn(!1),e}function C8(t){let e=vie(),n=e.matches[e.matches.length-1];return n.route.id||bn(!1),n.route.id}function xie(){var t;let e=C.useContext(T8),n=yie(jb.UseRouteError),r=C8(jb.UseRouteError);return e!==void 0?e:(t=n.errors)==null?void 0:t[r]}function bie(){let{router:t}=gie(P8.UseNavigateStable),e=C8(jb.UseNavigateStable),n=C.useRef(!1);return A8(()=>{n.current=!0}),C.useCallback(function(i,s){s===void 0&&(s={}),n.current&&(typeof i=="number"?t.navigate(i):t.navigate(i,Fg({fromRouteId:e},s)))},[t,e])}const lL={};function wie(t,e){lL[e]||(lL[e]=!0,console.warn(e))}const cL=(t,e,n)=>wie(t," React Router Future Flag Warning: "+e+". "+("You can use the `"+t+"` future flag to opt-in early. ")+("For more information, see "+n+"."));function _ie(t,e){t!=null&&t.v7_startTransition||cL("v7_startTransition","React Router will begin wrapping state updates in `React.startTransition` in v7","https://reactrouter.com/v6/upgrading/future#v7_starttransition"),!(t!=null&&t.v7_relativeSplatPath)&&!e&&cL("v7_relativeSplatPath","Relative route resolution within Splat routes is changing in v7","https://reactrouter.com/v6/upgrading/future#v7_relativesplatpath")}function I8(t){let{to:e,replace:n,state:r,relative:i}=t;ip()||bn(!1);let{future:s,static:o}=C.useContext(tc),{matches:a}=C.useContext(vo),{pathname:l}=nd(),c=Os(),u=mN(e,pN(a,s.v7_relativeSplatPath),l,i==="path"),d=JSON.stringify(u);return C.useEffect(()=>c(JSON.parse(d),{replace:n,state:r,relative:i}),[c,d,i,n,r]),null}function Sie(t){return lie(t.context)}function Cn(t){bn(!1)}function Eie(t){let{basename:e="/",children:n=null,location:r,navigationType:i=yl.Pop,navigator:s,static:o=!1,future:a}=t;ip()&&bn(!1);let l=e.replace(/^\/*/,"/"),c=C.useMemo(()=>({basename:l,navigator:s,static:o,future:Fg({v7_relativeSplatPath:!1},a)}),[l,a,s,o]);typeof r=="string"&&(r=rp(r));let{pathname:u="/",search:d="",hash:f="",state:p=null,key:m="default"}=r,g=C.useMemo(()=>{let v=hN(u,l);return v==null?null:{location:{pathname:v,search:d,hash:f,state:p,key:m},navigationType:i}},[l,u,d,f,p,m,i]);return g==null?null:C.createElement(tc.Provider,{value:c},C.createElement(k_.Provider,{children:n,value:g}))}function Tie(t){let{children:e,location:n}=t;return cie(tP(e),n)}new Promise(()=>{});function tP(t,e){e===void 0&&(e=[]);let n=[];return C.Children.forEach(t,(r,i)=>{if(!C.isValidElement(r))return;let s=[...e,i];if(r.type===C.Fragment){n.push.apply(n,tP(r.props.children,s));return}r.type!==Cn&&bn(!1),!r.props.index||!r.props.children||bn(!1);let o={id:r.props.id||s.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(o.children=tP(r.props.children,s)),n.push(o)}),n}/**
 * React Router DOM v6.28.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function nP(){return nP=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},nP.apply(this,arguments)}function Aie(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function kie(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function Pie(t,e){return t.button===0&&(!e||e==="_self")&&!kie(t)}const Cie=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],Iie="6";try{window.__reactRouterVersion=Iie}catch{}const Oie="startTransition",uL=qee[Oie];function Nie(t){let{basename:e,children:n,future:r,window:i}=t,s=C.useRef();s.current==null&&(s.current=jre({window:i,v5Compat:!0}));let o=s.current,[a,l]=C.useState({action:o.action,location:o.location}),{v7_startTransition:c}=r||{},u=C.useCallback(d=>{c&&uL?uL(()=>l(d)):l(d)},[l,c]);return C.useLayoutEffect(()=>o.listen(u),[o,u]),C.useEffect(()=>_ie(r),[r]),C.createElement(Eie,{basename:e,children:n,location:a.location,navigationType:a.action,navigator:o,future:r})}const jie=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",Rie=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,yt=C.forwardRef(function(e,n){let{onClick:r,relative:i,reloadDocument:s,replace:o,state:a,target:l,to:c,preventScrollReset:u,viewTransition:d}=e,f=Aie(e,Cie),{basename:p}=C.useContext(tc),m,g=!1;if(typeof c=="string"&&Rie.test(c)&&(m=c,jie))try{let w=new URL(window.location.href),T=c.startsWith("//")?new URL(w.protocol+c):new URL(c),_=hN(T.pathname,p);T.origin===w.origin&&_!=null?c=_+T.search+T.hash:g=!0}catch{}let v=sie(c,{relative:i}),x=Die(c,{replace:o,state:a,target:l,preventScrollReset:u,relative:i,viewTransition:d});function b(w){r&&r(w),w.defaultPrevented||x(w)}return C.createElement("a",nP({},f,{href:m||v,onClick:g||s?r:b,ref:n,target:l}))});var dL;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(dL||(dL={}));var fL;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(fL||(fL={}));function Die(t,e){let{target:n,replace:r,state:i,preventScrollReset:s,relative:o,viewTransition:a}=e===void 0?{}:e,l=Os(),c=nd(),u=k8(t,{relative:o});return C.useCallback(d=>{if(Pie(d,n)){d.preventDefault();let f=r!==void 0?r:Nb(c)===Nb(u);l(t,{replace:f,state:i,preventScrollReset:s,relative:o,viewTransition:a})}},[c,l,u,r,i,n,t,s,o,a])}var hL={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const O8=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},Mie=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=t[n++];e[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){const s=t[n++],o=t[n++],a=t[n++],l=((i&7)<<18|(s&63)<<12|(o&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(l>>10)),e[r++]=String.fromCharCode(56320+(l&1023))}else{const s=t[n++],o=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|o&63)}}return e.join("")},N8={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const s=t[i],o=i+1<t.length,a=o?t[i+1]:0,l=i+2<t.length,c=l?t[i+2]:0,u=s>>2,d=(s&3)<<4|a>>4;let f=(a&15)<<2|c>>6,p=c&63;l||(p=64,o||(f=64)),r.push(n[u],n[d],n[f],n[p])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(O8(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):Mie(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const s=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0;++i;const c=i<t.length?n[t.charAt(i)]:64;++i;const d=i<t.length?n[t.charAt(i)]:64;if(++i,s==null||a==null||c==null||d==null)throw new Lie;const f=s<<2|a>>4;if(r.push(f),c!==64){const p=a<<4&240|c>>2;if(r.push(p),d!==64){const m=c<<6&192|d;r.push(m)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class Lie extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const $ie=function(t){const e=O8(t);return N8.encodeByteArray(e,!0)},Rb=function(t){return $ie(t).replace(/\./g,"")},j8=function(t){try{return N8.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vie(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fie=()=>Vie().__FIREBASE_DEFAULTS__,Bie=()=>{if(typeof process>"u"||typeof hL>"u")return;const t=hL.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},Uie=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&j8(t[1]);return e&&JSON.parse(e)},P_=()=>{try{return Fie()||Bie()||Uie()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},R8=t=>{var e,n;return(n=(e=P_())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},zie=t=>{const e=R8(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},D8=()=>{var t;return(t=P_())===null||t===void 0?void 0:t.config},M8=t=>{var e;return(e=P_())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qie{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hie(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},t);return[Rb(JSON.stringify(n)),Rb(JSON.stringify(o)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function Wie(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Mn())}function Kie(){var t;const e=(t=P_())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function Gie(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function Qie(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function Yie(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function Xie(){const t=Mn();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function L8(){return!Kie()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function $8(){try{return typeof indexedDB=="object"}catch{return!1}}function Jie(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var s;e(((s=i.error)===null||s===void 0?void 0:s.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zie="FirebaseError";class xo extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=Zie,Object.setPrototypeOf(this,xo.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,pv.prototype.create)}}class pv{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,s=this.errors[e],o=s?ese(s,r):"Error",a=`${this.serviceName}: ${o} (${i}).`;return new xo(i,a,r)}}function ese(t,e){return t.replace(tse,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const tse=/\{\$([^}]+)}/g;function nse(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Bg(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const s=t[i],o=e[i];if(pL(s)&&pL(o)){if(!Bg(s,o))return!1}else if(s!==o)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function pL(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mv(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function Pm(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[i,s]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(s)}}),e}function Cm(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function rse(t,e){const n=new ise(t,e);return n.subscribe.bind(n)}class ise{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");sse(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=pT),i.error===void 0&&(i.error=pT),i.complete===void 0&&(i.complete=pT);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function sse(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function pT(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zt(t){return t&&t._delegate?t._delegate:t}class zl{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cc="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ose{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new qie;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(lse(e))try{this.getOrInitializeService({instanceIdentifier:Cc})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=Cc){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Cc){return this.instances.has(e)}getOptions(e=Cc){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[s,o]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(s);r===a&&o.resolve(i)}return i}onInit(e,n){var r;const i=this.normalizeInstanceIdentifier(n),s=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;s.add(e),this.onInitCallbacks.set(i,s);const o=this.instances.get(i);return o&&e(o,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:ase(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Cc){return this.component?this.component.multipleInstances?e:Cc:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function ase(t){return t===Cc?void 0:t}function lse(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cse{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new ose(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var st;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(st||(st={}));const use={debug:st.DEBUG,verbose:st.VERBOSE,info:st.INFO,warn:st.WARN,error:st.ERROR,silent:st.SILENT},dse=st.INFO,fse={[st.DEBUG]:"log",[st.VERBOSE]:"log",[st.INFO]:"info",[st.WARN]:"warn",[st.ERROR]:"error"},hse=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=fse[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};let yN=class{constructor(e){this.name=e,this._logLevel=dse,this._logHandler=hse,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in st))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?use[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,st.DEBUG,...e),this._logHandler(this,st.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,st.VERBOSE,...e),this._logHandler(this,st.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,st.INFO,...e),this._logHandler(this,st.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,st.WARN,...e),this._logHandler(this,st.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,st.ERROR,...e),this._logHandler(this,st.ERROR,...e)}};const pse=(t,e)=>e.some(n=>t instanceof n);let mL,gL;function mse(){return mL||(mL=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function gse(){return gL||(gL=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const V8=new WeakMap,rP=new WeakMap,F8=new WeakMap,mT=new WeakMap,vN=new WeakMap;function yse(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{n(Nl(t.result)),i()},o=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&V8.set(n,t)}).catch(()=>{}),vN.set(e,t),e}function vse(t){if(rP.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});rP.set(t,e)}let iP={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return rP.get(t);if(e==="objectStoreNames")return t.objectStoreNames||F8.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Nl(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function xse(t){iP=t(iP)}function bse(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(gT(this),e,...n);return F8.set(r,e.sort?e.sort():[e]),Nl(r)}:gse().includes(t)?function(...e){return t.apply(gT(this),e),Nl(V8.get(this))}:function(...e){return Nl(t.apply(gT(this),e))}}function wse(t){return typeof t=="function"?bse(t):(t instanceof IDBTransaction&&vse(t),pse(t,mse())?new Proxy(t,iP):t)}function Nl(t){if(t instanceof IDBRequest)return yse(t);if(mT.has(t))return mT.get(t);const e=wse(t);return e!==t&&(mT.set(t,e),vN.set(e,t)),e}const gT=t=>vN.get(t);function _se(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const o=indexedDB.open(t,e),a=Nl(o);return r&&o.addEventListener("upgradeneeded",l=>{r(Nl(o.result),l.oldVersion,l.newVersion,Nl(o.transaction),l)}),n&&o.addEventListener("blocked",l=>n(l.oldVersion,l.newVersion,l)),a.then(l=>{s&&l.addEventListener("close",()=>s()),i&&l.addEventListener("versionchange",c=>i(c.oldVersion,c.newVersion,c))}).catch(()=>{}),a}const Sse=["get","getKey","getAll","getAllKeys","count"],Ese=["put","add","delete","clear"],yT=new Map;function yL(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(yT.get(e))return yT.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=Ese.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||Sse.includes(n)))return;const s=async function(o,...a){const l=this.transaction(o,i?"readwrite":"readonly");let c=l.store;return r&&(c=c.index(a.shift())),(await Promise.all([c[n](...a),i&&l.done]))[0]};return yT.set(e,s),s}xse(t=>({...t,get:(e,n,r)=>yL(e,n)||t.get(e,n,r),has:(e,n)=>!!yL(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tse{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(Ase(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function Ase(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const sP="@firebase/app",vL="0.10.13";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const la=new yN("@firebase/app"),kse="@firebase/app-compat",Pse="@firebase/analytics-compat",Cse="@firebase/analytics",Ise="@firebase/app-check-compat",Ose="@firebase/app-check",Nse="@firebase/auth",jse="@firebase/auth-compat",Rse="@firebase/database",Dse="@firebase/data-connect",Mse="@firebase/database-compat",Lse="@firebase/functions",$se="@firebase/functions-compat",Vse="@firebase/installations",Fse="@firebase/installations-compat",Bse="@firebase/messaging",Use="@firebase/messaging-compat",zse="@firebase/performance",qse="@firebase/performance-compat",Hse="@firebase/remote-config",Wse="@firebase/remote-config-compat",Kse="@firebase/storage",Gse="@firebase/storage-compat",Qse="@firebase/firestore",Yse="@firebase/vertexai-preview",Xse="@firebase/firestore-compat",Jse="firebase",Zse="10.14.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oP="[DEFAULT]",eoe={[sP]:"fire-core",[kse]:"fire-core-compat",[Cse]:"fire-analytics",[Pse]:"fire-analytics-compat",[Ose]:"fire-app-check",[Ise]:"fire-app-check-compat",[Nse]:"fire-auth",[jse]:"fire-auth-compat",[Rse]:"fire-rtdb",[Dse]:"fire-data-connect",[Mse]:"fire-rtdb-compat",[Lse]:"fire-fn",[$se]:"fire-fn-compat",[Vse]:"fire-iid",[Fse]:"fire-iid-compat",[Bse]:"fire-fcm",[Use]:"fire-fcm-compat",[zse]:"fire-perf",[qse]:"fire-perf-compat",[Hse]:"fire-rc",[Wse]:"fire-rc-compat",[Kse]:"fire-gcs",[Gse]:"fire-gcs-compat",[Qse]:"fire-fst",[Xse]:"fire-fst-compat",[Yse]:"fire-vertex","fire-js":"fire-js",[Jse]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Db=new Map,toe=new Map,aP=new Map;function xL(t,e){try{t.container.addComponent(e)}catch(n){la.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function ju(t){const e=t.name;if(aP.has(e))return la.debug(`There were multiple attempts to register component ${e}.`),!1;aP.set(e,t);for(const n of Db.values())xL(n,t);for(const n of toe.values())xL(n,t);return!0}function C_(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function Hs(t){return t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const noe={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},jl=new pv("app","Firebase",noe);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class roe{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new zl("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw jl.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rd=Zse;function B8(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:oP,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw jl.create("bad-app-name",{appName:String(i)});if(n||(n=D8()),!n)throw jl.create("no-options");const s=Db.get(i);if(s){if(Bg(n,s.options)&&Bg(r,s.config))return s;throw jl.create("duplicate-app",{appName:i})}const o=new cse(i);for(const l of aP.values())o.addComponent(l);const a=new roe(n,r,o);return Db.set(i,a),a}function U8(t=oP){const e=Db.get(t);if(!e&&t===oP&&D8())return B8();if(!e)throw jl.create("no-app",{appName:t});return e}function eo(t,e,n){var r;let i=(r=eoe[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);const s=i.match(/\s|\//),o=e.match(/\s|\//);if(s||o){const a=[`Unable to register library "${i}" with version "${e}":`];s&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),la.warn(a.join(" "));return}ju(new zl(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ioe="firebase-heartbeat-database",soe=1,Ug="firebase-heartbeat-store";let vT=null;function z8(){return vT||(vT=_se(ioe,soe,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Ug)}catch(n){console.warn(n)}}}}).catch(t=>{throw jl.create("idb-open",{originalErrorMessage:t.message})})),vT}async function ooe(t){try{const n=(await z8()).transaction(Ug),r=await n.objectStore(Ug).get(q8(t));return await n.done,r}catch(e){if(e instanceof xo)la.warn(e.message);else{const n=jl.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});la.warn(n.message)}}}async function bL(t,e){try{const r=(await z8()).transaction(Ug,"readwrite");await r.objectStore(Ug).put(e,q8(t)),await r.done}catch(n){if(n instanceof xo)la.warn(n.message);else{const r=jl.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});la.warn(r.message)}}}function q8(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aoe=1024,loe=30*24*60*60*1e3;class coe{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new doe(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=wL();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s)?void 0:(this._heartbeatsCache.heartbeats.push({date:s,agent:i}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(o=>{const a=new Date(o.date).valueOf();return Date.now()-a<=loe}),this._storage.overwrite(this._heartbeatsCache))}catch(r){la.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=wL(),{heartbeatsToSend:r,unsentEntries:i}=uoe(this._heartbeatsCache.heartbeats),s=Rb(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}catch(n){return la.warn(n),""}}}function wL(){return new Date().toISOString().substring(0,10)}function uoe(t,e=aoe){const n=[];let r=t.slice();for(const i of t){const s=n.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),_L(n)>e){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),_L(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class doe{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return $8()?Jie().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await ooe(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return bL(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return bL(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function _L(t){return Rb(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function foe(t){ju(new zl("platform-logger",e=>new Tse(e),"PRIVATE")),ju(new zl("heartbeat",e=>new coe(e),"PRIVATE")),eo(sP,vL,t),eo(sP,vL,"esm2017"),eo("fire-js","")}foe("");function xN(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function id(t,e,n,r){function i(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function a(u){try{c(r.next(u))}catch(d){o(d)}}function l(u){try{c(r.throw(u))}catch(d){o(d)}}function c(u){u.done?s(u.value):i(u.value).then(a,l)}c((r=r.apply(t,e||[])).next())})}function H8(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const hoe=H8,W8=new pv("auth","Firebase",H8());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mb=new yN("@firebase/auth");function poe(t,...e){Mb.logLevel<=st.WARN&&Mb.warn(`Auth (${rd}): ${t}`,...e)}function Nx(t,...e){Mb.logLevel<=st.ERROR&&Mb.error(`Auth (${rd}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cs(t,...e){throw bN(t,...e)}function to(t,...e){return bN(t,...e)}function K8(t,e,n){const r=Object.assign(Object.assign({},hoe()),{[e]:n});return new pv("auth","Firebase",r).create(e,{appName:t.name})}function Go(t){return K8(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function bN(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return W8.create(t,...e)}function Me(t,e,...n){if(!t)throw bN(e,...n)}function Vo(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Nx(e),new Error(e)}function ca(t,e){t||Vo(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lP(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function moe(){return SL()==="http:"||SL()==="https:"}function SL(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function goe(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(moe()||Qie()||"connection"in navigator)?navigator.onLine:!0}function yoe(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gv{constructor(e,n){this.shortDelay=e,this.longDelay=n,ca(n>e,"Short delay should be less than long delay!"),this.isMobile=Wie()||Yie()}get(){return goe()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wN(t,e){ca(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G8{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Vo("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Vo("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Vo("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const voe={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xoe=new gv(3e4,6e4);function rc(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function ba(t,e,n,r,i={}){return Q8(t,i,async()=>{let s={},o={};r&&(e==="GET"?o=r:s={body:JSON.stringify(r)});const a=mv(Object.assign({key:t.config.apiKey},o)).slice(1),l=await t._getAdditionalHeaders();l["Content-Type"]="application/json",t.languageCode&&(l["X-Firebase-Locale"]=t.languageCode);const c=Object.assign({method:e,headers:l},s);return Gie()||(c.referrerPolicy="no-referrer"),G8.fetch()(Y8(t,t.config.apiHost,n,a),c)})}async function Q8(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},voe),e);try{const i=new woe(t),s=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();const o=await s.json();if("needConfirmation"in o)throw I0(t,"account-exists-with-different-credential",o);if(s.ok&&!("errorMessage"in o))return o;{const a=s.ok?o.errorMessage:o.error.message,[l,c]=a.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw I0(t,"credential-already-in-use",o);if(l==="EMAIL_EXISTS")throw I0(t,"email-already-in-use",o);if(l==="USER_DISABLED")throw I0(t,"user-disabled",o);const u=r[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(c)throw K8(t,u,c);Cs(t,u)}}catch(i){if(i instanceof xo)throw i;Cs(t,"network-request-failed",{message:String(i)})}}async function yv(t,e,n,r,i={}){const s=await ba(t,e,n,r,i);return"mfaPendingCredential"in s&&Cs(t,"multi-factor-auth-required",{_serverResponse:s}),s}function Y8(t,e,n,r){const i=`${e}${n}?${r}`;return t.config.emulator?wN(t.config,i):`${t.config.apiScheme}://${i}`}function boe(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class woe{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(to(this.auth,"network-request-failed")),xoe.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function I0(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=to(t,e,r);return i.customData._tokenResponse=n,i}function EL(t){return t!==void 0&&t.enterprise!==void 0}class _oe{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return boe(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}}async function Soe(t,e){return ba(t,"GET","/v2/recaptchaConfig",rc(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Eoe(t,e){return ba(t,"POST","/v1/accounts:delete",e)}async function X8(t,e){return ba(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ym(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function Toe(t,e=!1){const n=Zt(t),r=await n.getIdToken(e),i=_N(r);Me(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const s=typeof i.firebase=="object"?i.firebase:void 0,o=s==null?void 0:s.sign_in_provider;return{claims:i,token:r,authTime:Ym(xT(i.auth_time)),issuedAtTime:Ym(xT(i.iat)),expirationTime:Ym(xT(i.exp)),signInProvider:o||null,signInSecondFactor:(s==null?void 0:s.sign_in_second_factor)||null}}function xT(t){return Number(t)*1e3}function _N(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return Nx("JWT malformed, contained fewer than 3 sections"),null;try{const i=j8(n);return i?JSON.parse(i):(Nx("Failed to decode base64 JWT payload"),null)}catch(i){return Nx("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function TL(t){const e=_N(t);return Me(e,"internal-error"),Me(typeof e.exp<"u","internal-error"),Me(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function rh(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof xo&&Aoe(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function Aoe({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class koe{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const i=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cP{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Ym(this.lastLoginAt),this.creationTime=Ym(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Lb(t){var e;const n=t.auth,r=await t.getIdToken(),i=await rh(t,X8(n,{idToken:r}));Me(i==null?void 0:i.users.length,n,"internal-error");const s=i.users[0];t._notifyReloadListener(s);const o=!((e=s.providerUserInfo)===null||e===void 0)&&e.length?J8(s.providerUserInfo):[],a=Coe(t.providerData,o),l=t.isAnonymous,c=!(t.email&&s.passwordHash)&&!(a!=null&&a.length),u=l?c:!1,d={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new cP(s.createdAt,s.lastLoginAt),isAnonymous:u};Object.assign(t,d)}async function Poe(t){const e=Zt(t);await Lb(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function Coe(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function J8(t){return t.map(e=>{var{providerId:n}=e,r=xN(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ioe(t,e){const n=await Q8(t,{},async()=>{const r=mv({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=t.config,o=Y8(t,i,"/v1/token",`key=${s}`),a=await t._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",G8.fetch()(o,{method:"POST",headers:a,body:r})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function Ooe(t,e){return ba(t,"POST","/v2/accounts:revokeToken",rc(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _f{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Me(e.idToken,"internal-error"),Me(typeof e.idToken<"u","internal-error"),Me(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):TL(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){Me(e.length!==0,"internal-error");const n=TL(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(Me(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:i,expiresIn:s}=await Ioe(e,n);this.updateTokensAndExpiration(r,i,Number(s))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:s}=n,o=new _f;return r&&(Me(typeof r=="string","internal-error",{appName:e}),o.refreshToken=r),i&&(Me(typeof i=="string","internal-error",{appName:e}),o.accessToken=i),s&&(Me(typeof s=="number","internal-error",{appName:e}),o.expirationTime=s),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new _f,this.toJSON())}_performRefresh(){return Vo("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ja(t,e){Me(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class Fo{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,s=xN(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new koe(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new cP(s.createdAt||void 0,s.lastLoginAt||void 0)}async getIdToken(e){const n=await rh(this,this.stsTokenManager.getToken(this.auth,e));return Me(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return Toe(this,e)}reload(){return Poe(this)}_assign(e){this!==e&&(Me(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Fo(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){Me(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await Lb(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Hs(this.auth.app))return Promise.reject(Go(this.auth));const e=await this.getIdToken();return await rh(this,Eoe(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,s,o,a,l,c,u;const d=(r=n.displayName)!==null&&r!==void 0?r:void 0,f=(i=n.email)!==null&&i!==void 0?i:void 0,p=(s=n.phoneNumber)!==null&&s!==void 0?s:void 0,m=(o=n.photoURL)!==null&&o!==void 0?o:void 0,g=(a=n.tenantId)!==null&&a!==void 0?a:void 0,v=(l=n._redirectEventId)!==null&&l!==void 0?l:void 0,x=(c=n.createdAt)!==null&&c!==void 0?c:void 0,b=(u=n.lastLoginAt)!==null&&u!==void 0?u:void 0,{uid:w,emailVerified:T,isAnonymous:_,providerData:k,stsTokenManager:S}=n;Me(w&&S,e,"internal-error");const E=_f.fromJSON(this.name,S);Me(typeof w=="string",e,"internal-error"),ja(d,e.name),ja(f,e.name),Me(typeof T=="boolean",e,"internal-error"),Me(typeof _=="boolean",e,"internal-error"),ja(p,e.name),ja(m,e.name),ja(g,e.name),ja(v,e.name),ja(x,e.name),ja(b,e.name);const P=new Fo({uid:w,auth:e,email:f,emailVerified:T,displayName:d,isAnonymous:_,photoURL:m,phoneNumber:p,tenantId:g,stsTokenManager:E,createdAt:x,lastLoginAt:b});return k&&Array.isArray(k)&&(P.providerData=k.map(O=>Object.assign({},O))),v&&(P._redirectEventId=v),P}static async _fromIdTokenResponse(e,n,r=!1){const i=new _f;i.updateFromServerResponse(n);const s=new Fo({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await Lb(s),s}static async _fromGetAccountInfoResponse(e,n,r){const i=n.users[0];Me(i.localId!==void 0,"internal-error");const s=i.providerUserInfo!==void 0?J8(i.providerUserInfo):[],o=!(i.email&&i.passwordHash)&&!(s!=null&&s.length),a=new _f;a.updateFromIdToken(r);const l=new Fo({uid:i.localId,auth:e,stsTokenManager:a,isAnonymous:o}),c={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:s,metadata:new cP(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!(s!=null&&s.length)};return Object.assign(l,c),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AL=new Map;function Bo(t){ca(t instanceof Function,"Expected a class definition");let e=AL.get(t);return e?(ca(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,AL.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z8{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}Z8.type="NONE";const kL=Z8;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jx(t,e,n){return`firebase:${t}:${e}:${n}`}class Sf{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:s}=this.auth;this.fullUserKey=jx(this.userKey,i.apiKey,s),this.fullPersistenceKey=jx("persistence",i.apiKey,s),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?Fo._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new Sf(Bo(kL),e,r);const i=(await Promise.all(n.map(async c=>{if(await c._isAvailable())return c}))).filter(c=>c);let s=i[0]||Bo(kL);const o=jx(r,e.config.apiKey,e.name);let a=null;for(const c of n)try{const u=await c._get(o);if(u){const d=Fo._fromJSON(e,u);c!==s&&(a=d),s=c;break}}catch{}const l=i.filter(c=>c._shouldAllowMigration);return!s._shouldAllowMigration||!l.length?new Sf(s,e,r):(s=l[0],a&&await s._set(o,a.toJSON()),await Promise.all(n.map(async c=>{if(c!==s)try{await c._remove(o)}catch{}})),new Sf(s,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PL(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(rq(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(eq(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(sq(e))return"Blackberry";if(oq(e))return"Webos";if(tq(e))return"Safari";if((e.includes("chrome/")||nq(e))&&!e.includes("edge/"))return"Chrome";if(iq(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function eq(t=Mn()){return/firefox\//i.test(t)}function tq(t=Mn()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function nq(t=Mn()){return/crios\//i.test(t)}function rq(t=Mn()){return/iemobile/i.test(t)}function iq(t=Mn()){return/android/i.test(t)}function sq(t=Mn()){return/blackberry/i.test(t)}function oq(t=Mn()){return/webos/i.test(t)}function SN(t=Mn()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function Noe(t=Mn()){var e;return SN(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function joe(){return Xie()&&document.documentMode===10}function aq(t=Mn()){return SN(t)||iq(t)||oq(t)||sq(t)||/windows phone/i.test(t)||rq(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lq(t,e=[]){let n;switch(t){case"Browser":n=PL(Mn());break;case"Worker":n=`${PL(Mn())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${rd}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Roe{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=s=>new Promise((o,a)=>{try{const l=e(s);o(l)}catch(l){a(l)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Doe(t,e={}){return ba(t,"GET","/v2/passwordPolicy",rc(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Moe=6;class Loe{constructor(e){var n,r,i,s;const o=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=o.minPasswordLength)!==null&&n!==void 0?n:Moe,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),o.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),o.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),o.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),o.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(s=e.forceUpgradeOnSignin)!==null&&s!==void 0?s:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,i,s,o,a;const l={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,l),this.validatePasswordCharacterOptions(e,l),l.isValid&&(l.isValid=(n=l.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),l.isValid&&(l.isValid=(r=l.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),l.isValid&&(l.isValid=(i=l.containsLowercaseLetter)!==null&&i!==void 0?i:!0),l.isValid&&(l.isValid=(s=l.containsUppercaseLetter)!==null&&s!==void 0?s:!0),l.isValid&&(l.isValid=(o=l.containsNumericCharacter)!==null&&o!==void 0?o:!0),l.isValid&&(l.isValid=(a=l.containsNonAlphanumericCharacter)!==null&&a!==void 0?a:!0),l}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,s){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $oe{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new CL(this),this.idTokenSubscription=new CL(this),this.beforeStateQueue=new Roe(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=W8,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Bo(n)),this._initializationPromise=this.queue(async()=>{var r,i;if(!this._deleted&&(this.persistenceManager=await Sf.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await X8(this,{idToken:e}),r=await Fo._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var n;if(Hs(this.app)){const o=this.app.settings.authIdToken;return o?new Promise(a=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(a,a))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let i=r,s=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,a=i==null?void 0:i._redirectEventId,l=await this.tryRedirectSignIn(e);(!o||o===a)&&(l!=null&&l.user)&&(i=l.user,s=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(s)try{await this.beforeStateQueue.runMiddleware(i)}catch(o){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return Me(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Lb(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=yoe()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Hs(this.app))return Promise.reject(Go(this));const n=e?Zt(e):null;return n&&Me(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&Me(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Hs(this.app)?Promise.reject(Go(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Hs(this.app)?Promise.reject(Go(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Bo(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await Doe(this),n=new Loe(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new pv("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await Ooe(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&Bo(e)||this._popupRedirectResolver;Me(n,this,"argument-error"),this.redirectPersistenceManager=await Sf.create(this,[Bo(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const s=typeof n=="function"?n:n.next.bind(n);let o=!1;const a=this._isInitialized?Promise.resolve():this._initializationPromise;if(Me(a,this,"internal-error"),a.then(()=>{o||s(this.currentUser)}),typeof n=="function"){const l=e.addObserver(n,r,i);return()=>{o=!0,l()}}else{const l=e.addObserver(n);return()=>{o=!0,l()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Me(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=lq(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(n["X-Firebase-Client"]=r);const i=await this._getAppCheckToken();return i&&(n["X-Firebase-AppCheck"]=i),n}async _getAppCheckToken(){var e;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&poe(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function sd(t){return Zt(t)}class CL{constructor(e){this.auth=e,this.observer=null,this.addObserver=rse(n=>this.observer=n)}get next(){return Me(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let I_={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function Voe(t){I_=t}function cq(t){return I_.loadJS(t)}function Foe(){return I_.recaptchaEnterpriseScript}function Boe(){return I_.gapiScript}function Uoe(t){return`__${t}${Math.floor(Math.random()*1e6)}`}const zoe="recaptcha-enterprise",qoe="NO_RECAPTCHA";class Hoe{constructor(e){this.type=zoe,this.auth=sd(e)}async verify(e="verify",n=!1){async function r(s){if(!n){if(s.tenantId==null&&s._agentRecaptchaConfig!=null)return s._agentRecaptchaConfig.siteKey;if(s.tenantId!=null&&s._tenantRecaptchaConfigs[s.tenantId]!==void 0)return s._tenantRecaptchaConfigs[s.tenantId].siteKey}return new Promise(async(o,a)=>{Soe(s,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(l=>{if(l.recaptchaKey===void 0)a(new Error("recaptcha Enterprise site key undefined"));else{const c=new _oe(l);return s.tenantId==null?s._agentRecaptchaConfig=c:s._tenantRecaptchaConfigs[s.tenantId]=c,o(c.siteKey)}}).catch(l=>{a(l)})})}function i(s,o,a){const l=window.grecaptcha;EL(l)?l.enterprise.ready(()=>{l.enterprise.execute(s,{action:e}).then(c=>{o(c)}).catch(()=>{o(qoe)})}):a(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((s,o)=>{r(this.auth).then(a=>{if(!n&&EL(window.grecaptcha))i(a,s,o);else{if(typeof window>"u"){o(new Error("RecaptchaVerifier is only supported in browser"));return}let l=Foe();l.length!==0&&(l+=a),cq(l).then(()=>{i(a,s,o)}).catch(c=>{o(c)})}}).catch(a=>{o(a)})})}}async function IL(t,e,n,r=!1){const i=new Hoe(t);let s;try{s=await i.verify(n)}catch{s=await i.verify(n,!0)}const o=Object.assign({},e);return r?Object.assign(o,{captchaResp:s}):Object.assign(o,{captchaResponse:s}),Object.assign(o,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(o,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),o}async function uP(t,e,n,r){var i;if(!((i=t._getRecaptchaConfig())===null||i===void 0)&&i.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const s=await IL(t,e,n,n==="getOobCode");return r(t,s)}else return r(t,e).catch(async s=>{if(s.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const o=await IL(t,e,n,n==="getOobCode");return r(t,o)}else return Promise.reject(s)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Woe(t,e){const n=C_(t,"auth");if(n.isInitialized()){const i=n.getImmediate(),s=n.getOptions();if(Bg(s,e??{}))return i;Cs(i,"already-initialized")}return n.initialize({options:e})}function Koe(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(Bo);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function Goe(t,e,n){const r=sd(t);Me(r._canInitEmulator,r,"emulator-config-failed"),Me(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!1,s=uq(e),{host:o,port:a}=Qoe(e),l=a===null?"":`:${a}`;r.config.emulator={url:`${s}//${o}${l}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:o,port:a,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})}),Yoe()}function uq(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function Qoe(t){const e=uq(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const s=i[1];return{host:s,port:OL(r.substr(s.length+1))}}else{const[s,o]=r.split(":");return{host:s,port:OL(o)}}}function OL(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function Yoe(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EN{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Vo("not implemented")}_getIdTokenResponse(e){return Vo("not implemented")}_linkToIdToken(e,n){return Vo("not implemented")}_getReauthenticationResolver(e){return Vo("not implemented")}}async function Xoe(t,e){return ba(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Joe(t,e){return yv(t,"POST","/v1/accounts:signInWithPassword",rc(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Zoe(t,e){return yv(t,"POST","/v1/accounts:signInWithEmailLink",rc(t,e))}async function eae(t,e){return yv(t,"POST","/v1/accounts:signInWithEmailLink",rc(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zg extends EN{constructor(e,n,r,i=null){super("password",r),this._email=e,this._password=n,this._tenantId=i}static _fromEmailAndPassword(e,n){return new zg(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new zg(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return uP(e,n,"signInWithPassword",Joe);case"emailLink":return Zoe(e,{email:this._email,oobCode:this._password});default:Cs(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return uP(e,r,"signUpPassword",Xoe);case"emailLink":return eae(e,{idToken:n,email:this._email,oobCode:this._password});default:Cs(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ef(t,e){return yv(t,"POST","/v1/accounts:signInWithIdp",rc(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tae="http://localhost";class Ru extends EN{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new Ru(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Cs("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i}=n,s=xN(n,["providerId","signInMethod"]);if(!r||!i)return null;const o=new Ru(r,i);return o.idToken=s.idToken||void 0,o.accessToken=s.accessToken||void 0,o.secret=s.secret,o.nonce=s.nonce,o.pendingToken=s.pendingToken||null,o}_getIdTokenResponse(e){const n=this.buildRequest();return Ef(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,Ef(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Ef(e,n)}buildRequest(){const e={requestUri:tae,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=mv(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nae(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function rae(t){const e=Pm(Cm(t)).link,n=e?Pm(Cm(e)).deep_link_id:null,r=Pm(Cm(t)).deep_link_id;return(r?Pm(Cm(r)).link:null)||r||n||e||t}class TN{constructor(e){var n,r,i,s,o,a;const l=Pm(Cm(e)),c=(n=l.apiKey)!==null&&n!==void 0?n:null,u=(r=l.oobCode)!==null&&r!==void 0?r:null,d=nae((i=l.mode)!==null&&i!==void 0?i:null);Me(c&&u&&d,"argument-error"),this.apiKey=c,this.operation=d,this.code=u,this.continueUrl=(s=l.continueUrl)!==null&&s!==void 0?s:null,this.languageCode=(o=l.languageCode)!==null&&o!==void 0?o:null,this.tenantId=(a=l.tenantId)!==null&&a!==void 0?a:null}static parseLink(e){const n=rae(e);try{return new TN(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sp{constructor(){this.providerId=sp.PROVIDER_ID}static credential(e,n){return zg._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=TN.parseLink(n);return Me(r,"argument-error"),zg._fromEmailAndCode(e,r.code,r.tenantId)}}sp.PROVIDER_ID="password";sp.EMAIL_PASSWORD_SIGN_IN_METHOD="password";sp.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dq{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vv extends dq{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qa extends vv{constructor(){super("facebook.com")}static credential(e){return Ru._fromParams({providerId:Qa.PROVIDER_ID,signInMethod:Qa.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Qa.credentialFromTaggedObject(e)}static credentialFromError(e){return Qa.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Qa.credential(e.oauthAccessToken)}catch{return null}}}Qa.FACEBOOK_SIGN_IN_METHOD="facebook.com";Qa.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ya extends vv{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return Ru._fromParams({providerId:Ya.PROVIDER_ID,signInMethod:Ya.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Ya.credentialFromTaggedObject(e)}static credentialFromError(e){return Ya.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return Ya.credential(n,r)}catch{return null}}}Ya.GOOGLE_SIGN_IN_METHOD="google.com";Ya.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xa extends vv{constructor(){super("github.com")}static credential(e){return Ru._fromParams({providerId:Xa.PROVIDER_ID,signInMethod:Xa.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Xa.credentialFromTaggedObject(e)}static credentialFromError(e){return Xa.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Xa.credential(e.oauthAccessToken)}catch{return null}}}Xa.GITHUB_SIGN_IN_METHOD="github.com";Xa.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ja extends vv{constructor(){super("twitter.com")}static credential(e,n){return Ru._fromParams({providerId:Ja.PROVIDER_ID,signInMethod:Ja.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Ja.credentialFromTaggedObject(e)}static credentialFromError(e){return Ja.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return Ja.credential(n,r)}catch{return null}}}Ja.TWITTER_SIGN_IN_METHOD="twitter.com";Ja.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function iae(t,e){return yv(t,"POST","/v1/accounts:signUp",rc(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Du{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,i=!1){const s=await Fo._fromIdTokenResponse(e,r,i),o=NL(r);return new Du({user:s,providerId:o,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const i=NL(r);return new Du({user:e,providerId:i,_tokenResponse:r,operationType:n})}}function NL(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $b extends xo{constructor(e,n,r,i){var s;super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,$b.prototype),this.customData={appName:e.name,tenantId:(s=e.tenantId)!==null&&s!==void 0?s:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new $b(e,n,r,i)}}function fq(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?$b._fromErrorAndOperation(t,s,e,r):s})}async function sae(t,e,n=!1){const r=await rh(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return Du._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function oae(t,e,n=!1){const{auth:r}=t;if(Hs(r.app))return Promise.reject(Go(r));const i="reauthenticate";try{const s=await rh(t,fq(r,i,e,t),n);Me(s.idToken,r,"internal-error");const o=_N(s.idToken);Me(o,r,"internal-error");const{sub:a}=o;return Me(t.uid===a,r,"user-mismatch"),Du._forOperation(t,i,s)}catch(s){throw(s==null?void 0:s.code)==="auth/user-not-found"&&Cs(r,"user-mismatch"),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function hq(t,e,n=!1){if(Hs(t.app))return Promise.reject(Go(t));const r="signIn",i=await fq(t,r,e),s=await Du._fromIdTokenResponse(t,r,i);return n||await t._updateCurrentUser(s.user),s}async function aae(t,e){return hq(sd(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function pq(t){const e=sd(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function lae(t,e,n){if(Hs(t.app))return Promise.reject(Go(t));const r=sd(t),o=await uP(r,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",iae).catch(l=>{throw l.code==="auth/password-does-not-meet-requirements"&&pq(t),l}),a=await Du._fromIdTokenResponse(r,"signIn",o);return await r._updateCurrentUser(a.user),a}function cae(t,e,n){return Hs(t.app)?Promise.reject(Go(t)):aae(Zt(t),sp.credential(e,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&pq(t),r})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function uae(t,e){return ba(t,"POST","/v1/accounts:update",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function dae(t,{displayName:e,photoURL:n}){if(e===void 0&&n===void 0)return;const r=Zt(t),s={idToken:await r.getIdToken(),displayName:e,photoUrl:n,returnSecureToken:!0},o=await rh(r,uae(r.auth,s));r.displayName=o.displayName||null,r.photoURL=o.photoUrl||null;const a=r.providerData.find(({providerId:l})=>l==="password");a&&(a.displayName=r.displayName,a.photoURL=r.photoURL),await r._updateTokensIfNecessary(o)}function fae(t,e,n,r){return Zt(t).onIdTokenChanged(e,n,r)}function hae(t,e,n){return Zt(t).beforeAuthStateChanged(e,n)}function mq(t,e,n,r){return Zt(t).onAuthStateChanged(e,n,r)}function pae(t){return Zt(t).signOut()}const Vb="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gq{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Vb,"1"),this.storage.removeItem(Vb),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mae=1e3,gae=10;class yq extends gq{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=aq(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),i=this.localCache[n];r!==i&&e(n,i,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((o,a,l)=>{this.notifyListeners(o,l)});return}const r=e.key;n?this.detachListener():this.stopPolling();const i=()=>{const o=this.storage.getItem(r);!n&&this.localCache[r]===o||this.notifyListeners(r,o)},s=this.storage.getItem(r);joe()&&s!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,gae):i()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},mae)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}yq.type="LOCAL";const yae=yq;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vq extends gq{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}vq.type="SESSION";const xq=vq;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vae(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O_{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(i=>i.isListeningto(e));if(n)return n;const r=new O_(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:i,data:s}=n.data,o=this.handlersMap[i];if(!(o!=null&&o.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const a=Array.from(o).map(async c=>c(n.origin,s)),l=await vae(a);n.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:l})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}O_.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AN(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xae{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let s,o;return new Promise((a,l)=>{const c=AN("",20);i.port1.start();const u=setTimeout(()=>{l(new Error("unsupported_event"))},r);o={messageChannel:i,onMessage(d){const f=d;if(f.data.eventId===c)switch(f.data.status){case"ack":clearTimeout(u),s=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),a(f.data.response);break;default:clearTimeout(u),clearTimeout(s),l(new Error("invalid_response"));break}}},this.handlers.add(o),i.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:c,data:n},[i.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function no(){return window}function bae(t){no().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bq(){return typeof no().WorkerGlobalScope<"u"&&typeof no().importScripts=="function"}async function wae(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function _ae(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function Sae(){return bq()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wq="firebaseLocalStorageDb",Eae=1,Fb="firebaseLocalStorage",_q="fbase_key";class xv{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function N_(t,e){return t.transaction([Fb],e?"readwrite":"readonly").objectStore(Fb)}function Tae(){const t=indexedDB.deleteDatabase(wq);return new xv(t).toPromise()}function dP(){const t=indexedDB.open(wq,Eae);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(Fb,{keyPath:_q})}catch(i){n(i)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(Fb)?e(r):(r.close(),await Tae(),e(await dP()))})})}async function jL(t,e,n){const r=N_(t,!0).put({[_q]:e,value:n});return new xv(r).toPromise()}async function Aae(t,e){const n=N_(t,!1).get(e),r=await new xv(n).toPromise();return r===void 0?null:r.value}function RL(t,e){const n=N_(t,!0).delete(e);return new xv(n).toPromise()}const kae=800,Pae=3;class Sq{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await dP(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>Pae)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return bq()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=O_._getInstance(Sae()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await wae(),!this.activeServiceWorker)return;this.sender=new xae(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((n=r[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||_ae()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await dP();return await jL(e,Vb,"1"),await RL(e,Vb),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>jL(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>Aae(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>RL(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const s=N_(i,!1).getAll();return new xv(s).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:i,value:s}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(s)&&(this.notifyListeners(i,s),n.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),n.push(i));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),kae)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}Sq.type="LOCAL";const Cae=Sq;new gv(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Iae(t,e){return e?Bo(e):(Me(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kN extends EN{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Ef(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Ef(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Ef(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function Oae(t){return hq(t.auth,new kN(t),t.bypassAuthState)}function Nae(t){const{auth:e,user:n}=t;return Me(n,e,"internal-error"),oae(n,new kN(t),t.bypassAuthState)}async function jae(t){const{auth:e,user:n}=t;return Me(n,e,"internal-error"),sae(n,new kN(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Eq{constructor(e,n,r,i,s=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:i,tenantId:s,error:o,type:a}=e;if(o){this.reject(o);return}const l={auth:this.auth,requestUri:n,sessionId:r,tenantId:s||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(l))}catch(c){this.reject(c)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return Oae;case"linkViaPopup":case"linkViaRedirect":return jae;case"reauthViaPopup":case"reauthViaRedirect":return Nae;default:Cs(this.auth,"internal-error")}}resolve(e){ca(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){ca(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rae=new gv(2e3,1e4);class tf extends Eq{constructor(e,n,r,i,s){super(e,n,i,s),this.provider=r,this.authWindow=null,this.pollId=null,tf.currentPopupAction&&tf.currentPopupAction.cancel(),tf.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Me(e,this.auth,"internal-error"),e}async onExecution(){ca(this.filter.length===1,"Popup operations only handle one event");const e=AN();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(to(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(to(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,tf.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(to(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,Rae.get())};e()}}tf.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dae="pendingRedirect",Rx=new Map;class Mae extends Eq{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=Rx.get(this.auth._key());if(!e){try{const r=await Lae(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}Rx.set(this.auth._key(),e)}return this.bypassAuthState||Rx.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function Lae(t,e){const n=Fae(e),r=Vae(t);if(!await r._isAvailable())return!1;const i=await r._get(n)==="true";return await r._remove(n),i}function $ae(t,e){Rx.set(t._key(),e)}function Vae(t){return Bo(t._redirectPersistence)}function Fae(t){return jx(Dae,t.config.apiKey,t.name)}async function Bae(t,e,n=!1){if(Hs(t.app))return Promise.reject(Go(t));const r=sd(t),i=Iae(r,e),o=await new Mae(r,i,n).execute();return o&&!n&&(delete o.user._redirectEventId,await r._persistUserIfCurrent(o.user),await r._setRedirectUser(null,e)),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Uae=10*60*1e3;class zae{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!qae(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!Tq(e)){const i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(to(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=Uae&&this.cachedEventUids.clear(),this.cachedEventUids.has(DL(e))}saveEventToCache(e){this.cachedEventUids.add(DL(e)),this.lastProcessedEventTime=Date.now()}}function DL(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function Tq({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function qae(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Tq(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Hae(t,e={}){return ba(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wae=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Kae=/^https?/;async function Gae(t){if(t.config.emulator)return;const{authorizedDomains:e}=await Hae(t);for(const n of e)try{if(Qae(n))return}catch{}Cs(t,"unauthorized-domain")}function Qae(t){const e=lP(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const o=new URL(t);return o.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===r}if(!Kae.test(n))return!1;if(Wae.test(t))return r===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yae=new gv(3e4,6e4);function ML(){const t=no().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function Xae(t){return new Promise((e,n)=>{var r,i,s;function o(){ML(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{ML(),n(to(t,"network-request-failed"))},timeout:Yae.get()})}if(!((i=(r=no().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((s=no().gapi)===null||s===void 0)&&s.load)o();else{const a=Uoe("iframefcb");return no()[a]=()=>{gapi.load?o():n(to(t,"network-request-failed"))},cq(`${Boe()}?onload=${a}`).catch(l=>n(l))}}).catch(e=>{throw Dx=null,e})}let Dx=null;function Jae(t){return Dx=Dx||Xae(t),Dx}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zae=new gv(5e3,15e3),ele="__/auth/iframe",tle="emulator/auth/iframe",nle={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},rle=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function ile(t){const e=t.config;Me(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?wN(e,tle):`https://${t.config.authDomain}/${ele}`,r={apiKey:e.apiKey,appName:t.name,v:rd},i=rle.get(t.config.apiHost);i&&(r.eid=i);const s=t._getFrameworks();return s.length&&(r.fw=s.join(",")),`${n}?${mv(r).slice(1)}`}async function sle(t){const e=await Jae(t),n=no().gapi;return Me(n,t,"internal-error"),e.open({where:document.body,url:ile(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:nle,dontclear:!0},r=>new Promise(async(i,s)=>{await r.restyle({setHideOnLeave:!1});const o=to(t,"network-request-failed"),a=no().setTimeout(()=>{s(o)},Zae.get());function l(){no().clearTimeout(a),i(r)}r.ping(l).then(l,()=>{s(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ole={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},ale=500,lle=600,cle="_blank",ule="http://localhost";class LL{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function dle(t,e,n,r=ale,i=lle){const s=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const l=Object.assign(Object.assign({},ole),{width:r.toString(),height:i.toString(),top:s,left:o}),c=Mn().toLowerCase();n&&(a=nq(c)?cle:n),eq(c)&&(e=e||ule,l.scrollbars="yes");const u=Object.entries(l).reduce((f,[p,m])=>`${f}${p}=${m},`,"");if(Noe(c)&&a!=="_self")return fle(e||"",a),new LL(null);const d=window.open(e||"",a,u);Me(d,t,"popup-blocked");try{d.focus()}catch{}return new LL(d)}function fle(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hle="__/auth/handler",ple="emulator/auth/handler",mle=encodeURIComponent("fac");async function $L(t,e,n,r,i,s){Me(t.config.authDomain,t,"auth-domain-config-required"),Me(t.config.apiKey,t,"invalid-api-key");const o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:rd,eventId:i};if(e instanceof dq){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",nse(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[u,d]of Object.entries({}))o[u]=d}if(e instanceof vv){const u=e.getScopes().filter(d=>d!=="");u.length>0&&(o.scopes=u.join(","))}t.tenantId&&(o.tid=t.tenantId);const a=o;for(const u of Object.keys(a))a[u]===void 0&&delete a[u];const l=await t._getAppCheckToken(),c=l?`#${mle}=${encodeURIComponent(l)}`:"";return`${gle(t)}?${mv(a).slice(1)}${c}`}function gle({config:t}){return t.emulator?wN(t,ple):`https://${t.authDomain}/${hle}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bT="webStorageSupport";class yle{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=xq,this._completeRedirectFn=Bae,this._overrideRedirectResult=$ae}async _openPopup(e,n,r,i){var s;ca((s=this.eventManagers[e._key()])===null||s===void 0?void 0:s.manager,"_initialize() not called before _openPopup()");const o=await $L(e,n,r,lP(),i);return dle(e,o,AN())}async _openRedirect(e,n,r,i){await this._originValidation(e);const s=await $L(e,n,r,lP(),i);return bae(s),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:i,promise:s}=this.eventManagers[n];return i?Promise.resolve(i):(ca(s,"If manager is not set, promise should be"),s)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await sle(e),r=new zae(e);return n.register("authEvent",i=>(Me(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(bT,{type:bT},i=>{var s;const o=(s=i==null?void 0:i[0])===null||s===void 0?void 0:s[bT];o!==void 0&&n(!!o),Cs(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=Gae(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return aq()||tq()||SN()}}const vle=yle;var VL="@firebase/auth",FL="1.7.9";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xle{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Me(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ble(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function wle(t){ju(new zl("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=r.options;Me(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});const l={apiKey:o,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:lq(t)},c=new $oe(r,i,s,l);return Koe(c,n),c},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),ju(new zl("auth-internal",e=>{const n=sd(e.getProvider("auth").getImmediate());return(r=>new xle(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),eo(VL,FL,ble(t)),eo(VL,FL,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _le=5*60,Sle=M8("authIdTokenMaxAge")||_le;let BL=null;const Ele=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>Sle)return;const i=n==null?void 0:n.token;BL!==i&&(BL=i,await fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function Tle(t=U8()){const e=C_(t,"auth");if(e.isInitialized())return e.getImmediate();const n=Woe(t,{popupRedirectResolver:vle,persistence:[Cae,yae,xq]}),r=M8("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const s=new URL(r,location.origin);if(location.origin===s.origin){const o=Ele(s.toString());hae(n,o,()=>o(n.currentUser)),fae(n,a=>o(a))}}const i=R8("auth");return i&&Goe(n,`http://${i}`),n}function Ale(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}Voe({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const s=to("internal-error");s.customData=i,n(s)},r.type="text/javascript",r.charset="UTF-8",Ale().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});wle("Browser");var kle="firebase",Ple="10.14.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */eo(kle,Ple,"app");var UL=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var hu,Aq;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(S,E){function P(){}P.prototype=E.prototype,S.D=E.prototype,S.prototype=new P,S.prototype.constructor=S,S.C=function(O,N,R){for(var j=Array(arguments.length-2),z=2;z<arguments.length;z++)j[z-2]=arguments[z];return E.prototype[N].apply(O,j)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(S,E,P){P||(P=0);var O=Array(16);if(typeof E=="string")for(var N=0;16>N;++N)O[N]=E.charCodeAt(P++)|E.charCodeAt(P++)<<8|E.charCodeAt(P++)<<16|E.charCodeAt(P++)<<24;else for(N=0;16>N;++N)O[N]=E[P++]|E[P++]<<8|E[P++]<<16|E[P++]<<24;E=S.g[0],P=S.g[1],N=S.g[2];var R=S.g[3],j=E+(R^P&(N^R))+O[0]+3614090360&4294967295;E=P+(j<<7&4294967295|j>>>25),j=R+(N^E&(P^N))+O[1]+3905402710&4294967295,R=E+(j<<12&4294967295|j>>>20),j=N+(P^R&(E^P))+O[2]+606105819&4294967295,N=R+(j<<17&4294967295|j>>>15),j=P+(E^N&(R^E))+O[3]+3250441966&4294967295,P=N+(j<<22&4294967295|j>>>10),j=E+(R^P&(N^R))+O[4]+4118548399&4294967295,E=P+(j<<7&4294967295|j>>>25),j=R+(N^E&(P^N))+O[5]+1200080426&4294967295,R=E+(j<<12&4294967295|j>>>20),j=N+(P^R&(E^P))+O[6]+2821735955&4294967295,N=R+(j<<17&4294967295|j>>>15),j=P+(E^N&(R^E))+O[7]+4249261313&4294967295,P=N+(j<<22&4294967295|j>>>10),j=E+(R^P&(N^R))+O[8]+1770035416&4294967295,E=P+(j<<7&4294967295|j>>>25),j=R+(N^E&(P^N))+O[9]+2336552879&4294967295,R=E+(j<<12&4294967295|j>>>20),j=N+(P^R&(E^P))+O[10]+4294925233&4294967295,N=R+(j<<17&4294967295|j>>>15),j=P+(E^N&(R^E))+O[11]+2304563134&4294967295,P=N+(j<<22&4294967295|j>>>10),j=E+(R^P&(N^R))+O[12]+1804603682&4294967295,E=P+(j<<7&4294967295|j>>>25),j=R+(N^E&(P^N))+O[13]+4254626195&4294967295,R=E+(j<<12&4294967295|j>>>20),j=N+(P^R&(E^P))+O[14]+2792965006&4294967295,N=R+(j<<17&4294967295|j>>>15),j=P+(E^N&(R^E))+O[15]+1236535329&4294967295,P=N+(j<<22&4294967295|j>>>10),j=E+(N^R&(P^N))+O[1]+4129170786&4294967295,E=P+(j<<5&4294967295|j>>>27),j=R+(P^N&(E^P))+O[6]+3225465664&4294967295,R=E+(j<<9&4294967295|j>>>23),j=N+(E^P&(R^E))+O[11]+643717713&4294967295,N=R+(j<<14&4294967295|j>>>18),j=P+(R^E&(N^R))+O[0]+3921069994&4294967295,P=N+(j<<20&4294967295|j>>>12),j=E+(N^R&(P^N))+O[5]+3593408605&4294967295,E=P+(j<<5&4294967295|j>>>27),j=R+(P^N&(E^P))+O[10]+38016083&4294967295,R=E+(j<<9&4294967295|j>>>23),j=N+(E^P&(R^E))+O[15]+3634488961&4294967295,N=R+(j<<14&4294967295|j>>>18),j=P+(R^E&(N^R))+O[4]+3889429448&4294967295,P=N+(j<<20&4294967295|j>>>12),j=E+(N^R&(P^N))+O[9]+568446438&4294967295,E=P+(j<<5&4294967295|j>>>27),j=R+(P^N&(E^P))+O[14]+3275163606&4294967295,R=E+(j<<9&4294967295|j>>>23),j=N+(E^P&(R^E))+O[3]+4107603335&4294967295,N=R+(j<<14&4294967295|j>>>18),j=P+(R^E&(N^R))+O[8]+1163531501&4294967295,P=N+(j<<20&4294967295|j>>>12),j=E+(N^R&(P^N))+O[13]+2850285829&4294967295,E=P+(j<<5&4294967295|j>>>27),j=R+(P^N&(E^P))+O[2]+4243563512&4294967295,R=E+(j<<9&4294967295|j>>>23),j=N+(E^P&(R^E))+O[7]+1735328473&4294967295,N=R+(j<<14&4294967295|j>>>18),j=P+(R^E&(N^R))+O[12]+2368359562&4294967295,P=N+(j<<20&4294967295|j>>>12),j=E+(P^N^R)+O[5]+4294588738&4294967295,E=P+(j<<4&4294967295|j>>>28),j=R+(E^P^N)+O[8]+2272392833&4294967295,R=E+(j<<11&4294967295|j>>>21),j=N+(R^E^P)+O[11]+1839030562&4294967295,N=R+(j<<16&4294967295|j>>>16),j=P+(N^R^E)+O[14]+4259657740&4294967295,P=N+(j<<23&4294967295|j>>>9),j=E+(P^N^R)+O[1]+2763975236&4294967295,E=P+(j<<4&4294967295|j>>>28),j=R+(E^P^N)+O[4]+1272893353&4294967295,R=E+(j<<11&4294967295|j>>>21),j=N+(R^E^P)+O[7]+4139469664&4294967295,N=R+(j<<16&4294967295|j>>>16),j=P+(N^R^E)+O[10]+3200236656&4294967295,P=N+(j<<23&4294967295|j>>>9),j=E+(P^N^R)+O[13]+681279174&4294967295,E=P+(j<<4&4294967295|j>>>28),j=R+(E^P^N)+O[0]+3936430074&4294967295,R=E+(j<<11&4294967295|j>>>21),j=N+(R^E^P)+O[3]+3572445317&4294967295,N=R+(j<<16&4294967295|j>>>16),j=P+(N^R^E)+O[6]+76029189&4294967295,P=N+(j<<23&4294967295|j>>>9),j=E+(P^N^R)+O[9]+3654602809&4294967295,E=P+(j<<4&4294967295|j>>>28),j=R+(E^P^N)+O[12]+3873151461&4294967295,R=E+(j<<11&4294967295|j>>>21),j=N+(R^E^P)+O[15]+530742520&4294967295,N=R+(j<<16&4294967295|j>>>16),j=P+(N^R^E)+O[2]+3299628645&4294967295,P=N+(j<<23&4294967295|j>>>9),j=E+(N^(P|~R))+O[0]+4096336452&4294967295,E=P+(j<<6&4294967295|j>>>26),j=R+(P^(E|~N))+O[7]+1126891415&4294967295,R=E+(j<<10&4294967295|j>>>22),j=N+(E^(R|~P))+O[14]+2878612391&4294967295,N=R+(j<<15&4294967295|j>>>17),j=P+(R^(N|~E))+O[5]+4237533241&4294967295,P=N+(j<<21&4294967295|j>>>11),j=E+(N^(P|~R))+O[12]+1700485571&4294967295,E=P+(j<<6&4294967295|j>>>26),j=R+(P^(E|~N))+O[3]+2399980690&4294967295,R=E+(j<<10&4294967295|j>>>22),j=N+(E^(R|~P))+O[10]+4293915773&4294967295,N=R+(j<<15&4294967295|j>>>17),j=P+(R^(N|~E))+O[1]+2240044497&4294967295,P=N+(j<<21&4294967295|j>>>11),j=E+(N^(P|~R))+O[8]+1873313359&4294967295,E=P+(j<<6&4294967295|j>>>26),j=R+(P^(E|~N))+O[15]+4264355552&4294967295,R=E+(j<<10&4294967295|j>>>22),j=N+(E^(R|~P))+O[6]+2734768916&4294967295,N=R+(j<<15&4294967295|j>>>17),j=P+(R^(N|~E))+O[13]+1309151649&4294967295,P=N+(j<<21&4294967295|j>>>11),j=E+(N^(P|~R))+O[4]+4149444226&4294967295,E=P+(j<<6&4294967295|j>>>26),j=R+(P^(E|~N))+O[11]+3174756917&4294967295,R=E+(j<<10&4294967295|j>>>22),j=N+(E^(R|~P))+O[2]+718787259&4294967295,N=R+(j<<15&4294967295|j>>>17),j=P+(R^(N|~E))+O[9]+3951481745&4294967295,S.g[0]=S.g[0]+E&4294967295,S.g[1]=S.g[1]+(N+(j<<21&4294967295|j>>>11))&4294967295,S.g[2]=S.g[2]+N&4294967295,S.g[3]=S.g[3]+R&4294967295}r.prototype.u=function(S,E){E===void 0&&(E=S.length);for(var P=E-this.blockSize,O=this.B,N=this.h,R=0;R<E;){if(N==0)for(;R<=P;)i(this,S,R),R+=this.blockSize;if(typeof S=="string"){for(;R<E;)if(O[N++]=S.charCodeAt(R++),N==this.blockSize){i(this,O),N=0;break}}else for(;R<E;)if(O[N++]=S[R++],N==this.blockSize){i(this,O),N=0;break}}this.h=N,this.o+=E},r.prototype.v=function(){var S=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);S[0]=128;for(var E=1;E<S.length-8;++E)S[E]=0;var P=8*this.o;for(E=S.length-8;E<S.length;++E)S[E]=P&255,P/=256;for(this.u(S),S=Array(16),E=P=0;4>E;++E)for(var O=0;32>O;O+=8)S[P++]=this.g[E]>>>O&255;return S};function s(S,E){var P=a;return Object.prototype.hasOwnProperty.call(P,S)?P[S]:P[S]=E(S)}function o(S,E){this.h=E;for(var P=[],O=!0,N=S.length-1;0<=N;N--){var R=S[N]|0;O&&R==E||(P[N]=R,O=!1)}this.g=P}var a={};function l(S){return-128<=S&&128>S?s(S,function(E){return new o([E|0],0>E?-1:0)}):new o([S|0],0>S?-1:0)}function c(S){if(isNaN(S)||!isFinite(S))return d;if(0>S)return v(c(-S));for(var E=[],P=1,O=0;S>=P;O++)E[O]=S/P|0,P*=4294967296;return new o(E,0)}function u(S,E){if(S.length==0)throw Error("number format error: empty string");if(E=E||10,2>E||36<E)throw Error("radix out of range: "+E);if(S.charAt(0)=="-")return v(u(S.substring(1),E));if(0<=S.indexOf("-"))throw Error('number format error: interior "-" character');for(var P=c(Math.pow(E,8)),O=d,N=0;N<S.length;N+=8){var R=Math.min(8,S.length-N),j=parseInt(S.substring(N,N+R),E);8>R?(R=c(Math.pow(E,R)),O=O.j(R).add(c(j))):(O=O.j(P),O=O.add(c(j)))}return O}var d=l(0),f=l(1),p=l(16777216);t=o.prototype,t.m=function(){if(g(this))return-v(this).m();for(var S=0,E=1,P=0;P<this.g.length;P++){var O=this.i(P);S+=(0<=O?O:4294967296+O)*E,E*=4294967296}return S},t.toString=function(S){if(S=S||10,2>S||36<S)throw Error("radix out of range: "+S);if(m(this))return"0";if(g(this))return"-"+v(this).toString(S);for(var E=c(Math.pow(S,6)),P=this,O="";;){var N=T(P,E).g;P=x(P,N.j(E));var R=((0<P.g.length?P.g[0]:P.h)>>>0).toString(S);if(P=N,m(P))return R+O;for(;6>R.length;)R="0"+R;O=R+O}},t.i=function(S){return 0>S?0:S<this.g.length?this.g[S]:this.h};function m(S){if(S.h!=0)return!1;for(var E=0;E<S.g.length;E++)if(S.g[E]!=0)return!1;return!0}function g(S){return S.h==-1}t.l=function(S){return S=x(this,S),g(S)?-1:m(S)?0:1};function v(S){for(var E=S.g.length,P=[],O=0;O<E;O++)P[O]=~S.g[O];return new o(P,~S.h).add(f)}t.abs=function(){return g(this)?v(this):this},t.add=function(S){for(var E=Math.max(this.g.length,S.g.length),P=[],O=0,N=0;N<=E;N++){var R=O+(this.i(N)&65535)+(S.i(N)&65535),j=(R>>>16)+(this.i(N)>>>16)+(S.i(N)>>>16);O=j>>>16,R&=65535,j&=65535,P[N]=j<<16|R}return new o(P,P[P.length-1]&-2147483648?-1:0)};function x(S,E){return S.add(v(E))}t.j=function(S){if(m(this)||m(S))return d;if(g(this))return g(S)?v(this).j(v(S)):v(v(this).j(S));if(g(S))return v(this.j(v(S)));if(0>this.l(p)&&0>S.l(p))return c(this.m()*S.m());for(var E=this.g.length+S.g.length,P=[],O=0;O<2*E;O++)P[O]=0;for(O=0;O<this.g.length;O++)for(var N=0;N<S.g.length;N++){var R=this.i(O)>>>16,j=this.i(O)&65535,z=S.i(N)>>>16,F=S.i(N)&65535;P[2*O+2*N]+=j*F,b(P,2*O+2*N),P[2*O+2*N+1]+=R*F,b(P,2*O+2*N+1),P[2*O+2*N+1]+=j*z,b(P,2*O+2*N+1),P[2*O+2*N+2]+=R*z,b(P,2*O+2*N+2)}for(O=0;O<E;O++)P[O]=P[2*O+1]<<16|P[2*O];for(O=E;O<2*E;O++)P[O]=0;return new o(P,0)};function b(S,E){for(;(S[E]&65535)!=S[E];)S[E+1]+=S[E]>>>16,S[E]&=65535,E++}function w(S,E){this.g=S,this.h=E}function T(S,E){if(m(E))throw Error("division by zero");if(m(S))return new w(d,d);if(g(S))return E=T(v(S),E),new w(v(E.g),v(E.h));if(g(E))return E=T(S,v(E)),new w(v(E.g),E.h);if(30<S.g.length){if(g(S)||g(E))throw Error("slowDivide_ only works with positive integers.");for(var P=f,O=E;0>=O.l(S);)P=_(P),O=_(O);var N=k(P,1),R=k(O,1);for(O=k(O,2),P=k(P,2);!m(O);){var j=R.add(O);0>=j.l(S)&&(N=N.add(P),R=j),O=k(O,1),P=k(P,1)}return E=x(S,N.j(E)),new w(N,E)}for(N=d;0<=S.l(E);){for(P=Math.max(1,Math.floor(S.m()/E.m())),O=Math.ceil(Math.log(P)/Math.LN2),O=48>=O?1:Math.pow(2,O-48),R=c(P),j=R.j(E);g(j)||0<j.l(S);)P-=O,R=c(P),j=R.j(E);m(R)&&(R=f),N=N.add(R),S=x(S,j)}return new w(N,S)}t.A=function(S){return T(this,S).h},t.and=function(S){for(var E=Math.max(this.g.length,S.g.length),P=[],O=0;O<E;O++)P[O]=this.i(O)&S.i(O);return new o(P,this.h&S.h)},t.or=function(S){for(var E=Math.max(this.g.length,S.g.length),P=[],O=0;O<E;O++)P[O]=this.i(O)|S.i(O);return new o(P,this.h|S.h)},t.xor=function(S){for(var E=Math.max(this.g.length,S.g.length),P=[],O=0;O<E;O++)P[O]=this.i(O)^S.i(O);return new o(P,this.h^S.h)};function _(S){for(var E=S.g.length+1,P=[],O=0;O<E;O++)P[O]=S.i(O)<<1|S.i(O-1)>>>31;return new o(P,S.h)}function k(S,E){var P=E>>5;E%=32;for(var O=S.g.length-P,N=[],R=0;R<O;R++)N[R]=0<E?S.i(R+P)>>>E|S.i(R+P+1)<<32-E:S.i(R+P);return new o(N,S.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,Aq=r,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.A,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=c,o.fromString=u,hu=o}).apply(typeof UL<"u"?UL:typeof self<"u"?self:typeof window<"u"?window:{});var O0=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var kq,Im,Pq,Mx,fP,Cq,Iq,Oq;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(y,A,I){return y==Array.prototype||y==Object.prototype||(y[A]=I.value),y};function n(y){y=[typeof globalThis=="object"&&globalThis,y,typeof window=="object"&&window,typeof self=="object"&&self,typeof O0=="object"&&O0];for(var A=0;A<y.length;++A){var I=y[A];if(I&&I.Math==Math)return I}throw Error("Cannot find global object")}var r=n(this);function i(y,A){if(A)e:{var I=r;y=y.split(".");for(var D=0;D<y.length-1;D++){var q=y[D];if(!(q in I))break e;I=I[q]}y=y[y.length-1],D=I[y],A=A(D),A!=D&&A!=null&&e(I,y,{configurable:!0,writable:!0,value:A})}}function s(y,A){y instanceof String&&(y+="");var I=0,D=!1,q={next:function(){if(!D&&I<y.length){var K=I++;return{value:A(K,y[K]),done:!1}}return D=!0,{done:!0,value:void 0}}};return q[Symbol.iterator]=function(){return q},q}i("Array.prototype.values",function(y){return y||function(){return s(this,function(A,I){return I})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var o=o||{},a=this||self;function l(y){var A=typeof y;return A=A!="object"?A:y?Array.isArray(y)?"array":A:"null",A=="array"||A=="object"&&typeof y.length=="number"}function c(y){var A=typeof y;return A=="object"&&y!=null||A=="function"}function u(y,A,I){return y.call.apply(y.bind,arguments)}function d(y,A,I){if(!y)throw Error();if(2<arguments.length){var D=Array.prototype.slice.call(arguments,2);return function(){var q=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(q,D),y.apply(A,q)}}return function(){return y.apply(A,arguments)}}function f(y,A,I){return f=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?u:d,f.apply(null,arguments)}function p(y,A){var I=Array.prototype.slice.call(arguments,1);return function(){var D=I.slice();return D.push.apply(D,arguments),y.apply(this,D)}}function m(y,A){function I(){}I.prototype=A.prototype,y.aa=A.prototype,y.prototype=new I,y.prototype.constructor=y,y.Qb=function(D,q,K){for(var de=Array(arguments.length-2),jt=2;jt<arguments.length;jt++)de[jt-2]=arguments[jt];return A.prototype[q].apply(D,de)}}function g(y){const A=y.length;if(0<A){const I=Array(A);for(let D=0;D<A;D++)I[D]=y[D];return I}return[]}function v(y,A){for(let I=1;I<arguments.length;I++){const D=arguments[I];if(l(D)){const q=y.length||0,K=D.length||0;y.length=q+K;for(let de=0;de<K;de++)y[q+de]=D[de]}else y.push(D)}}class x{constructor(A,I){this.i=A,this.j=I,this.h=0,this.g=null}get(){let A;return 0<this.h?(this.h--,A=this.g,this.g=A.next,A.next=null):A=this.i(),A}}function b(y){return/^[\s\xa0]*$/.test(y)}function w(){var y=a.navigator;return y&&(y=y.userAgent)?y:""}function T(y){return T[" "](y),y}T[" "]=function(){};var _=w().indexOf("Gecko")!=-1&&!(w().toLowerCase().indexOf("webkit")!=-1&&w().indexOf("Edge")==-1)&&!(w().indexOf("Trident")!=-1||w().indexOf("MSIE")!=-1)&&w().indexOf("Edge")==-1;function k(y,A,I){for(const D in y)A.call(I,y[D],D,y)}function S(y,A){for(const I in y)A.call(void 0,y[I],I,y)}function E(y){const A={};for(const I in y)A[I]=y[I];return A}const P="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function O(y,A){let I,D;for(let q=1;q<arguments.length;q++){D=arguments[q];for(I in D)y[I]=D[I];for(let K=0;K<P.length;K++)I=P[K],Object.prototype.hasOwnProperty.call(D,I)&&(y[I]=D[I])}}function N(y){var A=1;y=y.split(":");const I=[];for(;0<A&&y.length;)I.push(y.shift()),A--;return y.length&&I.push(y.join(":")),I}function R(y){a.setTimeout(()=>{throw y},0)}function j(){var y=U;let A=null;return y.g&&(A=y.g,y.g=y.g.next,y.g||(y.h=null),A.next=null),A}class z{constructor(){this.h=this.g=null}add(A,I){const D=F.get();D.set(A,I),this.h?this.h.next=D:this.g=D,this.h=D}}var F=new x(()=>new L,y=>y.reset());class L{constructor(){this.next=this.g=this.h=null}set(A,I){this.h=A,this.g=I,this.next=null}reset(){this.next=this.g=this.h=null}}let B,$=!1,U=new z,W=()=>{const y=a.Promise.resolve(void 0);B=()=>{y.then(Z)}};var Z=()=>{for(var y;y=j();){try{y.h.call(y.g)}catch(I){R(I)}var A=F;A.j(y),100>A.h&&(A.h++,y.next=A.g,A.g=y)}$=!1};function Q(){this.s=this.s,this.C=this.C}Q.prototype.s=!1,Q.prototype.ma=function(){this.s||(this.s=!0,this.N())},Q.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function fe(y,A){this.type=y,this.g=this.target=A,this.defaultPrevented=!1}fe.prototype.h=function(){this.defaultPrevented=!0};var Le=function(){if(!a.addEventListener||!Object.defineProperty)return!1;var y=!1,A=Object.defineProperty({},"passive",{get:function(){y=!0}});try{const I=()=>{};a.addEventListener("test",I,A),a.removeEventListener("test",I,A)}catch{}return y}();function Ye(y,A){if(fe.call(this,y?y.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,y){var I=this.type=y.type,D=y.changedTouches&&y.changedTouches.length?y.changedTouches[0]:null;if(this.target=y.target||y.srcElement,this.g=A,A=y.relatedTarget){if(_){e:{try{T(A.nodeName);var q=!0;break e}catch{}q=!1}q||(A=null)}}else I=="mouseover"?A=y.fromElement:I=="mouseout"&&(A=y.toElement);this.relatedTarget=A,D?(this.clientX=D.clientX!==void 0?D.clientX:D.pageX,this.clientY=D.clientY!==void 0?D.clientY:D.pageY,this.screenX=D.screenX||0,this.screenY=D.screenY||0):(this.clientX=y.clientX!==void 0?y.clientX:y.pageX,this.clientY=y.clientY!==void 0?y.clientY:y.pageY,this.screenX=y.screenX||0,this.screenY=y.screenY||0),this.button=y.button,this.key=y.key||"",this.ctrlKey=y.ctrlKey,this.altKey=y.altKey,this.shiftKey=y.shiftKey,this.metaKey=y.metaKey,this.pointerId=y.pointerId||0,this.pointerType=typeof y.pointerType=="string"?y.pointerType:rt[y.pointerType]||"",this.state=y.state,this.i=y,y.defaultPrevented&&Ye.aa.h.call(this)}}m(Ye,fe);var rt={2:"touch",3:"pen",4:"mouse"};Ye.prototype.h=function(){Ye.aa.h.call(this);var y=this.i;y.preventDefault?y.preventDefault():y.returnValue=!1};var Gt="closure_listenable_"+(1e6*Math.random()|0),tn=0;function pe(y,A,I,D,q){this.listener=y,this.proxy=null,this.src=A,this.type=I,this.capture=!!D,this.ha=q,this.key=++tn,this.da=this.fa=!1}function Ae(y){y.da=!0,y.listener=null,y.proxy=null,y.src=null,y.ha=null}function Ne(y){this.src=y,this.g={},this.h=0}Ne.prototype.add=function(y,A,I,D,q){var K=y.toString();y=this.g[K],y||(y=this.g[K]=[],this.h++);var de=gt(y,A,D,q);return-1<de?(A=y[de],I||(A.fa=!1)):(A=new pe(A,this.src,K,!!D,q),A.fa=I,y.push(A)),A};function J(y,A){var I=A.type;if(I in y.g){var D=y.g[I],q=Array.prototype.indexOf.call(D,A,void 0),K;(K=0<=q)&&Array.prototype.splice.call(D,q,1),K&&(Ae(A),y.g[I].length==0&&(delete y.g[I],y.h--))}}function gt(y,A,I,D){for(var q=0;q<y.length;++q){var K=y[q];if(!K.da&&K.listener==A&&K.capture==!!I&&K.ha==D)return q}return-1}var We="closure_lm_"+(1e6*Math.random()|0),_t={};function Ot(y,A,I,D,q){if(Array.isArray(A)){for(var K=0;K<A.length;K++)Ot(y,A[K],I,D,q);return null}return I=_e(I),y&&y[Gt]?y.K(A,I,c(D)?!!D.capture:!!D,q):oe(y,A,I,!1,D,q)}function oe(y,A,I,D,q,K){if(!A)throw Error("Invalid event type");var de=c(q)?!!q.capture:!!q,jt=tt(y);if(jt||(y[We]=jt=new Ne(y)),I=jt.add(A,I,D,de,K),I.proxy)return I;if(D=ge(),I.proxy=D,D.src=y,D.listener=I,y.addEventListener)Le||(q=de),q===void 0&&(q=!1),y.addEventListener(A.toString(),D,q);else if(y.attachEvent)y.attachEvent(Nt(A.toString()),D);else if(y.addListener&&y.removeListener)y.addListener(D);else throw Error("addEventListener and attachEvent are unavailable.");return I}function ge(){function y(I){return A.call(y.src,y.listener,I)}const A=it;return y}function ke(y,A,I,D,q){if(Array.isArray(A))for(var K=0;K<A.length;K++)ke(y,A[K],I,D,q);else D=c(D)?!!D.capture:!!D,I=_e(I),y&&y[Gt]?(y=y.i,A=String(A).toString(),A in y.g&&(K=y.g[A],I=gt(K,I,D,q),-1<I&&(Ae(K[I]),Array.prototype.splice.call(K,I,1),K.length==0&&(delete y.g[A],y.h--)))):y&&(y=tt(y))&&(A=y.g[A.toString()],y=-1,A&&(y=gt(A,I,D,q)),(I=-1<y?A[y]:null)&&Je(I))}function Je(y){if(typeof y!="number"&&y&&!y.da){var A=y.src;if(A&&A[Gt])J(A.i,y);else{var I=y.type,D=y.proxy;A.removeEventListener?A.removeEventListener(I,D,y.capture):A.detachEvent?A.detachEvent(Nt(I),D):A.addListener&&A.removeListener&&A.removeListener(D),(I=tt(A))?(J(I,y),I.h==0&&(I.src=null,A[We]=null)):Ae(y)}}}function Nt(y){return y in _t?_t[y]:_t[y]="on"+y}function it(y,A){if(y.da)y=!0;else{A=new Ye(A,this);var I=y.listener,D=y.ha||y.src;y.fa&&Je(y),y=I.call(D,A)}return y}function tt(y){return y=y[We],y instanceof Ne?y:null}var se="__closure_events_fn_"+(1e9*Math.random()>>>0);function _e(y){return typeof y=="function"?y:(y[se]||(y[se]=function(A){return y.handleEvent(A)}),y[se])}function $e(){Q.call(this),this.i=new Ne(this),this.M=this,this.F=null}m($e,Q),$e.prototype[Gt]=!0,$e.prototype.removeEventListener=function(y,A,I,D){ke(this,y,A,I,D)};function Ze(y,A){var I,D=y.F;if(D)for(I=[];D;D=D.F)I.push(D);if(y=y.M,D=A.type||A,typeof A=="string")A=new fe(A,y);else if(A instanceof fe)A.target=A.target||y;else{var q=A;A=new fe(D,y),O(A,q)}if(q=!0,I)for(var K=I.length-1;0<=K;K--){var de=A.g=I[K];q=Vn(de,D,!0,A)&&q}if(de=A.g=y,q=Vn(de,D,!0,A)&&q,q=Vn(de,D,!1,A)&&q,I)for(K=0;K<I.length;K++)de=A.g=I[K],q=Vn(de,D,!1,A)&&q}$e.prototype.N=function(){if($e.aa.N.call(this),this.i){var y=this.i,A;for(A in y.g){for(var I=y.g[A],D=0;D<I.length;D++)Ae(I[D]);delete y.g[A],y.h--}}this.F=null},$e.prototype.K=function(y,A,I,D){return this.i.add(String(y),A,!1,I,D)},$e.prototype.L=function(y,A,I,D){return this.i.add(String(y),A,!0,I,D)};function Vn(y,A,I,D){if(A=y.i.g[String(A)],!A)return!0;A=A.concat();for(var q=!0,K=0;K<A.length;++K){var de=A[K];if(de&&!de.da&&de.capture==I){var jt=de.listener,Xn=de.ha||de.src;de.fa&&J(y.i,de),q=jt.call(Xn,D)!==!1&&q}}return q&&!D.defaultPrevented}function Pa(y,A,I){if(typeof y=="function")I&&(y=f(y,I));else if(y&&typeof y.handleEvent=="function")y=f(y.handleEvent,y);else throw Error("Invalid listener argument");return 2147483647<Number(A)?-1:a.setTimeout(y,A||0)}function So(y){y.g=Pa(()=>{y.g=null,y.i&&(y.i=!1,So(y))},y.l);const A=y.h;y.h=null,y.m.apply(null,A)}class Cp extends Q{constructor(A,I){super(),this.m=A,this.l=I,this.h=null,this.i=!1,this.g=null}j(A){this.h=arguments,this.g?this.i=!0:So(this)}N(){super.N(),this.g&&(a.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Eo(y){Q.call(this),this.h=y,this.g={}}m(Eo,Q);var md=[];function mc(y){k(y.g,function(A,I){this.g.hasOwnProperty(I)&&Je(A)},y),y.g={}}Eo.prototype.N=function(){Eo.aa.N.call(this),mc(this)},Eo.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var gc=a.JSON.stringify,Ip=a.JSON.parse,Op=class{stringify(y){return a.JSON.stringify(y,void 0)}parse(y){return a.JSON.parse(y,void 0)}};function yc(){}yc.prototype.h=null;function Gv(y){return y.h||(y.h=y.i())}function KR(){}var Np={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function TE(){fe.call(this,"d")}m(TE,fe);function AE(){fe.call(this,"c")}m(AE,fe);var vc={},GR=null;function Qv(){return GR=GR||new $e}vc.La="serverreachability";function QR(y){fe.call(this,vc.La,y)}m(QR,fe);function jp(y){const A=Qv();Ze(A,new QR(A))}vc.STAT_EVENT="statevent";function YR(y,A){fe.call(this,vc.STAT_EVENT,y),this.stat=A}m(YR,fe);function Ir(y){const A=Qv();Ze(A,new YR(A,y))}vc.Ma="timingevent";function XR(y,A){fe.call(this,vc.Ma,y),this.size=A}m(XR,fe);function Rp(y,A){if(typeof y!="function")throw Error("Fn must not be null and must be a function");return a.setTimeout(function(){y()},A)}function Dp(){this.g=!0}Dp.prototype.xa=function(){this.g=!1};function ree(y,A,I,D,q,K){y.info(function(){if(y.g)if(K)for(var de="",jt=K.split("&"),Xn=0;Xn<jt.length;Xn++){var dt=jt[Xn].split("=");if(1<dt.length){var ur=dt[0];dt=dt[1];var dr=ur.split("_");de=2<=dr.length&&dr[1]=="type"?de+(ur+"="+dt+"&"):de+(ur+"=redacted&")}}else de=null;else de=K;return"XMLHTTP REQ ("+D+") [attempt "+q+"]: "+A+`
`+I+`
`+de})}function iee(y,A,I,D,q,K,de){y.info(function(){return"XMLHTTP RESP ("+D+") [ attempt "+q+"]: "+A+`
`+I+`
`+K+" "+de})}function gd(y,A,I,D){y.info(function(){return"XMLHTTP TEXT ("+A+"): "+oee(y,I)+(D?" "+D:"")})}function see(y,A){y.info(function(){return"TIMEOUT: "+A})}Dp.prototype.info=function(){};function oee(y,A){if(!y.g)return A;if(!A)return null;try{var I=JSON.parse(A);if(I){for(y=0;y<I.length;y++)if(Array.isArray(I[y])){var D=I[y];if(!(2>D.length)){var q=D[1];if(Array.isArray(q)&&!(1>q.length)){var K=q[0];if(K!="noop"&&K!="stop"&&K!="close")for(var de=1;de<q.length;de++)q[de]=""}}}}return gc(I)}catch{return A}}var Yv={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},JR={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},kE;function Xv(){}m(Xv,yc),Xv.prototype.g=function(){return new XMLHttpRequest},Xv.prototype.i=function(){return{}},kE=new Xv;function Ca(y,A,I,D){this.j=y,this.i=A,this.l=I,this.R=D||1,this.U=new Eo(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new ZR}function ZR(){this.i=null,this.g="",this.h=!1}var eD={},PE={};function CE(y,A,I){y.L=1,y.v=t0(To(A)),y.m=I,y.P=!0,tD(y,null)}function tD(y,A){y.F=Date.now(),Jv(y),y.A=To(y.v);var I=y.A,D=y.R;Array.isArray(D)||(D=[String(D)]),mD(I.i,"t",D),y.C=0,I=y.j.J,y.h=new ZR,y.g=jD(y.j,I?A:null,!y.m),0<y.O&&(y.M=new Cp(f(y.Y,y,y.g),y.O)),A=y.U,I=y.g,D=y.ca;var q="readystatechange";Array.isArray(q)||(q&&(md[0]=q.toString()),q=md);for(var K=0;K<q.length;K++){var de=Ot(I,q[K],D||A.handleEvent,!1,A.h||A);if(!de)break;A.g[de.key]=de}A=y.H?E(y.H):{},y.m?(y.u||(y.u="POST"),A["Content-Type"]="application/x-www-form-urlencoded",y.g.ea(y.A,y.u,y.m,A)):(y.u="GET",y.g.ea(y.A,y.u,null,A)),jp(),ree(y.i,y.u,y.A,y.l,y.R,y.m)}Ca.prototype.ca=function(y){y=y.target;const A=this.M;A&&Ao(y)==3?A.j():this.Y(y)},Ca.prototype.Y=function(y){try{if(y==this.g)e:{const dr=Ao(this.g);var A=this.g.Ba();const xd=this.g.Z();if(!(3>dr)&&(dr!=3||this.g&&(this.h.h||this.g.oa()||_D(this.g)))){this.J||dr!=4||A==7||(A==8||0>=xd?jp(3):jp(2)),IE(this);var I=this.g.Z();this.X=I;t:if(nD(this)){var D=_D(this.g);y="";var q=D.length,K=Ao(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){xc(this),Mp(this);var de="";break t}this.h.i=new a.TextDecoder}for(A=0;A<q;A++)this.h.h=!0,y+=this.h.i.decode(D[A],{stream:!(K&&A==q-1)});D.length=0,this.h.g+=y,this.C=0,de=this.h.g}else de=this.g.oa();if(this.o=I==200,iee(this.i,this.u,this.A,this.l,this.R,dr,I),this.o){if(this.T&&!this.K){t:{if(this.g){var jt,Xn=this.g;if((jt=Xn.g?Xn.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!b(jt)){var dt=jt;break t}}dt=null}if(I=dt)gd(this.i,this.l,I,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,OE(this,I);else{this.o=!1,this.s=3,Ir(12),xc(this),Mp(this);break e}}if(this.P){I=!0;let ds;for(;!this.J&&this.C<de.length;)if(ds=aee(this,de),ds==PE){dr==4&&(this.s=4,Ir(14),I=!1),gd(this.i,this.l,null,"[Incomplete Response]");break}else if(ds==eD){this.s=4,Ir(15),gd(this.i,this.l,de,"[Invalid Chunk]"),I=!1;break}else gd(this.i,this.l,ds,null),OE(this,ds);if(nD(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),dr!=4||de.length!=0||this.h.h||(this.s=1,Ir(16),I=!1),this.o=this.o&&I,!I)gd(this.i,this.l,de,"[Invalid Chunked Response]"),xc(this),Mp(this);else if(0<de.length&&!this.W){this.W=!0;var ur=this.j;ur.g==this&&ur.ba&&!ur.M&&(ur.j.info("Great, no buffering proxy detected. Bytes received: "+de.length),LE(ur),ur.M=!0,Ir(11))}}else gd(this.i,this.l,de,null),OE(this,de);dr==4&&xc(this),this.o&&!this.J&&(dr==4?CD(this.j,this):(this.o=!1,Jv(this)))}else Eee(this.g),I==400&&0<de.indexOf("Unknown SID")?(this.s=3,Ir(12)):(this.s=0,Ir(13)),xc(this),Mp(this)}}}catch{}finally{}};function nD(y){return y.g?y.u=="GET"&&y.L!=2&&y.j.Ca:!1}function aee(y,A){var I=y.C,D=A.indexOf(`
`,I);return D==-1?PE:(I=Number(A.substring(I,D)),isNaN(I)?eD:(D+=1,D+I>A.length?PE:(A=A.slice(D,D+I),y.C=D+I,A)))}Ca.prototype.cancel=function(){this.J=!0,xc(this)};function Jv(y){y.S=Date.now()+y.I,rD(y,y.I)}function rD(y,A){if(y.B!=null)throw Error("WatchDog timer not null");y.B=Rp(f(y.ba,y),A)}function IE(y){y.B&&(a.clearTimeout(y.B),y.B=null)}Ca.prototype.ba=function(){this.B=null;const y=Date.now();0<=y-this.S?(see(this.i,this.A),this.L!=2&&(jp(),Ir(17)),xc(this),this.s=2,Mp(this)):rD(this,this.S-y)};function Mp(y){y.j.G==0||y.J||CD(y.j,y)}function xc(y){IE(y);var A=y.M;A&&typeof A.ma=="function"&&A.ma(),y.M=null,mc(y.U),y.g&&(A=y.g,y.g=null,A.abort(),A.ma())}function OE(y,A){try{var I=y.j;if(I.G!=0&&(I.g==y||NE(I.h,y))){if(!y.K&&NE(I.h,y)&&I.G==3){try{var D=I.Da.g.parse(A)}catch{D=null}if(Array.isArray(D)&&D.length==3){var q=D;if(q[0]==0){e:if(!I.u){if(I.g)if(I.g.F+3e3<y.F)a0(I),s0(I);else break e;ME(I),Ir(18)}}else I.za=q[1],0<I.za-I.T&&37500>q[2]&&I.F&&I.v==0&&!I.C&&(I.C=Rp(f(I.Za,I),6e3));if(1>=oD(I.h)&&I.ca){try{I.ca()}catch{}I.ca=void 0}}else wc(I,11)}else if((y.K||I.g==y)&&a0(I),!b(A))for(q=I.Da.g.parse(A),A=0;A<q.length;A++){let dt=q[A];if(I.T=dt[0],dt=dt[1],I.G==2)if(dt[0]=="c"){I.K=dt[1],I.ia=dt[2];const ur=dt[3];ur!=null&&(I.la=ur,I.j.info("VER="+I.la));const dr=dt[4];dr!=null&&(I.Aa=dr,I.j.info("SVER="+I.Aa));const xd=dt[5];xd!=null&&typeof xd=="number"&&0<xd&&(D=1.5*xd,I.L=D,I.j.info("backChannelRequestTimeoutMs_="+D)),D=I;const ds=y.g;if(ds){const c0=ds.g?ds.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(c0){var K=D.h;K.g||c0.indexOf("spdy")==-1&&c0.indexOf("quic")==-1&&c0.indexOf("h2")==-1||(K.j=K.l,K.g=new Set,K.h&&(jE(K,K.h),K.h=null))}if(D.D){const $E=ds.g?ds.g.getResponseHeader("X-HTTP-Session-Id"):null;$E&&(D.ya=$E,Bt(D.I,D.D,$E))}}I.G=3,I.l&&I.l.ua(),I.ba&&(I.R=Date.now()-y.F,I.j.info("Handshake RTT: "+I.R+"ms")),D=I;var de=y;if(D.qa=ND(D,D.J?D.ia:null,D.W),de.K){aD(D.h,de);var jt=de,Xn=D.L;Xn&&(jt.I=Xn),jt.B&&(IE(jt),Jv(jt)),D.g=de}else kD(D);0<I.i.length&&o0(I)}else dt[0]!="stop"&&dt[0]!="close"||wc(I,7);else I.G==3&&(dt[0]=="stop"||dt[0]=="close"?dt[0]=="stop"?wc(I,7):DE(I):dt[0]!="noop"&&I.l&&I.l.ta(dt),I.v=0)}}jp(4)}catch{}}var lee=class{constructor(y,A){this.g=y,this.map=A}};function iD(y){this.l=y||10,a.PerformanceNavigationTiming?(y=a.performance.getEntriesByType("navigation"),y=0<y.length&&(y[0].nextHopProtocol=="hq"||y[0].nextHopProtocol=="h2")):y=!!(a.chrome&&a.chrome.loadTimes&&a.chrome.loadTimes()&&a.chrome.loadTimes().wasFetchedViaSpdy),this.j=y?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function sD(y){return y.h?!0:y.g?y.g.size>=y.j:!1}function oD(y){return y.h?1:y.g?y.g.size:0}function NE(y,A){return y.h?y.h==A:y.g?y.g.has(A):!1}function jE(y,A){y.g?y.g.add(A):y.h=A}function aD(y,A){y.h&&y.h==A?y.h=null:y.g&&y.g.has(A)&&y.g.delete(A)}iD.prototype.cancel=function(){if(this.i=lD(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const y of this.g.values())y.cancel();this.g.clear()}};function lD(y){if(y.h!=null)return y.i.concat(y.h.D);if(y.g!=null&&y.g.size!==0){let A=y.i;for(const I of y.g.values())A=A.concat(I.D);return A}return g(y.i)}function cee(y){if(y.V&&typeof y.V=="function")return y.V();if(typeof Map<"u"&&y instanceof Map||typeof Set<"u"&&y instanceof Set)return Array.from(y.values());if(typeof y=="string")return y.split("");if(l(y)){for(var A=[],I=y.length,D=0;D<I;D++)A.push(y[D]);return A}A=[],I=0;for(D in y)A[I++]=y[D];return A}function uee(y){if(y.na&&typeof y.na=="function")return y.na();if(!y.V||typeof y.V!="function"){if(typeof Map<"u"&&y instanceof Map)return Array.from(y.keys());if(!(typeof Set<"u"&&y instanceof Set)){if(l(y)||typeof y=="string"){var A=[];y=y.length;for(var I=0;I<y;I++)A.push(I);return A}A=[],I=0;for(const D in y)A[I++]=D;return A}}}function cD(y,A){if(y.forEach&&typeof y.forEach=="function")y.forEach(A,void 0);else if(l(y)||typeof y=="string")Array.prototype.forEach.call(y,A,void 0);else for(var I=uee(y),D=cee(y),q=D.length,K=0;K<q;K++)A.call(void 0,D[K],I&&I[K],y)}var uD=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function dee(y,A){if(y){y=y.split("&");for(var I=0;I<y.length;I++){var D=y[I].indexOf("="),q=null;if(0<=D){var K=y[I].substring(0,D);q=y[I].substring(D+1)}else K=y[I];A(K,q?decodeURIComponent(q.replace(/\+/g," ")):"")}}}function bc(y){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,y instanceof bc){this.h=y.h,Zv(this,y.j),this.o=y.o,this.g=y.g,e0(this,y.s),this.l=y.l;var A=y.i,I=new Vp;I.i=A.i,A.g&&(I.g=new Map(A.g),I.h=A.h),dD(this,I),this.m=y.m}else y&&(A=String(y).match(uD))?(this.h=!1,Zv(this,A[1]||"",!0),this.o=Lp(A[2]||""),this.g=Lp(A[3]||"",!0),e0(this,A[4]),this.l=Lp(A[5]||"",!0),dD(this,A[6]||"",!0),this.m=Lp(A[7]||"")):(this.h=!1,this.i=new Vp(null,this.h))}bc.prototype.toString=function(){var y=[],A=this.j;A&&y.push($p(A,fD,!0),":");var I=this.g;return(I||A=="file")&&(y.push("//"),(A=this.o)&&y.push($p(A,fD,!0),"@"),y.push(encodeURIComponent(String(I)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),I=this.s,I!=null&&y.push(":",String(I))),(I=this.l)&&(this.g&&I.charAt(0)!="/"&&y.push("/"),y.push($p(I,I.charAt(0)=="/"?pee:hee,!0))),(I=this.i.toString())&&y.push("?",I),(I=this.m)&&y.push("#",$p(I,gee)),y.join("")};function To(y){return new bc(y)}function Zv(y,A,I){y.j=I?Lp(A,!0):A,y.j&&(y.j=y.j.replace(/:$/,""))}function e0(y,A){if(A){if(A=Number(A),isNaN(A)||0>A)throw Error("Bad port number "+A);y.s=A}else y.s=null}function dD(y,A,I){A instanceof Vp?(y.i=A,yee(y.i,y.h)):(I||(A=$p(A,mee)),y.i=new Vp(A,y.h))}function Bt(y,A,I){y.i.set(A,I)}function t0(y){return Bt(y,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),y}function Lp(y,A){return y?A?decodeURI(y.replace(/%25/g,"%2525")):decodeURIComponent(y):""}function $p(y,A,I){return typeof y=="string"?(y=encodeURI(y).replace(A,fee),I&&(y=y.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),y):null}function fee(y){return y=y.charCodeAt(0),"%"+(y>>4&15).toString(16)+(y&15).toString(16)}var fD=/[#\/\?@]/g,hee=/[#\?:]/g,pee=/[#\?]/g,mee=/[#\?@]/g,gee=/#/g;function Vp(y,A){this.h=this.g=null,this.i=y||null,this.j=!!A}function Ia(y){y.g||(y.g=new Map,y.h=0,y.i&&dee(y.i,function(A,I){y.add(decodeURIComponent(A.replace(/\+/g," ")),I)}))}t=Vp.prototype,t.add=function(y,A){Ia(this),this.i=null,y=yd(this,y);var I=this.g.get(y);return I||this.g.set(y,I=[]),I.push(A),this.h+=1,this};function hD(y,A){Ia(y),A=yd(y,A),y.g.has(A)&&(y.i=null,y.h-=y.g.get(A).length,y.g.delete(A))}function pD(y,A){return Ia(y),A=yd(y,A),y.g.has(A)}t.forEach=function(y,A){Ia(this),this.g.forEach(function(I,D){I.forEach(function(q){y.call(A,q,D,this)},this)},this)},t.na=function(){Ia(this);const y=Array.from(this.g.values()),A=Array.from(this.g.keys()),I=[];for(let D=0;D<A.length;D++){const q=y[D];for(let K=0;K<q.length;K++)I.push(A[D])}return I},t.V=function(y){Ia(this);let A=[];if(typeof y=="string")pD(this,y)&&(A=A.concat(this.g.get(yd(this,y))));else{y=Array.from(this.g.values());for(let I=0;I<y.length;I++)A=A.concat(y[I])}return A},t.set=function(y,A){return Ia(this),this.i=null,y=yd(this,y),pD(this,y)&&(this.h-=this.g.get(y).length),this.g.set(y,[A]),this.h+=1,this},t.get=function(y,A){return y?(y=this.V(y),0<y.length?String(y[0]):A):A};function mD(y,A,I){hD(y,A),0<I.length&&(y.i=null,y.g.set(yd(y,A),g(I)),y.h+=I.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const y=[],A=Array.from(this.g.keys());for(var I=0;I<A.length;I++){var D=A[I];const K=encodeURIComponent(String(D)),de=this.V(D);for(D=0;D<de.length;D++){var q=K;de[D]!==""&&(q+="="+encodeURIComponent(String(de[D]))),y.push(q)}}return this.i=y.join("&")};function yd(y,A){return A=String(A),y.j&&(A=A.toLowerCase()),A}function yee(y,A){A&&!y.j&&(Ia(y),y.i=null,y.g.forEach(function(I,D){var q=D.toLowerCase();D!=q&&(hD(this,D),mD(this,q,I))},y)),y.j=A}function vee(y,A){const I=new Dp;if(a.Image){const D=new Image;D.onload=p(Oa,I,"TestLoadImage: loaded",!0,A,D),D.onerror=p(Oa,I,"TestLoadImage: error",!1,A,D),D.onabort=p(Oa,I,"TestLoadImage: abort",!1,A,D),D.ontimeout=p(Oa,I,"TestLoadImage: timeout",!1,A,D),a.setTimeout(function(){D.ontimeout&&D.ontimeout()},1e4),D.src=y}else A(!1)}function xee(y,A){const I=new Dp,D=new AbortController,q=setTimeout(()=>{D.abort(),Oa(I,"TestPingServer: timeout",!1,A)},1e4);fetch(y,{signal:D.signal}).then(K=>{clearTimeout(q),K.ok?Oa(I,"TestPingServer: ok",!0,A):Oa(I,"TestPingServer: server error",!1,A)}).catch(()=>{clearTimeout(q),Oa(I,"TestPingServer: error",!1,A)})}function Oa(y,A,I,D,q){try{q&&(q.onload=null,q.onerror=null,q.onabort=null,q.ontimeout=null),D(I)}catch{}}function bee(){this.g=new Op}function wee(y,A,I){const D=I||"";try{cD(y,function(q,K){let de=q;c(q)&&(de=gc(q)),A.push(D+K+"="+encodeURIComponent(de))})}catch(q){throw A.push(D+"type="+encodeURIComponent("_badmap")),q}}function n0(y){this.l=y.Ub||null,this.j=y.eb||!1}m(n0,yc),n0.prototype.g=function(){return new r0(this.l,this.j)},n0.prototype.i=function(y){return function(){return y}}({});function r0(y,A){$e.call(this),this.D=y,this.o=A,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}m(r0,$e),t=r0.prototype,t.open=function(y,A){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=y,this.A=A,this.readyState=1,Bp(this)},t.send=function(y){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const A={headers:this.u,method:this.B,credentials:this.m,cache:void 0};y&&(A.body=y),(this.D||a).fetch(new Request(this.A,A)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Fp(this)),this.readyState=0},t.Sa=function(y){if(this.g&&(this.l=y,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=y.headers,this.readyState=2,Bp(this)),this.g&&(this.readyState=3,Bp(this),this.g)))if(this.responseType==="arraybuffer")y.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof a.ReadableStream<"u"&&"body"in y){if(this.j=y.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;gD(this)}else y.text().then(this.Ra.bind(this),this.ga.bind(this))};function gD(y){y.j.read().then(y.Pa.bind(y)).catch(y.ga.bind(y))}t.Pa=function(y){if(this.g){if(this.o&&y.value)this.response.push(y.value);else if(!this.o){var A=y.value?y.value:new Uint8Array(0);(A=this.v.decode(A,{stream:!y.done}))&&(this.response=this.responseText+=A)}y.done?Fp(this):Bp(this),this.readyState==3&&gD(this)}},t.Ra=function(y){this.g&&(this.response=this.responseText=y,Fp(this))},t.Qa=function(y){this.g&&(this.response=y,Fp(this))},t.ga=function(){this.g&&Fp(this)};function Fp(y){y.readyState=4,y.l=null,y.j=null,y.v=null,Bp(y)}t.setRequestHeader=function(y,A){this.u.append(y,A)},t.getResponseHeader=function(y){return this.h&&this.h.get(y.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const y=[],A=this.h.entries();for(var I=A.next();!I.done;)I=I.value,y.push(I[0]+": "+I[1]),I=A.next();return y.join(`\r
`)};function Bp(y){y.onreadystatechange&&y.onreadystatechange.call(y)}Object.defineProperty(r0.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(y){this.m=y?"include":"same-origin"}});function yD(y){let A="";return k(y,function(I,D){A+=D,A+=":",A+=I,A+=`\r
`}),A}function RE(y,A,I){e:{for(D in I){var D=!1;break e}D=!0}D||(I=yD(I),typeof y=="string"?I!=null&&encodeURIComponent(String(I)):Bt(y,A,I))}function cn(y){$e.call(this),this.headers=new Map,this.o=y||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}m(cn,$e);var _ee=/^https?$/i,See=["POST","PUT"];t=cn.prototype,t.Ha=function(y){this.J=y},t.ea=function(y,A,I,D){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+y);A=A?A.toUpperCase():"GET",this.D=y,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():kE.g(),this.v=this.o?Gv(this.o):Gv(kE),this.g.onreadystatechange=f(this.Ea,this);try{this.B=!0,this.g.open(A,String(y),!0),this.B=!1}catch(K){vD(this,K);return}if(y=I||"",I=new Map(this.headers),D)if(Object.getPrototypeOf(D)===Object.prototype)for(var q in D)I.set(q,D[q]);else if(typeof D.keys=="function"&&typeof D.get=="function")for(const K of D.keys())I.set(K,D.get(K));else throw Error("Unknown input type for opt_headers: "+String(D));D=Array.from(I.keys()).find(K=>K.toLowerCase()=="content-type"),q=a.FormData&&y instanceof a.FormData,!(0<=Array.prototype.indexOf.call(See,A,void 0))||D||q||I.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[K,de]of I)this.g.setRequestHeader(K,de);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{wD(this),this.u=!0,this.g.send(y),this.u=!1}catch(K){vD(this,K)}};function vD(y,A){y.h=!1,y.g&&(y.j=!0,y.g.abort(),y.j=!1),y.l=A,y.m=5,xD(y),i0(y)}function xD(y){y.A||(y.A=!0,Ze(y,"complete"),Ze(y,"error"))}t.abort=function(y){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=y||7,Ze(this,"complete"),Ze(this,"abort"),i0(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),i0(this,!0)),cn.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?bD(this):this.bb())},t.bb=function(){bD(this)};function bD(y){if(y.h&&typeof o<"u"&&(!y.v[1]||Ao(y)!=4||y.Z()!=2)){if(y.u&&Ao(y)==4)Pa(y.Ea,0,y);else if(Ze(y,"readystatechange"),Ao(y)==4){y.h=!1;try{const de=y.Z();e:switch(de){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var A=!0;break e;default:A=!1}var I;if(!(I=A)){var D;if(D=de===0){var q=String(y.D).match(uD)[1]||null;!q&&a.self&&a.self.location&&(q=a.self.location.protocol.slice(0,-1)),D=!_ee.test(q?q.toLowerCase():"")}I=D}if(I)Ze(y,"complete"),Ze(y,"success");else{y.m=6;try{var K=2<Ao(y)?y.g.statusText:""}catch{K=""}y.l=K+" ["+y.Z()+"]",xD(y)}}finally{i0(y)}}}}function i0(y,A){if(y.g){wD(y);const I=y.g,D=y.v[0]?()=>{}:null;y.g=null,y.v=null,A||Ze(y,"ready");try{I.onreadystatechange=D}catch{}}}function wD(y){y.I&&(a.clearTimeout(y.I),y.I=null)}t.isActive=function(){return!!this.g};function Ao(y){return y.g?y.g.readyState:0}t.Z=function(){try{return 2<Ao(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(y){if(this.g){var A=this.g.responseText;return y&&A.indexOf(y)==0&&(A=A.substring(y.length)),Ip(A)}};function _D(y){try{if(!y.g)return null;if("response"in y.g)return y.g.response;switch(y.H){case"":case"text":return y.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in y.g)return y.g.mozResponseArrayBuffer}return null}catch{return null}}function Eee(y){const A={};y=(y.g&&2<=Ao(y)&&y.g.getAllResponseHeaders()||"").split(`\r
`);for(let D=0;D<y.length;D++){if(b(y[D]))continue;var I=N(y[D]);const q=I[0];if(I=I[1],typeof I!="string")continue;I=I.trim();const K=A[q]||[];A[q]=K,K.push(I)}S(A,function(D){return D.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Up(y,A,I){return I&&I.internalChannelParams&&I.internalChannelParams[y]||A}function SD(y){this.Aa=0,this.i=[],this.j=new Dp,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Up("failFast",!1,y),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Up("baseRetryDelayMs",5e3,y),this.cb=Up("retryDelaySeedMs",1e4,y),this.Wa=Up("forwardChannelMaxRetries",2,y),this.wa=Up("forwardChannelRequestTimeoutMs",2e4,y),this.pa=y&&y.xmlHttpFactory||void 0,this.Xa=y&&y.Tb||void 0,this.Ca=y&&y.useFetchStreams||!1,this.L=void 0,this.J=y&&y.supportsCrossDomainXhr||!1,this.K="",this.h=new iD(y&&y.concurrentRequestLimit),this.Da=new bee,this.P=y&&y.fastHandshake||!1,this.O=y&&y.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=y&&y.Rb||!1,y&&y.xa&&this.j.xa(),y&&y.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&y&&y.detectBufferingProxy||!1,this.ja=void 0,y&&y.longPollingTimeout&&0<y.longPollingTimeout&&(this.ja=y.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=SD.prototype,t.la=8,t.G=1,t.connect=function(y,A,I,D){Ir(0),this.W=y,this.H=A||{},I&&D!==void 0&&(this.H.OSID=I,this.H.OAID=D),this.F=this.X,this.I=ND(this,null,this.W),o0(this)};function DE(y){if(ED(y),y.G==3){var A=y.U++,I=To(y.I);if(Bt(I,"SID",y.K),Bt(I,"RID",A),Bt(I,"TYPE","terminate"),zp(y,I),A=new Ca(y,y.j,A),A.L=2,A.v=t0(To(I)),I=!1,a.navigator&&a.navigator.sendBeacon)try{I=a.navigator.sendBeacon(A.v.toString(),"")}catch{}!I&&a.Image&&(new Image().src=A.v,I=!0),I||(A.g=jD(A.j,null),A.g.ea(A.v)),A.F=Date.now(),Jv(A)}OD(y)}function s0(y){y.g&&(LE(y),y.g.cancel(),y.g=null)}function ED(y){s0(y),y.u&&(a.clearTimeout(y.u),y.u=null),a0(y),y.h.cancel(),y.s&&(typeof y.s=="number"&&a.clearTimeout(y.s),y.s=null)}function o0(y){if(!sD(y.h)&&!y.s){y.s=!0;var A=y.Ga;B||W(),$||(B(),$=!0),U.add(A,y),y.B=0}}function Tee(y,A){return oD(y.h)>=y.h.j-(y.s?1:0)?!1:y.s?(y.i=A.D.concat(y.i),!0):y.G==1||y.G==2||y.B>=(y.Va?0:y.Wa)?!1:(y.s=Rp(f(y.Ga,y,A),ID(y,y.B)),y.B++,!0)}t.Ga=function(y){if(this.s)if(this.s=null,this.G==1){if(!y){this.U=Math.floor(1e5*Math.random()),y=this.U++;const q=new Ca(this,this.j,y);let K=this.o;if(this.S&&(K?(K=E(K),O(K,this.S)):K=this.S),this.m!==null||this.O||(q.H=K,K=null),this.P)e:{for(var A=0,I=0;I<this.i.length;I++){t:{var D=this.i[I];if("__data__"in D.map&&(D=D.map.__data__,typeof D=="string")){D=D.length;break t}D=void 0}if(D===void 0)break;if(A+=D,4096<A){A=I;break e}if(A===4096||I===this.i.length-1){A=I+1;break e}}A=1e3}else A=1e3;A=AD(this,q,A),I=To(this.I),Bt(I,"RID",y),Bt(I,"CVER",22),this.D&&Bt(I,"X-HTTP-Session-Id",this.D),zp(this,I),K&&(this.O?A="headers="+encodeURIComponent(String(yD(K)))+"&"+A:this.m&&RE(I,this.m,K)),jE(this.h,q),this.Ua&&Bt(I,"TYPE","init"),this.P?(Bt(I,"$req",A),Bt(I,"SID","null"),q.T=!0,CE(q,I,null)):CE(q,I,A),this.G=2}}else this.G==3&&(y?TD(this,y):this.i.length==0||sD(this.h)||TD(this))};function TD(y,A){var I;A?I=A.l:I=y.U++;const D=To(y.I);Bt(D,"SID",y.K),Bt(D,"RID",I),Bt(D,"AID",y.T),zp(y,D),y.m&&y.o&&RE(D,y.m,y.o),I=new Ca(y,y.j,I,y.B+1),y.m===null&&(I.H=y.o),A&&(y.i=A.D.concat(y.i)),A=AD(y,I,1e3),I.I=Math.round(.5*y.wa)+Math.round(.5*y.wa*Math.random()),jE(y.h,I),CE(I,D,A)}function zp(y,A){y.H&&k(y.H,function(I,D){Bt(A,D,I)}),y.l&&cD({},function(I,D){Bt(A,D,I)})}function AD(y,A,I){I=Math.min(y.i.length,I);var D=y.l?f(y.l.Na,y.l,y):null;e:{var q=y.i;let K=-1;for(;;){const de=["count="+I];K==-1?0<I?(K=q[0].g,de.push("ofs="+K)):K=0:de.push("ofs="+K);let jt=!0;for(let Xn=0;Xn<I;Xn++){let dt=q[Xn].g;const ur=q[Xn].map;if(dt-=K,0>dt)K=Math.max(0,q[Xn].g-100),jt=!1;else try{wee(ur,de,"req"+dt+"_")}catch{D&&D(ur)}}if(jt){D=de.join("&");break e}}}return y=y.i.splice(0,I),A.D=y,D}function kD(y){if(!y.g&&!y.u){y.Y=1;var A=y.Fa;B||W(),$||(B(),$=!0),U.add(A,y),y.v=0}}function ME(y){return y.g||y.u||3<=y.v?!1:(y.Y++,y.u=Rp(f(y.Fa,y),ID(y,y.v)),y.v++,!0)}t.Fa=function(){if(this.u=null,PD(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var y=2*this.R;this.j.info("BP detection timer enabled: "+y),this.A=Rp(f(this.ab,this),y)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Ir(10),s0(this),PD(this))};function LE(y){y.A!=null&&(a.clearTimeout(y.A),y.A=null)}function PD(y){y.g=new Ca(y,y.j,"rpc",y.Y),y.m===null&&(y.g.H=y.o),y.g.O=0;var A=To(y.qa);Bt(A,"RID","rpc"),Bt(A,"SID",y.K),Bt(A,"AID",y.T),Bt(A,"CI",y.F?"0":"1"),!y.F&&y.ja&&Bt(A,"TO",y.ja),Bt(A,"TYPE","xmlhttp"),zp(y,A),y.m&&y.o&&RE(A,y.m,y.o),y.L&&(y.g.I=y.L);var I=y.g;y=y.ia,I.L=1,I.v=t0(To(A)),I.m=null,I.P=!0,tD(I,y)}t.Za=function(){this.C!=null&&(this.C=null,s0(this),ME(this),Ir(19))};function a0(y){y.C!=null&&(a.clearTimeout(y.C),y.C=null)}function CD(y,A){var I=null;if(y.g==A){a0(y),LE(y),y.g=null;var D=2}else if(NE(y.h,A))I=A.D,aD(y.h,A),D=1;else return;if(y.G!=0){if(A.o)if(D==1){I=A.m?A.m.length:0,A=Date.now()-A.F;var q=y.B;D=Qv(),Ze(D,new XR(D,I)),o0(y)}else kD(y);else if(q=A.s,q==3||q==0&&0<A.X||!(D==1&&Tee(y,A)||D==2&&ME(y)))switch(I&&0<I.length&&(A=y.h,A.i=A.i.concat(I)),q){case 1:wc(y,5);break;case 4:wc(y,10);break;case 3:wc(y,6);break;default:wc(y,2)}}}function ID(y,A){let I=y.Ta+Math.floor(Math.random()*y.cb);return y.isActive()||(I*=2),I*A}function wc(y,A){if(y.j.info("Error code "+A),A==2){var I=f(y.fb,y),D=y.Xa;const q=!D;D=new bc(D||"//www.google.com/images/cleardot.gif"),a.location&&a.location.protocol=="http"||Zv(D,"https"),t0(D),q?vee(D.toString(),I):xee(D.toString(),I)}else Ir(2);y.G=0,y.l&&y.l.sa(A),OD(y),ED(y)}t.fb=function(y){y?(this.j.info("Successfully pinged google.com"),Ir(2)):(this.j.info("Failed to ping google.com"),Ir(1))};function OD(y){if(y.G=0,y.ka=[],y.l){const A=lD(y.h);(A.length!=0||y.i.length!=0)&&(v(y.ka,A),v(y.ka,y.i),y.h.i.length=0,g(y.i),y.i.length=0),y.l.ra()}}function ND(y,A,I){var D=I instanceof bc?To(I):new bc(I);if(D.g!="")A&&(D.g=A+"."+D.g),e0(D,D.s);else{var q=a.location;D=q.protocol,A=A?A+"."+q.hostname:q.hostname,q=+q.port;var K=new bc(null);D&&Zv(K,D),A&&(K.g=A),q&&e0(K,q),I&&(K.l=I),D=K}return I=y.D,A=y.ya,I&&A&&Bt(D,I,A),Bt(D,"VER",y.la),zp(y,D),D}function jD(y,A,I){if(A&&!y.J)throw Error("Can't create secondary domain capable XhrIo object.");return A=y.Ca&&!y.pa?new cn(new n0({eb:I})):new cn(y.pa),A.Ha(y.J),A}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function RD(){}t=RD.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function l0(){}l0.prototype.g=function(y,A){return new mi(y,A)};function mi(y,A){$e.call(this),this.g=new SD(A),this.l=y,this.h=A&&A.messageUrlParams||null,y=A&&A.messageHeaders||null,A&&A.clientProtocolHeaderRequired&&(y?y["X-Client-Protocol"]="webchannel":y={"X-Client-Protocol":"webchannel"}),this.g.o=y,y=A&&A.initMessageHeaders||null,A&&A.messageContentType&&(y?y["X-WebChannel-Content-Type"]=A.messageContentType:y={"X-WebChannel-Content-Type":A.messageContentType}),A&&A.va&&(y?y["X-WebChannel-Client-Profile"]=A.va:y={"X-WebChannel-Client-Profile":A.va}),this.g.S=y,(y=A&&A.Sb)&&!b(y)&&(this.g.m=y),this.v=A&&A.supportsCrossDomainXhr||!1,this.u=A&&A.sendRawJson||!1,(A=A&&A.httpSessionIdParam)&&!b(A)&&(this.g.D=A,y=this.h,y!==null&&A in y&&(y=this.h,A in y&&delete y[A])),this.j=new vd(this)}m(mi,$e),mi.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},mi.prototype.close=function(){DE(this.g)},mi.prototype.o=function(y){var A=this.g;if(typeof y=="string"){var I={};I.__data__=y,y=I}else this.u&&(I={},I.__data__=gc(y),y=I);A.i.push(new lee(A.Ya++,y)),A.G==3&&o0(A)},mi.prototype.N=function(){this.g.l=null,delete this.j,DE(this.g),delete this.g,mi.aa.N.call(this)};function DD(y){TE.call(this),y.__headers__&&(this.headers=y.__headers__,this.statusCode=y.__status__,delete y.__headers__,delete y.__status__);var A=y.__sm__;if(A){e:{for(const I in A){y=I;break e}y=void 0}(this.i=y)&&(y=this.i,A=A!==null&&y in A?A[y]:void 0),this.data=A}else this.data=y}m(DD,TE);function MD(){AE.call(this),this.status=1}m(MD,AE);function vd(y){this.g=y}m(vd,RD),vd.prototype.ua=function(){Ze(this.g,"a")},vd.prototype.ta=function(y){Ze(this.g,new DD(y))},vd.prototype.sa=function(y){Ze(this.g,new MD)},vd.prototype.ra=function(){Ze(this.g,"b")},l0.prototype.createWebChannel=l0.prototype.g,mi.prototype.send=mi.prototype.o,mi.prototype.open=mi.prototype.m,mi.prototype.close=mi.prototype.close,Oq=function(){return new l0},Iq=function(){return Qv()},Cq=vc,fP={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Yv.NO_ERROR=0,Yv.TIMEOUT=8,Yv.HTTP_ERROR=6,Mx=Yv,JR.COMPLETE="complete",Pq=JR,KR.EventType=Np,Np.OPEN="a",Np.CLOSE="b",Np.ERROR="c",Np.MESSAGE="d",$e.prototype.listen=$e.prototype.K,Im=KR,cn.prototype.listenOnce=cn.prototype.L,cn.prototype.getLastError=cn.prototype.Ka,cn.prototype.getLastErrorCode=cn.prototype.Ba,cn.prototype.getStatus=cn.prototype.Z,cn.prototype.getResponseJson=cn.prototype.Oa,cn.prototype.getResponseText=cn.prototype.oa,cn.prototype.send=cn.prototype.ea,cn.prototype.setWithCredentials=cn.prototype.Ha,kq=cn}).apply(typeof O0<"u"?O0:typeof self<"u"?self:typeof window<"u"?window:{});const zL="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Mr=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};Mr.UNAUTHENTICATED=new Mr(null),Mr.GOOGLE_CREDENTIALS=new Mr("google-credentials-uid"),Mr.FIRST_PARTY=new Mr("first-party-uid"),Mr.MOCK_USER=new Mr("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let op="10.14.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mu=new yN("@firebase/firestore");function Dd(){return Mu.logLevel}function re(t,...e){if(Mu.logLevel<=st.DEBUG){const n=e.map(PN);Mu.debug(`Firestore (${op}): ${t}`,...n)}}function $r(t,...e){if(Mu.logLevel<=st.ERROR){const n=e.map(PN);Mu.error(`Firestore (${op}): ${t}`,...n)}}function ih(t,...e){if(Mu.logLevel<=st.WARN){const n=e.map(PN);Mu.warn(`Firestore (${op}): ${t}`,...n)}}function PN(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ee(t="Unexpected state"){const e=`FIRESTORE (${op}) INTERNAL ASSERTION FAILED: `+t;throw $r(e),new Error(e)}function Te(t,e){t||Ee()}function Be(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const X={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ue extends xo{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ro{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cle{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class Ile{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Mr.UNAUTHENTICATED))}shutdown(){}}class Ole{constructor(e){this.t=e,this.currentUser=Mr.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){Te(this.o===void 0);let r=this.i;const i=l=>this.i!==r?(r=this.i,n(l)):Promise.resolve();let s=new ro;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new ro,e.enqueueRetryable(()=>i(this.currentUser))};const o=()=>{const l=s;e.enqueueRetryable(async()=>{await l.promise,await i(this.currentUser)})},a=l=>{re("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.o&&(this.auth.addAuthTokenListener(this.o),o())};this.t.onInit(l=>a(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?a(l):(re("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new ro)}},0),o()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(re("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Te(typeof r.accessToken=="string"),new Cle(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Te(e===null||typeof e=="string"),new Mr(e)}}class Nle{constructor(e,n,r){this.l=e,this.h=n,this.P=r,this.type="FirstParty",this.user=Mr.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class jle{constructor(e,n,r){this.l=e,this.h=n,this.P=r}getToken(){return Promise.resolve(new Nle(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(Mr.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class Rle{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Dle{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){Te(this.o===void 0);const r=s=>{s.error!=null&&re("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const o=s.token!==this.R;return this.R=s.token,re("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>r(s))};const i=s=>{re("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){const s=this.A.getImmediate({optional:!0});s?i(s):re("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(Te(typeof n.token=="string"),this.R=n.token,new Rle(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mle(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nq{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const i=Mle(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<n&&(r+=e.charAt(i[s]%e.length))}return r}}function ze(t,e){return t<e?-1:t>e?1:0}function sh(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}function jq(t){return t+"\0"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kt{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new ue(X.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new ue(X.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new ue(X.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ue(X.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Kt.fromMillis(Date.now())}static fromDate(e){return Kt.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new Kt(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?ze(this.nanoseconds,e.nanoseconds):ze(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pe{constructor(e){this.timestamp=e}static fromTimestamp(e){return new Pe(e)}static min(){return new Pe(new Kt(0,0))}static max(){return new Pe(new Kt(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qg{constructor(e,n,r){n===void 0?n=0:n>e.length&&Ee(),r===void 0?r=e.length-n:r>e.length-n&&Ee(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return qg.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof qg?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const s=e.get(i),o=n.get(i);if(s<o)return-1;if(s>o)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class xt extends qg{construct(e,n,r){return new xt(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new ue(X.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new xt(n)}static emptyPath(){return new xt([])}}const Lle=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class sn extends qg{construct(e,n,r){return new sn(e,n,r)}static isValidIdentifier(e){return Lle.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),sn.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new sn(["__name__"])}static fromServerFormat(e){const n=[];let r="",i=0;const s=()=>{if(r.length===0)throw new ue(X.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let o=!1;for(;i<e.length;){const a=e[i];if(a==="\\"){if(i+1===e.length)throw new ue(X.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const l=e[i+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new ue(X.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=l,i+=2}else a==="`"?(o=!o,i++):a!=="."||o?(r+=a,i++):(s(),i++)}if(s(),o)throw new ue(X.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new sn(n)}static emptyPath(){return new sn([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class me{constructor(e){this.path=e}static fromPath(e){return new me(xt.fromString(e))}static fromName(e){return new me(xt.fromString(e).popFirst(5))}static empty(){return new me(xt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&xt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return xt.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new me(new xt(e.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bb{constructor(e,n,r,i){this.indexId=e,this.collectionGroup=n,this.fields=r,this.indexState=i}}function hP(t){return t.fields.find(e=>e.kind===2)}function Ic(t){return t.fields.filter(e=>e.kind!==2)}Bb.UNKNOWN_ID=-1;class Lx{constructor(e,n){this.fieldPath=e,this.kind=n}}class Hg{constructor(e,n){this.sequenceNumber=e,this.offset=n}static empty(){return new Hg(0,ji.min())}}function $le(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=Pe.fromTimestamp(r===1e9?new Kt(n+1,0):new Kt(n,r));return new ji(i,me.empty(),e)}function Rq(t){return new ji(t.readTime,t.key,-1)}class ji{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new ji(Pe.min(),me.empty(),-1)}static max(){return new ji(Pe.max(),me.empty(),-1)}}function CN(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=me.comparator(t.documentKey,e.documentKey),n!==0?n:ze(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dq="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Mq{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function od(t){if(t.code!==X.FAILED_PRECONDITION||t.message!==Dq)throw t;re("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Ee(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new H((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(n,s).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof H?n:H.resolve(n)}catch(n){return H.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):H.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):H.reject(n)}static resolve(e){return new H((n,r)=>{n(e)})}static reject(e){return new H((n,r)=>{r(e)})}static waitFor(e){return new H((n,r)=>{let i=0,s=0,o=!1;e.forEach(a=>{++i,a.next(()=>{++s,o&&s===i&&n()},l=>r(l))}),o=!0,s===i&&n()})}static or(e){let n=H.resolve(!1);for(const r of e)n=n.next(i=>i?H.resolve(i):r());return n}static forEach(e,n){const r=[];return e.forEach((i,s)=>{r.push(n.call(this,i,s))}),this.waitFor(r)}static mapArray(e,n){return new H((r,i)=>{const s=e.length,o=new Array(s);let a=0;for(let l=0;l<s;l++){const c=l;n(e[c]).next(u=>{o[c]=u,++a,a===s&&r(o)},u=>i(u))}})}static doWhile(e,n){return new H((r,i)=>{const s=()=>{e()===!0?n().next(()=>{s()},i):r()};s()})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j_{constructor(e,n){this.action=e,this.transaction=n,this.aborted=!1,this.V=new ro,this.transaction.oncomplete=()=>{this.V.resolve()},this.transaction.onabort=()=>{n.error?this.V.reject(new Xm(e,n.error)):this.V.resolve()},this.transaction.onerror=r=>{const i=IN(r.target.error);this.V.reject(new Xm(e,i))}}static open(e,n,r,i){try{return new j_(n,e.transaction(i,r))}catch(s){throw new Xm(n,s)}}get m(){return this.V.promise}abort(e){e&&this.V.reject(e),this.aborted||(re("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}g(){const e=this.transaction;this.aborted||typeof e.commit!="function"||e.commit()}store(e){const n=this.transaction.objectStore(e);return new Fle(n)}}class Rl{constructor(e,n,r){this.name=e,this.version=n,this.p=r,Rl.S(Mn())===12.2&&$r("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return re("SimpleDb","Removing database:",e),Lc(window.indexedDB.deleteDatabase(e)).toPromise()}static D(){if(!$8())return!1;if(Rl.v())return!0;const e=Mn(),n=Rl.S(e),r=0<n&&n<10,i=Lq(e),s=0<i&&i<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||r||s)}static v(){var e;return typeof process<"u"&&((e=process.__PRIVATE_env)===null||e===void 0?void 0:e.C)==="YES"}static F(e,n){return e.store(n)}static S(e){const n=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),r=n?n[1].split("_").slice(0,2).join("."):"-1";return Number(r)}async M(e){return this.db||(re("SimpleDb","Opening database:",this.name),this.db=await new Promise((n,r)=>{const i=indexedDB.open(this.name,this.version);i.onsuccess=s=>{const o=s.target.result;n(o)},i.onblocked=()=>{r(new Xm(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},i.onerror=s=>{const o=s.target.error;o.name==="VersionError"?r(new ue(X.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):o.name==="InvalidStateError"?r(new ue(X.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+o)):r(new Xm(e,o))},i.onupgradeneeded=s=>{re("SimpleDb",'Database "'+this.name+'" requires upgrade from version:',s.oldVersion);const o=s.target.result;this.p.O(o,i.transaction,s.oldVersion,this.version).next(()=>{re("SimpleDb","Database upgrade to version "+this.version+" complete")})}})),this.N&&(this.db.onversionchange=n=>this.N(n)),this.db}L(e){this.N=e,this.db&&(this.db.onversionchange=n=>e(n))}async runTransaction(e,n,r,i){const s=n==="readonly";let o=0;for(;;){++o;try{this.db=await this.M(e);const a=j_.open(this.db,e,s?"readonly":"readwrite",r),l=i(a).next(c=>(a.g(),c)).catch(c=>(a.abort(c),H.reject(c))).toPromise();return l.catch(()=>{}),await a.m,l}catch(a){const l=a,c=l.name!=="FirebaseError"&&o<3;if(re("SimpleDb","Transaction failed with error:",l.message,"Retrying:",c),this.close(),!c)return Promise.reject(l)}}}close(){this.db&&this.db.close(),this.db=void 0}}function Lq(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}class Vle{constructor(e){this.B=e,this.k=!1,this.q=null}get isDone(){return this.k}get K(){return this.q}set cursor(e){this.B=e}done(){this.k=!0}$(e){this.q=e}delete(){return Lc(this.B.delete())}}class Xm extends ue{constructor(e,n){super(X.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${n}`),this.name="IndexedDbTransactionError"}}function ic(t){return t.name==="IndexedDbTransactionError"}class Fle{constructor(e){this.store=e}put(e,n){let r;return n!==void 0?(re("SimpleDb","PUT",this.store.name,e,n),r=this.store.put(n,e)):(re("SimpleDb","PUT",this.store.name,"<auto-key>",e),r=this.store.put(e)),Lc(r)}add(e){return re("SimpleDb","ADD",this.store.name,e,e),Lc(this.store.add(e))}get(e){return Lc(this.store.get(e)).next(n=>(n===void 0&&(n=null),re("SimpleDb","GET",this.store.name,e,n),n))}delete(e){return re("SimpleDb","DELETE",this.store.name,e),Lc(this.store.delete(e))}count(){return re("SimpleDb","COUNT",this.store.name),Lc(this.store.count())}U(e,n){const r=this.options(e,n),i=r.index?this.store.index(r.index):this.store;if(typeof i.getAll=="function"){const s=i.getAll(r.range);return new H((o,a)=>{s.onerror=l=>{a(l.target.error)},s.onsuccess=l=>{o(l.target.result)}})}{const s=this.cursor(r),o=[];return this.W(s,(a,l)=>{o.push(l)}).next(()=>o)}}G(e,n){const r=this.store.getAll(e,n===null?void 0:n);return new H((i,s)=>{r.onerror=o=>{s(o.target.error)},r.onsuccess=o=>{i(o.target.result)}})}j(e,n){re("SimpleDb","DELETE ALL",this.store.name);const r=this.options(e,n);r.H=!1;const i=this.cursor(r);return this.W(i,(s,o,a)=>a.delete())}J(e,n){let r;n?r=e:(r={},n=e);const i=this.cursor(r);return this.W(i,n)}Y(e){const n=this.cursor({});return new H((r,i)=>{n.onerror=s=>{const o=IN(s.target.error);i(o)},n.onsuccess=s=>{const o=s.target.result;o?e(o.primaryKey,o.value).next(a=>{a?o.continue():r()}):r()}})}W(e,n){const r=[];return new H((i,s)=>{e.onerror=o=>{s(o.target.error)},e.onsuccess=o=>{const a=o.target.result;if(!a)return void i();const l=new Vle(a),c=n(a.primaryKey,a.value,l);if(c instanceof H){const u=c.catch(d=>(l.done(),H.reject(d)));r.push(u)}l.isDone?i():l.K===null?a.continue():a.continue(l.K)}}).next(()=>H.waitFor(r))}options(e,n){let r;return e!==void 0&&(typeof e=="string"?r=e:n=e),{index:r,range:n}}cursor(e){let n="next";if(e.reverse&&(n="prev"),e.index){const r=this.store.index(e.index);return e.H?r.openKeyCursor(e.range,n):r.openCursor(e.range,n)}return this.store.openCursor(e.range,n)}}function Lc(t){return new H((e,n)=>{t.onsuccess=r=>{const i=r.target.result;e(i)},t.onerror=r=>{const i=IN(r.target.error);n(i)}})}let qL=!1;function IN(t){const e=Rl.S(Mn());if(e>=12.2&&e<13){const n="An internal error was encountered in the Indexed Database server";if(t.message.indexOf(n)>=0){const r=new ue("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${n}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return qL||(qL=!0,setTimeout(()=>{throw r},0)),r}}return t}class Ble{constructor(e,n){this.asyncQueue=e,this.Z=n,this.task=null}start(){this.X(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return this.task!==null}X(e){re("IndexBackfiller",`Scheduled in ${e}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,async()=>{this.task=null;try{re("IndexBackfiller",`Documents written: ${await this.Z.ee()}`)}catch(n){ic(n)?re("IndexBackfiller","Ignoring IndexedDB error during index backfill: ",n):await od(n)}await this.X(6e4)})}}class Ule{constructor(e,n){this.localStore=e,this.persistence=n}async ee(e=50){return this.persistence.runTransaction("Backfill Indexes","readwrite-primary",n=>this.te(n,e))}te(e,n){const r=new Set;let i=n,s=!0;return H.doWhile(()=>s===!0&&i>0,()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(e).next(o=>{if(o!==null&&!r.has(o))return re("IndexBackfiller",`Processing collection: ${o}`),this.ne(e,o,i).next(a=>{i-=a,r.add(o)});s=!1})).next(()=>n-i)}ne(e,n,r){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,n).next(i=>this.localStore.localDocuments.getNextDocuments(e,n,i,r).next(s=>{const o=s.changes;return this.localStore.indexManager.updateIndexEntries(e,o).next(()=>this.re(i,s)).next(a=>(re("IndexBackfiller",`Updating offset: ${a}`),this.localStore.indexManager.updateCollectionGroup(e,n,a))).next(()=>o.size)}))}re(e,n){let r=e;return n.changes.forEach((i,s)=>{const o=Rq(s);CN(o,r)>0&&(r=o)}),new ji(r.readTime,r.documentKey,Math.max(n.batchId,e.largestBatchId))}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zi{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ie(r),this.se=r=>n.writeSequenceNumber(r))}ie(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.se&&this.se(e),e}}Zi.oe=-1;function R_(t){return t==null}function Wg(t){return t===0&&1/t==-1/0}function zle(t){return typeof t=="number"&&Number.isInteger(t)&&!Wg(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zr(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=HL(e)),e=qle(t.get(n),e);return HL(e)}function qle(t,e){let n=e;const r=t.length;for(let i=0;i<r;i++){const s=t.charAt(i);switch(s){case"\0":n+="";break;case"":n+="";break;default:n+=s}}return n}function HL(t){return t+""}function Ws(t){const e=t.length;if(Te(e>=2),e===2)return Te(t.charAt(0)===""&&t.charAt(1)===""),xt.emptyPath();const n=e-2,r=[];let i="";for(let s=0;s<e;){const o=t.indexOf("",s);switch((o<0||o>n)&&Ee(),t.charAt(o+1)){case"":const a=t.substring(s,o);let l;i.length===0?l=a:(i+=a,l=i,i=""),r.push(l);break;case"":i+=t.substring(s,o),i+="\0";break;case"":i+=t.substring(s,o+1);break;default:Ee()}s=o+2}return new xt(r)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WL=["userId","batchId"];/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $x(t,e){return[t,zr(e)]}function $q(t,e,n){return[t,zr(e),n]}const Hle={},Wle=["prefixPath","collectionGroup","readTime","documentId"],Kle=["prefixPath","collectionGroup","documentId"],Gle=["collectionGroup","readTime","prefixPath","documentId"],Qle=["canonicalId","targetId"],Yle=["targetId","path"],Xle=["path","targetId"],Jle=["collectionId","parent"],Zle=["indexId","uid"],ece=["uid","sequenceNumber"],tce=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],nce=["indexId","uid","orderedDocumentKey"],rce=["userId","collectionPath","documentId"],ice=["userId","collectionPath","largestBatchId"],sce=["userId","collectionGroup","largestBatchId"],Vq=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],oce=[...Vq,"documentOverlays"],Fq=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],Bq=Fq,ON=[...Bq,"indexConfiguration","indexState","indexEntries"],ace=ON,lce=[...ON,"globals"];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pP extends Mq{constructor(e,n){super(),this._e=e,this.currentSequenceNumber=n}}function Ln(t,e){const n=Be(t);return Rl.F(n._e,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KL(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function ad(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function Uq(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class en{constructor(e,n){this.comparator=e,this.root=n||nr.EMPTY}insert(e,n){return new en(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,nr.BLACK,null,null))}remove(e){return new en(this.comparator,this.root.remove(e,this.comparator).copy(null,null,nr.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new N0(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new N0(this.root,e,this.comparator,!1)}getReverseIterator(){return new N0(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new N0(this.root,e,this.comparator,!0)}}class N0{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=n?r(e.key,n):1,n&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(s===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class nr{constructor(e,n,r,i,s){this.key=e,this.value=n,this.color=r??nr.RED,this.left=i??nr.EMPTY,this.right=s??nr.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,s){return new nr(e??this.key,n??this.value,r??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,n,r),null):s===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return nr.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return nr.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,nr.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,nr.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Ee();const e=this.left.check();if(e!==this.right.check())throw Ee();return e+(this.isRed()?0:1)}}nr.EMPTY=null,nr.RED=!0,nr.BLACK=!1;nr.EMPTY=new class{constructor(){this.size=0}get key(){throw Ee()}get value(){throw Ee()}get color(){throw Ee()}get left(){throw Ee()}get right(){throw Ee()}copy(e,n,r,i,s){return this}insert(e,n,r){return new nr(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class It{constructor(e){this.comparator=e,this.data=new en(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new GL(this.data.getIterator())}getIteratorFrom(e){return new GL(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof It)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(this.comparator(i,s)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new It(this.comparator);return n.data=e,n}}class GL{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function wd(t){return t.hasNext()?t.getNext():void 0}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ri{constructor(e){this.fields=e,e.sort(sn.comparator)}static empty(){return new ri([])}unionWith(e){let n=new It(sn.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new ri(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return sh(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zq extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kn{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(i){try{return atob(i)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new zq("Invalid base64 string: "+s):s}}(e);return new kn(n)}static fromUint8Array(e){const n=function(i){let s="";for(let o=0;o<i.length;++o)s+=String.fromCharCode(i[o]);return s}(e);return new kn(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return ze(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}kn.EMPTY_BYTE_STRING=new kn("");const cce=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ua(t){if(Te(!!t),typeof t=="string"){let e=0;const n=cce.exec(t);if(Te(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Qt(t.seconds),nanos:Qt(t.nanos)}}function Qt(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function ql(t){return typeof t=="string"?kn.fromBase64String(t):kn.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NN(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function jN(t){const e=t.mapValue.fields.__previous_value__;return NN(e)?jN(e):e}function Kg(t){const e=ua(t.mapValue.fields.__local_write_time__.timestampValue);return new Kt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uce{constructor(e,n,r,i,s,o,a,l,c){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=l,this.useFetchStreams=c}}class Lu{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new Lu("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof Lu&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vl={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},Vx={nullValue:"NULL_VALUE"};function $u(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?NN(t)?4:qq(t)?9007199254740991:D_(t)?10:11:Ee()}function co(t,e){if(t===e)return!0;const n=$u(t);if(n!==$u(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Kg(t).isEqual(Kg(e));case 3:return function(i,s){if(typeof i.timestampValue=="string"&&typeof s.timestampValue=="string"&&i.timestampValue.length===s.timestampValue.length)return i.timestampValue===s.timestampValue;const o=ua(i.timestampValue),a=ua(s.timestampValue);return o.seconds===a.seconds&&o.nanos===a.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,s){return ql(i.bytesValue).isEqual(ql(s.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,s){return Qt(i.geoPointValue.latitude)===Qt(s.geoPointValue.latitude)&&Qt(i.geoPointValue.longitude)===Qt(s.geoPointValue.longitude)}(t,e);case 2:return function(i,s){if("integerValue"in i&&"integerValue"in s)return Qt(i.integerValue)===Qt(s.integerValue);if("doubleValue"in i&&"doubleValue"in s){const o=Qt(i.doubleValue),a=Qt(s.doubleValue);return o===a?Wg(o)===Wg(a):isNaN(o)&&isNaN(a)}return!1}(t,e);case 9:return sh(t.arrayValue.values||[],e.arrayValue.values||[],co);case 10:case 11:return function(i,s){const o=i.mapValue.fields||{},a=s.mapValue.fields||{};if(KL(o)!==KL(a))return!1;for(const l in o)if(o.hasOwnProperty(l)&&(a[l]===void 0||!co(o[l],a[l])))return!1;return!0}(t,e);default:return Ee()}}function Gg(t,e){return(t.values||[]).find(n=>co(n,e))!==void 0}function Hl(t,e){if(t===e)return 0;const n=$u(t),r=$u(e);if(n!==r)return ze(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return ze(t.booleanValue,e.booleanValue);case 2:return function(s,o){const a=Qt(s.integerValue||s.doubleValue),l=Qt(o.integerValue||o.doubleValue);return a<l?-1:a>l?1:a===l?0:isNaN(a)?isNaN(l)?0:-1:1}(t,e);case 3:return QL(t.timestampValue,e.timestampValue);case 4:return QL(Kg(t),Kg(e));case 5:return ze(t.stringValue,e.stringValue);case 6:return function(s,o){const a=ql(s),l=ql(o);return a.compareTo(l)}(t.bytesValue,e.bytesValue);case 7:return function(s,o){const a=s.split("/"),l=o.split("/");for(let c=0;c<a.length&&c<l.length;c++){const u=ze(a[c],l[c]);if(u!==0)return u}return ze(a.length,l.length)}(t.referenceValue,e.referenceValue);case 8:return function(s,o){const a=ze(Qt(s.latitude),Qt(o.latitude));return a!==0?a:ze(Qt(s.longitude),Qt(o.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return YL(t.arrayValue,e.arrayValue);case 10:return function(s,o){var a,l,c,u;const d=s.fields||{},f=o.fields||{},p=(a=d.value)===null||a===void 0?void 0:a.arrayValue,m=(l=f.value)===null||l===void 0?void 0:l.arrayValue,g=ze(((c=p==null?void 0:p.values)===null||c===void 0?void 0:c.length)||0,((u=m==null?void 0:m.values)===null||u===void 0?void 0:u.length)||0);return g!==0?g:YL(p,m)}(t.mapValue,e.mapValue);case 11:return function(s,o){if(s===vl.mapValue&&o===vl.mapValue)return 0;if(s===vl.mapValue)return 1;if(o===vl.mapValue)return-1;const a=s.fields||{},l=Object.keys(a),c=o.fields||{},u=Object.keys(c);l.sort(),u.sort();for(let d=0;d<l.length&&d<u.length;++d){const f=ze(l[d],u[d]);if(f!==0)return f;const p=Hl(a[l[d]],c[u[d]]);if(p!==0)return p}return ze(l.length,u.length)}(t.mapValue,e.mapValue);default:throw Ee()}}function QL(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return ze(t,e);const n=ua(t),r=ua(e),i=ze(n.seconds,r.seconds);return i!==0?i:ze(n.nanos,r.nanos)}function YL(t,e){const n=t.values||[],r=e.values||[];for(let i=0;i<n.length&&i<r.length;++i){const s=Hl(n[i],r[i]);if(s)return s}return ze(n.length,r.length)}function oh(t){return mP(t)}function mP(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=ua(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return ql(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return me.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",i=!0;for(const s of n.values||[])i?i=!1:r+=",",r+=mP(s);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let i="{",s=!0;for(const o of r)s?s=!1:i+=",",i+=`${o}:${mP(n.fields[o])}`;return i+"}"}(t.mapValue):Ee()}function Qg(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function gP(t){return!!t&&"integerValue"in t}function Yg(t){return!!t&&"arrayValue"in t}function XL(t){return!!t&&"nullValue"in t}function JL(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Fx(t){return!!t&&"mapValue"in t}function D_(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="__vector__"}function Jm(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return ad(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=Jm(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Jm(t.arrayValue.values[n]);return e}return Object.assign({},t)}function qq(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}const Hq={mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{}}}}};function dce(t){return"nullValue"in t?Vx:"booleanValue"in t?{booleanValue:!1}:"integerValue"in t||"doubleValue"in t?{doubleValue:NaN}:"timestampValue"in t?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in t?{stringValue:""}:"bytesValue"in t?{bytesValue:""}:"referenceValue"in t?Qg(Lu.empty(),me.empty()):"geoPointValue"in t?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in t?{arrayValue:{}}:"mapValue"in t?D_(t)?Hq:{mapValue:{}}:Ee()}function fce(t){return"nullValue"in t?{booleanValue:!1}:"booleanValue"in t?{doubleValue:NaN}:"integerValue"in t||"doubleValue"in t?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in t?{stringValue:""}:"stringValue"in t?{bytesValue:""}:"bytesValue"in t?Qg(Lu.empty(),me.empty()):"referenceValue"in t?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in t?{arrayValue:{}}:"arrayValue"in t?Hq:"mapValue"in t?D_(t)?{mapValue:{}}:vl:Ee()}function ZL(t,e){const n=Hl(t.value,e.value);return n!==0?n:t.inclusive&&!e.inclusive?-1:!t.inclusive&&e.inclusive?1:0}function e$(t,e){const n=Hl(t.value,e.value);return n!==0?n:t.inclusive&&!e.inclusive?1:!t.inclusive&&e.inclusive?-1:0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wr{constructor(e){this.value=e}static empty(){return new wr({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!Fx(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Jm(n)}setAll(e){let n=sn.emptyPath(),r={},i=[];e.forEach((o,a)=>{if(!n.isImmediateParentOf(a)){const l=this.getFieldsMap(n);this.applyChanges(l,r,i),r={},i=[],n=a.popLast()}o?r[a.lastSegment()]=Jm(o):i.push(a.lastSegment())});const s=this.getFieldsMap(n);this.applyChanges(s,r,i)}delete(e){const n=this.field(e.popLast());Fx(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return co(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];Fx(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){ad(n,(i,s)=>e[i]=s);for(const i of r)delete e[i]}clone(){return new wr(Jm(this.value))}}function Wq(t){const e=[];return ad(t.fields,(n,r)=>{const i=new sn([n]);if(Fx(r)){const s=Wq(r.mapValue).fields;if(s.length===0)e.push(i);else for(const o of s)e.push(i.child(o))}else e.push(i)}),new ri(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pn{constructor(e,n,r,i,s,o,a){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=s,this.data=o,this.documentState=a}static newInvalidDocument(e){return new pn(e,0,Pe.min(),Pe.min(),Pe.min(),wr.empty(),0)}static newFoundDocument(e,n,r,i){return new pn(e,1,n,Pe.min(),r,i,0)}static newNoDocument(e,n){return new pn(e,2,n,Pe.min(),Pe.min(),wr.empty(),0)}static newUnknownDocument(e,n){return new pn(e,3,n,Pe.min(),Pe.min(),wr.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Pe.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=wr.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=wr.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Pe.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof pn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new pn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ah{constructor(e,n){this.position=e,this.inclusive=n}}function t$(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const s=e[i],o=t.position[i];if(s.field.isKeyField()?r=me.comparator(me.fromName(o.referenceValue),n.key):r=Hl(o,n.data.field(s.field)),s.dir==="desc"&&(r*=-1),r!==0)break}return r}function n$(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!co(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xg{constructor(e,n="asc"){this.field=e,this.dir=n}}function hce(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Kq=class{};class ot extends Kq{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new pce(e,n,r):n==="array-contains"?new yce(e,r):n==="in"?new Zq(e,r):n==="not-in"?new vce(e,r):n==="array-contains-any"?new xce(e,r):new ot(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new mce(e,r):new gce(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(Hl(n,this.value)):n!==null&&$u(this.value)===$u(n)&&this.matchesComparison(Hl(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Ee()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Tt extends Kq{constructor(e,n){super(),this.filters=e,this.op=n,this.ae=null}static create(e,n){return new Tt(e,n)}matches(e){return lh(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function lh(t){return t.op==="and"}function yP(t){return t.op==="or"}function RN(t){return Gq(t)&&lh(t)}function Gq(t){for(const e of t.filters)if(e instanceof Tt)return!1;return!0}function vP(t){if(t instanceof ot)return t.field.canonicalString()+t.op.toString()+oh(t.value);if(RN(t))return t.filters.map(e=>vP(e)).join(",");{const e=t.filters.map(n=>vP(n)).join(",");return`${t.op}(${e})`}}function Qq(t,e){return t instanceof ot?function(r,i){return i instanceof ot&&r.op===i.op&&r.field.isEqual(i.field)&&co(r.value,i.value)}(t,e):t instanceof Tt?function(r,i){return i instanceof Tt&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((s,o,a)=>s&&Qq(o,i.filters[a]),!0):!1}(t,e):void Ee()}function Yq(t,e){const n=t.filters.concat(e);return Tt.create(n,t.op)}function Xq(t){return t instanceof ot?function(n){return`${n.field.canonicalString()} ${n.op} ${oh(n.value)}`}(t):t instanceof Tt?function(n){return n.op.toString()+" {"+n.getFilters().map(Xq).join(" ,")+"}"}(t):"Filter"}class pce extends ot{constructor(e,n,r){super(e,n,r),this.key=me.fromName(r.referenceValue)}matches(e){const n=me.comparator(e.key,this.key);return this.matchesComparison(n)}}class mce extends ot{constructor(e,n){super(e,"in",n),this.keys=Jq("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class gce extends ot{constructor(e,n){super(e,"not-in",n),this.keys=Jq("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function Jq(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>me.fromName(r.referenceValue))}class yce extends ot{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Yg(n)&&Gg(n.arrayValue,this.value)}}class Zq extends ot{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Gg(this.value.arrayValue,n)}}class vce extends ot{constructor(e,n){super(e,"not-in",n)}matches(e){if(Gg(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!Gg(this.value.arrayValue,n)}}class xce extends ot{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Yg(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>Gg(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bce{constructor(e,n=null,r=[],i=[],s=null,o=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=o,this.endAt=a,this.ue=null}}function xP(t,e=null,n=[],r=[],i=null,s=null,o=null){return new bce(t,e,n,r,i,s,o)}function Vu(t){const e=Be(t);if(e.ue===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>vP(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(s){return s.field.canonicalString()+s.dir}(r)).join(","),R_(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>oh(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>oh(r)).join(",")),e.ue=n}return e.ue}function bv(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!hce(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!Qq(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!n$(t.startAt,e.startAt)&&n$(t.endAt,e.endAt)}function Ub(t){return me.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}function zb(t,e){return t.filters.filter(n=>n instanceof ot&&n.field.isEqual(e))}function r$(t,e,n){let r=Vx,i=!0;for(const s of zb(t,e)){let o=Vx,a=!0;switch(s.op){case"<":case"<=":o=dce(s.value);break;case"==":case"in":case">=":o=s.value;break;case">":o=s.value,a=!1;break;case"!=":case"not-in":o=Vx}ZL({value:r,inclusive:i},{value:o,inclusive:a})<0&&(r=o,i=a)}if(n!==null){for(let s=0;s<t.orderBy.length;++s)if(t.orderBy[s].field.isEqual(e)){const o=n.position[s];ZL({value:r,inclusive:i},{value:o,inclusive:n.inclusive})<0&&(r=o,i=n.inclusive);break}}return{value:r,inclusive:i}}function i$(t,e,n){let r=vl,i=!0;for(const s of zb(t,e)){let o=vl,a=!0;switch(s.op){case">=":case">":o=fce(s.value),a=!1;break;case"==":case"in":case"<=":o=s.value;break;case"<":o=s.value,a=!1;break;case"!=":case"not-in":o=vl}e$({value:r,inclusive:i},{value:o,inclusive:a})>0&&(r=o,i=a)}if(n!==null){for(let s=0;s<t.orderBy.length;++s)if(t.orderBy[s].field.isEqual(e)){const o=n.position[s];e$({value:r,inclusive:i},{value:o,inclusive:n.inclusive})>0&&(r=o,i=n.inclusive);break}}return{value:r,inclusive:i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ap{constructor(e,n=null,r=[],i=[],s=null,o="F",a=null,l=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=o,this.startAt=a,this.endAt=l,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}}function wce(t,e,n,r,i,s,o,a){return new ap(t,e,n,r,i,s,o,a)}function wv(t){return new ap(t)}function s$(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function eH(t){return t.collectionGroup!==null}function Zm(t){const e=Be(t);if(e.ce===null){e.ce=[];const n=new Set;for(const s of e.explicitOrderBy)e.ce.push(s),n.add(s.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let a=new It(sn.comparator);return o.filters.forEach(l=>{l.getFlattenedFilters().forEach(c=>{c.isInequality()&&(a=a.add(c.field))})}),a})(e).forEach(s=>{n.has(s.canonicalString())||s.isKeyField()||e.ce.push(new Xg(s,r))}),n.has(sn.keyField().canonicalString())||e.ce.push(new Xg(sn.keyField(),r))}return e.ce}function ns(t){const e=Be(t);return e.le||(e.le=_ce(e,Zm(t))),e.le}function _ce(t,e){if(t.limitType==="F")return xP(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{const s=i.dir==="desc"?"asc":"desc";return new Xg(i.field,s)});const n=t.endAt?new ah(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new ah(t.startAt.position,t.startAt.inclusive):null;return xP(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function bP(t,e){const n=t.filters.concat([e]);return new ap(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function qb(t,e,n){return new ap(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function M_(t,e){return bv(ns(t),ns(e))&&t.limitType===e.limitType}function tH(t){return`${Vu(ns(t))}|lt:${t.limitType}`}function Md(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>Xq(i)).join(", ")}]`),R_(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(i)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>oh(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>oh(i)).join(",")),`Target(${r})`}(ns(t))}; limitType=${t.limitType})`}function _v(t,e){return e.isFoundDocument()&&function(r,i){const s=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(s):me.isDocumentKey(r.path)?r.path.isEqual(s):r.path.isImmediateParentOf(s)}(t,e)&&function(r,i){for(const s of Zm(r))if(!s.field.isKeyField()&&i.data.field(s.field)===null)return!1;return!0}(t,e)&&function(r,i){for(const s of r.filters)if(!s.matches(i))return!1;return!0}(t,e)&&function(r,i){return!(r.startAt&&!function(o,a,l){const c=t$(o,a,l);return o.inclusive?c<=0:c<0}(r.startAt,Zm(r),i)||r.endAt&&!function(o,a,l){const c=t$(o,a,l);return o.inclusive?c>=0:c>0}(r.endAt,Zm(r),i))}(t,e)}function Sce(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function nH(t){return(e,n)=>{let r=!1;for(const i of Zm(t)){const s=Ece(i,e,n);if(s!==0)return s;r=r||i.field.isKeyField()}return 0}}function Ece(t,e,n){const r=t.field.isKeyField()?me.comparator(e.key,n.key):function(s,o,a){const l=o.data.field(s),c=a.data.field(s);return l!==null&&c!==null?Hl(l,c):Ee()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return Ee()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sc{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[i,s]of r)if(this.equalsFn(i,e))return s}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){ad(this.inner,(n,r)=>{for(const[i,s]of r)e(i,s)})}isEmpty(){return Uq(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tce=new en(me.comparator);function Ti(){return Tce}const rH=new en(me.comparator);function Om(...t){let e=rH;for(const n of t)e=e.insert(n.key,n);return e}function iH(t){let e=rH;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function Ks(){return eg()}function sH(){return eg()}function eg(){return new sc(t=>t.toString(),(t,e)=>t.isEqual(e))}const Ace=new en(me.comparator),kce=new It(me.comparator);function Xe(...t){let e=kce;for(const n of t)e=e.add(n);return e}const Pce=new It(ze);function Cce(){return Pce}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DN(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Wg(e)?"-0":e}}function oH(t){return{integerValue:""+t}}function Ice(t,e){return zle(e)?oH(e):DN(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L_{constructor(){this._=void 0}}function Oce(t,e,n){return t instanceof ch?function(i,s){const o={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return s&&NN(s)&&(s=jN(s)),s&&(o.fields.__previous_value__=s),{mapValue:o}}(n,e):t instanceof uh?lH(t,e):t instanceof dh?cH(t,e):function(i,s){const o=aH(i,s),a=o$(o)+o$(i.Pe);return gP(o)&&gP(i.Pe)?oH(a):DN(i.serializer,a)}(t,e)}function Nce(t,e,n){return t instanceof uh?lH(t,e):t instanceof dh?cH(t,e):n}function aH(t,e){return t instanceof Jg?function(r){return gP(r)||function(s){return!!s&&"doubleValue"in s}(r)}(e)?e:{integerValue:0}:null}class ch extends L_{}class uh extends L_{constructor(e){super(),this.elements=e}}function lH(t,e){const n=uH(e);for(const r of t.elements)n.some(i=>co(i,r))||n.push(r);return{arrayValue:{values:n}}}class dh extends L_{constructor(e){super(),this.elements=e}}function cH(t,e){let n=uH(e);for(const r of t.elements)n=n.filter(i=>!co(i,r));return{arrayValue:{values:n}}}class Jg extends L_{constructor(e,n){super(),this.serializer=e,this.Pe=n}}function o$(t){return Qt(t.integerValue||t.doubleValue)}function uH(t){return Yg(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dH{constructor(e,n){this.field=e,this.transform=n}}function jce(t,e){return t.field.isEqual(e.field)&&function(r,i){return r instanceof uh&&i instanceof uh||r instanceof dh&&i instanceof dh?sh(r.elements,i.elements,co):r instanceof Jg&&i instanceof Jg?co(r.Pe,i.Pe):r instanceof ch&&i instanceof ch}(t.transform,e.transform)}class Rce{constructor(e,n){this.version=e,this.transformResults=n}}class _r{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new _r}static exists(e){return new _r(void 0,e)}static updateTime(e){return new _r(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Bx(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class $_{}function fH(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new V_(t.key,_r.none()):new lp(t.key,t.data,_r.none());{const n=t.data,r=wr.empty();let i=new It(sn.comparator);for(let s of e.fields)if(!i.has(s)){let o=n.field(s);o===null&&s.length>1&&(s=s.popLast(),o=n.field(s)),o===null?r.delete(s):r.set(s,o),i=i.add(s)}return new wa(t.key,r,new ri(i.toArray()),_r.none())}}function Dce(t,e,n){t instanceof lp?function(i,s,o){const a=i.value.clone(),l=l$(i.fieldTransforms,s,o.transformResults);a.setAll(l),s.convertToFoundDocument(o.version,a).setHasCommittedMutations()}(t,e,n):t instanceof wa?function(i,s,o){if(!Bx(i.precondition,s))return void s.convertToUnknownDocument(o.version);const a=l$(i.fieldTransforms,s,o.transformResults),l=s.data;l.setAll(hH(i)),l.setAll(a),s.convertToFoundDocument(o.version,l).setHasCommittedMutations()}(t,e,n):function(i,s,o){s.convertToNoDocument(o.version).setHasCommittedMutations()}(0,e,n)}function tg(t,e,n,r){return t instanceof lp?function(s,o,a,l){if(!Bx(s.precondition,o))return a;const c=s.value.clone(),u=c$(s.fieldTransforms,l,o);return c.setAll(u),o.convertToFoundDocument(o.version,c).setHasLocalMutations(),null}(t,e,n,r):t instanceof wa?function(s,o,a,l){if(!Bx(s.precondition,o))return a;const c=c$(s.fieldTransforms,l,o),u=o.data;return u.setAll(hH(s)),u.setAll(c),o.convertToFoundDocument(o.version,u).setHasLocalMutations(),a===null?null:a.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map(d=>d.field))}(t,e,n,r):function(s,o,a){return Bx(s.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):a}(t,e,n)}function Mce(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),s=aH(r.transform,i||null);s!=null&&(n===null&&(n=wr.empty()),n.set(r.field,s))}return n||null}function a$(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&sh(r,i,(s,o)=>jce(s,o))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class lp extends $_{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class wa extends $_{constructor(e,n,r,i,s=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function hH(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function l$(t,e,n){const r=new Map;Te(t.length===n.length);for(let i=0;i<n.length;i++){const s=t[i],o=s.transform,a=e.data.field(s.field);r.set(s.field,Nce(o,a,n[i]))}return r}function c$(t,e,n){const r=new Map;for(const i of t){const s=i.transform,o=n.data.field(i.field);r.set(i.field,Oce(s,o,e))}return r}class V_ extends $_{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class pH extends $_{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MN{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const s=this.mutations[i];s.key.isEqual(e.key)&&Dce(s,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=tg(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=tg(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=sH();return this.mutations.forEach(i=>{const s=e.get(i.key),o=s.overlayedDocument;let a=this.applyToLocalView(o,s.mutatedFields);a=n.has(i.key)?null:a;const l=fH(o,a);l!==null&&r.set(i.key,l),o.isValidDocument()||o.convertToNoDocument(Pe.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),Xe())}isEqual(e){return this.batchId===e.batchId&&sh(this.mutations,e.mutations,(n,r)=>a$(n,r))&&sh(this.baseMutations,e.baseMutations,(n,r)=>a$(n,r))}}class LN{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){Te(e.mutations.length===r.length);let i=function(){return Ace}();const s=e.mutations;for(let o=0;o<s.length;o++)i=i.insert(s[o].key,r[o].version);return new LN(e,n,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $N{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lce{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var wn,ct;function $ce(t){switch(t){default:return Ee();case X.CANCELLED:case X.UNKNOWN:case X.DEADLINE_EXCEEDED:case X.RESOURCE_EXHAUSTED:case X.INTERNAL:case X.UNAVAILABLE:case X.UNAUTHENTICATED:return!1;case X.INVALID_ARGUMENT:case X.NOT_FOUND:case X.ALREADY_EXISTS:case X.PERMISSION_DENIED:case X.FAILED_PRECONDITION:case X.ABORTED:case X.OUT_OF_RANGE:case X.UNIMPLEMENTED:case X.DATA_LOSS:return!0}}function mH(t){if(t===void 0)return $r("GRPC error has no .code"),X.UNKNOWN;switch(t){case wn.OK:return X.OK;case wn.CANCELLED:return X.CANCELLED;case wn.UNKNOWN:return X.UNKNOWN;case wn.DEADLINE_EXCEEDED:return X.DEADLINE_EXCEEDED;case wn.RESOURCE_EXHAUSTED:return X.RESOURCE_EXHAUSTED;case wn.INTERNAL:return X.INTERNAL;case wn.UNAVAILABLE:return X.UNAVAILABLE;case wn.UNAUTHENTICATED:return X.UNAUTHENTICATED;case wn.INVALID_ARGUMENT:return X.INVALID_ARGUMENT;case wn.NOT_FOUND:return X.NOT_FOUND;case wn.ALREADY_EXISTS:return X.ALREADY_EXISTS;case wn.PERMISSION_DENIED:return X.PERMISSION_DENIED;case wn.FAILED_PRECONDITION:return X.FAILED_PRECONDITION;case wn.ABORTED:return X.ABORTED;case wn.OUT_OF_RANGE:return X.OUT_OF_RANGE;case wn.UNIMPLEMENTED:return X.UNIMPLEMENTED;case wn.DATA_LOSS:return X.DATA_LOSS;default:return Ee()}}(ct=wn||(wn={}))[ct.OK=0]="OK",ct[ct.CANCELLED=1]="CANCELLED",ct[ct.UNKNOWN=2]="UNKNOWN",ct[ct.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",ct[ct.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",ct[ct.NOT_FOUND=5]="NOT_FOUND",ct[ct.ALREADY_EXISTS=6]="ALREADY_EXISTS",ct[ct.PERMISSION_DENIED=7]="PERMISSION_DENIED",ct[ct.UNAUTHENTICATED=16]="UNAUTHENTICATED",ct[ct.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",ct[ct.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",ct[ct.ABORTED=10]="ABORTED",ct[ct.OUT_OF_RANGE=11]="OUT_OF_RANGE",ct[ct.UNIMPLEMENTED=12]="UNIMPLEMENTED",ct[ct.INTERNAL=13]="INTERNAL",ct[ct.UNAVAILABLE=14]="UNAVAILABLE",ct[ct.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vce(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fce=new hu([4294967295,4294967295],0);function u$(t){const e=Vce().encode(t),n=new Aq;return n.update(e),new Uint8Array(n.digest())}function d$(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new hu([n,r],0),new hu([i,s],0)]}class VN{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new Nm(`Invalid padding: ${n}`);if(r<0)throw new Nm(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Nm(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new Nm(`Invalid padding when bitmap length is 0: ${n}`);this.Ie=8*e.length-n,this.Te=hu.fromNumber(this.Ie)}Ee(e,n,r){let i=e.add(n.multiply(hu.fromNumber(r)));return i.compare(Fce)===1&&(i=new hu([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Te).toNumber()}de(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Ie===0)return!1;const n=u$(e),[r,i]=d$(n);for(let s=0;s<this.hashCount;s++){const o=this.Ee(r,i,s);if(!this.de(o))return!1}return!0}static create(e,n,r){const i=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),o=new VN(s,i,n);return r.forEach(a=>o.insert(a)),o}insert(e){if(this.Ie===0)return;const n=u$(e),[r,i]=d$(n);for(let s=0;s<this.hashCount;s++){const o=this.Ee(r,i,s);this.Ae(o)}}Ae(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class Nm extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F_{constructor(e,n,r,i,s){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,Sv.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new F_(Pe.min(),i,new en(ze),Ti(),Xe())}}class Sv{constructor(e,n,r,i,s){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new Sv(r,n,Xe(),Xe(),Xe())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ux{constructor(e,n,r,i){this.Re=e,this.removedTargetIds=n,this.key=r,this.Ve=i}}class gH{constructor(e,n){this.targetId=e,this.me=n}}class yH{constructor(e,n,r=kn.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class f${constructor(){this.fe=0,this.ge=p$(),this.pe=kn.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}ve(){let e=Xe(),n=Xe(),r=Xe();return this.ge.forEach((i,s)=>{switch(s){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:Ee()}}),new Sv(this.pe,this.ye,e,n,r)}Ce(){this.we=!1,this.ge=p$()}Fe(e,n){this.we=!0,this.ge=this.ge.insert(e,n)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,Te(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class Bce{constructor(e){this.Le=e,this.Be=new Map,this.ke=Ti(),this.qe=h$(),this.Qe=new en(ze)}Ke(e){for(const n of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.$e(n,e.Ve):this.Ue(n,e.key,e.Ve);for(const n of e.removedTargetIds)this.Ue(n,e.key,e.Ve)}We(e){this.forEachTarget(e,n=>{const r=this.Ge(n);switch(e.state){case 0:this.ze(n)&&r.De(e.resumeToken);break;case 1:r.Oe(),r.Se||r.Ce(),r.De(e.resumeToken);break;case 2:r.Oe(),r.Se||this.removeTarget(n);break;case 3:this.ze(n)&&(r.Ne(),r.De(e.resumeToken));break;case 4:this.ze(n)&&(this.je(n),r.De(e.resumeToken));break;default:Ee()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Be.forEach((r,i)=>{this.ze(i)&&n(i)})}He(e){const n=e.targetId,r=e.me.count,i=this.Je(n);if(i){const s=i.target;if(Ub(s))if(r===0){const o=new me(s.path);this.Ue(n,o,pn.newNoDocument(o,Pe.min()))}else Te(r===1);else{const o=this.Ye(n);if(o!==r){const a=this.Ze(e),l=a?this.Xe(a,e,o):1;if(l!==0){this.je(n);const c=l===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Qe=this.Qe.insert(n,c)}}}}}Ze(e){const n=e.me.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:s=0}=n;let o,a;try{o=ql(r).toUint8Array()}catch(l){if(l instanceof zq)return ih("Decoding the base64 bloom filter in existence filter failed ("+l.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw l}try{a=new VN(o,i,s)}catch(l){return ih(l instanceof Nm?"BloomFilter error: ":"Applying bloom filter failed: ",l),null}return a.Ie===0?null:a}Xe(e,n,r){return n.me.count===r-this.nt(e,n.targetId)?0:2}nt(e,n){const r=this.Le.getRemoteKeysForTarget(n);let i=0;return r.forEach(s=>{const o=this.Le.tt(),a=`projects/${o.projectId}/databases/${o.database}/documents/${s.path.canonicalString()}`;e.mightContain(a)||(this.Ue(n,s,null),i++)}),i}rt(e){const n=new Map;this.Be.forEach((s,o)=>{const a=this.Je(o);if(a){if(s.current&&Ub(a.target)){const l=new me(a.target.path);this.ke.get(l)!==null||this.it(o,l)||this.Ue(o,l,pn.newNoDocument(l,e))}s.be&&(n.set(o,s.ve()),s.Ce())}});let r=Xe();this.qe.forEach((s,o)=>{let a=!0;o.forEachWhile(l=>{const c=this.Je(l);return!c||c.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(s))}),this.ke.forEach((s,o)=>o.setReadTime(e));const i=new F_(e,n,this.Qe,this.ke,r);return this.ke=Ti(),this.qe=h$(),this.Qe=new en(ze),i}$e(e,n){if(!this.ze(e))return;const r=this.it(e,n.key)?2:0;this.Ge(e).Fe(n.key,r),this.ke=this.ke.insert(n.key,n),this.qe=this.qe.insert(n.key,this.st(n.key).add(e))}Ue(e,n,r){if(!this.ze(e))return;const i=this.Ge(e);this.it(e,n)?i.Fe(n,1):i.Me(n),this.qe=this.qe.insert(n,this.st(n).delete(e)),r&&(this.ke=this.ke.insert(n,r))}removeTarget(e){this.Be.delete(e)}Ye(e){const n=this.Ge(e).ve();return this.Le.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}xe(e){this.Ge(e).xe()}Ge(e){let n=this.Be.get(e);return n||(n=new f$,this.Be.set(e,n)),n}st(e){let n=this.qe.get(e);return n||(n=new It(ze),this.qe=this.qe.insert(e,n)),n}ze(e){const n=this.Je(e)!==null;return n||re("WatchChangeAggregator","Detected inactive target",e),n}Je(e){const n=this.Be.get(e);return n&&n.Se?null:this.Le.ot(e)}je(e){this.Be.set(e,new f$),this.Le.getRemoteKeysForTarget(e).forEach(n=>{this.Ue(e,n,null)})}it(e,n){return this.Le.getRemoteKeysForTarget(e).has(n)}}function h$(){return new en(me.comparator)}function p$(){return new en(me.comparator)}const Uce={asc:"ASCENDING",desc:"DESCENDING"},zce={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},qce={and:"AND",or:"OR"};class Hce{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function wP(t,e){return t.useProto3Json||R_(e)?e:{value:e}}function fh(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function vH(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function Wce(t,e){return fh(t,e.toTimestamp())}function qr(t){return Te(!!t),Pe.fromTimestamp(function(n){const r=ua(n);return new Kt(r.seconds,r.nanos)}(t))}function FN(t,e){return _P(t,e).canonicalString()}function _P(t,e){const n=function(i){return new xt(["projects",i.projectId,"databases",i.database])}(t).child("documents");return e===void 0?n:n.child(e)}function xH(t){const e=xt.fromString(t);return Te(PH(e)),e}function Hb(t,e){return FN(t.databaseId,e.path)}function pu(t,e){const n=xH(e);if(n.get(1)!==t.databaseId.projectId)throw new ue(X.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new ue(X.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new me(_H(n))}function bH(t,e){return FN(t.databaseId,e)}function wH(t){const e=xH(t);return e.length===4?xt.emptyPath():_H(e)}function SP(t){return new xt(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function _H(t){return Te(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function m$(t,e,n){return{name:Hb(t,e),fields:n.value.mapValue.fields}}function Kce(t,e,n){const r=pu(t,e.name),i=qr(e.updateTime),s=e.createTime?qr(e.createTime):Pe.min(),o=new wr({mapValue:{fields:e.fields}}),a=pn.newFoundDocument(r,i,s,o);return n&&a.setHasCommittedMutations(),n?a.setHasCommittedMutations():a}function Gce(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(c){return c==="NO_CHANGE"?0:c==="ADD"?1:c==="REMOVE"?2:c==="CURRENT"?3:c==="RESET"?4:Ee()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],s=function(c,u){return c.useProto3Json?(Te(u===void 0||typeof u=="string"),kn.fromBase64String(u||"")):(Te(u===void 0||u instanceof Buffer||u instanceof Uint8Array),kn.fromUint8Array(u||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&function(c){const u=c.code===void 0?X.UNKNOWN:mH(c.code);return new ue(u,c.message||"")}(o);n=new yH(r,i,s,a||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=pu(t,r.document.name),s=qr(r.document.updateTime),o=r.document.createTime?qr(r.document.createTime):Pe.min(),a=new wr({mapValue:{fields:r.document.fields}}),l=pn.newFoundDocument(i,s,o,a),c=r.targetIds||[],u=r.removedTargetIds||[];n=new Ux(c,u,l.key,l)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=pu(t,r.document),s=r.readTime?qr(r.readTime):Pe.min(),o=pn.newNoDocument(i,s),a=r.removedTargetIds||[];n=new Ux([],a,o.key,o)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=pu(t,r.document),s=r.removedTargetIds||[];n=new Ux([],s,i,null)}else{if(!("filter"in e))return Ee();{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:s}=r,o=new Lce(i,s),a=r.targetId;n=new gH(a,o)}}return n}function Wb(t,e){let n;if(e instanceof lp)n={update:m$(t,e.key,e.value)};else if(e instanceof V_)n={delete:Hb(t,e.key)};else if(e instanceof wa)n={update:m$(t,e.key,e.data),updateMask:eue(e.fieldMask)};else{if(!(e instanceof pH))return Ee();n={verify:Hb(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(s,o){const a=o.transform;if(a instanceof ch)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof uh)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof dh)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof Jg)return{fieldPath:o.field.canonicalString(),increment:a.Pe};throw Ee()}(0,r))),e.precondition.isNone||(n.currentDocument=function(i,s){return s.updateTime!==void 0?{updateTime:Wce(i,s.updateTime)}:s.exists!==void 0?{exists:s.exists}:Ee()}(t,e.precondition)),n}function EP(t,e){const n=e.currentDocument?function(s){return s.updateTime!==void 0?_r.updateTime(qr(s.updateTime)):s.exists!==void 0?_r.exists(s.exists):_r.none()}(e.currentDocument):_r.none(),r=e.updateTransforms?e.updateTransforms.map(i=>function(o,a){let l=null;if("setToServerValue"in a)Te(a.setToServerValue==="REQUEST_TIME"),l=new ch;else if("appendMissingElements"in a){const u=a.appendMissingElements.values||[];l=new uh(u)}else if("removeAllFromArray"in a){const u=a.removeAllFromArray.values||[];l=new dh(u)}else"increment"in a?l=new Jg(o,a.increment):Ee();const c=sn.fromServerFormat(a.fieldPath);return new dH(c,l)}(t,i)):[];if(e.update){e.update.name;const i=pu(t,e.update.name),s=new wr({mapValue:{fields:e.update.fields}});if(e.updateMask){const o=function(l){const c=l.fieldPaths||[];return new ri(c.map(u=>sn.fromServerFormat(u)))}(e.updateMask);return new wa(i,s,o,n,r)}return new lp(i,s,n,r)}if(e.delete){const i=pu(t,e.delete);return new V_(i,n)}if(e.verify){const i=pu(t,e.verify);return new pH(i,n)}return Ee()}function Qce(t,e){return t&&t.length>0?(Te(e!==void 0),t.map(n=>function(i,s){let o=i.updateTime?qr(i.updateTime):qr(s);return o.isEqual(Pe.min())&&(o=qr(s)),new Rce(o,i.transformResults||[])}(n,e))):[]}function SH(t,e){return{documents:[bH(t,e.path)]}}function EH(t,e){const n={structuredQuery:{}},r=e.path;let i;e.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=bH(t,i);const s=function(c){if(c.length!==0)return kH(Tt.create(c,"and"))}(e.filters);s&&(n.structuredQuery.where=s);const o=function(c){if(c.length!==0)return c.map(u=>function(f){return{field:Ld(f.field),direction:Xce(f.dir)}}(u))}(e.orderBy);o&&(n.structuredQuery.orderBy=o);const a=wP(t,e.limit);return a!==null&&(n.structuredQuery.limit=a),e.startAt&&(n.structuredQuery.startAt=function(c){return{before:c.inclusive,values:c.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(c){return{before:!c.inclusive,values:c.position}}(e.endAt)),{_t:n,parent:i}}function TH(t){let e=wH(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){Te(r===1);const u=n.from[0];u.allDescendants?i=u.collectionId:e=e.child(u.collectionId)}let s=[];n.where&&(s=function(d){const f=AH(d);return f instanceof Tt&&RN(f)?f.getFilters():[f]}(n.where));let o=[];n.orderBy&&(o=function(d){return d.map(f=>function(m){return new Xg($d(m.field),function(v){switch(v){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(m.direction))}(f))}(n.orderBy));let a=null;n.limit&&(a=function(d){let f;return f=typeof d=="object"?d.value:d,R_(f)?null:f}(n.limit));let l=null;n.startAt&&(l=function(d){const f=!!d.before,p=d.values||[];return new ah(p,f)}(n.startAt));let c=null;return n.endAt&&(c=function(d){const f=!d.before,p=d.values||[];return new ah(p,f)}(n.endAt)),wce(e,i,o,s,a,"F",l,c)}function Yce(t,e){const n=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Ee()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function AH(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=$d(n.unaryFilter.field);return ot.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=$d(n.unaryFilter.field);return ot.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const s=$d(n.unaryFilter.field);return ot.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=$d(n.unaryFilter.field);return ot.create(o,"!=",{nullValue:"NULL_VALUE"});default:return Ee()}}(t):t.fieldFilter!==void 0?function(n){return ot.create($d(n.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Ee()}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return Tt.create(n.compositeFilter.filters.map(r=>AH(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return Ee()}}(n.compositeFilter.op))}(t):Ee()}function Xce(t){return Uce[t]}function Jce(t){return zce[t]}function Zce(t){return qce[t]}function Ld(t){return{fieldPath:t.canonicalString()}}function $d(t){return sn.fromServerFormat(t.fieldPath)}function kH(t){return t instanceof ot?function(n){if(n.op==="=="){if(JL(n.value))return{unaryFilter:{field:Ld(n.field),op:"IS_NAN"}};if(XL(n.value))return{unaryFilter:{field:Ld(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(JL(n.value))return{unaryFilter:{field:Ld(n.field),op:"IS_NOT_NAN"}};if(XL(n.value))return{unaryFilter:{field:Ld(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ld(n.field),op:Jce(n.op),value:n.value}}}(t):t instanceof Tt?function(n){const r=n.getFilters().map(i=>kH(i));return r.length===1?r[0]:{compositeFilter:{op:Zce(n.op),filters:r}}}(t):Ee()}function eue(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function PH(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uo{constructor(e,n,r,i,s=Pe.min(),o=Pe.min(),a=kn.EMPTY_BYTE_STRING,l=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a,this.expectedCount=l}withSequenceNumber(e){return new Uo(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Uo(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Uo(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Uo(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CH{constructor(e){this.ct=e}}function tue(t,e){let n;if(e.document)n=Kce(t.ct,e.document,!!e.hasCommittedMutations);else if(e.noDocument){const r=me.fromSegments(e.noDocument.path),i=Bu(e.noDocument.readTime);n=pn.newNoDocument(r,i),e.hasCommittedMutations&&n.setHasCommittedMutations()}else{if(!e.unknownDocument)return Ee();{const r=me.fromSegments(e.unknownDocument.path),i=Bu(e.unknownDocument.version);n=pn.newUnknownDocument(r,i)}}return e.readTime&&n.setReadTime(function(i){const s=new Kt(i[0],i[1]);return Pe.fromTimestamp(s)}(e.readTime)),n}function g$(t,e){const n=e.key,r={prefixPath:n.getCollectionPath().popLast().toArray(),collectionGroup:n.collectionGroup,documentId:n.path.lastSegment(),readTime:Kb(e.readTime),hasCommittedMutations:e.hasCommittedMutations};if(e.isFoundDocument())r.document=function(s,o){return{name:Hb(s,o.key),fields:o.data.value.mapValue.fields,updateTime:fh(s,o.version.toTimestamp()),createTime:fh(s,o.createTime.toTimestamp())}}(t.ct,e);else if(e.isNoDocument())r.noDocument={path:n.path.toArray(),readTime:Fu(e.version)};else{if(!e.isUnknownDocument())return Ee();r.unknownDocument={path:n.path.toArray(),version:Fu(e.version)}}return r}function Kb(t){const e=t.toTimestamp();return[e.seconds,e.nanoseconds]}function Fu(t){const e=t.toTimestamp();return{seconds:e.seconds,nanoseconds:e.nanoseconds}}function Bu(t){const e=new Kt(t.seconds,t.nanoseconds);return Pe.fromTimestamp(e)}function $c(t,e){const n=(e.baseMutations||[]).map(s=>EP(t.ct,s));for(let s=0;s<e.mutations.length-1;++s){const o=e.mutations[s];if(s+1<e.mutations.length&&e.mutations[s+1].transform!==void 0){const a=e.mutations[s+1];o.updateTransforms=a.transform.fieldTransforms,e.mutations.splice(s+1,1),++s}}const r=e.mutations.map(s=>EP(t.ct,s)),i=Kt.fromMillis(e.localWriteTimeMs);return new MN(e.batchId,i,n,r)}function jm(t){const e=Bu(t.readTime),n=t.lastLimboFreeSnapshotVersion!==void 0?Bu(t.lastLimboFreeSnapshotVersion):Pe.min();let r;return r=function(s){return s.documents!==void 0}(t.query)?function(s){return Te(s.documents.length===1),ns(wv(wH(s.documents[0])))}(t.query):function(s){return ns(TH(s))}(t.query),new Uo(r,t.targetId,"TargetPurposeListen",t.lastListenSequenceNumber,e,n,kn.fromBase64String(t.resumeToken))}function IH(t,e){const n=Fu(e.snapshotVersion),r=Fu(e.lastLimboFreeSnapshotVersion);let i;i=Ub(e.target)?SH(t.ct,e.target):EH(t.ct,e.target)._t;const s=e.resumeToken.toBase64();return{targetId:e.targetId,canonicalId:Vu(e.target),readTime:n,resumeToken:s,lastListenSequenceNumber:e.sequenceNumber,lastLimboFreeSnapshotVersion:r,query:i}}function OH(t){const e=TH({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?qb(e,e.limit,"L"):e}function wT(t,e){return new $N(e.largestBatchId,EP(t.ct,e.overlayMutation))}function y$(t,e){const n=e.path.lastSegment();return[t,zr(e.path.popLast()),n]}function v$(t,e,n,r){return{indexId:t,uid:e,sequenceNumber:n,readTime:Fu(r.readTime),documentKey:zr(r.documentKey.path),largestBatchId:r.largestBatchId}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nue{getBundleMetadata(e,n){return x$(e).get(n).next(r=>{if(r)return function(s){return{id:s.bundleId,createTime:Bu(s.createTime),version:s.version}}(r)})}saveBundleMetadata(e,n){return x$(e).put(function(i){return{bundleId:i.id,createTime:Fu(qr(i.createTime)),version:i.version}}(n))}getNamedQuery(e,n){return b$(e).get(n).next(r=>{if(r)return function(s){return{name:s.name,query:OH(s.bundledQuery),readTime:Bu(s.readTime)}}(r)})}saveNamedQuery(e,n){return b$(e).put(function(i){return{name:i.name,readTime:Fu(qr(i.readTime)),bundledQuery:i.bundledQuery}}(n))}}function x$(t){return Ln(t,"bundles")}function b$(t){return Ln(t,"namedQueries")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B_{constructor(e,n){this.serializer=e,this.userId=n}static lt(e,n){const r=n.uid||"";return new B_(e,r)}getOverlay(e,n){return Jp(e).get(y$(this.userId,n)).next(r=>r?wT(this.serializer,r):null)}getOverlays(e,n){const r=Ks();return H.forEach(n,i=>this.getOverlay(e,i).next(s=>{s!==null&&r.set(i,s)})).next(()=>r)}saveOverlays(e,n,r){const i=[];return r.forEach((s,o)=>{const a=new $N(n,o);i.push(this.ht(e,a))}),H.waitFor(i)}removeOverlaysForBatchId(e,n,r){const i=new Set;n.forEach(o=>i.add(zr(o.getCollectionPath())));const s=[];return i.forEach(o=>{const a=IDBKeyRange.bound([this.userId,o,r],[this.userId,o,r+1],!1,!0);s.push(Jp(e).j("collectionPathOverlayIndex",a))}),H.waitFor(s)}getOverlaysForCollection(e,n,r){const i=Ks(),s=zr(n),o=IDBKeyRange.bound([this.userId,s,r],[this.userId,s,Number.POSITIVE_INFINITY],!0);return Jp(e).U("collectionPathOverlayIndex",o).next(a=>{for(const l of a){const c=wT(this.serializer,l);i.set(c.getKey(),c)}return i})}getOverlaysForCollectionGroup(e,n,r,i){const s=Ks();let o;const a=IDBKeyRange.bound([this.userId,n,r],[this.userId,n,Number.POSITIVE_INFINITY],!0);return Jp(e).J({index:"collectionGroupOverlayIndex",range:a},(l,c,u)=>{const d=wT(this.serializer,c);s.size()<i||d.largestBatchId===o?(s.set(d.getKey(),d),o=d.largestBatchId):u.done()}).next(()=>s)}ht(e,n){return Jp(e).put(function(i,s,o){const[a,l,c]=y$(s,o.mutation.key);return{userId:s,collectionPath:l,documentId:c,collectionGroup:o.mutation.key.getCollectionGroup(),largestBatchId:o.largestBatchId,overlayMutation:Wb(i.ct,o.mutation)}}(this.serializer,this.userId,n))}}function Jp(t){return Ln(t,"documentOverlays")}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rue{Pt(e){return Ln(e,"globals")}getSessionToken(e){return this.Pt(e).get("sessionToken").next(n=>{const r=n==null?void 0:n.value;return r?kn.fromUint8Array(r):kn.EMPTY_BYTE_STRING})}setSessionToken(e,n){return this.Pt(e).put({name:"sessionToken",value:n.toUint8Array()})}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vc{constructor(){}It(e,n){this.Tt(e,n),n.Et()}Tt(e,n){if("nullValue"in e)this.dt(n,5);else if("booleanValue"in e)this.dt(n,10),n.At(e.booleanValue?1:0);else if("integerValue"in e)this.dt(n,15),n.At(Qt(e.integerValue));else if("doubleValue"in e){const r=Qt(e.doubleValue);isNaN(r)?this.dt(n,13):(this.dt(n,15),Wg(r)?n.At(0):n.At(r))}else if("timestampValue"in e){let r=e.timestampValue;this.dt(n,20),typeof r=="string"&&(r=ua(r)),n.Rt(`${r.seconds||""}`),n.At(r.nanos||0)}else if("stringValue"in e)this.Vt(e.stringValue,n),this.ft(n);else if("bytesValue"in e)this.dt(n,30),n.gt(ql(e.bytesValue)),this.ft(n);else if("referenceValue"in e)this.yt(e.referenceValue,n);else if("geoPointValue"in e){const r=e.geoPointValue;this.dt(n,45),n.At(r.latitude||0),n.At(r.longitude||0)}else"mapValue"in e?qq(e)?this.dt(n,Number.MAX_SAFE_INTEGER):D_(e)?this.wt(e.mapValue,n):(this.St(e.mapValue,n),this.ft(n)):"arrayValue"in e?(this.bt(e.arrayValue,n),this.ft(n)):Ee()}Vt(e,n){this.dt(n,25),this.Dt(e,n)}Dt(e,n){n.Rt(e)}St(e,n){const r=e.fields||{};this.dt(n,55);for(const i of Object.keys(r))this.Vt(i,n),this.Tt(r[i],n)}wt(e,n){var r,i;const s=e.fields||{};this.dt(n,53);const o="value",a=((i=(r=s[o].arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.length)||0;this.dt(n,15),n.At(Qt(a)),this.Vt(o,n),this.Tt(s[o],n)}bt(e,n){const r=e.values||[];this.dt(n,50);for(const i of r)this.Tt(i,n)}yt(e,n){this.dt(n,37),me.fromName(e).path.forEach(r=>{this.dt(n,60),this.Dt(r,n)})}dt(e,n){e.At(n)}ft(e){e.At(2)}}Vc.vt=new Vc;function iue(t){if(t===0)return 8;let e=0;return!(t>>4)&&(e+=4,t<<=4),!(t>>6)&&(e+=2,t<<=2),!(t>>7)&&(e+=1),e}function w$(t){const e=64-function(r){let i=0;for(let s=0;s<8;++s){const o=iue(255&r[s]);if(i+=o,o!==8)break}return i}(t);return Math.ceil(e/8)}class sue{constructor(){this.buffer=new Uint8Array(1024),this.position=0}Ct(e){const n=e[Symbol.iterator]();let r=n.next();for(;!r.done;)this.Ft(r.value),r=n.next();this.Mt()}xt(e){const n=e[Symbol.iterator]();let r=n.next();for(;!r.done;)this.Ot(r.value),r=n.next();this.Nt()}Lt(e){for(const n of e){const r=n.charCodeAt(0);if(r<128)this.Ft(r);else if(r<2048)this.Ft(960|r>>>6),this.Ft(128|63&r);else if(n<"\uD800"||"\uDBFF"<n)this.Ft(480|r>>>12),this.Ft(128|63&r>>>6),this.Ft(128|63&r);else{const i=n.codePointAt(0);this.Ft(240|i>>>18),this.Ft(128|63&i>>>12),this.Ft(128|63&i>>>6),this.Ft(128|63&i)}}this.Mt()}Bt(e){for(const n of e){const r=n.charCodeAt(0);if(r<128)this.Ot(r);else if(r<2048)this.Ot(960|r>>>6),this.Ot(128|63&r);else if(n<"\uD800"||"\uDBFF"<n)this.Ot(480|r>>>12),this.Ot(128|63&r>>>6),this.Ot(128|63&r);else{const i=n.codePointAt(0);this.Ot(240|i>>>18),this.Ot(128|63&i>>>12),this.Ot(128|63&i>>>6),this.Ot(128|63&i)}}this.Nt()}kt(e){const n=this.qt(e),r=w$(n);this.Qt(1+r),this.buffer[this.position++]=255&r;for(let i=n.length-r;i<n.length;++i)this.buffer[this.position++]=255&n[i]}Kt(e){const n=this.qt(e),r=w$(n);this.Qt(1+r),this.buffer[this.position++]=~(255&r);for(let i=n.length-r;i<n.length;++i)this.buffer[this.position++]=~(255&n[i])}$t(){this.Ut(255),this.Ut(255)}Wt(){this.Gt(255),this.Gt(255)}reset(){this.position=0}seed(e){this.Qt(e.length),this.buffer.set(e,this.position),this.position+=e.length}zt(){return this.buffer.slice(0,this.position)}qt(e){const n=function(s){const o=new DataView(new ArrayBuffer(8));return o.setFloat64(0,s,!1),new Uint8Array(o.buffer)}(e),r=(128&n[0])!=0;n[0]^=r?255:128;for(let i=1;i<n.length;++i)n[i]^=r?255:0;return n}Ft(e){const n=255&e;n===0?(this.Ut(0),this.Ut(255)):n===255?(this.Ut(255),this.Ut(0)):this.Ut(n)}Ot(e){const n=255&e;n===0?(this.Gt(0),this.Gt(255)):n===255?(this.Gt(255),this.Gt(0)):this.Gt(e)}Mt(){this.Ut(0),this.Ut(1)}Nt(){this.Gt(0),this.Gt(1)}Ut(e){this.Qt(1),this.buffer[this.position++]=e}Gt(e){this.Qt(1),this.buffer[this.position++]=~e}Qt(e){const n=e+this.position;if(n<=this.buffer.length)return;let r=2*this.buffer.length;r<n&&(r=n);const i=new Uint8Array(r);i.set(this.buffer),this.buffer=i}}class oue{constructor(e){this.jt=e}gt(e){this.jt.Ct(e)}Rt(e){this.jt.Lt(e)}At(e){this.jt.kt(e)}Et(){this.jt.$t()}}class aue{constructor(e){this.jt=e}gt(e){this.jt.xt(e)}Rt(e){this.jt.Bt(e)}At(e){this.jt.Kt(e)}Et(){this.jt.Wt()}}class Zp{constructor(){this.jt=new sue,this.Ht=new oue(this.jt),this.Jt=new aue(this.jt)}seed(e){this.jt.seed(e)}Yt(e){return e===0?this.Ht:this.Jt}zt(){return this.jt.zt()}reset(){this.jt.reset()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fc{constructor(e,n,r,i){this.indexId=e,this.documentKey=n,this.arrayValue=r,this.directionalValue=i}Zt(){const e=this.directionalValue.length,n=e===0||this.directionalValue[e-1]===255?e+1:e,r=new Uint8Array(n);return r.set(this.directionalValue,0),n!==e?r.set([0],this.directionalValue.length):++r[r.length-1],new Fc(this.indexId,this.documentKey,this.arrayValue,r)}}function Ra(t,e){let n=t.indexId-e.indexId;return n!==0?n:(n=_$(t.arrayValue,e.arrayValue),n!==0?n:(n=_$(t.directionalValue,e.directionalValue),n!==0?n:me.comparator(t.documentKey,e.documentKey)))}function _$(t,e){for(let n=0;n<t.length&&n<e.length;++n){const r=t[n]-e[n];if(r!==0)return r}return t.length-e.length}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S${constructor(e){this.Xt=new It((n,r)=>sn.comparator(n.field,r.field)),this.collectionId=e.collectionGroup!=null?e.collectionGroup:e.path.lastSegment(),this.en=e.orderBy,this.tn=[];for(const n of e.filters){const r=n;r.isInequality()?this.Xt=this.Xt.add(r):this.tn.push(r)}}get nn(){return this.Xt.size>1}rn(e){if(Te(e.collectionGroup===this.collectionId),this.nn)return!1;const n=hP(e);if(n!==void 0&&!this.sn(n))return!1;const r=Ic(e);let i=new Set,s=0,o=0;for(;s<r.length&&this.sn(r[s]);++s)i=i.add(r[s].fieldPath.canonicalString());if(s===r.length)return!0;if(this.Xt.size>0){const a=this.Xt.getIterator().getNext();if(!i.has(a.field.canonicalString())){const l=r[s];if(!this.on(a,l)||!this._n(this.en[o++],l))return!1}++s}for(;s<r.length;++s){const a=r[s];if(o>=this.en.length||!this._n(this.en[o++],a))return!1}return!0}an(){if(this.nn)return null;let e=new It(sn.comparator);const n=[];for(const r of this.tn)if(!r.field.isKeyField())if(r.op==="array-contains"||r.op==="array-contains-any")n.push(new Lx(r.field,2));else{if(e.has(r.field))continue;e=e.add(r.field),n.push(new Lx(r.field,0))}for(const r of this.en)r.field.isKeyField()||e.has(r.field)||(e=e.add(r.field),n.push(new Lx(r.field,r.dir==="asc"?0:1)));return new Bb(Bb.UNKNOWN_ID,this.collectionId,n,Hg.empty())}sn(e){for(const n of this.tn)if(this.on(n,e))return!0;return!1}on(e,n){if(e===void 0||!e.field.isEqual(n.fieldPath))return!1;const r=e.op==="array-contains"||e.op==="array-contains-any";return n.kind===2===r}_n(e,n){return!!e.field.isEqual(n.fieldPath)&&(n.kind===0&&e.dir==="asc"||n.kind===1&&e.dir==="desc")}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NH(t){var e,n;if(Te(t instanceof ot||t instanceof Tt),t instanceof ot){if(t instanceof Zq){const i=((n=(e=t.value.arrayValue)===null||e===void 0?void 0:e.values)===null||n===void 0?void 0:n.map(s=>ot.create(t.field,"==",s)))||[];return Tt.create(i,"or")}return t}const r=t.filters.map(i=>NH(i));return Tt.create(r,t.op)}function lue(t){if(t.getFilters().length===0)return[];const e=kP(NH(t));return Te(jH(e)),TP(e)||AP(e)?[e]:e.getFilters()}function TP(t){return t instanceof ot}function AP(t){return t instanceof Tt&&RN(t)}function jH(t){return TP(t)||AP(t)||function(n){if(n instanceof Tt&&yP(n)){for(const r of n.getFilters())if(!TP(r)&&!AP(r))return!1;return!0}return!1}(t)}function kP(t){if(Te(t instanceof ot||t instanceof Tt),t instanceof ot)return t;if(t.filters.length===1)return kP(t.filters[0]);const e=t.filters.map(r=>kP(r));let n=Tt.create(e,t.op);return n=Gb(n),jH(n)?n:(Te(n instanceof Tt),Te(lh(n)),Te(n.filters.length>1),n.filters.reduce((r,i)=>BN(r,i)))}function BN(t,e){let n;return Te(t instanceof ot||t instanceof Tt),Te(e instanceof ot||e instanceof Tt),n=t instanceof ot?e instanceof ot?function(i,s){return Tt.create([i,s],"and")}(t,e):E$(t,e):e instanceof ot?E$(e,t):function(i,s){if(Te(i.filters.length>0&&s.filters.length>0),lh(i)&&lh(s))return Yq(i,s.getFilters());const o=yP(i)?i:s,a=yP(i)?s:i,l=o.filters.map(c=>BN(c,a));return Tt.create(l,"or")}(t,e),Gb(n)}function E$(t,e){if(lh(e))return Yq(e,t.getFilters());{const n=e.filters.map(r=>BN(t,r));return Tt.create(n,"or")}}function Gb(t){if(Te(t instanceof ot||t instanceof Tt),t instanceof ot)return t;const e=t.getFilters();if(e.length===1)return Gb(e[0]);if(Gq(t))return t;const n=e.map(i=>Gb(i)),r=[];return n.forEach(i=>{i instanceof ot?r.push(i):i instanceof Tt&&(i.op===t.op?r.push(...i.filters):r.push(i))}),r.length===1?r[0]:Tt.create(r,t.op)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cue{constructor(){this.un=new UN}addToCollectionParentIndex(e,n){return this.un.add(n),H.resolve()}getCollectionParents(e,n){return H.resolve(this.un.getEntries(n))}addFieldIndex(e,n){return H.resolve()}deleteFieldIndex(e,n){return H.resolve()}deleteAllFieldIndexes(e){return H.resolve()}createTargetIndexes(e,n){return H.resolve()}getDocumentsMatchingTarget(e,n){return H.resolve(null)}getIndexType(e,n){return H.resolve(0)}getFieldIndexes(e,n){return H.resolve([])}getNextCollectionGroupToUpdate(e){return H.resolve(null)}getMinOffset(e,n){return H.resolve(ji.min())}getMinOffsetFromCollectionGroup(e,n){return H.resolve(ji.min())}updateCollectionGroup(e,n,r){return H.resolve()}updateIndexEntries(e,n){return H.resolve()}}class UN{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new It(xt.comparator),s=!i.has(r);return this.index[n]=i.add(r),s}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new It(xt.comparator)).toArray()}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const j0=new Uint8Array(0);class uue{constructor(e,n){this.databaseId=n,this.cn=new UN,this.ln=new sc(r=>Vu(r),(r,i)=>bv(r,i)),this.uid=e.uid||""}addToCollectionParentIndex(e,n){if(!this.cn.has(n)){const r=n.lastSegment(),i=n.popLast();e.addOnCommittedListener(()=>{this.cn.add(n)});const s={collectionId:r,parent:zr(i)};return T$(e).put(s)}return H.resolve()}getCollectionParents(e,n){const r=[],i=IDBKeyRange.bound([n,""],[jq(n),""],!1,!0);return T$(e).U(i).next(s=>{for(const o of s){if(o.collectionId!==n)break;r.push(Ws(o.parent))}return r})}addFieldIndex(e,n){const r=em(e),i=function(a){return{indexId:a.indexId,collectionGroup:a.collectionGroup,fields:a.fields.map(l=>[l.fieldPath.canonicalString(),l.kind])}}(n);delete i.indexId;const s=r.add(i);if(n.indexState){const o=Sd(e);return s.next(a=>{o.put(v$(a,this.uid,n.indexState.sequenceNumber,n.indexState.offset))})}return s.next()}deleteFieldIndex(e,n){const r=em(e),i=Sd(e),s=_d(e);return r.delete(n.indexId).next(()=>i.delete(IDBKeyRange.bound([n.indexId],[n.indexId+1],!1,!0))).next(()=>s.delete(IDBKeyRange.bound([n.indexId],[n.indexId+1],!1,!0)))}deleteAllFieldIndexes(e){const n=em(e),r=_d(e),i=Sd(e);return n.j().next(()=>r.j()).next(()=>i.j())}createTargetIndexes(e,n){return H.forEach(this.hn(n),r=>this.getIndexType(e,r).next(i=>{if(i===0||i===1){const s=new S$(r).an();if(s!=null)return this.addFieldIndex(e,s)}}))}getDocumentsMatchingTarget(e,n){const r=_d(e);let i=!0;const s=new Map;return H.forEach(this.hn(n),o=>this.Pn(e,o).next(a=>{i&&(i=!!a),s.set(o,a)})).next(()=>{if(i){let o=Xe();const a=[];return H.forEach(s,(l,c)=>{re("IndexedDbIndexManager",`Using index ${function(w){return`id=${w.indexId}|cg=${w.collectionGroup}|f=${w.fields.map(T=>`${T.fieldPath}:${T.kind}`).join(",")}`}(l)} to execute ${Vu(n)}`);const u=function(w,T){const _=hP(T);if(_===void 0)return null;for(const k of zb(w,_.fieldPath))switch(k.op){case"array-contains-any":return k.value.arrayValue.values||[];case"array-contains":return[k.value]}return null}(c,l),d=function(w,T){const _=new Map;for(const k of Ic(T))for(const S of zb(w,k.fieldPath))switch(S.op){case"==":case"in":_.set(k.fieldPath.canonicalString(),S.value);break;case"not-in":case"!=":return _.set(k.fieldPath.canonicalString(),S.value),Array.from(_.values())}return null}(c,l),f=function(w,T){const _=[];let k=!0;for(const S of Ic(T)){const E=S.kind===0?r$(w,S.fieldPath,w.startAt):i$(w,S.fieldPath,w.startAt);_.push(E.value),k&&(k=E.inclusive)}return new ah(_,k)}(c,l),p=function(w,T){const _=[];let k=!0;for(const S of Ic(T)){const E=S.kind===0?i$(w,S.fieldPath,w.endAt):r$(w,S.fieldPath,w.endAt);_.push(E.value),k&&(k=E.inclusive)}return new ah(_,k)}(c,l),m=this.In(l,c,f),g=this.In(l,c,p),v=this.Tn(l,c,d),x=this.En(l.indexId,u,m,f.inclusive,g,p.inclusive,v);return H.forEach(x,b=>r.G(b,n.limit).next(w=>{w.forEach(T=>{const _=me.fromSegments(T.documentKey);o.has(_)||(o=o.add(_),a.push(_))})}))}).next(()=>a)}return H.resolve(null)})}hn(e){let n=this.ln.get(e);return n||(e.filters.length===0?n=[e]:n=lue(Tt.create(e.filters,"and")).map(r=>xP(e.path,e.collectionGroup,e.orderBy,r.getFilters(),e.limit,e.startAt,e.endAt)),this.ln.set(e,n),n)}En(e,n,r,i,s,o,a){const l=(n!=null?n.length:1)*Math.max(r.length,s.length),c=l/(n!=null?n.length:1),u=[];for(let d=0;d<l;++d){const f=n?this.dn(n[d/c]):j0,p=this.An(e,f,r[d%c],i),m=this.Rn(e,f,s[d%c],o),g=a.map(v=>this.An(e,f,v,!0));u.push(...this.createRange(p,m,g))}return u}An(e,n,r,i){const s=new Fc(e,me.empty(),n,r);return i?s:s.Zt()}Rn(e,n,r,i){const s=new Fc(e,me.empty(),n,r);return i?s.Zt():s}Pn(e,n){const r=new S$(n),i=n.collectionGroup!=null?n.collectionGroup:n.path.lastSegment();return this.getFieldIndexes(e,i).next(s=>{let o=null;for(const a of s)r.rn(a)&&(!o||a.fields.length>o.fields.length)&&(o=a);return o})}getIndexType(e,n){let r=2;const i=this.hn(n);return H.forEach(i,s=>this.Pn(e,s).next(o=>{o?r!==0&&o.fields.length<function(l){let c=new It(sn.comparator),u=!1;for(const d of l.filters)for(const f of d.getFlattenedFilters())f.field.isKeyField()||(f.op==="array-contains"||f.op==="array-contains-any"?u=!0:c=c.add(f.field));for(const d of l.orderBy)d.field.isKeyField()||(c=c.add(d.field));return c.size+(u?1:0)}(s)&&(r=1):r=0})).next(()=>function(o){return o.limit!==null}(n)&&i.length>1&&r===2?1:r)}Vn(e,n){const r=new Zp;for(const i of Ic(e)){const s=n.data.field(i.fieldPath);if(s==null)return null;const o=r.Yt(i.kind);Vc.vt.It(s,o)}return r.zt()}dn(e){const n=new Zp;return Vc.vt.It(e,n.Yt(0)),n.zt()}mn(e,n){const r=new Zp;return Vc.vt.It(Qg(this.databaseId,n),r.Yt(function(s){const o=Ic(s);return o.length===0?0:o[o.length-1].kind}(e))),r.zt()}Tn(e,n,r){if(r===null)return[];let i=[];i.push(new Zp);let s=0;for(const o of Ic(e)){const a=r[s++];for(const l of i)if(this.fn(n,o.fieldPath)&&Yg(a))i=this.gn(i,o,a);else{const c=l.Yt(o.kind);Vc.vt.It(a,c)}}return this.pn(i)}In(e,n,r){return this.Tn(e,n,r.position)}pn(e){const n=[];for(let r=0;r<e.length;++r)n[r]=e[r].zt();return n}gn(e,n,r){const i=[...e],s=[];for(const o of r.arrayValue.values||[])for(const a of i){const l=new Zp;l.seed(a.zt()),Vc.vt.It(o,l.Yt(n.kind)),s.push(l)}return s}fn(e,n){return!!e.filters.find(r=>r instanceof ot&&r.field.isEqual(n)&&(r.op==="in"||r.op==="not-in"))}getFieldIndexes(e,n){const r=em(e),i=Sd(e);return(n?r.U("collectionGroupIndex",IDBKeyRange.bound(n,n)):r.U()).next(s=>{const o=[];return H.forEach(s,a=>i.get([a.indexId,this.uid]).next(l=>{o.push(function(u,d){const f=d?new Hg(d.sequenceNumber,new ji(Bu(d.readTime),new me(Ws(d.documentKey)),d.largestBatchId)):Hg.empty(),p=u.fields.map(([m,g])=>new Lx(sn.fromServerFormat(m),g));return new Bb(u.indexId,u.collectionGroup,p,f)}(a,l))})).next(()=>o)})}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next(n=>n.length===0?null:(n.sort((r,i)=>{const s=r.indexState.sequenceNumber-i.indexState.sequenceNumber;return s!==0?s:ze(r.collectionGroup,i.collectionGroup)}),n[0].collectionGroup))}updateCollectionGroup(e,n,r){const i=em(e),s=Sd(e);return this.yn(e).next(o=>i.U("collectionGroupIndex",IDBKeyRange.bound(n,n)).next(a=>H.forEach(a,l=>s.put(v$(l.indexId,this.uid,o,r)))))}updateIndexEntries(e,n){const r=new Map;return H.forEach(n,(i,s)=>{const o=r.get(i.collectionGroup);return(o?H.resolve(o):this.getFieldIndexes(e,i.collectionGroup)).next(a=>(r.set(i.collectionGroup,a),H.forEach(a,l=>this.wn(e,i,l).next(c=>{const u=this.Sn(s,l);return c.isEqual(u)?H.resolve():this.bn(e,s,l,c,u)}))))})}Dn(e,n,r,i){return _d(e).put({indexId:i.indexId,uid:this.uid,arrayValue:i.arrayValue,directionalValue:i.directionalValue,orderedDocumentKey:this.mn(r,n.key),documentKey:n.key.path.toArray()})}vn(e,n,r,i){return _d(e).delete([i.indexId,this.uid,i.arrayValue,i.directionalValue,this.mn(r,n.key),n.key.path.toArray()])}wn(e,n,r){const i=_d(e);let s=new It(Ra);return i.J({index:"documentKeyIndex",range:IDBKeyRange.only([r.indexId,this.uid,this.mn(r,n)])},(o,a)=>{s=s.add(new Fc(r.indexId,n,a.arrayValue,a.directionalValue))}).next(()=>s)}Sn(e,n){let r=new It(Ra);const i=this.Vn(n,e);if(i==null)return r;const s=hP(n);if(s!=null){const o=e.data.field(s.fieldPath);if(Yg(o))for(const a of o.arrayValue.values||[])r=r.add(new Fc(n.indexId,e.key,this.dn(a),i))}else r=r.add(new Fc(n.indexId,e.key,j0,i));return r}bn(e,n,r,i,s){re("IndexedDbIndexManager","Updating index entries for document '%s'",n.key);const o=[];return function(l,c,u,d,f){const p=l.getIterator(),m=c.getIterator();let g=wd(p),v=wd(m);for(;g||v;){let x=!1,b=!1;if(g&&v){const w=u(g,v);w<0?b=!0:w>0&&(x=!0)}else g!=null?b=!0:x=!0;x?(d(v),v=wd(m)):b?(f(g),g=wd(p)):(g=wd(p),v=wd(m))}}(i,s,Ra,a=>{o.push(this.Dn(e,n,r,a))},a=>{o.push(this.vn(e,n,r,a))}),H.waitFor(o)}yn(e){let n=1;return Sd(e).J({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(r,i,s)=>{s.done(),n=i.sequenceNumber+1}).next(()=>n)}createRange(e,n,r){r=r.sort((o,a)=>Ra(o,a)).filter((o,a,l)=>!a||Ra(o,l[a-1])!==0);const i=[];i.push(e);for(const o of r){const a=Ra(o,e),l=Ra(o,n);if(a===0)i[0]=e.Zt();else if(a>0&&l<0)i.push(o),i.push(o.Zt());else if(l>0)break}i.push(n);const s=[];for(let o=0;o<i.length;o+=2){if(this.Cn(i[o],i[o+1]))return[];const a=[i[o].indexId,this.uid,i[o].arrayValue,i[o].directionalValue,j0,[]],l=[i[o+1].indexId,this.uid,i[o+1].arrayValue,i[o+1].directionalValue,j0,[]];s.push(IDBKeyRange.bound(a,l))}return s}Cn(e,n){return Ra(e,n)>0}getMinOffsetFromCollectionGroup(e,n){return this.getFieldIndexes(e,n).next(A$)}getMinOffset(e,n){return H.mapArray(this.hn(n),r=>this.Pn(e,r).next(i=>i||Ee())).next(A$)}}function T$(t){return Ln(t,"collectionParents")}function _d(t){return Ln(t,"indexEntries")}function em(t){return Ln(t,"indexConfiguration")}function Sd(t){return Ln(t,"indexState")}function A$(t){Te(t.length!==0);let e=t[0].indexState.offset,n=e.largestBatchId;for(let r=1;r<t.length;r++){const i=t[r].indexState.offset;CN(i,e)<0&&(e=i),n<i.largestBatchId&&(n=i.largestBatchId)}return new ji(e.readTime,e.documentKey,n)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const k$={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class Zr{constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}static withCacheSize(e){return new Zr(e,Zr.DEFAULT_COLLECTION_PERCENTILE,Zr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RH(t,e,n){const r=t.store("mutations"),i=t.store("documentMutations"),s=[],o=IDBKeyRange.only(n.batchId);let a=0;const l=r.J({range:o},(u,d,f)=>(a++,f.delete()));s.push(l.next(()=>{Te(a===1)}));const c=[];for(const u of n.mutations){const d=$q(e,u.key.path,n.batchId);s.push(i.delete(d)),c.push(u.key)}return H.waitFor(s).next(()=>c)}function Qb(t){if(!t)return 0;let e;if(t.document)e=t.document;else if(t.unknownDocument)e=t.unknownDocument;else{if(!t.noDocument)throw Ee();e=t.noDocument}return JSON.stringify(e).length}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Zr.DEFAULT_COLLECTION_PERCENTILE=10,Zr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Zr.DEFAULT=new Zr(41943040,Zr.DEFAULT_COLLECTION_PERCENTILE,Zr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Zr.DISABLED=new Zr(-1,0,0);class U_{constructor(e,n,r,i){this.userId=e,this.serializer=n,this.indexManager=r,this.referenceDelegate=i,this.Fn={}}static lt(e,n,r,i){Te(e.uid!=="");const s=e.isAuthenticated()?e.uid:"";return new U_(s,n,r,i)}checkEmpty(e){let n=!0;const r=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Da(e).J({index:"userMutationsIndex",range:r},(i,s,o)=>{n=!1,o.done()}).next(()=>n)}addMutationBatch(e,n,r,i){const s=Vd(e),o=Da(e);return o.add({}).next(a=>{Te(typeof a=="number");const l=new MN(a,n,r,i),c=function(p,m,g){const v=g.baseMutations.map(b=>Wb(p.ct,b)),x=g.mutations.map(b=>Wb(p.ct,b));return{userId:m,batchId:g.batchId,localWriteTimeMs:g.localWriteTime.toMillis(),baseMutations:v,mutations:x}}(this.serializer,this.userId,l),u=[];let d=new It((f,p)=>ze(f.canonicalString(),p.canonicalString()));for(const f of i){const p=$q(this.userId,f.key.path,a);d=d.add(f.key.path.popLast()),u.push(o.put(c)),u.push(s.put(p,Hle))}return d.forEach(f=>{u.push(this.indexManager.addToCollectionParentIndex(e,f))}),e.addOnCommittedListener(()=>{this.Fn[a]=l.keys()}),H.waitFor(u).next(()=>l)})}lookupMutationBatch(e,n){return Da(e).get(n).next(r=>r?(Te(r.userId===this.userId),$c(this.serializer,r)):null)}Mn(e,n){return this.Fn[n]?H.resolve(this.Fn[n]):this.lookupMutationBatch(e,n).next(r=>{if(r){const i=r.keys();return this.Fn[n]=i,i}return null})}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=IDBKeyRange.lowerBound([this.userId,r]);let s=null;return Da(e).J({index:"userMutationsIndex",range:i},(o,a,l)=>{a.userId===this.userId&&(Te(a.batchId>=r),s=$c(this.serializer,a)),l.done()}).next(()=>s)}getHighestUnacknowledgedBatchId(e){const n=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let r=-1;return Da(e).J({index:"userMutationsIndex",range:n,reverse:!0},(i,s,o)=>{r=s.batchId,o.done()}).next(()=>r)}getAllMutationBatches(e){const n=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return Da(e).U("userMutationsIndex",n).next(r=>r.map(i=>$c(this.serializer,i)))}getAllMutationBatchesAffectingDocumentKey(e,n){const r=$x(this.userId,n.path),i=IDBKeyRange.lowerBound(r),s=[];return Vd(e).J({range:i},(o,a,l)=>{const[c,u,d]=o,f=Ws(u);if(c===this.userId&&n.path.isEqual(f))return Da(e).get(d).next(p=>{if(!p)throw Ee();Te(p.userId===this.userId),s.push($c(this.serializer,p))});l.done()}).next(()=>s)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new It(ze);const i=[];return n.forEach(s=>{const o=$x(this.userId,s.path),a=IDBKeyRange.lowerBound(o),l=Vd(e).J({range:a},(c,u,d)=>{const[f,p,m]=c,g=Ws(p);f===this.userId&&s.path.isEqual(g)?r=r.add(m):d.done()});i.push(l)}),H.waitFor(i).next(()=>this.xn(e,r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1,s=$x(this.userId,r),o=IDBKeyRange.lowerBound(s);let a=new It(ze);return Vd(e).J({range:o},(l,c,u)=>{const[d,f,p]=l,m=Ws(f);d===this.userId&&r.isPrefixOf(m)?m.length===i&&(a=a.add(p)):u.done()}).next(()=>this.xn(e,a))}xn(e,n){const r=[],i=[];return n.forEach(s=>{i.push(Da(e).get(s).next(o=>{if(o===null)throw Ee();Te(o.userId===this.userId),r.push($c(this.serializer,o))}))}),H.waitFor(i).next(()=>r)}removeMutationBatch(e,n){return RH(e._e,this.userId,n).next(r=>(e.addOnCommittedListener(()=>{this.On(n.batchId)}),H.forEach(r,i=>this.referenceDelegate.markPotentiallyOrphaned(e,i))))}On(e){delete this.Fn[e]}performConsistencyCheck(e){return this.checkEmpty(e).next(n=>{if(!n)return H.resolve();const r=IDBKeyRange.lowerBound(function(o){return[o]}(this.userId)),i=[];return Vd(e).J({range:r},(s,o,a)=>{if(s[0]===this.userId){const l=Ws(s[1]);i.push(l)}else a.done()}).next(()=>{Te(i.length===0)})})}containsKey(e,n){return DH(e,this.userId,n)}Nn(e){return MH(e).get(this.userId).next(n=>n||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""})}}function DH(t,e,n){const r=$x(e,n.path),i=r[1],s=IDBKeyRange.lowerBound(r);let o=!1;return Vd(t).J({range:s,H:!0},(a,l,c)=>{const[u,d,f]=a;u===e&&d===i&&(o=!0),c.done()}).next(()=>o)}function Da(t){return Ln(t,"mutations")}function Vd(t){return Ln(t,"documentMutations")}function MH(t){return Ln(t,"mutationQueues")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uu{constructor(e){this.Ln=e}next(){return this.Ln+=2,this.Ln}static Bn(){return new Uu(0)}static kn(){return new Uu(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class due{constructor(e,n){this.referenceDelegate=e,this.serializer=n}allocateTargetId(e){return this.qn(e).next(n=>{const r=new Uu(n.highestTargetId);return n.highestTargetId=r.next(),this.Qn(e,n).next(()=>n.highestTargetId)})}getLastRemoteSnapshotVersion(e){return this.qn(e).next(n=>Pe.fromTimestamp(new Kt(n.lastRemoteSnapshotVersion.seconds,n.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(e){return this.qn(e).next(n=>n.highestListenSequenceNumber)}setTargetsMetadata(e,n,r){return this.qn(e).next(i=>(i.highestListenSequenceNumber=n,r&&(i.lastRemoteSnapshotVersion=r.toTimestamp()),n>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=n),this.Qn(e,i)))}addTargetData(e,n){return this.Kn(e,n).next(()=>this.qn(e).next(r=>(r.targetCount+=1,this.$n(n,r),this.Qn(e,r))))}updateTargetData(e,n){return this.Kn(e,n)}removeTargetData(e,n){return this.removeMatchingKeysForTargetId(e,n.targetId).next(()=>Ed(e).delete(n.targetId)).next(()=>this.qn(e)).next(r=>(Te(r.targetCount>0),r.targetCount-=1,this.Qn(e,r)))}removeTargets(e,n,r){let i=0;const s=[];return Ed(e).J((o,a)=>{const l=jm(a);l.sequenceNumber<=n&&r.get(l.targetId)===null&&(i++,s.push(this.removeTargetData(e,l)))}).next(()=>H.waitFor(s)).next(()=>i)}forEachTarget(e,n){return Ed(e).J((r,i)=>{const s=jm(i);n(s)})}qn(e){return P$(e).get("targetGlobalKey").next(n=>(Te(n!==null),n))}Qn(e,n){return P$(e).put("targetGlobalKey",n)}Kn(e,n){return Ed(e).put(IH(this.serializer,n))}$n(e,n){let r=!1;return e.targetId>n.highestTargetId&&(n.highestTargetId=e.targetId,r=!0),e.sequenceNumber>n.highestListenSequenceNumber&&(n.highestListenSequenceNumber=e.sequenceNumber,r=!0),r}getTargetCount(e){return this.qn(e).next(n=>n.targetCount)}getTargetData(e,n){const r=Vu(n),i=IDBKeyRange.bound([r,Number.NEGATIVE_INFINITY],[r,Number.POSITIVE_INFINITY]);let s=null;return Ed(e).J({range:i,index:"queryTargetsIndex"},(o,a,l)=>{const c=jm(a);bv(n,c.target)&&(s=c,l.done())}).next(()=>s)}addMatchingKeys(e,n,r){const i=[],s=Za(e);return n.forEach(o=>{const a=zr(o.path);i.push(s.put({targetId:r,path:a})),i.push(this.referenceDelegate.addReference(e,r,o))}),H.waitFor(i)}removeMatchingKeys(e,n,r){const i=Za(e);return H.forEach(n,s=>{const o=zr(s.path);return H.waitFor([i.delete([r,o]),this.referenceDelegate.removeReference(e,r,s)])})}removeMatchingKeysForTargetId(e,n){const r=Za(e),i=IDBKeyRange.bound([n],[n+1],!1,!0);return r.delete(i)}getMatchingKeysForTargetId(e,n){const r=IDBKeyRange.bound([n],[n+1],!1,!0),i=Za(e);let s=Xe();return i.J({range:r,H:!0},(o,a,l)=>{const c=Ws(o[1]),u=new me(c);s=s.add(u)}).next(()=>s)}containsKey(e,n){const r=zr(n.path),i=IDBKeyRange.bound([r],[jq(r)],!1,!0);let s=0;return Za(e).J({index:"documentTargetsIndex",H:!0,range:i},([o,a],l,c)=>{o!==0&&(s++,c.done())}).next(()=>s>0)}ot(e,n){return Ed(e).get(n).next(r=>r?jm(r):null)}}function Ed(t){return Ln(t,"targets")}function P$(t){return Ln(t,"targetGlobal")}function Za(t){return Ln(t,"targetDocuments")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function C$([t,e],[n,r]){const i=ze(t,n);return i===0?ze(e,r):i}class fue{constructor(e){this.Un=e,this.buffer=new It(C$),this.Wn=0}Gn(){return++this.Wn}zn(e){const n=[e,this.Gn()];if(this.buffer.size<this.Un)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();C$(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class hue{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.jn=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Hn(6e4)}stop(){this.jn&&(this.jn.cancel(),this.jn=null)}get started(){return this.jn!==null}Hn(e){re("LruGarbageCollector",`Garbage collection scheduled in ${e}ms`),this.jn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.jn=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){ic(n)?re("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",n):await od(n)}await this.Hn(3e5)})}}class pue{constructor(e,n){this.Jn=e,this.params=n}calculateTargetCount(e,n){return this.Jn.Yn(e).next(r=>Math.floor(n/100*r))}nthSequenceNumber(e,n){if(n===0)return H.resolve(Zi.oe);const r=new fue(n);return this.Jn.forEachTarget(e,i=>r.zn(i.sequenceNumber)).next(()=>this.Jn.Zn(e,i=>r.zn(i))).next(()=>r.maxValue)}removeTargets(e,n,r){return this.Jn.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.Jn.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(re("LruGarbageCollector","Garbage collection skipped; disabled"),H.resolve(k$)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(re("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),k$):this.Xn(e,n))}getCacheSize(e){return this.Jn.getCacheSize(e)}Xn(e,n){let r,i,s,o,a,l,c;const u=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(d=>(d>this.params.maximumSequenceNumbersToCollect?(re("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${d}`),i=this.params.maximumSequenceNumbersToCollect):i=d,o=Date.now(),this.nthSequenceNumber(e,i))).next(d=>(r=d,a=Date.now(),this.removeTargets(e,r,n))).next(d=>(s=d,l=Date.now(),this.removeOrphanedDocuments(e,r))).next(d=>(c=Date.now(),Dd()<=st.DEBUG&&re("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${o-u}ms
	Determined least recently used ${i} in `+(a-o)+`ms
	Removed ${s} targets in `+(l-a)+`ms
	Removed ${d} documents in `+(c-l)+`ms
Total Duration: ${c-u}ms`),H.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:s,documentsRemoved:d})))}}function mue(t,e){return new pue(t,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gue{constructor(e,n){this.db=e,this.garbageCollector=mue(this,n)}Yn(e){const n=this.er(e);return this.db.getTargetCache().getTargetCount(e).next(r=>n.next(i=>r+i))}er(e){let n=0;return this.Zn(e,r=>{n++}).next(()=>n)}forEachTarget(e,n){return this.db.getTargetCache().forEachTarget(e,n)}Zn(e,n){return this.tr(e,(r,i)=>n(i))}addReference(e,n,r){return R0(e,r)}removeReference(e,n,r){return R0(e,r)}removeTargets(e,n,r){return this.db.getTargetCache().removeTargets(e,n,r)}markPotentiallyOrphaned(e,n){return R0(e,n)}nr(e,n){return function(i,s){let o=!1;return MH(i).Y(a=>DH(i,a,s).next(l=>(l&&(o=!0),H.resolve(!l)))).next(()=>o)}(e,n)}removeOrphanedDocuments(e,n){const r=this.db.getRemoteDocumentCache().newChangeBuffer(),i=[];let s=0;return this.tr(e,(o,a)=>{if(a<=n){const l=this.nr(e,o).next(c=>{if(!c)return s++,r.getEntry(e,o).next(()=>(r.removeEntry(o,Pe.min()),Za(e).delete(function(d){return[0,zr(d.path)]}(o))))});i.push(l)}}).next(()=>H.waitFor(i)).next(()=>r.apply(e)).next(()=>s)}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,r)}updateLimboDocument(e,n){return R0(e,n)}tr(e,n){const r=Za(e);let i,s=Zi.oe;return r.J({index:"documentTargetsIndex"},([o,a],{path:l,sequenceNumber:c})=>{o===0?(s!==Zi.oe&&n(new me(Ws(i)),s),s=c,i=l):s=Zi.oe}).next(()=>{s!==Zi.oe&&n(new me(Ws(i)),s)})}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function R0(t,e){return Za(t).put(function(r,i){return{targetId:0,path:zr(r.path),sequenceNumber:i}}(e,t.currentSequenceNumber))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LH{constructor(){this.changes=new sc(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,pn.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?H.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yue{constructor(e){this.serializer=e}setIndexManager(e){this.indexManager=e}addEntry(e,n,r){return _c(e).put(r)}removeEntry(e,n,r){return _c(e).delete(function(s,o){const a=s.path.toArray();return[a.slice(0,a.length-2),a[a.length-2],Kb(o),a[a.length-1]]}(n,r))}updateMetadata(e,n){return this.getMetadata(e).next(r=>(r.byteSize+=n,this.rr(e,r)))}getEntry(e,n){let r=pn.newInvalidDocument(n);return _c(e).J({index:"documentKeyIndex",range:IDBKeyRange.only(tm(n))},(i,s)=>{r=this.ir(n,s)}).next(()=>r)}sr(e,n){let r={size:0,document:pn.newInvalidDocument(n)};return _c(e).J({index:"documentKeyIndex",range:IDBKeyRange.only(tm(n))},(i,s)=>{r={document:this.ir(n,s),size:Qb(s)}}).next(()=>r)}getEntries(e,n){let r=Ti();return this._r(e,n,(i,s)=>{const o=this.ir(i,s);r=r.insert(i,o)}).next(()=>r)}ar(e,n){let r=Ti(),i=new en(me.comparator);return this._r(e,n,(s,o)=>{const a=this.ir(s,o);r=r.insert(s,a),i=i.insert(s,Qb(o))}).next(()=>({documents:r,ur:i}))}_r(e,n,r){if(n.isEmpty())return H.resolve();let i=new It(N$);n.forEach(l=>i=i.add(l));const s=IDBKeyRange.bound(tm(i.first()),tm(i.last())),o=i.getIterator();let a=o.getNext();return _c(e).J({index:"documentKeyIndex",range:s},(l,c,u)=>{const d=me.fromSegments([...c.prefixPath,c.collectionGroup,c.documentId]);for(;a&&N$(a,d)<0;)r(a,null),a=o.getNext();a&&a.isEqual(d)&&(r(a,c),a=o.hasNext()?o.getNext():null),a?u.$(tm(a)):u.done()}).next(()=>{for(;a;)r(a,null),a=o.hasNext()?o.getNext():null})}getDocumentsMatchingQuery(e,n,r,i,s){const o=n.path,a=[o.popLast().toArray(),o.lastSegment(),Kb(r.readTime),r.documentKey.path.isEmpty()?"":r.documentKey.path.lastSegment()],l=[o.popLast().toArray(),o.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return _c(e).U(IDBKeyRange.bound(a,l,!0)).next(c=>{s==null||s.incrementDocumentReadCount(c.length);let u=Ti();for(const d of c){const f=this.ir(me.fromSegments(d.prefixPath.concat(d.collectionGroup,d.documentId)),d);f.isFoundDocument()&&(_v(n,f)||i.has(f.key))&&(u=u.insert(f.key,f))}return u})}getAllFromCollectionGroup(e,n,r,i){let s=Ti();const o=O$(n,r),a=O$(n,ji.max());return _c(e).J({index:"collectionGroupIndex",range:IDBKeyRange.bound(o,a,!0)},(l,c,u)=>{const d=this.ir(me.fromSegments(c.prefixPath.concat(c.collectionGroup,c.documentId)),c);s=s.insert(d.key,d),s.size===i&&u.done()}).next(()=>s)}newChangeBuffer(e){return new vue(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next(n=>n.byteSize)}getMetadata(e){return I$(e).get("remoteDocumentGlobalKey").next(n=>(Te(!!n),n))}rr(e,n){return I$(e).put("remoteDocumentGlobalKey",n)}ir(e,n){if(n){const r=tue(this.serializer,n);if(!(r.isNoDocument()&&r.version.isEqual(Pe.min())))return r}return pn.newInvalidDocument(e)}}function $H(t){return new yue(t)}class vue extends LH{constructor(e,n){super(),this.cr=e,this.trackRemovals=n,this.lr=new sc(r=>r.toString(),(r,i)=>r.isEqual(i))}applyChanges(e){const n=[];let r=0,i=new It((s,o)=>ze(s.canonicalString(),o.canonicalString()));return this.changes.forEach((s,o)=>{const a=this.lr.get(s);if(n.push(this.cr.removeEntry(e,s,a.readTime)),o.isValidDocument()){const l=g$(this.cr.serializer,o);i=i.add(s.path.popLast());const c=Qb(l);r+=c-a.size,n.push(this.cr.addEntry(e,s,l))}else if(r-=a.size,this.trackRemovals){const l=g$(this.cr.serializer,o.convertToNoDocument(Pe.min()));n.push(this.cr.addEntry(e,s,l))}}),i.forEach(s=>{n.push(this.cr.indexManager.addToCollectionParentIndex(e,s))}),n.push(this.cr.updateMetadata(e,r)),H.waitFor(n)}getFromCache(e,n){return this.cr.sr(e,n).next(r=>(this.lr.set(n,{size:r.size,readTime:r.document.readTime}),r.document))}getAllFromCache(e,n){return this.cr.ar(e,n).next(({documents:r,ur:i})=>(i.forEach((s,o)=>{this.lr.set(s,{size:o,readTime:r.get(s).readTime})}),r))}}function I$(t){return Ln(t,"remoteDocumentGlobal")}function _c(t){return Ln(t,"remoteDocumentsV14")}function tm(t){const e=t.path.toArray();return[e.slice(0,e.length-2),e[e.length-2],e[e.length-1]]}function O$(t,e){const n=e.documentKey.path.toArray();return[t,Kb(e.readTime),n.slice(0,n.length-2),n.length>0?n[n.length-1]:""]}function N$(t,e){const n=t.path.toArray(),r=e.path.toArray();let i=0;for(let s=0;s<n.length-2&&s<r.length-2;++s)if(i=ze(n[s],r[s]),i)return i;return i=ze(n.length,r.length),i||(i=ze(n[n.length-2],r[r.length-2]),i||ze(n[n.length-1],r[r.length-1]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xue{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VH{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&tg(r.mutation,i,ri.empty(),Kt.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,Xe()).next(()=>r))}getLocalViewOfDocuments(e,n,r=Xe()){const i=Ks();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(s=>{let o=Om();return s.forEach((a,l)=>{o=o.insert(a,l.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){const r=Ks();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,Xe()))}populateOverlays(e,n,r){const i=[];return r.forEach(s=>{n.has(s)||i.push(s)}),this.documentOverlayCache.getOverlays(e,i).next(s=>{s.forEach((o,a)=>{n.set(o,a)})})}computeViews(e,n,r,i){let s=Ti();const o=eg(),a=function(){return eg()}();return n.forEach((l,c)=>{const u=r.get(c.key);i.has(c.key)&&(u===void 0||u.mutation instanceof wa)?s=s.insert(c.key,c):u!==void 0?(o.set(c.key,u.mutation.getFieldMask()),tg(u.mutation,c,u.mutation.getFieldMask(),Kt.now())):o.set(c.key,ri.empty())}),this.recalculateAndSaveOverlays(e,s).next(l=>(l.forEach((c,u)=>o.set(c,u)),n.forEach((c,u)=>{var d;return a.set(c,new xue(u,(d=o.get(c))!==null&&d!==void 0?d:null))}),a))}recalculateAndSaveOverlays(e,n){const r=eg();let i=new en((o,a)=>o-a),s=Xe();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(const a of o)a.keys().forEach(l=>{const c=n.get(l);if(c===null)return;let u=r.get(l)||ri.empty();u=a.applyToLocalView(c,u),r.set(l,u);const d=(i.get(a.batchId)||Xe()).add(l);i=i.insert(a.batchId,d)})}).next(()=>{const o=[],a=i.getReverseIterator();for(;a.hasNext();){const l=a.getNext(),c=l.key,u=l.value,d=sH();u.forEach(f=>{if(!s.has(f)){const p=fH(n.get(f),r.get(f));p!==null&&d.set(f,p),s=s.add(f)}}),o.push(this.documentOverlayCache.saveOverlays(e,c,d))}return H.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,i){return function(o){return me.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):eH(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(s=>{const o=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-s.size):H.resolve(Ks());let a=-1,l=s;return o.next(c=>H.forEach(c,(u,d)=>(a<d.largestBatchId&&(a=d.largestBatchId),s.get(u)?H.resolve():this.remoteDocumentCache.getEntry(e,u).next(f=>{l=l.insert(u,f)}))).next(()=>this.populateOverlays(e,c,s)).next(()=>this.computeViews(e,l,c,Xe())).next(u=>({batchId:a,changes:iH(u)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new me(n)).next(r=>{let i=Om();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){const s=n.collectionGroup;let o=Om();return this.indexManager.getCollectionParents(e,s).next(a=>H.forEach(a,l=>{const c=function(d,f){return new ap(f,null,d.explicitOrderBy.slice(),d.filters.slice(),d.limit,d.limitType,d.startAt,d.endAt)}(n,l.child(s));return this.getDocumentsMatchingCollectionQuery(e,c,r,i).next(u=>{u.forEach((d,f)=>{o=o.insert(d,f)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,n,r,i){let s;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(o=>(s=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,s,i))).next(o=>{s.forEach((l,c)=>{const u=c.getKey();o.get(u)===null&&(o=o.insert(u,pn.newInvalidDocument(u)))});let a=Om();return o.forEach((l,c)=>{const u=s.get(l);u!==void 0&&tg(u.mutation,c,ri.empty(),Kt.now()),_v(n,c)&&(a=a.insert(l,c))}),a})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bue{constructor(e){this.serializer=e,this.hr=new Map,this.Pr=new Map}getBundleMetadata(e,n){return H.resolve(this.hr.get(n))}saveBundleMetadata(e,n){return this.hr.set(n.id,function(i){return{id:i.id,version:i.version,createTime:qr(i.createTime)}}(n)),H.resolve()}getNamedQuery(e,n){return H.resolve(this.Pr.get(n))}saveNamedQuery(e,n){return this.Pr.set(n.name,function(i){return{name:i.name,query:OH(i.bundledQuery),readTime:qr(i.readTime)}}(n)),H.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wue{constructor(){this.overlays=new en(me.comparator),this.Ir=new Map}getOverlay(e,n){return H.resolve(this.overlays.get(n))}getOverlays(e,n){const r=Ks();return H.forEach(n,i=>this.getOverlay(e,i).next(s=>{s!==null&&r.set(i,s)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,s)=>{this.ht(e,n,s)}),H.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.Ir.get(r);return i!==void 0&&(i.forEach(s=>this.overlays=this.overlays.remove(s)),this.Ir.delete(r)),H.resolve()}getOverlaysForCollection(e,n,r){const i=Ks(),s=n.length+1,o=new me(n.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){const l=a.getNext().value,c=l.getKey();if(!n.isPrefixOf(c.path))break;c.path.length===s&&l.largestBatchId>r&&i.set(l.getKey(),l)}return H.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let s=new en((c,u)=>c-u);const o=this.overlays.getIterator();for(;o.hasNext();){const c=o.getNext().value;if(c.getKey().getCollectionGroup()===n&&c.largestBatchId>r){let u=s.get(c.largestBatchId);u===null&&(u=Ks(),s=s.insert(c.largestBatchId,u)),u.set(c.getKey(),c)}}const a=Ks(),l=s.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((c,u)=>a.set(c,u)),!(a.size()>=i)););return H.resolve(a)}ht(e,n,r){const i=this.overlays.get(r.key);if(i!==null){const o=this.Ir.get(i.largestBatchId).delete(r.key);this.Ir.set(i.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new $N(n,r));let s=this.Ir.get(n);s===void 0&&(s=Xe(),this.Ir.set(n,s)),this.Ir.set(n,s.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _ue{constructor(){this.sessionToken=kn.EMPTY_BYTE_STRING}getSessionToken(e){return H.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,H.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zN{constructor(){this.Tr=new It(Fn.Er),this.dr=new It(Fn.Ar)}isEmpty(){return this.Tr.isEmpty()}addReference(e,n){const r=new Fn(e,n);this.Tr=this.Tr.add(r),this.dr=this.dr.add(r)}Rr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Vr(new Fn(e,n))}mr(e,n){e.forEach(r=>this.removeReference(r,n))}gr(e){const n=new me(new xt([])),r=new Fn(n,e),i=new Fn(n,e+1),s=[];return this.dr.forEachInRange([r,i],o=>{this.Vr(o),s.push(o.key)}),s}pr(){this.Tr.forEach(e=>this.Vr(e))}Vr(e){this.Tr=this.Tr.delete(e),this.dr=this.dr.delete(e)}yr(e){const n=new me(new xt([])),r=new Fn(n,e),i=new Fn(n,e+1);let s=Xe();return this.dr.forEachInRange([r,i],o=>{s=s.add(o.key)}),s}containsKey(e){const n=new Fn(e,0),r=this.Tr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class Fn{constructor(e,n){this.key=e,this.wr=n}static Er(e,n){return me.comparator(e.key,n.key)||ze(e.wr,n.wr)}static Ar(e,n){return ze(e.wr,n.wr)||me.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sue{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Sr=1,this.br=new It(Fn.Er)}checkEmpty(e){return H.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){const s=this.Sr;this.Sr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new MN(s,n,r,i);this.mutationQueue.push(o);for(const a of i)this.br=this.br.add(new Fn(a.key,s)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return H.resolve(o)}lookupMutationBatch(e,n){return H.resolve(this.Dr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=this.vr(r),s=i<0?0:i;return H.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return H.resolve(this.mutationQueue.length===0?-1:this.Sr-1)}getAllMutationBatches(e){return H.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new Fn(n,0),i=new Fn(n,Number.POSITIVE_INFINITY),s=[];return this.br.forEachInRange([r,i],o=>{const a=this.Dr(o.wr);s.push(a)}),H.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new It(ze);return n.forEach(i=>{const s=new Fn(i,0),o=new Fn(i,Number.POSITIVE_INFINITY);this.br.forEachInRange([s,o],a=>{r=r.add(a.wr)})}),H.resolve(this.Cr(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let s=r;me.isDocumentKey(s)||(s=s.child(""));const o=new Fn(new me(s),0);let a=new It(ze);return this.br.forEachWhile(l=>{const c=l.key.path;return!!r.isPrefixOf(c)&&(c.length===i&&(a=a.add(l.wr)),!0)},o),H.resolve(this.Cr(a))}Cr(e){const n=[];return e.forEach(r=>{const i=this.Dr(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){Te(this.Fr(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.br;return H.forEach(n.mutations,i=>{const s=new Fn(i.key,n.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.br=r})}On(e){}containsKey(e,n){const r=new Fn(n,0),i=this.br.firstAfterOrEqual(r);return H.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,H.resolve()}Fr(e,n){return this.vr(e)}vr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Dr(e){const n=this.vr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Eue{constructor(e){this.Mr=e,this.docs=function(){return new en(me.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),s=i?i.size:0,o=this.Mr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-s,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return H.resolve(r?r.document.mutableCopy():pn.newInvalidDocument(n))}getEntries(e,n){let r=Ti();return n.forEach(i=>{const s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():pn.newInvalidDocument(i))}),H.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let s=Ti();const o=n.path,a=new me(o.child("")),l=this.docs.getIteratorFrom(a);for(;l.hasNext();){const{key:c,value:{document:u}}=l.getNext();if(!o.isPrefixOf(c.path))break;c.path.length>o.length+1||CN(Rq(u),r)<=0||(i.has(u.key)||_v(n,u))&&(s=s.insert(u.key,u.mutableCopy()))}return H.resolve(s)}getAllFromCollectionGroup(e,n,r,i){Ee()}Or(e,n){return H.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new Tue(this)}getSize(e){return H.resolve(this.size)}}class Tue extends LH{constructor(e){super(),this.cr=e}applyChanges(e){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.cr.addEntry(e,i)):this.cr.removeEntry(r)}),H.waitFor(n)}getFromCache(e,n){return this.cr.getEntry(e,n)}getAllFromCache(e,n){return this.cr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Aue{constructor(e){this.persistence=e,this.Nr=new sc(n=>Vu(n),bv),this.lastRemoteSnapshotVersion=Pe.min(),this.highestTargetId=0,this.Lr=0,this.Br=new zN,this.targetCount=0,this.kr=Uu.Bn()}forEachTarget(e,n){return this.Nr.forEach((r,i)=>n(i)),H.resolve()}getLastRemoteSnapshotVersion(e){return H.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return H.resolve(this.Lr)}allocateTargetId(e){return this.highestTargetId=this.kr.next(),H.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Lr&&(this.Lr=n),H.resolve()}Kn(e){this.Nr.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.kr=new Uu(n),this.highestTargetId=n),e.sequenceNumber>this.Lr&&(this.Lr=e.sequenceNumber)}addTargetData(e,n){return this.Kn(n),this.targetCount+=1,H.resolve()}updateTargetData(e,n){return this.Kn(n),H.resolve()}removeTargetData(e,n){return this.Nr.delete(n.target),this.Br.gr(n.targetId),this.targetCount-=1,H.resolve()}removeTargets(e,n,r){let i=0;const s=[];return this.Nr.forEach((o,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.Nr.delete(o),s.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),H.waitFor(s).next(()=>i)}getTargetCount(e){return H.resolve(this.targetCount)}getTargetData(e,n){const r=this.Nr.get(n)||null;return H.resolve(r)}addMatchingKeys(e,n,r){return this.Br.Rr(n,r),H.resolve()}removeMatchingKeys(e,n,r){this.Br.mr(n,r);const i=this.persistence.referenceDelegate,s=[];return i&&n.forEach(o=>{s.push(i.markPotentiallyOrphaned(e,o))}),H.waitFor(s)}removeMatchingKeysForTargetId(e,n){return this.Br.gr(n),H.resolve()}getMatchingKeysForTargetId(e,n){const r=this.Br.yr(n);return H.resolve(r)}containsKey(e,n){return H.resolve(this.Br.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FH{constructor(e,n){this.qr={},this.overlays={},this.Qr=new Zi(0),this.Kr=!1,this.Kr=!0,this.$r=new _ue,this.referenceDelegate=e(this),this.Ur=new Aue(this),this.indexManager=new cue,this.remoteDocumentCache=function(i){return new Eue(i)}(r=>this.referenceDelegate.Wr(r)),this.serializer=new CH(n),this.Gr=new bue(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Kr=!1,Promise.resolve()}get started(){return this.Kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new wue,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.qr[e.toKey()];return r||(r=new Sue(n,this.referenceDelegate),this.qr[e.toKey()]=r),r}getGlobalsCache(){return this.$r}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Gr}runTransaction(e,n,r){re("MemoryPersistence","Starting transaction:",e);const i=new kue(this.Qr.next());return this.referenceDelegate.zr(),r(i).next(s=>this.referenceDelegate.jr(i).next(()=>s)).toPromise().then(s=>(i.raiseOnCommittedEvent(),s))}Hr(e,n){return H.or(Object.values(this.qr).map(r=>()=>r.containsKey(e,n)))}}class kue extends Mq{constructor(e){super(),this.currentSequenceNumber=e}}class z_{constructor(e){this.persistence=e,this.Jr=new zN,this.Yr=null}static Zr(e){return new z_(e)}get Xr(){if(this.Yr)return this.Yr;throw Ee()}addReference(e,n,r){return this.Jr.addReference(r,n),this.Xr.delete(r.toString()),H.resolve()}removeReference(e,n,r){return this.Jr.removeReference(r,n),this.Xr.add(r.toString()),H.resolve()}markPotentiallyOrphaned(e,n){return this.Xr.add(n.toString()),H.resolve()}removeTarget(e,n){this.Jr.gr(n.targetId).forEach(i=>this.Xr.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(s=>this.Xr.add(s.toString()))}).next(()=>r.removeTargetData(e,n))}zr(){this.Yr=new Set}jr(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return H.forEach(this.Xr,r=>{const i=me.fromPath(r);return this.ei(e,i).next(s=>{s||n.removeEntry(i,Pe.min())})}).next(()=>(this.Yr=null,n.apply(e)))}updateLimboDocument(e,n){return this.ei(e,n).next(r=>{r?this.Xr.delete(n.toString()):this.Xr.add(n.toString())})}Wr(e){return 0}ei(e,n){return H.or([()=>H.resolve(this.Jr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Hr(e,n)])}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pue{constructor(e){this.serializer=e}O(e,n,r,i){const s=new j_("createOrUpgrade",n);r<1&&i>=1&&(function(l){l.createObjectStore("owner")}(e),function(l){l.createObjectStore("mutationQueues",{keyPath:"userId"}),l.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",WL,{unique:!0}),l.createObjectStore("documentMutations")}(e),j$(e),function(l){l.createObjectStore("remoteDocuments")}(e));let o=H.resolve();return r<3&&i>=3&&(r!==0&&(function(l){l.deleteObjectStore("targetDocuments"),l.deleteObjectStore("targets"),l.deleteObjectStore("targetGlobal")}(e),j$(e)),o=o.next(()=>function(l){const c=l.store("targetGlobal"),u={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:Pe.min().toTimestamp(),targetCount:0};return c.put("targetGlobalKey",u)}(s))),r<4&&i>=4&&(r!==0&&(o=o.next(()=>function(l,c){return c.store("mutations").U().next(u=>{l.deleteObjectStore("mutations"),l.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",WL,{unique:!0});const d=c.store("mutations"),f=u.map(p=>d.put(p));return H.waitFor(f)})}(e,s))),o=o.next(()=>{(function(l){l.createObjectStore("clientMetadata",{keyPath:"clientId"})})(e)})),r<5&&i>=5&&(o=o.next(()=>this.ni(s))),r<6&&i>=6&&(o=o.next(()=>(function(l){l.createObjectStore("remoteDocumentGlobal")}(e),this.ri(s)))),r<7&&i>=7&&(o=o.next(()=>this.ii(s))),r<8&&i>=8&&(o=o.next(()=>this.si(e,s))),r<9&&i>=9&&(o=o.next(()=>{(function(l){l.objectStoreNames.contains("remoteDocumentChanges")&&l.deleteObjectStore("remoteDocumentChanges")})(e)})),r<10&&i>=10&&(o=o.next(()=>this.oi(s))),r<11&&i>=11&&(o=o.next(()=>{(function(l){l.createObjectStore("bundles",{keyPath:"bundleId"})})(e),function(l){l.createObjectStore("namedQueries",{keyPath:"name"})}(e)})),r<12&&i>=12&&(o=o.next(()=>{(function(l){const c=l.createObjectStore("documentOverlays",{keyPath:rce});c.createIndex("collectionPathOverlayIndex",ice,{unique:!1}),c.createIndex("collectionGroupOverlayIndex",sce,{unique:!1})})(e)})),r<13&&i>=13&&(o=o.next(()=>function(l){const c=l.createObjectStore("remoteDocumentsV14",{keyPath:Wle});c.createIndex("documentKeyIndex",Kle),c.createIndex("collectionGroupIndex",Gle)}(e)).next(()=>this._i(e,s)).next(()=>e.deleteObjectStore("remoteDocuments"))),r<14&&i>=14&&(o=o.next(()=>this.ai(e,s))),r<15&&i>=15&&(o=o.next(()=>function(l){l.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),l.createObjectStore("indexState",{keyPath:Zle}).createIndex("sequenceNumberIndex",ece,{unique:!1}),l.createObjectStore("indexEntries",{keyPath:tce}).createIndex("documentKeyIndex",nce,{unique:!1})}(e))),r<16&&i>=16&&(o=o.next(()=>{n.objectStore("indexState").clear()}).next(()=>{n.objectStore("indexEntries").clear()})),r<17&&i>=17&&(o=o.next(()=>{(function(l){l.createObjectStore("globals",{keyPath:"name"})})(e)})),o}ri(e){let n=0;return e.store("remoteDocuments").J((r,i)=>{n+=Qb(i)}).next(()=>{const r={byteSize:n};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",r)})}ni(e){const n=e.store("mutationQueues"),r=e.store("mutations");return n.U().next(i=>H.forEach(i,s=>{const o=IDBKeyRange.bound([s.userId,-1],[s.userId,s.lastAcknowledgedBatchId]);return r.U("userMutationsIndex",o).next(a=>H.forEach(a,l=>{Te(l.userId===s.userId);const c=$c(this.serializer,l);return RH(e,s.userId,c).next(()=>{})}))}))}ii(e){const n=e.store("targetDocuments"),r=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next(i=>{const s=[];return r.J((o,a)=>{const l=new xt(o),c=function(d){return[0,zr(d)]}(l);s.push(n.get(c).next(u=>u?H.resolve():(d=>n.put({targetId:0,path:zr(d),sequenceNumber:i.highestListenSequenceNumber}))(l)))}).next(()=>H.waitFor(s))})}si(e,n){e.createObjectStore("collectionParents",{keyPath:Jle});const r=n.store("collectionParents"),i=new UN,s=o=>{if(i.add(o)){const a=o.lastSegment(),l=o.popLast();return r.put({collectionId:a,parent:zr(l)})}};return n.store("remoteDocuments").J({H:!0},(o,a)=>{const l=new xt(o);return s(l.popLast())}).next(()=>n.store("documentMutations").J({H:!0},([o,a,l],c)=>{const u=Ws(a);return s(u.popLast())}))}oi(e){const n=e.store("targets");return n.J((r,i)=>{const s=jm(i),o=IH(this.serializer,s);return n.put(o)})}_i(e,n){const r=n.store("remoteDocuments"),i=[];return r.J((s,o)=>{const a=n.store("remoteDocumentsV14"),l=function(d){return d.document?new me(xt.fromString(d.document.name).popFirst(5)):d.noDocument?me.fromSegments(d.noDocument.path):d.unknownDocument?me.fromSegments(d.unknownDocument.path):Ee()}(o).path.toArray(),c={prefixPath:l.slice(0,l.length-2),collectionGroup:l[l.length-2],documentId:l[l.length-1],readTime:o.readTime||[0,0],unknownDocument:o.unknownDocument,noDocument:o.noDocument,document:o.document,hasCommittedMutations:!!o.hasCommittedMutations};i.push(a.put(c))}).next(()=>H.waitFor(i))}ai(e,n){const r=n.store("mutations"),i=$H(this.serializer),s=new FH(z_.Zr,this.serializer.ct);return r.U().next(o=>{const a=new Map;return o.forEach(l=>{var c;let u=(c=a.get(l.userId))!==null&&c!==void 0?c:Xe();$c(this.serializer,l).keys().forEach(d=>u=u.add(d)),a.set(l.userId,u)}),H.forEach(a,(l,c)=>{const u=new Mr(c),d=B_.lt(this.serializer,u),f=s.getIndexManager(u),p=U_.lt(u,this.serializer,f,s.referenceDelegate);return new VH(i,p,d,f).recalculateAndSaveOverlaysForDocumentKeys(new pP(n,Zi.oe),l).next()})})}}function j$(t){t.createObjectStore("targetDocuments",{keyPath:Yle}).createIndex("documentTargetsIndex",Xle,{unique:!0}),t.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",Qle,{unique:!0}),t.createObjectStore("targetGlobal")}const _T="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class qN{constructor(e,n,r,i,s,o,a,l,c,u,d=17){if(this.allowTabSynchronization=e,this.persistenceKey=n,this.clientId=r,this.ui=s,this.window=o,this.document=a,this.ci=c,this.li=u,this.hi=d,this.Qr=null,this.Kr=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Pi=null,this.inForeground=!1,this.Ii=null,this.Ti=null,this.Ei=Number.NEGATIVE_INFINITY,this.di=f=>Promise.resolve(),!qN.D())throw new ue(X.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new gue(this,i),this.Ai=n+"main",this.serializer=new CH(l),this.Ri=new Rl(this.Ai,this.hi,new Pue(this.serializer)),this.$r=new rue,this.Ur=new due(this.referenceDelegate,this.serializer),this.remoteDocumentCache=$H(this.serializer),this.Gr=new nue,this.window&&this.window.localStorage?this.Vi=this.window.localStorage:(this.Vi=null,u===!1&&$r("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.mi().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new ue(X.FAILED_PRECONDITION,_T);return this.fi(),this.gi(),this.pi(),this.runTransaction("getHighestListenSequenceNumber","readonly",e=>this.Ur.getHighestSequenceNumber(e))}).then(e=>{this.Qr=new Zi(e,this.ci)}).then(()=>{this.Kr=!0}).catch(e=>(this.Ri&&this.Ri.close(),Promise.reject(e)))}yi(e){return this.di=async n=>{if(this.started)return e(n)},e(this.isPrimary)}setDatabaseDeletedListener(e){this.Ri.L(async n=>{n.newVersion===null&&await e()})}setNetworkEnabled(e){this.networkEnabled!==e&&(this.networkEnabled=e,this.ui.enqueueAndForget(async()=>{this.started&&await this.mi()}))}mi(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",e=>D0(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.wi(e).next(n=>{n||(this.isPrimary=!1,this.ui.enqueueRetryable(()=>this.di(!1)))})}).next(()=>this.Si(e)).next(n=>this.isPrimary&&!n?this.bi(e).next(()=>!1):!!n&&this.Di(e).next(()=>!0))).catch(e=>{if(ic(e))return re("IndexedDbPersistence","Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return re("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(e=>{this.isPrimary!==e&&this.ui.enqueueRetryable(()=>this.di(e)),this.isPrimary=e})}wi(e){return nm(e).get("owner").next(n=>H.resolve(this.vi(n)))}Ci(e){return D0(e).delete(this.clientId)}async Fi(){if(this.isPrimary&&!this.Mi(this.Ei,18e5)){this.Ei=Date.now();const e=await this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",n=>{const r=Ln(n,"clientMetadata");return r.U().next(i=>{const s=this.xi(i,18e5),o=i.filter(a=>s.indexOf(a)===-1);return H.forEach(o,a=>r.delete(a.clientId)).next(()=>o)})}).catch(()=>[]);if(this.Vi)for(const n of e)this.Vi.removeItem(this.Oi(n.clientId))}}pi(){this.Ti=this.ui.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.mi().then(()=>this.Fi()).then(()=>this.pi()))}vi(e){return!!e&&e.ownerId===this.clientId}Si(e){return this.li?H.resolve(!0):nm(e).get("owner").next(n=>{if(n!==null&&this.Mi(n.leaseTimestampMs,5e3)&&!this.Ni(n.ownerId)){if(this.vi(n)&&this.networkEnabled)return!0;if(!this.vi(n)){if(!n.allowTabSynchronization)throw new ue(X.FAILED_PRECONDITION,_T);return!1}}return!(!this.networkEnabled||!this.inForeground)||D0(e).U().next(r=>this.xi(r,5e3).find(i=>{if(this.clientId!==i.clientId){const s=!this.networkEnabled&&i.networkEnabled,o=!this.inForeground&&i.inForeground,a=this.networkEnabled===i.networkEnabled;if(s||o&&a)return!0}return!1})===void 0)}).next(n=>(this.isPrimary!==n&&re("IndexedDbPersistence",`Client ${n?"is":"is not"} eligible for a primary lease.`),n))}async shutdown(){this.Kr=!1,this.Li(),this.Ti&&(this.Ti.cancel(),this.Ti=null),this.Bi(),this.ki(),await this.Ri.runTransaction("shutdown","readwrite",["owner","clientMetadata"],e=>{const n=new pP(e,Zi.oe);return this.bi(n).next(()=>this.Ci(n))}),this.Ri.close(),this.qi()}xi(e,n){return e.filter(r=>this.Mi(r.updateTimeMs,n)&&!this.Ni(r.clientId))}Qi(){return this.runTransaction("getActiveClients","readonly",e=>D0(e).U().next(n=>this.xi(n,18e5).map(r=>r.clientId)))}get started(){return this.Kr}getGlobalsCache(){return this.$r}getMutationQueue(e,n){return U_.lt(e,this.serializer,n,this.referenceDelegate)}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(e){return new uue(e,this.serializer.ct.databaseId)}getDocumentOverlayCache(e){return B_.lt(this.serializer,e)}getBundleCache(){return this.Gr}runTransaction(e,n,r){re("IndexedDbPersistence","Starting transaction:",e);const i=n==="readonly"?"readonly":"readwrite",s=function(l){return l===17?lce:l===16?ace:l===15?ON:l===14?Bq:l===13?Fq:l===12?oce:l===11?Vq:void Ee()}(this.hi);let o;return this.Ri.runTransaction(e,i,s,a=>(o=new pP(a,this.Qr?this.Qr.next():Zi.oe),n==="readwrite-primary"?this.wi(o).next(l=>!!l||this.Si(o)).next(l=>{if(!l)throw $r(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.ui.enqueueRetryable(()=>this.di(!1)),new ue(X.FAILED_PRECONDITION,Dq);return r(o)}).next(l=>this.Di(o).next(()=>l)):this.Ki(o).next(()=>r(o)))).then(a=>(o.raiseOnCommittedEvent(),a))}Ki(e){return nm(e).get("owner").next(n=>{if(n!==null&&this.Mi(n.leaseTimestampMs,5e3)&&!this.Ni(n.ownerId)&&!this.vi(n)&&!(this.li||this.allowTabSynchronization&&n.allowTabSynchronization))throw new ue(X.FAILED_PRECONDITION,_T)})}Di(e){const n={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return nm(e).put("owner",n)}static D(){return Rl.D()}bi(e){const n=nm(e);return n.get("owner").next(r=>this.vi(r)?(re("IndexedDbPersistence","Releasing primary lease."),n.delete("owner")):H.resolve())}Mi(e,n){const r=Date.now();return!(e<r-n)&&(!(e>r)||($r(`Detected an update time that is in the future: ${e} > ${r}`),!1))}fi(){this.document!==null&&typeof this.document.addEventListener=="function"&&(this.Ii=()=>{this.ui.enqueueAndForget(()=>(this.inForeground=this.document.visibilityState==="visible",this.mi()))},this.document.addEventListener("visibilitychange",this.Ii),this.inForeground=this.document.visibilityState==="visible")}Bi(){this.Ii&&(this.document.removeEventListener("visibilitychange",this.Ii),this.Ii=null)}gi(){var e;typeof((e=this.window)===null||e===void 0?void 0:e.addEventListener)=="function"&&(this.Pi=()=>{this.Li();const n=/(?:Version|Mobile)\/1[456]/;L8()&&(navigator.appVersion.match(n)||navigator.userAgent.match(n))&&this.ui.enterRestrictedMode(!0),this.ui.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.Pi))}ki(){this.Pi&&(this.window.removeEventListener("pagehide",this.Pi),this.Pi=null)}Ni(e){var n;try{const r=((n=this.Vi)===null||n===void 0?void 0:n.getItem(this.Oi(e)))!==null;return re("IndexedDbPersistence",`Client '${e}' ${r?"is":"is not"} zombied in LocalStorage`),r}catch(r){return $r("IndexedDbPersistence","Failed to get zombied client id.",r),!1}}Li(){if(this.Vi)try{this.Vi.setItem(this.Oi(this.clientId),String(Date.now()))}catch(e){$r("Failed to set zombie client id.",e)}}qi(){if(this.Vi)try{this.Vi.removeItem(this.Oi(this.clientId))}catch{}}Oi(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function nm(t){return Ln(t,"owner")}function D0(t){return Ln(t,"clientMetadata")}function Cue(t,e){let n=t.projectId;return t.isDefaultDatabase||(n+="."+t.database),"firestore/"+e+"/"+n+"/"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HN{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.$i=r,this.Ui=i}static Wi(e,n){let r=Xe(),i=Xe();for(const s of n.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new HN(e,n.fromCache,r,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Iue{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BH{constructor(){this.Gi=!1,this.zi=!1,this.ji=100,this.Hi=function(){return L8()?8:Lq(Mn())>0?6:4}()}initialize(e,n){this.Ji=e,this.indexManager=n,this.Gi=!0}getDocumentsMatchingQuery(e,n,r,i){const s={result:null};return this.Yi(e,n).next(o=>{s.result=o}).next(()=>{if(!s.result)return this.Zi(e,n,i,r).next(o=>{s.result=o})}).next(()=>{if(s.result)return;const o=new Iue;return this.Xi(e,n,o).next(a=>{if(s.result=a,this.zi)return this.es(e,n,o,a.size)})}).next(()=>s.result)}es(e,n,r,i){return r.documentReadCount<this.ji?(Dd()<=st.DEBUG&&re("QueryEngine","SDK will not create cache indexes for query:",Md(n),"since it only creates cache indexes for collection contains","more than or equal to",this.ji,"documents"),H.resolve()):(Dd()<=st.DEBUG&&re("QueryEngine","Query:",Md(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.Hi*i?(Dd()<=st.DEBUG&&re("QueryEngine","The SDK decides to create cache indexes for query:",Md(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,ns(n))):H.resolve())}Yi(e,n){if(s$(n))return H.resolve(null);let r=ns(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=qb(n,null,"F"),r=ns(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(s=>{const o=Xe(...s);return this.Ji.getDocuments(e,o).next(a=>this.indexManager.getMinOffset(e,r).next(l=>{const c=this.ts(n,a);return this.ns(n,c,o,l.readTime)?this.Yi(e,qb(n,null,"F")):this.rs(e,c,n,l)}))})))}Zi(e,n,r,i){return s$(n)||i.isEqual(Pe.min())?H.resolve(null):this.Ji.getDocuments(e,r).next(s=>{const o=this.ts(n,s);return this.ns(n,o,r,i)?H.resolve(null):(Dd()<=st.DEBUG&&re("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),Md(n)),this.rs(e,o,n,$le(i,-1)).next(a=>a))})}ts(e,n){let r=new It(nH(e));return n.forEach((i,s)=>{_v(e,s)&&(r=r.add(s))}),r}ns(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const s=e.limitType==="F"?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}Xi(e,n,r){return Dd()<=st.DEBUG&&re("QueryEngine","Using full collection scan to execute query:",Md(n)),this.Ji.getDocumentsMatchingQuery(e,n,ji.min(),r)}rs(e,n,r,i){return this.Ji.getDocumentsMatchingQuery(e,r,i).next(s=>(n.forEach(o=>{s=s.insert(o.key,o)}),s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oue{constructor(e,n,r,i){this.persistence=e,this.ss=n,this.serializer=i,this.os=new en(ze),this._s=new sc(s=>Vu(s),bv),this.us=new Map,this.cs=e.getRemoteDocumentCache(),this.Ur=e.getTargetCache(),this.Gr=e.getBundleCache(),this.ls(r)}ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new VH(this.cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.cs.setIndexManager(this.indexManager),this.ss.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.os))}}function UH(t,e,n,r){return new Oue(t,e,n,r)}async function zH(t,e){const n=Be(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(s=>(i=s,n.ls(e),n.mutationQueue.getAllMutationBatches(r))).next(s=>{const o=[],a=[];let l=Xe();for(const c of i){o.push(c.batchId);for(const u of c.mutations)l=l.add(u.key)}for(const c of s){a.push(c.batchId);for(const u of c.mutations)l=l.add(u.key)}return n.localDocuments.getDocuments(r,l).next(c=>({hs:c,removedBatchIds:o,addedBatchIds:a}))})})}function Nue(t,e){const n=Be(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),s=n.cs.newChangeBuffer({trackRemovals:!0});return function(a,l,c,u){const d=c.batch,f=d.keys();let p=H.resolve();return f.forEach(m=>{p=p.next(()=>u.getEntry(l,m)).next(g=>{const v=c.docVersions.get(m);Te(v!==null),g.version.compareTo(v)<0&&(d.applyToRemoteDocument(g,c),g.isValidDocument()&&(g.setReadTime(c.commitVersion),u.addEntry(g)))})}),p.next(()=>a.mutationQueue.removeMutationBatch(l,d))}(n,r,e,s).next(()=>s.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let l=Xe();for(let c=0;c<a.mutationResults.length;++c)a.mutationResults[c].transformResults.length>0&&(l=l.add(a.batch.mutations[c].key));return l}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}function qH(t){const e=Be(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Ur.getLastRemoteSnapshotVersion(n))}function jue(t,e){const n=Be(t),r=e.snapshotVersion;let i=n.os;return n.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const o=n.cs.newChangeBuffer({trackRemovals:!0});i=n.os;const a=[];e.targetChanges.forEach((u,d)=>{const f=i.get(d);if(!f)return;a.push(n.Ur.removeMatchingKeys(s,u.removedDocuments,d).next(()=>n.Ur.addMatchingKeys(s,u.addedDocuments,d)));let p=f.withSequenceNumber(s.currentSequenceNumber);e.targetMismatches.get(d)!==null?p=p.withResumeToken(kn.EMPTY_BYTE_STRING,Pe.min()).withLastLimboFreeSnapshotVersion(Pe.min()):u.resumeToken.approximateByteSize()>0&&(p=p.withResumeToken(u.resumeToken,r)),i=i.insert(d,p),function(g,v,x){return g.resumeToken.approximateByteSize()===0||v.snapshotVersion.toMicroseconds()-g.snapshotVersion.toMicroseconds()>=3e8?!0:x.addedDocuments.size+x.modifiedDocuments.size+x.removedDocuments.size>0}(f,p,u)&&a.push(n.Ur.updateTargetData(s,p))});let l=Ti(),c=Xe();if(e.documentUpdates.forEach(u=>{e.resolvedLimboDocuments.has(u)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(s,u))}),a.push(Rue(s,o,e.documentUpdates).next(u=>{l=u.Ps,c=u.Is})),!r.isEqual(Pe.min())){const u=n.Ur.getLastRemoteSnapshotVersion(s).next(d=>n.Ur.setTargetsMetadata(s,s.currentSequenceNumber,r));a.push(u)}return H.waitFor(a).next(()=>o.apply(s)).next(()=>n.localDocuments.getLocalViewOfDocuments(s,l,c)).next(()=>l)}).then(s=>(n.os=i,s))}function Rue(t,e,n){let r=Xe(),i=Xe();return n.forEach(s=>r=r.add(s)),e.getEntries(t,r).next(s=>{let o=Ti();return n.forEach((a,l)=>{const c=s.get(a);l.isFoundDocument()!==c.isFoundDocument()&&(i=i.add(a)),l.isNoDocument()&&l.version.isEqual(Pe.min())?(e.removeEntry(a,l.readTime),o=o.insert(a,l)):!c.isValidDocument()||l.version.compareTo(c.version)>0||l.version.compareTo(c.version)===0&&c.hasPendingWrites?(e.addEntry(l),o=o.insert(a,l)):re("LocalStore","Ignoring outdated watch update for ",a,". Current version:",c.version," Watch version:",l.version)}),{Ps:o,Is:i}})}function Due(t,e){const n=Be(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function Mue(t,e){const n=Be(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.Ur.getTargetData(r,e).next(s=>s?(i=s,H.resolve(i)):n.Ur.allocateTargetId(r).next(o=>(i=new Uo(e,o,"TargetPurposeListen",r.currentSequenceNumber),n.Ur.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.os.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.os=n.os.insert(r.targetId,r),n._s.set(e,r.targetId)),r})}async function PP(t,e,n){const r=Be(t),i=r.os.get(e),s=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",s,o=>r.persistence.referenceDelegate.removeTarget(o,i))}catch(o){if(!ic(o))throw o;re("LocalStore",`Failed to update sequence numbers for target ${e}: ${o}`)}r.os=r.os.remove(e),r._s.delete(i.target)}function R$(t,e,n){const r=Be(t);let i=Pe.min(),s=Xe();return r.persistence.runTransaction("Execute query","readwrite",o=>function(l,c,u){const d=Be(l),f=d._s.get(u);return f!==void 0?H.resolve(d.os.get(f)):d.Ur.getTargetData(c,u)}(r,o,ns(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.Ur.getMatchingKeysForTargetId(o,a.targetId).next(l=>{s=l})}).next(()=>r.ss.getDocumentsMatchingQuery(o,e,n?i:Pe.min(),n?s:Xe())).next(a=>(Lue(r,Sce(e),a),{documents:a,Ts:s})))}function Lue(t,e,n){let r=t.us.get(e)||Pe.min();n.forEach((i,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)}),t.us.set(e,r)}class D${constructor(){this.activeTargetIds=Cce()}fs(e){this.activeTargetIds=this.activeTargetIds.add(e)}gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Vs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class HH{constructor(){this.so=new D$,this.oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.so.fs(e),this.oo[e]||"not-current"}updateQueryState(e,n,r){this.oo[e]=n}removeLocalQueryTarget(e){this.so.gs(e)}isLocalQueryTarget(e){return this.so.activeTargetIds.has(e)}clearQueryState(e){delete this.oo[e]}getAllActiveQueryTargets(){return this.so.activeTargetIds}isActiveQueryTarget(e){return this.so.activeTargetIds.has(e)}start(){return this.so=new D$,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $ue{_o(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M${constructor(){this.ao=()=>this.uo(),this.co=()=>this.lo(),this.ho=[],this.Po()}_o(e){this.ho.push(e)}shutdown(){window.removeEventListener("online",this.ao),window.removeEventListener("offline",this.co)}Po(){window.addEventListener("online",this.ao),window.addEventListener("offline",this.co)}uo(){re("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.ho)e(0)}lo(){re("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.ho)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let M0=null;function ST(){return M0===null?M0=function(){return 268435456+Math.round(2147483648*Math.random())}():M0++,"0x"+M0.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vue={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fue{constructor(e){this.Io=e.Io,this.To=e.To}Eo(e){this.Ao=e}Ro(e){this.Vo=e}mo(e){this.fo=e}onMessage(e){this.po=e}close(){this.To()}send(e){this.Io(e)}yo(){this.Ao()}wo(){this.Vo()}So(e){this.fo(e)}bo(e){this.po(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pr="WebChannelConnection";class Bue extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;const r=n.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.Do=r+"://"+n.host,this.vo=`projects/${i}/databases/${s}`,this.Co=this.databaseId.database==="(default)"?`project_id=${i}`:`project_id=${i}&database_id=${s}`}get Fo(){return!1}Mo(n,r,i,s,o){const a=ST(),l=this.xo(n,r.toUriEncodedString());re("RestConnection",`Sending RPC '${n}' ${a}:`,l,i);const c={"google-cloud-resource-prefix":this.vo,"x-goog-request-params":this.Co};return this.Oo(c,s,o),this.No(n,l,c,i).then(u=>(re("RestConnection",`Received RPC '${n}' ${a}: `,u),u),u=>{throw ih("RestConnection",`RPC '${n}' ${a} failed with error: `,u,"url: ",l,"request:",i),u})}Lo(n,r,i,s,o,a){return this.Mo(n,r,i,s,o)}Oo(n,r,i){n["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+op}(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((s,o)=>n[o]=s),i&&i.headers.forEach((s,o)=>n[o]=s)}xo(n,r){const i=Vue[n];return`${this.Do}/v1/${r}:${i}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}No(e,n,r,i){const s=ST();return new Promise((o,a)=>{const l=new kq;l.setWithCredentials(!0),l.listenOnce(Pq.COMPLETE,()=>{try{switch(l.getLastErrorCode()){case Mx.NO_ERROR:const u=l.getResponseJson();re(pr,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(u)),o(u);break;case Mx.TIMEOUT:re(pr,`RPC '${e}' ${s} timed out`),a(new ue(X.DEADLINE_EXCEEDED,"Request time out"));break;case Mx.HTTP_ERROR:const d=l.getStatus();if(re(pr,`RPC '${e}' ${s} failed with status:`,d,"response text:",l.getResponseText()),d>0){let f=l.getResponseJson();Array.isArray(f)&&(f=f[0]);const p=f==null?void 0:f.error;if(p&&p.status&&p.message){const m=function(v){const x=v.toLowerCase().replace(/_/g,"-");return Object.values(X).indexOf(x)>=0?x:X.UNKNOWN}(p.status);a(new ue(m,p.message))}else a(new ue(X.UNKNOWN,"Server responded with status "+l.getStatus()))}else a(new ue(X.UNAVAILABLE,"Connection failed."));break;default:Ee()}}finally{re(pr,`RPC '${e}' ${s} completed.`)}});const c=JSON.stringify(i);re(pr,`RPC '${e}' ${s} sending request:`,i),l.send(n,"POST",c,r,15)})}Bo(e,n,r){const i=ST(),s=[this.Do,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=Oq(),a=Iq(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},c=this.longPollingOptions.timeoutSeconds;c!==void 0&&(l.longPollingTimeout=Math.round(1e3*c)),this.useFetchStreams&&(l.useFetchStreams=!0),this.Oo(l.initMessageHeaders,n,r),l.encodeInitMessageHeaders=!0;const u=s.join("");re(pr,`Creating RPC '${e}' stream ${i}: ${u}`,l);const d=o.createWebChannel(u,l);let f=!1,p=!1;const m=new Fue({Io:v=>{p?re(pr,`Not sending because RPC '${e}' stream ${i} is closed:`,v):(f||(re(pr,`Opening RPC '${e}' stream ${i} transport.`),d.open(),f=!0),re(pr,`RPC '${e}' stream ${i} sending:`,v),d.send(v))},To:()=>d.close()}),g=(v,x,b)=>{v.listen(x,w=>{try{b(w)}catch(T){setTimeout(()=>{throw T},0)}})};return g(d,Im.EventType.OPEN,()=>{p||(re(pr,`RPC '${e}' stream ${i} transport opened.`),m.yo())}),g(d,Im.EventType.CLOSE,()=>{p||(p=!0,re(pr,`RPC '${e}' stream ${i} transport closed`),m.So())}),g(d,Im.EventType.ERROR,v=>{p||(p=!0,ih(pr,`RPC '${e}' stream ${i} transport errored:`,v),m.So(new ue(X.UNAVAILABLE,"The operation could not be completed")))}),g(d,Im.EventType.MESSAGE,v=>{var x;if(!p){const b=v.data[0];Te(!!b);const w=b,T=w.error||((x=w[0])===null||x===void 0?void 0:x.error);if(T){re(pr,`RPC '${e}' stream ${i} received error:`,T);const _=T.status;let k=function(P){const O=wn[P];if(O!==void 0)return mH(O)}(_),S=T.message;k===void 0&&(k=X.INTERNAL,S="Unknown error status: "+_+" with message "+T.message),p=!0,m.So(new ue(k,S)),d.close()}else re(pr,`RPC '${e}' stream ${i} received:`,b),m.bo(b)}}),g(a,Cq.STAT_EVENT,v=>{v.stat===fP.PROXY?re(pr,`RPC '${e}' stream ${i} detected buffering proxy`):v.stat===fP.NOPROXY&&re(pr,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{m.wo()},0),m}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Uue(){return typeof window<"u"?window:null}function zx(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function q_(t){return new Hce(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WH{constructor(e,n,r=1e3,i=1.5,s=6e4){this.ui=e,this.timerId=n,this.ko=r,this.qo=i,this.Qo=s,this.Ko=0,this.$o=null,this.Uo=Date.now(),this.reset()}reset(){this.Ko=0}Wo(){this.Ko=this.Qo}Go(e){this.cancel();const n=Math.floor(this.Ko+this.zo()),r=Math.max(0,Date.now()-this.Uo),i=Math.max(0,n-r);i>0&&re("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Ko} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.$o=this.ui.enqueueAfterDelay(this.timerId,i,()=>(this.Uo=Date.now(),e())),this.Ko*=this.qo,this.Ko<this.ko&&(this.Ko=this.ko),this.Ko>this.Qo&&(this.Ko=this.Qo)}jo(){this.$o!==null&&(this.$o.skipDelay(),this.$o=null)}cancel(){this.$o!==null&&(this.$o.cancel(),this.$o=null)}zo(){return(Math.random()-.5)*this.Ko}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KH{constructor(e,n,r,i,s,o,a,l){this.ui=e,this.Ho=r,this.Jo=i,this.connection=s,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=l,this.state=0,this.Yo=0,this.Zo=null,this.Xo=null,this.stream=null,this.e_=0,this.t_=new WH(e,n)}n_(){return this.state===1||this.state===5||this.r_()}r_(){return this.state===2||this.state===3}start(){this.e_=0,this.state!==4?this.auth():this.i_()}async stop(){this.n_()&&await this.close(0)}s_(){this.state=0,this.t_.reset()}o_(){this.r_()&&this.Zo===null&&(this.Zo=this.ui.enqueueAfterDelay(this.Ho,6e4,()=>this.__()))}a_(e){this.u_(),this.stream.send(e)}async __(){if(this.r_())return this.close(0)}u_(){this.Zo&&(this.Zo.cancel(),this.Zo=null)}c_(){this.Xo&&(this.Xo.cancel(),this.Xo=null)}async close(e,n){this.u_(),this.c_(),this.t_.cancel(),this.Yo++,e!==4?this.t_.reset():n&&n.code===X.RESOURCE_EXHAUSTED?($r(n.toString()),$r("Using maximum backoff delay to prevent overloading the backend."),this.t_.Wo()):n&&n.code===X.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.l_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.mo(n)}l_(){}auth(){this.state=1;const e=this.h_(this.Yo),n=this.Yo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Yo===n&&this.P_(r,i)},r=>{e(()=>{const i=new ue(X.UNKNOWN,"Fetching auth token failed: "+r.message);return this.I_(i)})})}P_(e,n){const r=this.h_(this.Yo);this.stream=this.T_(e,n),this.stream.Eo(()=>{r(()=>this.listener.Eo())}),this.stream.Ro(()=>{r(()=>(this.state=2,this.Xo=this.ui.enqueueAfterDelay(this.Jo,1e4,()=>(this.r_()&&(this.state=3),Promise.resolve())),this.listener.Ro()))}),this.stream.mo(i=>{r(()=>this.I_(i))}),this.stream.onMessage(i=>{r(()=>++this.e_==1?this.E_(i):this.onNext(i))})}i_(){this.state=5,this.t_.Go(async()=>{this.state=0,this.start()})}I_(e){return re("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}h_(e){return n=>{this.ui.enqueueAndForget(()=>this.Yo===e?n():(re("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class zue extends KH{constructor(e,n,r,i,s,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s}T_(e,n){return this.connection.Bo("Listen",e,n)}E_(e){return this.onNext(e)}onNext(e){this.t_.reset();const n=Gce(this.serializer,e),r=function(s){if(!("targetChange"in s))return Pe.min();const o=s.targetChange;return o.targetIds&&o.targetIds.length?Pe.min():o.readTime?qr(o.readTime):Pe.min()}(e);return this.listener.d_(n,r)}A_(e){const n={};n.database=SP(this.serializer),n.addTarget=function(s,o){let a;const l=o.target;if(a=Ub(l)?{documents:SH(s,l)}:{query:EH(s,l)._t},a.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){a.resumeToken=vH(s,o.resumeToken);const c=wP(s,o.expectedCount);c!==null&&(a.expectedCount=c)}else if(o.snapshotVersion.compareTo(Pe.min())>0){a.readTime=fh(s,o.snapshotVersion.toTimestamp());const c=wP(s,o.expectedCount);c!==null&&(a.expectedCount=c)}return a}(this.serializer,e);const r=Yce(this.serializer,e);r&&(n.labels=r),this.a_(n)}R_(e){const n={};n.database=SP(this.serializer),n.removeTarget=e,this.a_(n)}}class que extends KH{constructor(e,n,r,i,s,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s}get V_(){return this.e_>0}start(){this.lastStreamToken=void 0,super.start()}l_(){this.V_&&this.m_([])}T_(e,n){return this.connection.Bo("Write",e,n)}E_(e){return Te(!!e.streamToken),this.lastStreamToken=e.streamToken,Te(!e.writeResults||e.writeResults.length===0),this.listener.f_()}onNext(e){Te(!!e.streamToken),this.lastStreamToken=e.streamToken,this.t_.reset();const n=Qce(e.writeResults,e.commitTime),r=qr(e.commitTime);return this.listener.g_(r,n)}p_(){const e={};e.database=SP(this.serializer),this.a_(e)}m_(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>Wb(this.serializer,r))};this.a_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hue extends class{}{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.y_=!1}w_(){if(this.y_)throw new ue(X.FAILED_PRECONDITION,"The client has already been terminated.")}Mo(e,n,r,i){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection.Mo(e,_P(n,r),i,s,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===X.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new ue(X.UNKNOWN,s.toString())})}Lo(e,n,r,i,s){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,a])=>this.connection.Lo(e,_P(n,r),i,o,a,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===X.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new ue(X.UNKNOWN,o.toString())})}terminate(){this.y_=!0,this.connection.terminate()}}class Wue{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.S_=0,this.b_=null,this.D_=!0}v_(){this.S_===0&&(this.C_("Unknown"),this.b_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.b_=null,this.F_("Backend didn't respond within 10 seconds."),this.C_("Offline"),Promise.resolve())))}M_(e){this.state==="Online"?this.C_("Unknown"):(this.S_++,this.S_>=1&&(this.x_(),this.F_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.C_("Offline")))}set(e){this.x_(),this.S_=0,e==="Online"&&(this.D_=!1),this.C_(e)}C_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}F_(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.D_?($r(n),this.D_=!1):re("OnlineStateTracker",n)}x_(){this.b_!==null&&(this.b_.cancel(),this.b_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kue{constructor(e,n,r,i,s){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.O_=[],this.N_=new Map,this.L_=new Set,this.B_=[],this.k_=s,this.k_._o(o=>{r.enqueueAndForget(async()=>{ld(this)&&(re("RemoteStore","Restarting streams for network reachability change."),await async function(l){const c=Be(l);c.L_.add(4),await Ev(c),c.q_.set("Unknown"),c.L_.delete(4),await H_(c)}(this))})}),this.q_=new Wue(r,i)}}async function H_(t){if(ld(t))for(const e of t.B_)await e(!0)}async function Ev(t){for(const e of t.B_)await e(!1)}function GH(t,e){const n=Be(t);n.N_.has(e.targetId)||(n.N_.set(e.targetId,e),QN(n)?GN(n):cp(n).r_()&&KN(n,e))}function WN(t,e){const n=Be(t),r=cp(n);n.N_.delete(e),r.r_()&&QH(n,e),n.N_.size===0&&(r.r_()?r.o_():ld(n)&&n.q_.set("Unknown"))}function KN(t,e){if(t.Q_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Pe.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}cp(t).A_(e)}function QH(t,e){t.Q_.xe(e),cp(t).R_(e)}function GN(t){t.Q_=new Bce({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),ot:e=>t.N_.get(e)||null,tt:()=>t.datastore.serializer.databaseId}),cp(t).start(),t.q_.v_()}function QN(t){return ld(t)&&!cp(t).n_()&&t.N_.size>0}function ld(t){return Be(t).L_.size===0}function YH(t){t.Q_=void 0}async function Gue(t){t.q_.set("Online")}async function Que(t){t.N_.forEach((e,n)=>{KN(t,e)})}async function Yue(t,e){YH(t),QN(t)?(t.q_.M_(e),GN(t)):t.q_.set("Unknown")}async function Xue(t,e,n){if(t.q_.set("Online"),e instanceof yH&&e.state===2&&e.cause)try{await async function(i,s){const o=s.cause;for(const a of s.targetIds)i.N_.has(a)&&(await i.remoteSyncer.rejectListen(a,o),i.N_.delete(a),i.Q_.removeTarget(a))}(t,e)}catch(r){re("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),await Yb(t,r)}else if(e instanceof Ux?t.Q_.Ke(e):e instanceof gH?t.Q_.He(e):t.Q_.We(e),!n.isEqual(Pe.min()))try{const r=await qH(t.localStore);n.compareTo(r)>=0&&await function(s,o){const a=s.Q_.rt(o);return a.targetChanges.forEach((l,c)=>{if(l.resumeToken.approximateByteSize()>0){const u=s.N_.get(c);u&&s.N_.set(c,u.withResumeToken(l.resumeToken,o))}}),a.targetMismatches.forEach((l,c)=>{const u=s.N_.get(l);if(!u)return;s.N_.set(l,u.withResumeToken(kn.EMPTY_BYTE_STRING,u.snapshotVersion)),QH(s,l);const d=new Uo(u.target,l,c,u.sequenceNumber);KN(s,d)}),s.remoteSyncer.applyRemoteEvent(a)}(t,n)}catch(r){re("RemoteStore","Failed to raise snapshot:",r),await Yb(t,r)}}async function Yb(t,e,n){if(!ic(e))throw e;t.L_.add(1),await Ev(t),t.q_.set("Offline"),n||(n=()=>qH(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{re("RemoteStore","Retrying IndexedDB access"),await n(),t.L_.delete(1),await H_(t)})}function XH(t,e){return e().catch(n=>Yb(t,n,e))}async function Tv(t){const e=Be(t),n=Wl(e);let r=e.O_.length>0?e.O_[e.O_.length-1].batchId:-1;for(;Jue(e);)try{const i=await Due(e.localStore,r);if(i===null){e.O_.length===0&&n.o_();break}r=i.batchId,Zue(e,i)}catch(i){await Yb(e,i)}JH(e)&&ZH(e)}function Jue(t){return ld(t)&&t.O_.length<10}function Zue(t,e){t.O_.push(e);const n=Wl(t);n.r_()&&n.V_&&n.m_(e.mutations)}function JH(t){return ld(t)&&!Wl(t).n_()&&t.O_.length>0}function ZH(t){Wl(t).start()}async function ede(t){Wl(t).p_()}async function tde(t){const e=Wl(t);for(const n of t.O_)e.m_(n.mutations)}async function nde(t,e,n){const r=t.O_.shift(),i=LN.from(r,e,n);await XH(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),await Tv(t)}async function rde(t,e){e&&Wl(t).V_&&await async function(r,i){if(function(o){return $ce(o)&&o!==X.ABORTED}(i.code)){const s=r.O_.shift();Wl(r).s_(),await XH(r,()=>r.remoteSyncer.rejectFailedWrite(s.batchId,i)),await Tv(r)}}(t,e),JH(t)&&ZH(t)}async function L$(t,e){const n=Be(t);n.asyncQueue.verifyOperationInProgress(),re("RemoteStore","RemoteStore received new credentials");const r=ld(n);n.L_.add(3),await Ev(n),r&&n.q_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.L_.delete(3),await H_(n)}async function ide(t,e){const n=Be(t);e?(n.L_.delete(2),await H_(n)):e||(n.L_.add(2),await Ev(n),n.q_.set("Unknown"))}function cp(t){return t.K_||(t.K_=function(n,r,i){const s=Be(n);return s.w_(),new zue(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{Eo:Gue.bind(null,t),Ro:Que.bind(null,t),mo:Yue.bind(null,t),d_:Xue.bind(null,t)}),t.B_.push(async e=>{e?(t.K_.s_(),QN(t)?GN(t):t.q_.set("Unknown")):(await t.K_.stop(),YH(t))})),t.K_}function Wl(t){return t.U_||(t.U_=function(n,r,i){const s=Be(n);return s.w_(),new que(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{Eo:()=>Promise.resolve(),Ro:ede.bind(null,t),mo:rde.bind(null,t),f_:tde.bind(null,t),g_:nde.bind(null,t)}),t.B_.push(async e=>{e?(t.U_.s_(),await Tv(t)):(await t.U_.stop(),t.O_.length>0&&(re("RemoteStore",`Stopping write stream with ${t.O_.length} pending writes`),t.O_=[]))})),t.U_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YN{constructor(e,n,r,i,s){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new ro,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,s){const o=Date.now()+r,a=new YN(e,n,o,i,s);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ue(X.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function XN(t,e){if($r("AsyncQueue",`${e}: ${t}`),ic(t))return new ue(X.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tf{constructor(e){this.comparator=e?(n,r)=>e(n,r)||me.comparator(n.key,r.key):(n,r)=>me.comparator(n.key,r.key),this.keyedMap=Om(),this.sortedSet=new en(this.comparator)}static emptySet(e){return new Tf(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Tf)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new Tf;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $${constructor(){this.W_=new en(me.comparator)}track(e){const n=e.doc.key,r=this.W_.get(n);r?e.type!==0&&r.type===3?this.W_=this.W_.insert(n,e):e.type===3&&r.type!==1?this.W_=this.W_.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.W_=this.W_.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.W_=this.W_.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.W_=this.W_.remove(n):e.type===1&&r.type===2?this.W_=this.W_.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.W_=this.W_.insert(n,{type:2,doc:e.doc}):Ee():this.W_=this.W_.insert(n,e)}G_(){const e=[];return this.W_.inorderTraversal((n,r)=>{e.push(r)}),e}}class hh{constructor(e,n,r,i,s,o,a,l,c){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=l,this.hasCachedResults=c}static fromInitialDocuments(e,n,r,i,s){const o=[];return n.forEach(a=>{o.push({type:0,doc:a})}),new hh(e,n,Tf.emptySet(n),o,r,i,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&M_(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sde{constructor(){this.z_=void 0,this.j_=[]}H_(){return this.j_.some(e=>e.J_())}}class ode{constructor(){this.queries=V$(),this.onlineState="Unknown",this.Y_=new Set}terminate(){(function(n,r){const i=Be(n),s=i.queries;i.queries=V$(),s.forEach((o,a)=>{for(const l of a.j_)l.onError(r)})})(this,new ue(X.ABORTED,"Firestore shutting down"))}}function V$(){return new sc(t=>tH(t),M_)}async function JN(t,e){const n=Be(t);let r=3;const i=e.query;let s=n.queries.get(i);s?!s.H_()&&e.J_()&&(r=2):(s=new sde,r=e.J_()?0:1);try{switch(r){case 0:s.z_=await n.onListen(i,!0);break;case 1:s.z_=await n.onListen(i,!1);break;case 2:await n.onFirstRemoteStoreListen(i)}}catch(o){const a=XN(o,`Initialization of query '${Md(e.query)}' failed`);return void e.onError(a)}n.queries.set(i,s),s.j_.push(e),e.Z_(n.onlineState),s.z_&&e.X_(s.z_)&&e2(n)}async function ZN(t,e){const n=Be(t),r=e.query;let i=3;const s=n.queries.get(r);if(s){const o=s.j_.indexOf(e);o>=0&&(s.j_.splice(o,1),s.j_.length===0?i=e.J_()?0:1:!s.H_()&&e.J_()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function ade(t,e){const n=Be(t);let r=!1;for(const i of e){const s=i.query,o=n.queries.get(s);if(o){for(const a of o.j_)a.X_(i)&&(r=!0);o.z_=i}}r&&e2(n)}function lde(t,e,n){const r=Be(t),i=r.queries.get(e);if(i)for(const s of i.j_)s.onError(n);r.queries.delete(e)}function e2(t){t.Y_.forEach(e=>{e.next()})}var CP,F$;(F$=CP||(CP={})).ea="default",F$.Cache="cache";class t2{constructor(e,n,r){this.query=e,this.ta=n,this.na=!1,this.ra=null,this.onlineState="Unknown",this.options=r||{}}X_(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new hh(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.na?this.ia(e)&&(this.ta.next(e),n=!0):this.sa(e,this.onlineState)&&(this.oa(e),n=!0),this.ra=e,n}onError(e){this.ta.error(e)}Z_(e){this.onlineState=e;let n=!1;return this.ra&&!this.na&&this.sa(this.ra,e)&&(this.oa(this.ra),n=!0),n}sa(e,n){if(!e.fromCache||!this.J_())return!0;const r=n!=="Offline";return(!this.options._a||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}ia(e){if(e.docChanges.length>0)return!0;const n=this.ra&&this.ra.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}oa(e){e=hh.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.na=!0,this.ta.next(e)}J_(){return this.options.source!==CP.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eW{constructor(e){this.key=e}}class tW{constructor(e){this.key=e}}class cde{constructor(e,n){this.query=e,this.Ta=n,this.Ea=null,this.hasCachedResults=!1,this.current=!1,this.da=Xe(),this.mutatedKeys=Xe(),this.Aa=nH(e),this.Ra=new Tf(this.Aa)}get Va(){return this.Ta}ma(e,n){const r=n?n.fa:new $$,i=n?n.Ra:this.Ra;let s=n?n.mutatedKeys:this.mutatedKeys,o=i,a=!1;const l=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,c=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((u,d)=>{const f=i.get(u),p=_v(this.query,d)?d:null,m=!!f&&this.mutatedKeys.has(f.key),g=!!p&&(p.hasLocalMutations||this.mutatedKeys.has(p.key)&&p.hasCommittedMutations);let v=!1;f&&p?f.data.isEqual(p.data)?m!==g&&(r.track({type:3,doc:p}),v=!0):this.ga(f,p)||(r.track({type:2,doc:p}),v=!0,(l&&this.Aa(p,l)>0||c&&this.Aa(p,c)<0)&&(a=!0)):!f&&p?(r.track({type:0,doc:p}),v=!0):f&&!p&&(r.track({type:1,doc:f}),v=!0,(l||c)&&(a=!0)),v&&(p?(o=o.add(p),s=g?s.add(u):s.delete(u)):(o=o.delete(u),s=s.delete(u)))}),this.query.limit!==null)for(;o.size>this.query.limit;){const u=this.query.limitType==="F"?o.last():o.first();o=o.delete(u.key),s=s.delete(u.key),r.track({type:1,doc:u})}return{Ra:o,fa:r,ns:a,mutatedKeys:s}}ga(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){const s=this.Ra;this.Ra=e.Ra,this.mutatedKeys=e.mutatedKeys;const o=e.fa.G_();o.sort((u,d)=>function(p,m){const g=v=>{switch(v){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ee()}};return g(p)-g(m)}(u.type,d.type)||this.Aa(u.doc,d.doc)),this.pa(r),i=i!=null&&i;const a=n&&!i?this.ya():[],l=this.da.size===0&&this.current&&!i?1:0,c=l!==this.Ea;return this.Ea=l,o.length!==0||c?{snapshot:new hh(this.query,e.Ra,s,o,e.mutatedKeys,l===0,c,!1,!!r&&r.resumeToken.approximateByteSize()>0),wa:a}:{wa:a}}Z_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ra:this.Ra,fa:new $$,mutatedKeys:this.mutatedKeys,ns:!1},!1)):{wa:[]}}Sa(e){return!this.Ta.has(e)&&!!this.Ra.has(e)&&!this.Ra.get(e).hasLocalMutations}pa(e){e&&(e.addedDocuments.forEach(n=>this.Ta=this.Ta.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ta=this.Ta.delete(n)),this.current=e.current)}ya(){if(!this.current)return[];const e=this.da;this.da=Xe(),this.Ra.forEach(r=>{this.Sa(r.key)&&(this.da=this.da.add(r.key))});const n=[];return e.forEach(r=>{this.da.has(r)||n.push(new tW(r))}),this.da.forEach(r=>{e.has(r)||n.push(new eW(r))}),n}ba(e){this.Ta=e.Ts,this.da=Xe();const n=this.ma(e.documents);return this.applyChanges(n,!0)}Da(){return hh.fromInitialDocuments(this.query,this.Ra,this.mutatedKeys,this.Ea===0,this.hasCachedResults)}}class ude{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class dde{constructor(e){this.key=e,this.va=!1}}class fde{constructor(e,n,r,i,s,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.Ca={},this.Fa=new sc(a=>tH(a),M_),this.Ma=new Map,this.xa=new Set,this.Oa=new en(me.comparator),this.Na=new Map,this.La=new zN,this.Ba={},this.ka=new Map,this.qa=Uu.kn(),this.onlineState="Unknown",this.Qa=void 0}get isPrimaryClient(){return this.Qa===!0}}async function hde(t,e,n=!0){const r=aW(t);let i;const s=r.Fa.get(e);return s?(r.sharedClientState.addLocalQueryTarget(s.targetId),i=s.view.Da()):i=await nW(r,e,n,!0),i}async function pde(t,e){const n=aW(t);await nW(n,e,!0,!1)}async function nW(t,e,n,r){const i=await Mue(t.localStore,ns(e)),s=i.targetId,o=t.sharedClientState.addLocalQueryTarget(s,n);let a;return r&&(a=await mde(t,e,s,o==="current",i.resumeToken)),t.isPrimaryClient&&n&&GH(t.remoteStore,i),a}async function mde(t,e,n,r,i){t.Ka=(d,f,p)=>async function(g,v,x,b){let w=v.view.ma(x);w.ns&&(w=await R$(g.localStore,v.query,!1).then(({documents:S})=>v.view.ma(S,w)));const T=b&&b.targetChanges.get(v.targetId),_=b&&b.targetMismatches.get(v.targetId)!=null,k=v.view.applyChanges(w,g.isPrimaryClient,T,_);return U$(g,v.targetId,k.wa),k.snapshot}(t,d,f,p);const s=await R$(t.localStore,e,!0),o=new cde(e,s.Ts),a=o.ma(s.documents),l=Sv.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),c=o.applyChanges(a,t.isPrimaryClient,l);U$(t,n,c.wa);const u=new ude(e,n,o);return t.Fa.set(e,u),t.Ma.has(n)?t.Ma.get(n).push(e):t.Ma.set(n,[e]),c.snapshot}async function gde(t,e,n){const r=Be(t),i=r.Fa.get(e),s=r.Ma.get(i.targetId);if(s.length>1)return r.Ma.set(i.targetId,s.filter(o=>!M_(o,e))),void r.Fa.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await PP(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),n&&WN(r.remoteStore,i.targetId),IP(r,i.targetId)}).catch(od)):(IP(r,i.targetId),await PP(r.localStore,i.targetId,!0))}async function yde(t,e){const n=Be(t),r=n.Fa.get(e),i=n.Ma.get(r.targetId);n.isPrimaryClient&&i.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),WN(n.remoteStore,r.targetId))}async function vde(t,e,n){const r=lW(t);try{const i=await function(o,a){const l=Be(o),c=Kt.now(),u=a.reduce((p,m)=>p.add(m.key),Xe());let d,f;return l.persistence.runTransaction("Locally write mutations","readwrite",p=>{let m=Ti(),g=Xe();return l.cs.getEntries(p,u).next(v=>{m=v,m.forEach((x,b)=>{b.isValidDocument()||(g=g.add(x))})}).next(()=>l.localDocuments.getOverlayedDocuments(p,m)).next(v=>{d=v;const x=[];for(const b of a){const w=Mce(b,d.get(b.key).overlayedDocument);w!=null&&x.push(new wa(b.key,w,Wq(w.value.mapValue),_r.exists(!0)))}return l.mutationQueue.addMutationBatch(p,c,x,a)}).next(v=>{f=v;const x=v.applyToLocalDocumentSet(d,g);return l.documentOverlayCache.saveOverlays(p,v.batchId,x)})}).then(()=>({batchId:f.batchId,changes:iH(d)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(o,a,l){let c=o.Ba[o.currentUser.toKey()];c||(c=new en(ze)),c=c.insert(a,l),o.Ba[o.currentUser.toKey()]=c}(r,i.batchId,n),await Av(r,i.changes),await Tv(r.remoteStore)}catch(i){const s=XN(i,"Failed to persist write");n.reject(s)}}async function rW(t,e){const n=Be(t);try{const r=await jue(n.localStore,e);e.targetChanges.forEach((i,s)=>{const o=n.Na.get(s);o&&(Te(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?o.va=!0:i.modifiedDocuments.size>0?Te(o.va):i.removedDocuments.size>0&&(Te(o.va),o.va=!1))}),await Av(n,r,e)}catch(r){await od(r)}}function B$(t,e,n){const r=Be(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.Fa.forEach((s,o)=>{const a=o.view.Z_(e);a.snapshot&&i.push(a.snapshot)}),function(o,a){const l=Be(o);l.onlineState=a;let c=!1;l.queries.forEach((u,d)=>{for(const f of d.j_)f.Z_(a)&&(c=!0)}),c&&e2(l)}(r.eventManager,e),i.length&&r.Ca.d_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function xde(t,e,n){const r=Be(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.Na.get(e),s=i&&i.key;if(s){let o=new en(me.comparator);o=o.insert(s,pn.newNoDocument(s,Pe.min()));const a=Xe().add(s),l=new F_(Pe.min(),new Map,new en(ze),o,a);await rW(r,l),r.Oa=r.Oa.remove(s),r.Na.delete(e),n2(r)}else await PP(r.localStore,e,!1).then(()=>IP(r,e,n)).catch(od)}async function bde(t,e){const n=Be(t),r=e.batch.batchId;try{const i=await Nue(n.localStore,e);sW(n,r,null),iW(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await Av(n,i)}catch(i){await od(i)}}async function wde(t,e,n){const r=Be(t);try{const i=await function(o,a){const l=Be(o);return l.persistence.runTransaction("Reject batch","readwrite-primary",c=>{let u;return l.mutationQueue.lookupMutationBatch(c,a).next(d=>(Te(d!==null),u=d.keys(),l.mutationQueue.removeMutationBatch(c,d))).next(()=>l.mutationQueue.performConsistencyCheck(c)).next(()=>l.documentOverlayCache.removeOverlaysForBatchId(c,u,a)).next(()=>l.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(c,u)).next(()=>l.localDocuments.getDocuments(c,u))})}(r.localStore,e);sW(r,e,n),iW(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await Av(r,i)}catch(i){await od(i)}}function iW(t,e){(t.ka.get(e)||[]).forEach(n=>{n.resolve()}),t.ka.delete(e)}function sW(t,e,n){const r=Be(t);let i=r.Ba[r.currentUser.toKey()];if(i){const s=i.get(e);s&&(n?s.reject(n):s.resolve(),i=i.remove(e)),r.Ba[r.currentUser.toKey()]=i}}function IP(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Ma.get(e))t.Fa.delete(r),n&&t.Ca.$a(r,n);t.Ma.delete(e),t.isPrimaryClient&&t.La.gr(e).forEach(r=>{t.La.containsKey(r)||oW(t,r)})}function oW(t,e){t.xa.delete(e.path.canonicalString());const n=t.Oa.get(e);n!==null&&(WN(t.remoteStore,n),t.Oa=t.Oa.remove(e),t.Na.delete(n),n2(t))}function U$(t,e,n){for(const r of n)r instanceof eW?(t.La.addReference(r.key,e),_de(t,r)):r instanceof tW?(re("SyncEngine","Document no longer in limbo: "+r.key),t.La.removeReference(r.key,e),t.La.containsKey(r.key)||oW(t,r.key)):Ee()}function _de(t,e){const n=e.key,r=n.path.canonicalString();t.Oa.get(n)||t.xa.has(r)||(re("SyncEngine","New document in limbo: "+n),t.xa.add(r),n2(t))}function n2(t){for(;t.xa.size>0&&t.Oa.size<t.maxConcurrentLimboResolutions;){const e=t.xa.values().next().value;t.xa.delete(e);const n=new me(xt.fromString(e)),r=t.qa.next();t.Na.set(r,new dde(n)),t.Oa=t.Oa.insert(n,r),GH(t.remoteStore,new Uo(ns(wv(n.path)),r,"TargetPurposeLimboResolution",Zi.oe))}}async function Av(t,e,n){const r=Be(t),i=[],s=[],o=[];r.Fa.isEmpty()||(r.Fa.forEach((a,l)=>{o.push(r.Ka(l,e,n).then(c=>{var u;if((c||n)&&r.isPrimaryClient){const d=c?!c.fromCache:(u=n==null?void 0:n.targetChanges.get(l.targetId))===null||u===void 0?void 0:u.current;r.sharedClientState.updateQueryState(l.targetId,d?"current":"not-current")}if(c){i.push(c);const d=HN.Wi(l.targetId,c);s.push(d)}}))}),await Promise.all(o),r.Ca.d_(i),await async function(l,c){const u=Be(l);try{await u.persistence.runTransaction("notifyLocalViewChanges","readwrite",d=>H.forEach(c,f=>H.forEach(f.$i,p=>u.persistence.referenceDelegate.addReference(d,f.targetId,p)).next(()=>H.forEach(f.Ui,p=>u.persistence.referenceDelegate.removeReference(d,f.targetId,p)))))}catch(d){if(!ic(d))throw d;re("LocalStore","Failed to update sequence numbers: "+d)}for(const d of c){const f=d.targetId;if(!d.fromCache){const p=u.os.get(f),m=p.snapshotVersion,g=p.withLastLimboFreeSnapshotVersion(m);u.os=u.os.insert(f,g)}}}(r.localStore,s))}async function Sde(t,e){const n=Be(t);if(!n.currentUser.isEqual(e)){re("SyncEngine","User change. New user:",e.toKey());const r=await zH(n.localStore,e);n.currentUser=e,function(s,o){s.ka.forEach(a=>{a.forEach(l=>{l.reject(new ue(X.CANCELLED,o))})}),s.ka.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await Av(n,r.hs)}}function Ede(t,e){const n=Be(t),r=n.Na.get(e);if(r&&r.va)return Xe().add(r.key);{let i=Xe();const s=n.Ma.get(e);if(!s)return i;for(const o of s){const a=n.Fa.get(o);i=i.unionWith(a.view.Va)}return i}}function aW(t){const e=Be(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=rW.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=Ede.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=xde.bind(null,e),e.Ca.d_=ade.bind(null,e.eventManager),e.Ca.$a=lde.bind(null,e.eventManager),e}function lW(t){const e=Be(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=bde.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=wde.bind(null,e),e}class Zg{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=q_(e.databaseInfo.databaseId),this.sharedClientState=this.Wa(e),this.persistence=this.Ga(e),await this.persistence.start(),this.localStore=this.za(e),this.gcScheduler=this.ja(e,this.localStore),this.indexBackfillerScheduler=this.Ha(e,this.localStore)}ja(e,n){return null}Ha(e,n){return null}za(e){return UH(this.persistence,new BH,e.initialUser,this.serializer)}Ga(e){return new FH(z_.Zr,this.serializer)}Wa(e){return new HH}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Zg.provider={build:()=>new Zg};class cW extends Zg{constructor(e,n,r){super(),this.Ja=e,this.cacheSizeBytes=n,this.forceOwnership=r,this.kind="persistent",this.synchronizeTabs=!1}async initialize(e){await super.initialize(e),await this.Ja.initialize(this,e),await lW(this.Ja.syncEngine),await Tv(this.Ja.remoteStore),await this.persistence.yi(()=>(this.gcScheduler&&!this.gcScheduler.started&&this.gcScheduler.start(),this.indexBackfillerScheduler&&!this.indexBackfillerScheduler.started&&this.indexBackfillerScheduler.start(),Promise.resolve()))}za(e){return UH(this.persistence,new BH,e.initialUser,this.serializer)}ja(e,n){const r=this.persistence.referenceDelegate.garbageCollector;return new hue(r,e.asyncQueue,n)}Ha(e,n){const r=new Ule(n,this.persistence);return new Ble(e.asyncQueue,r)}Ga(e){const n=Cue(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),r=this.cacheSizeBytes!==void 0?Zr.withCacheSize(this.cacheSizeBytes):Zr.DEFAULT;return new qN(this.synchronizeTabs,n,e.clientId,r,e.asyncQueue,Uue(),zx(),this.serializer,this.sharedClientState,!!this.forceOwnership)}Wa(e){return new HH}}class ey{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>B$(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=Sde.bind(null,this.syncEngine),await ide(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new ode}()}createDatastore(e){const n=q_(e.databaseInfo.databaseId),r=function(s){return new Bue(s)}(e.databaseInfo);return function(s,o,a,l){return new Hue(s,o,a,l)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,i,s,o,a){return new Kue(r,i,s,o,a)}(this.localStore,this.datastore,e.asyncQueue,n=>B$(this.syncEngine,n,0),function(){return M$.D()?new M$:new $ue}())}createSyncEngine(e,n){return function(i,s,o,a,l,c,u){const d=new fde(i,s,o,a,l,c);return u&&(d.Qa=!0),d}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(i){const s=Be(i);re("RemoteStore","RemoteStore shutting down."),s.L_.add(5),await Ev(s),s.k_.shutdown(),s.q_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}ey.provider={build:()=>new ey};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r2{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ya(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ya(this.observer.error,e):$r("Uncaught Error in snapshot listener:",e.toString()))}Za(){this.muted=!0}Ya(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tde{constructor(e,n,r,i,s){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=Mr.UNAUTHENTICATED,this.clientId=Nq.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=s,this.authCredentials.start(r,async o=>{re("FirestoreClient","Received user=",o.uid),await this.authCredentialListener(o),this.user=o}),this.appCheckCredentials.start(r,o=>(re("FirestoreClient","Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new ro;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=XN(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function ET(t,e){t.asyncQueue.verifyOperationInProgress(),re("FirestoreClient","Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async i=>{r.isEqual(i)||(await zH(e.localStore,i),r=i)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function z$(t,e){t.asyncQueue.verifyOperationInProgress();const n=await Ade(t);re("FirestoreClient","Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>L$(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,i)=>L$(e.remoteStore,i)),t._onlineComponents=e}async function Ade(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){re("FirestoreClient","Using user provided OfflineComponentProvider");try{await ET(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(i){return i.name==="FirebaseError"?i.code===X.FAILED_PRECONDITION||i.code===X.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11}(n))throw n;ih("Error using user provided cache. Falling back to memory cache: "+n),await ET(t,new Zg)}}else re("FirestoreClient","Using default OfflineComponentProvider"),await ET(t,new Zg);return t._offlineComponents}async function uW(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(re("FirestoreClient","Using user provided OnlineComponentProvider"),await z$(t,t._uninitializedComponentsProvider._online)):(re("FirestoreClient","Using default OnlineComponentProvider"),await z$(t,new ey))),t._onlineComponents}function kde(t){return uW(t).then(e=>e.syncEngine)}async function Xb(t){const e=await uW(t),n=e.eventManager;return n.onListen=hde.bind(null,e.syncEngine),n.onUnlisten=gde.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=pde.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=yde.bind(null,e.syncEngine),n}function Pde(t,e,n={}){const r=new ro;return t.asyncQueue.enqueueAndForget(async()=>function(s,o,a,l,c){const u=new r2({next:f=>{u.Za(),o.enqueueAndForget(()=>ZN(s,d));const p=f.docs.has(a);!p&&f.fromCache?c.reject(new ue(X.UNAVAILABLE,"Failed to get document because the client is offline.")):p&&f.fromCache&&l&&l.source==="server"?c.reject(new ue(X.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):c.resolve(f)},error:f=>c.reject(f)}),d=new t2(wv(a.path),u,{includeMetadataChanges:!0,_a:!0});return JN(s,d)}(await Xb(t),t.asyncQueue,e,n,r)),r.promise}function Cde(t,e,n={}){const r=new ro;return t.asyncQueue.enqueueAndForget(async()=>function(s,o,a,l,c){const u=new r2({next:f=>{u.Za(),o.enqueueAndForget(()=>ZN(s,d)),f.fromCache&&l.source==="server"?c.reject(new ue(X.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):c.resolve(f)},error:f=>c.reject(f)}),d=new t2(a,u,{includeMetadataChanges:!0,_a:!0});return JN(s,d)}(await Xb(t),t.asyncQueue,e,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dW(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const q$=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fW(t,e,n){if(!n)throw new ue(X.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function Ide(t,e,n,r){if(e===!0&&r===!0)throw new ue(X.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function H$(t){if(!me.isDocumentKey(t))throw new ue(X.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function W$(t){if(me.isDocumentKey(t))throw new ue(X.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function W_(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":Ee()}function li(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new ue(X.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=W_(t);throw new ue(X.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}function Ode(t,e){if(e<=0)throw new ue(X.INVALID_ARGUMENT,`Function ${t}() requires a positive number, but it was: ${e}.`)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K${constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new ue(X.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new ue(X.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}Ide("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=dW((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new ue(X.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new ue(X.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new ue(X.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class i2{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new K$({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ue(X.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new ue(X.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new K$(e),e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new Ile;switch(r.type){case"firstParty":return new jle(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new ue(X.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=q$.get(n);r&&(re("ComponentProvider","Removing Datastore"),q$.delete(n),r.terminate())}(this),Promise.resolve()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _a{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new _a(this.firestore,e,this._query)}}class Tr{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Dl(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Tr(this.firestore,e,this._key)}}class Dl extends _a{constructor(e,n,r){super(e,n,wv(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Tr(this.firestore,null,new me(e))}withConverter(e){return new Dl(this.firestore,e,this._path)}}function Ce(t,e,...n){if(t=Zt(t),fW("collection","path",e),t instanceof i2){const r=xt.fromString(e,...n);return W$(r),new Dl(t,null,r)}{if(!(t instanceof Tr||t instanceof Dl))throw new ue(X.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(xt.fromString(e,...n));return W$(r),new Dl(t.firestore,null,r)}}function ht(t,e,...n){if(t=Zt(t),arguments.length===1&&(e=Nq.newId()),fW("doc","path",e),t instanceof i2){const r=xt.fromString(e,...n);return H$(r),new Tr(t,null,new me(r))}{if(!(t instanceof Tr||t instanceof Dl))throw new ue(X.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(xt.fromString(e,...n));return H$(r),new Tr(t.firestore,t instanceof Dl?t.converter:null,new me(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G${constructor(e=Promise.resolve()){this.Pu=[],this.Iu=!1,this.Tu=[],this.Eu=null,this.du=!1,this.Au=!1,this.Ru=[],this.t_=new WH(this,"async_queue_retry"),this.Vu=()=>{const r=zx();r&&re("AsyncQueue","Visibility state changed to "+r.visibilityState),this.t_.jo()},this.mu=e;const n=zx();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.Vu)}get isShuttingDown(){return this.Iu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.fu(),this.gu(e)}enterRestrictedMode(e){if(!this.Iu){this.Iu=!0,this.Au=e||!1;const n=zx();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.Vu)}}enqueue(e){if(this.fu(),this.Iu)return new Promise(()=>{});const n=new ro;return this.gu(()=>this.Iu&&this.Au?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Pu.push(e),this.pu()))}async pu(){if(this.Pu.length!==0){try{await this.Pu[0](),this.Pu.shift(),this.t_.reset()}catch(e){if(!ic(e))throw e;re("AsyncQueue","Operation failed with retryable error: "+e)}this.Pu.length>0&&this.t_.Go(()=>this.pu())}}gu(e){const n=this.mu.then(()=>(this.du=!0,e().catch(r=>{this.Eu=r,this.du=!1;const i=function(o){let a=o.message||"";return o.stack&&(a=o.stack.includes(o.message)?o.stack:o.message+`
`+o.stack),a}(r);throw $r("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this.du=!1,r))));return this.mu=n,n}enqueueAfterDelay(e,n,r){this.fu(),this.Ru.indexOf(e)>-1&&(n=0);const i=YN.createAndSchedule(this,e,n,r,s=>this.yu(s));return this.Tu.push(i),i}fu(){this.Eu&&Ee()}verifyOperationInProgress(){}async wu(){let e;do e=this.mu,await e;while(e!==this.mu)}Su(e){for(const n of this.Tu)if(n.timerId===e)return!0;return!1}bu(e){return this.wu().then(()=>{this.Tu.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.Tu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.wu()})}Du(e){this.Ru.push(e)}yu(e){const n=this.Tu.indexOf(e);this.Tu.splice(n,1)}}function Q$(t){return function(n,r){if(typeof n!="object"||n===null)return!1;const i=n;for(const s of r)if(s in i&&typeof i[s]=="function")return!0;return!1}(t,["next","error","complete"])}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nde=-1;class uo extends i2{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new G$,this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new G$(e),this._firestoreClient=void 0,await e}}}function jde(t,e,n){n||(n="(default)");const r=C_(t,"firestore");if(r.isInitialized(n)){const i=r.getImmediate({identifier:n}),s=r.getOptions(n);if(Bg(s,e))return i;throw new ue(X.FAILED_PRECONDITION,"initializeFirestore() has already been called with different options. To avoid this error, call initializeFirestore() with the same options as when it was originally called, or call getFirestore() to return the already initialized instance.")}if(e.cacheSizeBytes!==void 0&&e.localCache!==void 0)throw new ue(X.INVALID_ARGUMENT,"cache and cacheSizeBytes cannot be specified at the same time as cacheSizeBytes willbe deprecated. Instead, specify the cache size in the cache object");if(e.cacheSizeBytes!==void 0&&e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new ue(X.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");return r.initialize({options:e,instanceIdentifier:n})}function K_(t){if(t._terminated)throw new ue(X.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||hW(t),t._firestoreClient}function hW(t){var e,n,r;const i=t._freezeSettings(),s=function(a,l,c,u){return new uce(a,l,c,u.host,u.ssl,u.experimentalForceLongPolling,u.experimentalAutoDetectLongPolling,dW(u.experimentalLongPollingOptions),u.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,i);t._componentsProvider||!((n=i.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),t._firestoreClient=new Tde(t._authCredentials,t._appCheckCredentials,t._queue,s,t._componentsProvider&&function(a){const l=a==null?void 0:a._online.build();return{_offline:a==null?void 0:a._offline.build(l),_online:l}}(t._componentsProvider))}function Rde(t,e){ih("enableIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const n=t._freezeSettings();return Dde(t,ey.provider,{build:r=>new cW(r,n.cacheSizeBytes,void 0)}),Promise.resolve()}function Dde(t,e,n){if((t=li(t,uo))._firestoreClient||t._terminated)throw new ue(X.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.");if(t._componentsProvider||t._getSettings().localCache)throw new ue(X.FAILED_PRECONDITION,"SDK cache is already specified.");t._componentsProvider={_online:e,_offline:n},hW(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ph{constructor(e){this._byteString=e}static fromBase64String(e){try{return new ph(kn.fromBase64String(e))}catch(n){throw new ue(X.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new ph(kn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G_{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new ue(X.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new sn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q_{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s2{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new ue(X.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new ue(X.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return ze(this._lat,e._lat)||ze(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o2{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,i){if(r.length!==i.length)return!1;for(let s=0;s<r.length;++s)if(r[s]!==i[s])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mde=/^__.*__$/;class Lde{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new wa(e,this.data,this.fieldMask,n,this.fieldTransforms):new lp(e,this.data,n,this.fieldTransforms)}}class pW{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new wa(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function mW(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ee()}}class a2{constructor(e,n,r,i,s,o){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,s===void 0&&this.vu(),this.fieldTransforms=s||[],this.fieldMask=o||[]}get path(){return this.settings.path}get Cu(){return this.settings.Cu}Fu(e){return new a2(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Mu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Fu({path:r,xu:!1});return i.Ou(e),i}Nu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Fu({path:r,xu:!1});return i.vu(),i}Lu(e){return this.Fu({path:void 0,xu:!0})}Bu(e){return Jb(e,this.settings.methodName,this.settings.ku||!1,this.path,this.settings.qu)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}vu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Ou(this.path.get(e))}Ou(e){if(e.length===0)throw this.Bu("Document fields must not be empty");if(mW(this.Cu)&&Mde.test(e))throw this.Bu('Document fields cannot begin and end with "__"')}}class $de{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||q_(e)}Qu(e,n,r,i=!1){return new a2({Cu:e,methodName:n,qu:r,path:sn.emptyPath(),xu:!1,ku:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Y_(t){const e=t._freezeSettings(),n=q_(t._databaseId);return new $de(t._databaseId,!!e.ignoreUndefinedProperties,n)}function gW(t,e,n,r,i,s={}){const o=t.Qu(s.merge||s.mergeFields?2:0,e,n,i);c2("Data must be an object, but it was:",o,r);const a=yW(r,o);let l,c;if(s.merge)l=new ri(o.fieldMask),c=o.fieldTransforms;else if(s.mergeFields){const u=[];for(const d of s.mergeFields){const f=OP(e,d,n);if(!o.contains(f))throw new ue(X.INVALID_ARGUMENT,`Field '${f}' is specified in your field mask but missing from your input data.`);xW(u,f)||u.push(f)}l=new ri(u),c=o.fieldTransforms.filter(d=>l.covers(d.field))}else l=null,c=o.fieldTransforms;return new Lde(new wr(a),l,c)}class X_ extends Q_{_toFieldTransform(e){if(e.Cu!==2)throw e.Cu===1?e.Bu(`${this._methodName}() can only appear at the top level of your update data`):e.Bu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof X_}}class l2 extends Q_{_toFieldTransform(e){return new dH(e.path,new ch)}isEqual(e){return e instanceof l2}}function Vde(t,e,n,r){const i=t.Qu(1,e,n);c2("Data must be an object, but it was:",i,r);const s=[],o=wr.empty();ad(r,(l,c)=>{const u=u2(e,l,n);c=Zt(c);const d=i.Nu(u);if(c instanceof X_)s.push(u);else{const f=kv(c,d);f!=null&&(s.push(u),o.set(u,f))}});const a=new ri(s);return new pW(o,a,i.fieldTransforms)}function Fde(t,e,n,r,i,s){const o=t.Qu(1,e,n),a=[OP(e,r,n)],l=[i];if(s.length%2!=0)throw new ue(X.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let f=0;f<s.length;f+=2)a.push(OP(e,s[f])),l.push(s[f+1]);const c=[],u=wr.empty();for(let f=a.length-1;f>=0;--f)if(!xW(c,a[f])){const p=a[f];let m=l[f];m=Zt(m);const g=o.Nu(p);if(m instanceof X_)c.push(p);else{const v=kv(m,g);v!=null&&(c.push(p),u.set(p,v))}}const d=new ri(c);return new pW(u,d,o.fieldTransforms)}function Bde(t,e,n,r=!1){return kv(n,t.Qu(r?4:3,e))}function kv(t,e){if(vW(t=Zt(t)))return c2("Unsupported field value:",e,t),yW(t,e);if(t instanceof Q_)return function(r,i){if(!mW(i.Cu))throw i.Bu(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Bu(`${r._methodName}() is not currently supported inside arrays`);const s=r._toFieldTransform(i);s&&i.fieldTransforms.push(s)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.xu&&e.Cu!==4)throw e.Bu("Nested arrays are not supported");return function(r,i){const s=[];let o=0;for(const a of r){let l=kv(a,i.Lu(o));l==null&&(l={nullValue:"NULL_VALUE"}),s.push(l),o++}return{arrayValue:{values:s}}}(t,e)}return function(r,i){if((r=Zt(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return Ice(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const s=Kt.fromDate(r);return{timestampValue:fh(i.serializer,s)}}if(r instanceof Kt){const s=new Kt(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:fh(i.serializer,s)}}if(r instanceof s2)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof ph)return{bytesValue:vH(i.serializer,r._byteString)};if(r instanceof Tr){const s=i.databaseId,o=r.firestore._databaseId;if(!o.isEqual(s))throw i.Bu(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:FN(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof o2)return function(o,a){return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:o.toArray().map(l=>{if(typeof l!="number")throw a.Bu("VectorValues must only contain numeric values.");return DN(a.serializer,l)})}}}}}}(r,i);throw i.Bu(`Unsupported field value: ${W_(r)}`)}(t,e)}function yW(t,e){const n={};return Uq(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):ad(t,(r,i)=>{const s=kv(i,e.Mu(r));s!=null&&(n[r]=s)}),{mapValue:{fields:n}}}function vW(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof Kt||t instanceof s2||t instanceof ph||t instanceof Tr||t instanceof Q_||t instanceof o2)}function c2(t,e,n){if(!vW(n)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(n)){const r=W_(n);throw r==="an object"?e.Bu(t+" a custom object"):e.Bu(t+" "+r)}}function OP(t,e,n){if((e=Zt(e))instanceof G_)return e._internalPath;if(typeof e=="string")return u2(t,e);throw Jb("Field path arguments must be of type string or ",t,!1,void 0,n)}const Ude=new RegExp("[~\\*/\\[\\]]");function u2(t,e,n){if(e.search(Ude)>=0)throw Jb(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new G_(...e.split("."))._internalPath}catch{throw Jb(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Jb(t,e,n,r,i){const s=r&&!r.isEmpty(),o=i!==void 0;let a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(s||o)&&(l+=" (found",s&&(l+=` in field ${r}`),o&&(l+=` in document ${i}`),l+=")"),new ue(X.INVALID_ARGUMENT,a+t+l)}function xW(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bW{constructor(e,n,r,i,s){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new Tr(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new zde(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(J_("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class zde extends bW{data(){return super.data()}}function J_(t,e){return typeof e=="string"?u2(t,e):e instanceof G_?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wW(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new ue(X.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class d2{}class f2 extends d2{}function wt(t,e,...n){let r=[];e instanceof d2&&r.push(e),r=r.concat(n),function(s){const o=s.filter(l=>l instanceof h2).length,a=s.filter(l=>l instanceof Z_).length;if(o>1||o>0&&a>0)throw new ue(X.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const i of r)t=i._apply(t);return t}class Z_ extends f2{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new Z_(e,n,r)}_apply(e){const n=this._parse(e);return SW(e._query,n),new _a(e.firestore,e.converter,bP(e._query,n))}_parse(e){const n=Y_(e.firestore);return function(s,o,a,l,c,u,d){let f;if(c.isKeyField()){if(u==="array-contains"||u==="array-contains-any")throw new ue(X.INVALID_ARGUMENT,`Invalid Query. You can't perform '${u}' queries on documentId().`);if(u==="in"||u==="not-in"){X$(d,u);const p=[];for(const m of d)p.push(Y$(l,s,m));f={arrayValue:{values:p}}}else f=Y$(l,s,d)}else u!=="in"&&u!=="not-in"&&u!=="array-contains-any"||X$(d,u),f=Bde(a,o,d,u==="in"||u==="not-in");return ot.create(c,u,f)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function pt(t,e,n){const r=e,i=J_("where",t);return Z_._create(i,r,n)}class h2 extends d2{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new h2(e,n)}_parse(e){const n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:Tt.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(i,s){let o=i;const a=s.getFlattenedFilters();for(const l of a)SW(o,l),o=bP(o,l)}(e._query,n),new _a(e.firestore,e.converter,bP(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class p2 extends f2{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new p2(e,n)}_apply(e){const n=function(i,s,o){if(i.startAt!==null)throw new ue(X.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(i.endAt!==null)throw new ue(X.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Xg(s,o)}(e._query,this._field,this._direction);return new _a(e.firestore,e.converter,function(i,s){const o=i.explicitOrderBy.concat([s]);return new ap(i.path,i.collectionGroup,o,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)}(e._query,n))}}function mn(t,e="asc"){const n=e,r=J_("orderBy",t);return p2._create(r,n)}class m2 extends f2{constructor(e,n,r){super(),this.type=e,this._limit=n,this._limitType=r}static _create(e,n,r){return new m2(e,n,r)}_apply(e){return new _a(e.firestore,e.converter,qb(e._query,this._limit,this._limitType))}}function _W(t){return Ode("limit",t),m2._create("limit",t,"F")}function Y$(t,e,n){if(typeof(n=Zt(n))=="string"){if(n==="")throw new ue(X.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!eH(e)&&n.indexOf("/")!==-1)throw new ue(X.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(xt.fromString(n));if(!me.isDocumentKey(r))throw new ue(X.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return Qg(t,new me(r))}if(n instanceof Tr)return Qg(t,n._key);throw new ue(X.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${W_(n)}.`)}function X$(t,e){if(!Array.isArray(t)||t.length===0)throw new ue(X.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function SW(t,e){const n=function(i,s){for(const o of i)for(const a of o.getFlattenedFilters())if(s.indexOf(a.op)>=0)return a.op;return null}(t.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new ue(X.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new ue(X.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class qde{convertValue(e,n="none"){switch($u(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Qt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(ql(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw Ee()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return ad(e,(i,s)=>{r[i]=this.convertValue(s,n)}),r}convertVectorValue(e){var n,r,i;const s=(i=(r=(n=e.fields)===null||n===void 0?void 0:n.value.arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.map(o=>Qt(o.doubleValue));return new o2(s)}convertGeoPoint(e){return new s2(Qt(e.latitude),Qt(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=jN(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(Kg(e));default:return null}}convertTimestamp(e){const n=ua(e);return new Kt(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=xt.fromString(e);Te(PH(r));const i=new Lu(r.get(1),r.get(3)),s=new me(r.popFirst(5));return i.isEqual(n)||$r(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function EW(t,e,n){let r;return r=t?t.toFirestore(e):e,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rm{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class TW extends bW{constructor(e,n,r,i,s,o){super(e,n,r,i,o),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new qx(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(J_("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class qx extends TW{data(e={}){return super.data(e)}}class AW{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new Rm(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new qx(this._firestore,this._userDataWriter,r.key,r,new Rm(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new ue(X.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(i,s){if(i._snapshot.oldDocs.isEmpty()){let o=0;return i._snapshot.docChanges.map(a=>{const l=new qx(i._firestore,i._userDataWriter,a.doc.key,a.doc,new Rm(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);return a.doc,{type:"added",doc:l,oldIndex:-1,newIndex:o++}})}{let o=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(a=>s||a.type!==3).map(a=>{const l=new qx(i._firestore,i._userDataWriter,a.doc.key,a.doc,new Rm(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);let c=-1,u=-1;return a.type!==0&&(c=o.indexOf(a.doc.key),o=o.delete(a.doc.key)),a.type!==1&&(o=o.add(a.doc),u=o.indexOf(a.doc.key)),{type:Hde(a.type),doc:l,oldIndex:c,newIndex:u}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function Hde(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ee()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ci(t){t=li(t,Tr);const e=li(t.firestore,uo);return Pde(K_(e),t._key).then(n=>kW(e,t,n))}class g2 extends qde{constructor(e){super(),this.firestore=e}convertBytes(e){return new ph(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Tr(this.firestore,null,n)}}function Ft(t){t=li(t,_a);const e=li(t.firestore,uo),n=K_(e),r=new g2(e);return wW(t._query),Cde(n,t._query).then(i=>new AW(e,r,t,i))}function Wde(t,e,n){t=li(t,Tr);const r=li(t.firestore,uo),i=EW(t.converter,e);return eS(r,[gW(Y_(r),"setDoc",t._key,i,t.converter!==null,n).toMutation(t._key,_r.none())])}function ui(t,e,n,...r){t=li(t,Tr);const i=li(t.firestore,uo),s=Y_(i);let o;return o=typeof(e=Zt(e))=="string"||e instanceof G_?Fde(s,"updateDoc",t._key,e,n,r):Vde(s,"updateDoc",t._key,e),eS(i,[o.toMutation(t._key,_r.exists(!0))])}function ty(t){return eS(li(t.firestore,uo),[new V_(t._key,_r.none())])}function Pn(t,e){const n=li(t.firestore,uo),r=ht(t),i=EW(t.converter,e);return eS(n,[gW(Y_(t.firestore),"addDoc",r._key,i,t.converter!==null,{}).toMutation(r._key,_r.exists(!1))]).then(()=>r)}function up(t,...e){var n,r,i;t=Zt(t);let s={includeMetadataChanges:!1,source:"default"},o=0;typeof e[o]!="object"||Q$(e[o])||(s=e[o],o++);const a={includeMetadataChanges:s.includeMetadataChanges,source:s.source};if(Q$(e[o])){const d=e[o];e[o]=(n=d.next)===null||n===void 0?void 0:n.bind(d),e[o+1]=(r=d.error)===null||r===void 0?void 0:r.bind(d),e[o+2]=(i=d.complete)===null||i===void 0?void 0:i.bind(d)}let l,c,u;if(t instanceof Tr)c=li(t.firestore,uo),u=wv(t._key.path),l={next:d=>{e[o]&&e[o](kW(c,t,d))},error:e[o+1],complete:e[o+2]};else{const d=li(t,_a);c=li(d.firestore,uo),u=d._query;const f=new g2(c);l={next:p=>{e[o]&&e[o](new AW(c,f,d,p))},error:e[o+1],complete:e[o+2]},wW(t._query)}return function(f,p,m,g){const v=new r2(g),x=new t2(p,v,m);return f.asyncQueue.enqueueAndForget(async()=>JN(await Xb(f),x)),()=>{v.Za(),f.asyncQueue.enqueueAndForget(async()=>ZN(await Xb(f),x))}}(K_(c),u,a,l)}function eS(t,e){return function(r,i){const s=new ro;return r.asyncQueue.enqueueAndForget(async()=>vde(await kde(r),i,s)),s.promise}(K_(t),e)}function kW(t,e,n){const r=n.docs.get(e._key),i=new g2(t);return new TW(t,i,e._key,r,new Rm(n.hasPendingWrites,n.fromCache),e.converter)}class Kde{constructor(e){let n;this.kind="persistent",e!=null&&e.tabManager?(e.tabManager._initialize(e),n=e.tabManager):(n=PW(),n._initialize(e)),this._onlineComponentProvider=n._onlineComponentProvider,this._offlineComponentProvider=n._offlineComponentProvider}toJSON(){return{kind:this.kind}}}function Gde(t){return new Kde(t)}class Qde{constructor(e){this.forceOwnership=e,this.kind="persistentSingleTab"}toJSON(){return{kind:this.kind}}_initialize(e){this._onlineComponentProvider=ey.provider,this._offlineComponentProvider={build:n=>new cW(n,e==null?void 0:e.cacheSizeBytes,this.forceOwnership)}}}function PW(t){return new Qde(void 0)}function lt(){return new l2("serverTimestamp")}(function(e,n=!0){(function(i){op=i})(rd),ju(new zl("firestore",(r,{instanceIdentifier:i,options:s})=>{const o=r.getProvider("app").getImmediate(),a=new uo(new Ole(r.getProvider("auth-internal")),new Dle(r.getProvider("app-check-internal")),function(c,u){if(!Object.prototype.hasOwnProperty.apply(c.options,["projectId"]))throw new ue(X.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Lu(c.options.projectId,u)}(o,i),o);return s=Object.assign({useFetchStreams:n},s),a._setSettings(s),a},"PUBLIC").setMultipleInstances(!0)),eo(zL,"4.7.3",e),eo(zL,"4.7.3","esm2017")})();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CW="firebasestorage.googleapis.com",IW="storageBucket",Yde=2*60*1e3,Xde=10*60*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yn extends xo{constructor(e,n,r=0){super(TT(e),`Firebase Storage: ${n} (${TT(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,yn.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return TT(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var gn;(function(t){t.UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(gn||(gn={}));function TT(t){return"storage/"+t}function y2(){const t="An unknown error occurred, please check the error payload for server response.";return new yn(gn.UNKNOWN,t)}function Jde(t){return new yn(gn.OBJECT_NOT_FOUND,"Object '"+t+"' does not exist.")}function Zde(t){return new yn(gn.QUOTA_EXCEEDED,"Quota for bucket '"+t+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function efe(){const t="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new yn(gn.UNAUTHENTICATED,t)}function tfe(){return new yn(gn.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function nfe(t){return new yn(gn.UNAUTHORIZED,"User does not have permission to access '"+t+"'.")}function rfe(){return new yn(gn.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function ife(){return new yn(gn.CANCELED,"User canceled the upload/download.")}function sfe(t){return new yn(gn.INVALID_URL,"Invalid URL '"+t+"'.")}function ofe(t){return new yn(gn.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}function afe(){return new yn(gn.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+IW+"' property when initializing the app?")}function lfe(){return new yn(gn.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function cfe(){return new yn(gn.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function ufe(t){return new yn(gn.UNSUPPORTED_ENVIRONMENT,`${t} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function NP(t){return new yn(gn.INVALID_ARGUMENT,t)}function OW(){return new yn(gn.APP_DELETED,"The Firebase app was deleted.")}function dfe(t){return new yn(gn.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function ng(t,e){return new yn(gn.INVALID_FORMAT,"String does not match format '"+t+"': "+e)}function rm(t){throw new yn(gn.INTERNAL_ERROR,"Internal error: "+t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ai{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let r;try{r=Ai.makeFromUrl(e,n)}catch{return new Ai(e,"")}if(r.path==="")return r;throw ofe(e)}static makeFromUrl(e,n){let r=null;const i="([A-Za-z0-9.\\-_]+)";function s(T){T.path.charAt(T.path.length-1)==="/"&&(T.path_=T.path_.slice(0,-1))}const o="(/(.*))?$",a=new RegExp("^gs://"+i+o,"i"),l={bucket:1,path:3};function c(T){T.path_=decodeURIComponent(T.path)}const u="v[A-Za-z0-9_]+",d=n.replace(/[.]/g,"\\."),f="(/([^?#]*).*)?$",p=new RegExp(`^https?://${d}/${u}/b/${i}/o${f}`,"i"),m={bucket:1,path:3},g=n===CW?"(?:storage.googleapis.com|storage.cloud.google.com)":n,v="([^?#]*)",x=new RegExp(`^https?://${g}/${i}/${v}`,"i"),w=[{regex:a,indices:l,postModify:s},{regex:p,indices:m,postModify:c},{regex:x,indices:{bucket:1,path:2},postModify:c}];for(let T=0;T<w.length;T++){const _=w[T],k=_.regex.exec(e);if(k){const S=k[_.indices.bucket];let E=k[_.indices.path];E||(E=""),r=new Ai(S,E),_.postModify(r);break}}if(r==null)throw sfe(e);return r}}class ffe{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hfe(t,e,n){let r=1,i=null,s=null,o=!1,a=0;function l(){return a===2}let c=!1;function u(...v){c||(c=!0,e.apply(null,v))}function d(v){i=setTimeout(()=>{i=null,t(p,l())},v)}function f(){s&&clearTimeout(s)}function p(v,...x){if(c){f();return}if(v){f(),u.call(null,v,...x);return}if(l()||o){f(),u.call(null,v,...x);return}r<64&&(r*=2);let w;a===1?(a=2,w=0):w=(r+Math.random())*1e3,d(w)}let m=!1;function g(v){m||(m=!0,f(),!c&&(i!==null?(v||(a=2),clearTimeout(i),d(0)):v||(a=1)))}return d(0),s=setTimeout(()=>{o=!0,g(!0)},n),g}function pfe(t){t(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mfe(t){return t!==void 0}function gfe(t){return typeof t=="object"&&!Array.isArray(t)}function v2(t){return typeof t=="string"||t instanceof String}function J$(t){return x2()&&t instanceof Blob}function x2(){return typeof Blob<"u"}function Z$(t,e,n,r){if(r<e)throw NP(`Invalid value for '${t}'. Expected ${e} or greater.`);if(r>n)throw NP(`Invalid value for '${t}'. Expected ${n} or less.`)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function b2(t,e,n){let r=e;return n==null&&(r=`https://${e}`),`${n}://${r}/v0${t}`}function NW(t){const e=encodeURIComponent;let n="?";for(const r in t)if(t.hasOwnProperty(r)){const i=e(r)+"="+e(t[r]);n=n+i+"&"}return n=n.slice(0,-1),n}var mu;(function(t){t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT"})(mu||(mu={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yfe(t,e){const n=t>=500&&t<600,i=[408,429].indexOf(t)!==-1,s=e.indexOf(t)!==-1;return n||i||s}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vfe{constructor(e,n,r,i,s,o,a,l,c,u,d,f=!0){this.url_=e,this.method_=n,this.headers_=r,this.body_=i,this.successCodes_=s,this.additionalRetryCodes_=o,this.callback_=a,this.errorCallback_=l,this.timeout_=c,this.progressCallback_=u,this.connectionFactory_=d,this.retry=f,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((p,m)=>{this.resolve_=p,this.reject_=m,this.start_()})}start_(){const e=(r,i)=>{if(i){r(!1,new L0(!1,null,!0));return}const s=this.connectionFactory_();this.pendingConnection_=s;const o=a=>{const l=a.loaded,c=a.lengthComputable?a.total:-1;this.progressCallback_!==null&&this.progressCallback_(l,c)};this.progressCallback_!==null&&s.addUploadProgressListener(o),s.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&s.removeUploadProgressListener(o),this.pendingConnection_=null;const a=s.getErrorCode()===mu.NO_ERROR,l=s.getStatus();if(!a||yfe(l,this.additionalRetryCodes_)&&this.retry){const u=s.getErrorCode()===mu.ABORT;r(!1,new L0(!1,null,u));return}const c=this.successCodes_.indexOf(l)!==-1;r(!0,new L0(c,s))})},n=(r,i)=>{const s=this.resolve_,o=this.reject_,a=i.connection;if(i.wasSuccessCode)try{const l=this.callback_(a,a.getResponse());mfe(l)?s(l):s()}catch(l){o(l)}else if(a!==null){const l=y2();l.serverResponse=a.getErrorText(),this.errorCallback_?o(this.errorCallback_(a,l)):o(l)}else if(i.canceled){const l=this.appDelete_?OW():ife();o(l)}else{const l=rfe();o(l)}};this.canceled_?n(!1,new L0(!1,null,!0)):this.backoffId_=hfe(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&pfe(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class L0{constructor(e,n,r){this.wasSuccessCode=e,this.connection=n,this.canceled=!!r}}function xfe(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function bfe(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function wfe(t,e){e&&(t["X-Firebase-GMPID"]=e)}function _fe(t,e){e!==null&&(t["X-Firebase-AppCheck"]=e)}function Sfe(t,e,n,r,i,s,o=!0){const a=NW(t.urlParams),l=t.url+a,c=Object.assign({},t.headers);return wfe(c,e),xfe(c,n),bfe(c,s),_fe(c,r),new vfe(l,t.method,c,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,i,o)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Efe(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function Tfe(...t){const e=Efe();if(e!==void 0){const n=new e;for(let r=0;r<t.length;r++)n.append(t[r]);return n.getBlob()}else{if(x2())return new Blob(t);throw new yn(gn.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function Afe(t,e,n){return t.webkitSlice?t.webkitSlice(e,n):t.mozSlice?t.mozSlice(e,n):t.slice?t.slice(e,n):null}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kfe(t){if(typeof atob>"u")throw ufe("base-64");return atob(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gs={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class AT{constructor(e,n){this.data=e,this.contentType=n||null}}function Pfe(t,e){switch(t){case Gs.RAW:return new AT(jW(e));case Gs.BASE64:case Gs.BASE64URL:return new AT(RW(t,e));case Gs.DATA_URL:return new AT(Ife(e),Ofe(e))}throw y2()}function jW(t){const e=[];for(let n=0;n<t.length;n++){let r=t.charCodeAt(n);if(r<=127)e.push(r);else if(r<=2047)e.push(192|r>>6,128|r&63);else if((r&64512)===55296)if(!(n<t.length-1&&(t.charCodeAt(n+1)&64512)===56320))e.push(239,191,189);else{const s=r,o=t.charCodeAt(++n);r=65536|(s&1023)<<10|o&1023,e.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|r&63)}else(r&64512)===56320?e.push(239,191,189):e.push(224|r>>12,128|r>>6&63,128|r&63)}return new Uint8Array(e)}function Cfe(t){let e;try{e=decodeURIComponent(t)}catch{throw ng(Gs.DATA_URL,"Malformed data URL.")}return jW(e)}function RW(t,e){switch(t){case Gs.BASE64:{const i=e.indexOf("-")!==-1,s=e.indexOf("_")!==-1;if(i||s)throw ng(t,"Invalid character '"+(i?"-":"_")+"' found: is it base64url encoded?");break}case Gs.BASE64URL:{const i=e.indexOf("+")!==-1,s=e.indexOf("/")!==-1;if(i||s)throw ng(t,"Invalid character '"+(i?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let n;try{n=kfe(e)}catch(i){throw i.message.includes("polyfill")?i:ng(t,"Invalid character found")}const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}class DW{constructor(e){this.base64=!1,this.contentType=null;const n=e.match(/^data:([^,]+)?,/);if(n===null)throw ng(Gs.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const r=n[1]||null;r!=null&&(this.base64=Nfe(r,";base64"),this.contentType=this.base64?r.substring(0,r.length-7):r),this.rest=e.substring(e.indexOf(",")+1)}}function Ife(t){const e=new DW(t);return e.base64?RW(Gs.BASE64,e.rest):Cfe(e.rest)}function Ofe(t){return new DW(t).contentType}function Nfe(t,e){return t.length>=e.length?t.substring(t.length-e.length)===e:!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class el{constructor(e,n){let r=0,i="";J$(e)?(this.data_=e,r=e.size,i=e.type):e instanceof ArrayBuffer?(n?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),r=this.data_.length):e instanceof Uint8Array&&(n?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),r=e.length),this.size_=r,this.type_=i}size(){return this.size_}type(){return this.type_}slice(e,n){if(J$(this.data_)){const r=this.data_,i=Afe(r,e,n);return i===null?null:new el(i)}else{const r=new Uint8Array(this.data_.buffer,e,n-e);return new el(r,!0)}}static getBlob(...e){if(x2()){const n=e.map(r=>r instanceof el?r.data_:r);return new el(Tfe.apply(null,n))}else{const n=e.map(o=>v2(o)?Pfe(Gs.RAW,o).data:o.data_);let r=0;n.forEach(o=>{r+=o.byteLength});const i=new Uint8Array(r);let s=0;return n.forEach(o=>{for(let a=0;a<o.length;a++)i[s++]=o[a]}),new el(i,!0)}}uploadData(){return this.data_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function MW(t){let e;try{e=JSON.parse(t)}catch{return null}return gfe(e)?e:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jfe(t){if(t.length===0)return null;const e=t.lastIndexOf("/");return e===-1?"":t.slice(0,e)}function Rfe(t,e){const n=e.split("/").filter(r=>r.length>0).join("/");return t.length===0?n:t+"/"+n}function LW(t){const e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dfe(t,e){return e}let Or=class{constructor(e,n,r,i){this.server=e,this.local=n||e,this.writable=!!r,this.xform=i||Dfe}},$0=null;function Mfe(t){return!v2(t)||t.length<2?t:LW(t)}function $W(){if($0)return $0;const t=[];t.push(new Or("bucket")),t.push(new Or("generation")),t.push(new Or("metageneration")),t.push(new Or("name","fullPath",!0));function e(s,o){return Mfe(o)}const n=new Or("name");n.xform=e,t.push(n);function r(s,o){return o!==void 0?Number(o):o}const i=new Or("size");return i.xform=r,t.push(i),t.push(new Or("timeCreated")),t.push(new Or("updated")),t.push(new Or("md5Hash",null,!0)),t.push(new Or("cacheControl",null,!0)),t.push(new Or("contentDisposition",null,!0)),t.push(new Or("contentEncoding",null,!0)),t.push(new Or("contentLanguage",null,!0)),t.push(new Or("contentType",null,!0)),t.push(new Or("metadata","customMetadata",!0)),$0=t,$0}function Lfe(t,e){function n(){const r=t.bucket,i=t.fullPath,s=new Ai(r,i);return e._makeStorageReference(s)}Object.defineProperty(t,"ref",{get:n})}function $fe(t,e,n){const r={};r.type="file";const i=n.length;for(let s=0;s<i;s++){const o=n[s];r[o.local]=o.xform(r,e[o.server])}return Lfe(r,t),r}function VW(t,e,n){const r=MW(e);return r===null?null:$fe(t,r,n)}function Vfe(t,e,n,r){const i=MW(e);if(i===null||!v2(i.downloadTokens))return null;const s=i.downloadTokens;if(s.length===0)return null;const o=encodeURIComponent;return s.split(",").map(c=>{const u=t.bucket,d=t.fullPath,f="/b/"+o(u)+"/o/"+o(d),p=b2(f,n,r),m=NW({alt:"media",token:c});return p+m})[0]}function Ffe(t,e){const n={},r=e.length;for(let i=0;i<r;i++){const s=e[i];s.writable&&(n[s.server]=t[s.local])}return JSON.stringify(n)}class FW{constructor(e,n,r,i){this.url=e,this.method=n,this.handler=r,this.timeout=i,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BW(t){if(!t)throw y2()}function Bfe(t,e){function n(r,i){const s=VW(t,i,e);return BW(s!==null),s}return n}function Ufe(t,e){function n(r,i){const s=VW(t,i,e);return BW(s!==null),Vfe(s,i,t.host,t._protocol)}return n}function UW(t){function e(n,r){let i;return n.getStatus()===401?n.getErrorText().includes("Firebase App Check token is invalid")?i=tfe():i=efe():n.getStatus()===402?i=Zde(t.bucket):n.getStatus()===403?i=nfe(t.path):i=r,i.status=n.getStatus(),i.serverResponse=r.serverResponse,i}return e}function zfe(t){const e=UW(t);function n(r,i){let s=e(r,i);return r.getStatus()===404&&(s=Jde(t.path)),s.serverResponse=i.serverResponse,s}return n}function qfe(t,e,n){const r=e.fullServerUrl(),i=b2(r,t.host,t._protocol),s="GET",o=t.maxOperationRetryTime,a=new FW(i,s,Ufe(t,n),o);return a.errorHandler=zfe(e),a}function Hfe(t,e){return t&&t.contentType||e&&e.type()||"application/octet-stream"}function Wfe(t,e,n){const r=Object.assign({},n);return r.fullPath=t.path,r.size=e.size(),r.contentType||(r.contentType=Hfe(null,e)),r}function Kfe(t,e,n,r,i){const s=e.bucketOnlyServerUrl(),o={"X-Goog-Upload-Protocol":"multipart"};function a(){let w="";for(let T=0;T<2;T++)w=w+Math.random().toString().slice(2);return w}const l=a();o["Content-Type"]="multipart/related; boundary="+l;const c=Wfe(e,r,i),u=Ffe(c,n),d="--"+l+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+u+`\r
--`+l+`\r
Content-Type: `+c.contentType+`\r
\r
`,f=`\r
--`+l+"--",p=el.getBlob(d,r,f);if(p===null)throw lfe();const m={name:c.fullPath},g=b2(s,t.host,t._protocol),v="POST",x=t.maxUploadRetryTime,b=new FW(g,v,Bfe(t,n),x);return b.urlParams=m,b.headers=o,b.body=p.uploadData(),b.errorHandler=UW(e),b}class Gfe{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=mu.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=mu.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=mu.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,n,r,i){if(this.sent_)throw rm("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(n,e,!0),i!==void 0)for(const s in i)i.hasOwnProperty(s)&&this.xhr_.setRequestHeader(s,i[s].toString());return r!==void 0?this.xhr_.send(r):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw rm("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw rm("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw rm("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw rm("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",e)}}class Qfe extends Gfe{initXhr(){this.xhr_.responseType="text"}}function zW(){return new Qfe}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zu{constructor(e,n){this._service=e,n instanceof Ai?this._location=n:this._location=Ai.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new zu(e,n)}get root(){const e=new Ai(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return LW(this._location.path)}get storage(){return this._service}get parent(){const e=jfe(this._location.path);if(e===null)return null;const n=new Ai(this._location.bucket,e);return new zu(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw dfe(e)}}function Yfe(t,e,n){t._throwIfRoot("uploadBytes");const r=Kfe(t.storage,t._location,$W(),new el(e,!0),n);return t.storage.makeRequestWithTokens(r,zW).then(i=>({metadata:i,ref:t}))}function Xfe(t){t._throwIfRoot("getDownloadURL");const e=qfe(t.storage,t._location,$W());return t.storage.makeRequestWithTokens(e,zW).then(n=>{if(n===null)throw cfe();return n})}function Jfe(t,e){const n=Rfe(t._location.path,e),r=new Ai(t._location.bucket,n);return new zu(t.storage,r)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zfe(t){return/^[A-Za-z]+:\/\//.test(t)}function ehe(t,e){return new zu(t,e)}function qW(t,e){if(t instanceof w2){const n=t;if(n._bucket==null)throw afe();const r=new zu(n,n._bucket);return e!=null?qW(r,e):r}else return e!==void 0?Jfe(t,e):t}function the(t,e){if(e&&Zfe(e)){if(t instanceof w2)return ehe(t,e);throw NP("To use ref(service, url), the first argument must be a Storage instance.")}else return qW(t,e)}function e4(t,e){const n=e==null?void 0:e[IW];return n==null?null:Ai.makeFromBucketSpec(n,t)}function nhe(t,e,n,r={}){t.host=`${e}:${n}`,t._protocol="http";const{mockUserToken:i}=r;i&&(t._overrideAuthToken=typeof i=="string"?i:Hie(i,t.app.options.projectId))}class w2{constructor(e,n,r,i,s){this.app=e,this._authProvider=n,this._appCheckProvider=r,this._url=i,this._firebaseVersion=s,this._bucket=null,this._host=CW,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=Yde,this._maxUploadRetryTime=Xde,this._requests=new Set,i!=null?this._bucket=Ai.makeFromBucketSpec(i,this._host):this._bucket=e4(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=Ai.makeFromBucketSpec(this._url,e):this._bucket=e4(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){Z$("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){Z$("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const n=await e.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new zu(this,e)}_makeRequest(e,n,r,i,s=!0){if(this._deleted)return new ffe(OW());{const o=Sfe(e,this._appId,r,i,n,this._firebaseVersion,s);return this._requests.add(o),o.getPromise().then(()=>this._requests.delete(o),()=>this._requests.delete(o)),o}}async makeRequestWithTokens(e,n){const[r,i]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,r,i).getPromise()}}const t4="@firebase/storage",n4="0.13.2";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HW="storage";function rhe(t,e,n){return t=Zt(t),Yfe(t,e,n)}function ihe(t){return t=Zt(t),Xfe(t)}function she(t,e){return t=Zt(t),the(t,e)}function ohe(t=U8(),e){t=Zt(t);const r=C_(t,HW).getImmediate({identifier:e}),i=zie("storage");return i&&ahe(r,...i),r}function ahe(t,e,n,r={}){nhe(t,e,n,r)}function lhe(t,{instanceIdentifier:e}){const n=t.getProvider("app").getImmediate(),r=t.getProvider("auth-internal"),i=t.getProvider("app-check-internal");return new w2(n,r,i,e,rd)}function che(){ju(new zl(HW,lhe,"PUBLIC").setMultipleInstances(!0)),eo(t4,n4,""),eo(t4,n4,"esm2017")}che();let uhe={data:""},dhe=t=>typeof window=="object"?((t?t.querySelector("#_goober"):window._goober)||Object.assign((t||document.head).appendChild(document.createElement("style")),{innerHTML:" ",id:"_goober"})).firstChild:t||uhe,fhe=/(?:([\u0080-\uFFFF\w-%@]+) *:? *([^{;]+?);|([^;}{]*?) *{)|(}\s*)/g,hhe=/\/\*[^]*?\*\/|  +/g,r4=/\n+/g,tl=(t,e)=>{let n="",r="",i="";for(let s in t){let o=t[s];s[0]=="@"?s[1]=="i"?n=s+" "+o+";":r+=s[1]=="f"?tl(o,s):s+"{"+tl(o,s[1]=="k"?"":e)+"}":typeof o=="object"?r+=tl(o,e?e.replace(/([^,])+/g,a=>s.replace(/([^,]*:\S+\([^)]*\))|([^,])+/g,l=>/&/.test(l)?l.replace(/&/g,a):a?a+" "+l:l)):s):o!=null&&(s=/^--/.test(s)?s:s.replace(/[A-Z]/g,"-$&").toLowerCase(),i+=tl.p?tl.p(s,o):s+":"+o+";")}return n+(e&&i?e+"{"+i+"}":i)+r},ko={},WW=t=>{if(typeof t=="object"){let e="";for(let n in t)e+=n+WW(t[n]);return e}return t},phe=(t,e,n,r,i)=>{let s=WW(t),o=ko[s]||(ko[s]=(l=>{let c=0,u=11;for(;c<l.length;)u=101*u+l.charCodeAt(c++)>>>0;return"go"+u})(s));if(!ko[o]){let l=s!==t?t:(c=>{let u,d,f=[{}];for(;u=fhe.exec(c.replace(hhe,""));)u[4]?f.shift():u[3]?(d=u[3].replace(r4," ").trim(),f.unshift(f[0][d]=f[0][d]||{})):f[0][u[1]]=u[2].replace(r4," ").trim();return f[0]})(t);ko[o]=tl(i?{["@keyframes "+o]:l}:l,n?"":"."+o)}let a=n&&ko.g?ko.g:null;return n&&(ko.g=ko[o]),((l,c,u,d)=>{d?c.data=c.data.replace(d,l):c.data.indexOf(l)===-1&&(c.data=u?l+c.data:c.data+l)})(ko[o],e,r,a),o},mhe=(t,e,n)=>t.reduce((r,i,s)=>{let o=e[s];if(o&&o.call){let a=o(n),l=a&&a.props&&a.props.className||/^go/.test(a)&&a;o=l?"."+l:a&&typeof a=="object"?a.props?"":tl(a,""):a===!1?"":a}return r+i+(o??"")},"");function tS(t){let e=this||{},n=t.call?t(e.p):t;return phe(n.unshift?n.raw?mhe(n,[].slice.call(arguments,1),e.p):n.reduce((r,i)=>Object.assign(r,i&&i.call?i(e.p):i),{}):n,dhe(e.target),e.g,e.o,e.k)}let KW,jP,RP;tS.bind({g:1});let da=tS.bind({k:1});function ghe(t,e,n,r){tl.p=e,KW=t,jP=n,RP=r}function oc(t,e){let n=this||{};return function(){let r=arguments;function i(s,o){let a=Object.assign({},s),l=a.className||i.className;n.p=Object.assign({theme:jP&&jP()},a),n.o=/ *go\d+/.test(l),a.className=tS.apply(n,r)+(l?" "+l:"");let c=t;return t[0]&&(c=a.as||t,delete a.as),RP&&c[0]&&RP(a),KW(c,a)}return i}}var yhe=t=>typeof t=="function",Zb=(t,e)=>yhe(t)?t(e):t,vhe=(()=>{let t=0;return()=>(++t).toString()})(),GW=(()=>{let t;return()=>{if(t===void 0&&typeof window<"u"){let e=matchMedia("(prefers-reduced-motion: reduce)");t=!e||e.matches}return t}})(),xhe=20,Hx=new Map,bhe=1e3,i4=t=>{if(Hx.has(t))return;let e=setTimeout(()=>{Hx.delete(t),cd({type:4,toastId:t})},bhe);Hx.set(t,e)},whe=t=>{let e=Hx.get(t);e&&clearTimeout(e)},DP=(t,e)=>{switch(e.type){case 0:return{...t,toasts:[e.toast,...t.toasts].slice(0,xhe)};case 1:return e.toast.id&&whe(e.toast.id),{...t,toasts:t.toasts.map(s=>s.id===e.toast.id?{...s,...e.toast}:s)};case 2:let{toast:n}=e;return t.toasts.find(s=>s.id===n.id)?DP(t,{type:1,toast:n}):DP(t,{type:0,toast:n});case 3:let{toastId:r}=e;return r?i4(r):t.toasts.forEach(s=>{i4(s.id)}),{...t,toasts:t.toasts.map(s=>s.id===r||r===void 0?{...s,visible:!1}:s)};case 4:return e.toastId===void 0?{...t,toasts:[]}:{...t,toasts:t.toasts.filter(s=>s.id!==e.toastId)};case 5:return{...t,pausedAt:e.time};case 6:let i=e.time-(t.pausedAt||0);return{...t,pausedAt:void 0,toasts:t.toasts.map(s=>({...s,pauseDuration:s.pauseDuration+i}))}}},Wx=[],Kx={toasts:[],pausedAt:void 0},cd=t=>{Kx=DP(Kx,t),Wx.forEach(e=>{e(Kx)})},_he={blank:4e3,error:4e3,success:2e3,loading:1/0,custom:4e3},She=(t={})=>{let[e,n]=C.useState(Kx);C.useEffect(()=>(Wx.push(n),()=>{let i=Wx.indexOf(n);i>-1&&Wx.splice(i,1)}),[e]);let r=e.toasts.map(i=>{var s,o;return{...t,...t[i.type],...i,duration:i.duration||((s=t[i.type])==null?void 0:s.duration)||(t==null?void 0:t.duration)||_he[i.type],style:{...t.style,...(o=t[i.type])==null?void 0:o.style,...i.style}}});return{...e,toasts:r}},Ehe=(t,e="blank",n)=>({createdAt:Date.now(),visible:!0,type:e,ariaProps:{role:"status","aria-live":"polite"},message:t,pauseDuration:0,...n,id:(n==null?void 0:n.id)||vhe()}),Pv=t=>(e,n)=>{let r=Ehe(e,t,n);return cd({type:2,toast:r}),r.id},te=(t,e)=>Pv("blank")(t,e);te.error=Pv("error");te.success=Pv("success");te.loading=Pv("loading");te.custom=Pv("custom");te.dismiss=t=>{cd({type:3,toastId:t})};te.remove=t=>cd({type:4,toastId:t});te.promise=(t,e,n)=>{let r=te.loading(e.loading,{...n,...n==null?void 0:n.loading});return t.then(i=>(te.success(Zb(e.success,i),{id:r,...n,...n==null?void 0:n.success}),i)).catch(i=>{te.error(Zb(e.error,i),{id:r,...n,...n==null?void 0:n.error})}),t};var The=(t,e)=>{cd({type:1,toast:{id:t,height:e}})},Ahe=()=>{cd({type:5,time:Date.now()})},khe=t=>{let{toasts:e,pausedAt:n}=She(t);C.useEffect(()=>{if(n)return;let s=Date.now(),o=e.map(a=>{if(a.duration===1/0)return;let l=(a.duration||0)+a.pauseDuration-(s-a.createdAt);if(l<0){a.visible&&te.dismiss(a.id);return}return setTimeout(()=>te.dismiss(a.id),l)});return()=>{o.forEach(a=>a&&clearTimeout(a))}},[e,n]);let r=C.useCallback(()=>{n&&cd({type:6,time:Date.now()})},[n]),i=C.useCallback((s,o)=>{let{reverseOrder:a=!1,gutter:l=8,defaultPosition:c}=o||{},u=e.filter(p=>(p.position||c)===(s.position||c)&&p.height),d=u.findIndex(p=>p.id===s.id),f=u.filter((p,m)=>m<d&&p.visible).length;return u.filter(p=>p.visible).slice(...a?[f+1]:[0,f]).reduce((p,m)=>p+(m.height||0)+l,0)},[e]);return{toasts:e,handlers:{updateHeight:The,startPause:Ahe,endPause:r,calculateOffset:i}}},Phe=da`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
 transform: scale(1) rotate(45deg);
  opacity: 1;
}`,Che=da`
from {
  transform: scale(0);
  opacity: 0;
}
to {
  transform: scale(1);
  opacity: 1;
}`,Ihe=da`
from {
  transform: scale(0) rotate(90deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(90deg);
	opacity: 1;
}`,Ohe=oc("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${t=>t.primary||"#ff4b4b"};
  position: relative;
  transform: rotate(45deg);

  animation: ${Phe} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;

  &:after,
  &:before {
    content: '';
    animation: ${Che} 0.15s ease-out forwards;
    animation-delay: 150ms;
    position: absolute;
    border-radius: 3px;
    opacity: 0;
    background: ${t=>t.secondary||"#fff"};
    bottom: 9px;
    left: 4px;
    height: 2px;
    width: 12px;
  }

  &:before {
    animation: ${Ihe} 0.15s ease-out forwards;
    animation-delay: 180ms;
    transform: rotate(90deg);
  }
`,Nhe=da`
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
`,jhe=oc("div")`
  width: 12px;
  height: 12px;
  box-sizing: border-box;
  border: 2px solid;
  border-radius: 100%;
  border-color: ${t=>t.secondary||"#e0e0e0"};
  border-right-color: ${t=>t.primary||"#616161"};
  animation: ${Nhe} 1s linear infinite;
`,Rhe=da`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(45deg);
	opacity: 1;
}`,Dhe=da`
0% {
	height: 0;
	width: 0;
	opacity: 0;
}
40% {
  height: 0;
	width: 6px;
	opacity: 1;
}
100% {
  opacity: 1;
  height: 10px;
}`,Mhe=oc("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${t=>t.primary||"#61d345"};
  position: relative;
  transform: rotate(45deg);

  animation: ${Rhe} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;
  &:after {
    content: '';
    box-sizing: border-box;
    animation: ${Dhe} 0.2s ease-out forwards;
    opacity: 0;
    animation-delay: 200ms;
    position: absolute;
    border-right: 2px solid;
    border-bottom: 2px solid;
    border-color: ${t=>t.secondary||"#fff"};
    bottom: 6px;
    left: 6px;
    height: 10px;
    width: 6px;
  }
`,Lhe=oc("div")`
  position: absolute;
`,$he=oc("div")`
  position: relative;
  display: flex;
  justify-content: center;
  align-items: center;
  min-width: 20px;
  min-height: 20px;
`,Vhe=da`
from {
  transform: scale(0.6);
  opacity: 0.4;
}
to {
  transform: scale(1);
  opacity: 1;
}`,Fhe=oc("div")`
  position: relative;
  transform: scale(0.6);
  opacity: 0.4;
  min-width: 20px;
  animation: ${Vhe} 0.3s 0.12s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
`,Bhe=({toast:t})=>{let{icon:e,type:n,iconTheme:r}=t;return e!==void 0?typeof e=="string"?C.createElement(Fhe,null,e):e:n==="blank"?null:C.createElement($he,null,C.createElement(jhe,{...r}),n!=="loading"&&C.createElement(Lhe,null,n==="error"?C.createElement(Ohe,{...r}):C.createElement(Mhe,{...r})))},Uhe=t=>`
0% {transform: translate3d(0,${t*-200}%,0) scale(.6); opacity:.5;}
100% {transform: translate3d(0,0,0) scale(1); opacity:1;}
`,zhe=t=>`
0% {transform: translate3d(0,0,-1px) scale(1); opacity:1;}
100% {transform: translate3d(0,${t*-150}%,-1px) scale(.6); opacity:0;}
`,qhe="0%{opacity:0;} 100%{opacity:1;}",Hhe="0%{opacity:1;} 100%{opacity:0;}",Whe=oc("div")`
  display: flex;
  align-items: center;
  background: #fff;
  color: #363636;
  line-height: 1.3;
  will-change: transform;
  box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1), 0 3px 3px rgba(0, 0, 0, 0.05);
  max-width: 350px;
  pointer-events: auto;
  padding: 8px 10px;
  border-radius: 8px;
`,Khe=oc("div")`
  display: flex;
  justify-content: center;
  margin: 4px 10px;
  color: inherit;
  flex: 1 1 auto;
  white-space: pre-line;
`,Ghe=(t,e)=>{let n=t.includes("top")?1:-1,[r,i]=GW()?[qhe,Hhe]:[Uhe(n),zhe(n)];return{animation:e?`${da(r)} 0.35s cubic-bezier(.21,1.02,.73,1) forwards`:`${da(i)} 0.4s forwards cubic-bezier(.06,.71,.55,1)`}},Qhe=C.memo(({toast:t,position:e,style:n,children:r})=>{let i=t.height?Ghe(t.position||e||"top-center",t.visible):{opacity:0},s=C.createElement(Bhe,{toast:t}),o=C.createElement(Khe,{...t.ariaProps},Zb(t.message,t));return C.createElement(Whe,{className:t.className,style:{...i,...n,...t.style}},typeof r=="function"?r({icon:s,message:o}):C.createElement(C.Fragment,null,s,o))});ghe(C.createElement);var Yhe=({id:t,className:e,style:n,onHeightUpdate:r,children:i})=>{let s=C.useCallback(o=>{if(o){let a=()=>{let l=o.getBoundingClientRect().height;r(t,l)};a(),new MutationObserver(a).observe(o,{subtree:!0,childList:!0,characterData:!0})}},[t,r]);return C.createElement("div",{ref:s,className:e,style:n},i)},Xhe=(t,e)=>{let n=t.includes("top"),r=n?{top:0}:{bottom:0},i=t.includes("center")?{justifyContent:"center"}:t.includes("right")?{justifyContent:"flex-end"}:{};return{left:0,right:0,display:"flex",position:"absolute",transition:GW()?void 0:"all 230ms cubic-bezier(.21,1.02,.73,1)",transform:`translateY(${e*(n?1:-1)}px)`,...r,...i}},Jhe=tS`
  z-index: 9999;
  > * {
    pointer-events: auto;
  }
`,V0=16,Zhe=({reverseOrder:t,position:e="top-center",toastOptions:n,gutter:r,children:i,containerStyle:s,containerClassName:o})=>{let{toasts:a,handlers:l}=khe(n);return C.createElement("div",{style:{position:"fixed",zIndex:9999,top:V0,left:V0,right:V0,bottom:V0,pointerEvents:"none",...s},className:o,onMouseEnter:l.startPause,onMouseLeave:l.endPause},a.map(c=>{let u=c.position||e,d=l.calculateOffset(c,{reverseOrder:t,gutter:r,defaultPosition:e}),f=Xhe(u,d);return C.createElement(Yhe,{id:c.id,key:c.id,onHeightUpdate:l.updateHeight,className:c.visible?Jhe:"",style:f},c.type==="custom"?Zb(c.message,c):i?i(c):C.createElement(Qhe,{toast:c,position:u}))}))};const epe={apiKey:"AIzaSyDRhGmTb6KWlAomFKmjDLRoalWQAQLwlDQ",authDomain:"insights-61c4a.firebaseapp.com",projectId:"insights-61c4a",storageBucket:"insights-61c4a.appspot.com",messagingSenderId:"1022279389566",appId:"1:1022279389566:web:3a23123de3480dd586e32f",measurementId:"G-H4EWQ6P96W"},_2=B8(epe),ee=Tle(_2),tpe=ohe(_2),le=jde(_2,{localCache:Gde({tabManager:PW(),cacheSizeBytes:Nde})});try{Rde(le).catch(t=>{t.code==="failed-precondition"?console.warn("Multiple tabs open, persistence can only be enabled in one tab at a time."):t.code==="unimplemented"&&console.warn("The current browser does not support persistence.")})}catch(t){console.warn("Error enabling persistence:",t)}function Et(t,e="An error occurred"){const n=t;let r=e,i=5e3;if(n.code)switch(n.code){case"failed-precondition":r="Please refresh the page and try again. Some data may be out of sync.";break;case"permission-denied":r="You don't have permission to perform this action. Please check your access rights.";break;case"not-found":r="The requested resource was not found. It may have been deleted or moved.";break;case"cancelled":r="Operation was cancelled. Please try again.";break;case"unknown":r="An unexpected error occurred. Please try again or contact support if the issue persists.",i=7e3;break;case"invalid-argument":r="Invalid data provided. Please check your input and try again.";break;case"deadline-exceeded":r="The operation timed out. Please check your connection and try again.";break;case"already-exists":r="This resource already exists. Please try a different name or identifier.";break;case"resource-exhausted":r="Too many requests. Please wait a moment and try again.",i=7e3;break;case"data-loss":r="Critical error: Data loss occurred. Please contact support.",i=1e4;break;case"unauthenticated":r="Your session has expired. Please sign in again to continue.";break;case"unavailable":r="Service temporarily unavailable. Please try again in a few moments.";break;case"aborted":r="Operation was aborted. Please try again.";break;case"out-of-range":r="Operation was attempted past the valid range.";break;default:r=e}return te.error(r,{duration:i}),null}/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var npe={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rpe=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),he=(t,e)=>{const n=C.forwardRef(({color:r="currentColor",size:i=24,strokeWidth:s=2,absoluteStrokeWidth:o,className:a="",children:l,...c},u)=>C.createElement("svg",{ref:u,...npe,width:i,height:i,stroke:r,strokeWidth:o?Number(s)*24/Number(i):s,className:["lucide",`lucide-${rpe(t)}`,a].join(" "),...c},[...e.map(([d,f])=>C.createElement(d,f)),...Array.isArray(l)?l:[l]]));return n.displayName=`${t}`,n};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QW=he("Activity",[["path",{d:"M22 12h-4l-3 9L9 3l-3 9H2",key:"d5dnw9"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cv=he("AlertTriangle",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"c3ski4"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MP=he("ArrowDown",[["path",{d:"M12 5v14",key:"s699le"}],["path",{d:"m19 12-7 7-7-7",key:"1idqje"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ipe=he("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LP=he("ArrowUp",[["path",{d:"m5 12 7-7 7 7",key:"hav0vg"}],["path",{d:"M12 19V5",key:"x0mq9r"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YW=he("Award",[["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}],["path",{d:"M15.477 12.89 17 22l-5-3-5 3 1.523-9.11",key:"em7aur"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const S2=he("BarChart",[["line",{x1:"12",x2:"12",y1:"20",y2:"10",key:"1vz5eb"}],["line",{x1:"18",x2:"18",y1:"20",y2:"4",key:"cun8e5"}],["line",{x1:"6",x2:"6",y1:"20",y2:"16",key:"hq0ia6"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ew=he("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const spe=he("Bold",[["path",{d:"M14 12a4 4 0 0 0 0-8H6v8",key:"v2sylx"}],["path",{d:"M15 20a4 4 0 0 0 0-8H6v8Z",key:"1ef5ya"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ls=he("BookOpen",[["path",{d:"M2 3h6a4 4 0 0 1 4 4v14a3 3 0 0 0-3-3H2z",key:"vv98re"}],["path",{d:"M22 3h-6a4 4 0 0 0-4 4v14a3 3 0 0 1 3-3h7z",key:"1cyq3y"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ope=he("Bookmark",[["path",{d:"m19 21-7-4-7 4V5a2 2 0 0 1 2-2h10a2 2 0 0 1 2 2v16z",key:"1fy3hk"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gx=he("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ape=he("CheckCircle2",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lpe=he("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cpe=he("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fo=he("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const upe=he("Code",[["polyline",{points:"16 18 22 12 16 6",key:"z7tu5w"}],["polyline",{points:"8 6 2 12 8 18",key:"1eg1df"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dpe=he("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fpe=he("Crown",[["path",{d:"m2 4 3 12h14l3-12-6 7-4-7-4 7-6-7zm3 16h14",key:"zkxr6b"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nS=he("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XW=he("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $P=he("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const E2=he("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const s4=he("Github",[["path",{d:"M15 22v-4a4.8 4.8 0 0 0-1-3.5c3 0 6-2 6-5.5.08-1.25-.27-2.48-1-3.5.28-1.15.28-2.35 0-3.5 0 0-1 0-3 1.5-2.64-.5-5.36-.5-8 0C6 2 5 2 5 2c-.3 1.15-.3 2.35 0 3.5A5.403 5.403 0 0 0 4 9c0 3.5 3 5.5 6 5.5-.39.49-.68 1.05-.85 1.65-.17.6-.22 1.23-.15 1.85v4",key:"tonef"}],["path",{d:"M9 18c-4.51 2-5-2-7-2",key:"9comsn"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VP=he("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const o4=he("GripVertical",[["circle",{cx:"9",cy:"12",r:"1",key:"1vctgf"}],["circle",{cx:"9",cy:"5",r:"1",key:"hp0tcf"}],["circle",{cx:"9",cy:"19",r:"1",key:"fkjjf6"}],["circle",{cx:"15",cy:"12",r:"1",key:"1tmaij"}],["circle",{cx:"15",cy:"5",r:"1",key:"19l28e"}],["circle",{cx:"15",cy:"19",r:"1",key:"f4zoj3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hpe=he("Heading1",[["path",{d:"M4 12h8",key:"17cfdx"}],["path",{d:"M4 18V6",key:"1rz3zl"}],["path",{d:"M12 18V6",key:"zqpxq5"}],["path",{d:"m17 12 3-2v8",key:"1hhhft"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ppe=he("Heading2",[["path",{d:"M4 12h8",key:"17cfdx"}],["path",{d:"M4 18V6",key:"1rz3zl"}],["path",{d:"M12 18V6",key:"zqpxq5"}],["path",{d:"M21 18h-4c0-4 4-3 4-6 0-1.5-2-2.5-4-1",key:"9jr5yi"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mpe=he("Home",[["path",{d:"m3 9 9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"y5dka4"}],["polyline",{points:"9 22 9 12 15 12 15 22",key:"e2us08"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gpe=he("Image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ype=he("Italic",[["line",{x1:"19",x2:"10",y1:"4",y2:"4",key:"15jd3p"}],["line",{x1:"14",x2:"5",y1:"20",y2:"20",key:"bu0au3"}],["line",{x1:"15",x2:"9",y1:"4",y2:"20",key:"uljnxc"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FP=he("Link2",[["path",{d:"M9 17H7A5 5 0 0 1 7 7h2",key:"8i5ue5"}],["path",{d:"M15 7h2a5 5 0 1 1 0 10h-2",key:"1b9ql8"}],["line",{x1:"8",x2:"16",y1:"12",y2:"12",key:"1jonct"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rS=he("Link",[["path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71",key:"1cjeqo"}],["path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71",key:"19qd67"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const a4=he("Linkedin",[["path",{d:"M16 8a6 6 0 0 1 6 6v7h-4v-7a2 2 0 0 0-2-2 2 2 0 0 0-2 2v7h-4v-7a6 6 0 0 1 6-6z",key:"c2jq9f"}],["rect",{width:"4",height:"12",x:"2",y:"9",key:"mk3on5"}],["circle",{cx:"4",cy:"4",r:"2",key:"bt5ra8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vpe=he("ListOrdered",[["line",{x1:"10",x2:"21",y1:"6",y2:"6",key:"76qw6h"}],["line",{x1:"10",x2:"21",y1:"12",y2:"12",key:"16nom4"}],["line",{x1:"10",x2:"21",y1:"18",y2:"18",key:"u3jurt"}],["path",{d:"M4 6h1v4",key:"cnovpq"}],["path",{d:"M4 10h2",key:"16xx2s"}],["path",{d:"M6 18H4c0-1 2-2 2-3s-1-1.5-2-1",key:"m9a95d"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xpe=he("List",[["line",{x1:"8",x2:"21",y1:"6",y2:"6",key:"7ey8pc"}],["line",{x1:"8",x2:"21",y1:"12",y2:"12",key:"rjfblc"}],["line",{x1:"8",x2:"21",y1:"18",y2:"18",key:"c3b1m8"}],["line",{x1:"3",x2:"3.01",y1:"6",y2:"6",key:"1g7gq3"}],["line",{x1:"3",x2:"3.01",y1:"12",y2:"12",key:"1pjlvk"}],["line",{x1:"3",x2:"3.01",y1:"18",y2:"18",key:"28t2mc"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dp=he("Loader",[["line",{x1:"12",x2:"12",y1:"2",y2:"6",key:"gza1u7"}],["line",{x1:"12",x2:"12",y1:"18",y2:"22",key:"1qhbu9"}],["line",{x1:"4.93",x2:"7.76",y1:"4.93",y2:"7.76",key:"xae44r"}],["line",{x1:"16.24",x2:"19.07",y1:"16.24",y2:"19.07",key:"bxnmvf"}],["line",{x1:"2",x2:"6",y1:"12",y2:"12",key:"89khin"}],["line",{x1:"18",x2:"22",y1:"12",y2:"12",key:"pb8tfm"}],["line",{x1:"4.93",x2:"7.76",y1:"19.07",y2:"16.24",key:"1uxjnu"}],["line",{x1:"16.24",x2:"19.07",y1:"7.76",y2:"4.93",key:"6duxfx"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bpe=he("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wpe=he("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JW=he("MapPin",[["path",{d:"M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z",key:"2oe9fu"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const l4=he("Megaphone",[["path",{d:"m3 11 18-5v12L3 14v-3z",key:"n962bs"}],["path",{d:"M11.6 16.8a3 3 0 1 1-5.8-1.6",key:"1yl0tm"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Iv=he("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _pe=he("Monitor",[["rect",{width:"20",height:"14",x:"2",y:"3",rx:"2",key:"48i651"}],["line",{x1:"8",x2:"16",y1:"21",y2:"21",key:"1svkeh"}],["line",{x1:"12",x2:"12",y1:"17",y2:"21",key:"vw1qmm"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Spe=he("Moon",[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Epe=he("MoreVertical",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"12",cy:"5",r:"1",key:"gxeob9"}],["circle",{cx:"12",cy:"19",r:"1",key:"lyex9k"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZW=he("Package",[["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}],["path",{d:"M21 8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16Z",key:"hh9hay"}],["path",{d:"m3.3 7 8.7 5 8.7-5",key:"g66t2b"}],["path",{d:"M12 22V12",key:"d0xqtd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tpe=he("Paperclip",[["path",{d:"m21.44 11.05-9.19 9.19a6 6 0 0 1-8.49-8.49l8.57-8.57A4 4 0 1 1 18 8.84l-8.59 8.57a2 2 0 0 1-2.83-2.83l8.49-8.48",key:"1u3ebp"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ape=he("PartyPopper",[["path",{d:"M5.8 11.3 2 22l10.7-3.79",key:"gwxi1d"}],["path",{d:"M4 3h.01",key:"1vcuye"}],["path",{d:"M22 8h.01",key:"1mrtc2"}],["path",{d:"M15 2h.01",key:"1cjtqr"}],["path",{d:"M22 20h.01",key:"1mrys2"}],["path",{d:"m22 2-2.24.75a2.9 2.9 0 0 0-1.96 3.12v0c.1.86-.57 1.63-1.45 1.63h-.38c-.86 0-1.6.6-1.76 1.44L14 10",key:"bpx1uq"}],["path",{d:"m22 13-.82-.33c-.86-.34-1.82.2-1.98 1.11v0c-.11.7-.72 1.22-1.43 1.22H17",key:"1pd0s7"}],["path",{d:"m11 2 .33.82c.34.86-.2 1.82-1.11 1.98v0C9.52 4.9 9 5.52 9 6.23V7",key:"zq5xbz"}],["path",{d:"M11 13c1.93 1.93 2.83 4.17 2 5-.83.83-3.07-.07-5-2-1.93-1.93-2.83-4.17-2-5 .83-.83 3.07.07 5 2Z",key:"4kbmks"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iS=he("Pen",[["path",{d:"M17 3a2.85 2.83 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5Z",key:"5qss01"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kpe=he("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ppe=he("Pin",[["line",{x1:"12",x2:"12",y1:"17",y2:"22",key:"1jrz49"}],["path",{d:"M5 17h14v-1.76a2 2 0 0 0-1.11-1.79l-1.78-.9A2 2 0 0 1 15 10.76V6h1a2 2 0 0 0 0-4H8a2 2 0 0 0 0 4h1v4.76a2 2 0 0 1-1.11 1.79l-1.78.9A2 2 0 0 0 5 15.24Z",key:"13yl11"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ri=he("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cpe=he("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eK=he("Save",[["path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z",key:"1owoqh"}],["polyline",{points:"17 21 17 13 7 13 7 21",key:"1md35c"}],["polyline",{points:"7 3 7 8 15 8",key:"8nz8an"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sS=he("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const T2=he("Send",[["path",{d:"m22 2-7 20-4-9-9-4Z",key:"1q3vgg"}],["path",{d:"M22 2 11 13",key:"nzbqef"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const A2=he("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ipe=he("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ope=he("SlidersHorizontal",[["line",{x1:"21",x2:"14",y1:"4",y2:"4",key:"obuewd"}],["line",{x1:"10",x2:"3",y1:"4",y2:"4",key:"1q6298"}],["line",{x1:"21",x2:"12",y1:"12",y2:"12",key:"1iu8h1"}],["line",{x1:"8",x2:"3",y1:"12",y2:"12",key:"ntss68"}],["line",{x1:"21",x2:"16",y1:"20",y2:"20",key:"14d8ph"}],["line",{x1:"12",x2:"3",y1:"20",y2:"20",key:"m0wm8r"}],["line",{x1:"14",x2:"14",y1:"2",y2:"6",key:"14e1ph"}],["line",{x1:"8",x2:"8",y1:"10",y2:"14",key:"1i6ji0"}],["line",{x1:"16",x2:"16",y1:"18",y2:"22",key:"1lctlv"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bo=he("Star",[["polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2",key:"8f66p6"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Npe=he("Store",[["path",{d:"m2 7 4.41-4.41A2 2 0 0 1 7.83 2h8.34a2 2 0 0 1 1.42.59L22 7",key:"ztvudi"}],["path",{d:"M4 12v8a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-8",key:"1b2hhj"}],["path",{d:"M15 22v-4a2 2 0 0 0-2-2h-2a2 2 0 0 0-2 2v4",key:"2ebpfo"}],["path",{d:"M2 7h20",key:"1fcdvo"}],["path",{d:"M22 7v3a2 2 0 0 1-2 2v0a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 16 12a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 12 12a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 8 12a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 4 12v0a2 2 0 0 1-2-2V7",key:"jon5kx"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jpe=he("Strikethrough",[["path",{d:"M16 4H9a3 3 0 0 0-2.83 4",key:"43sutm"}],["path",{d:"M14 12a4 4 0 0 1 0 8H6",key:"nlfj13"}],["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rpe=he("Sun",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dpe=he("Tag",[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mpe=he("ThumbsUp",[["path",{d:"M7 10v12",key:"1qc93n"}],["path",{d:"M15 5.88 14 10h5.83a2 2 0 0 1 1.92 2.56l-2.33 8A2 2 0 0 1 17.5 22H4a2 2 0 0 1-2-2v-8a2 2 0 0 1 2-2h2.76a2 2 0 0 0 1.79-1.11L12 2h0a3.13 3.13 0 0 1 3 3.88Z",key:"y3tblf"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lpe=he("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fp=he("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const c4=he("Twitter",[["path",{d:"M22 4s-.7 2.1-2 3.4c1.6 10-9.4 17.3-18 11.6 2.2.1 4.4-.6 6-2C3 15.5.5 9.6 3 5c2.2 2.6 5.6 4.1 9 4-.9-4.2 4-6.6 7-3.8 1.1 0 3-1.2 3-1.2z",key:"pff0z6"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $pe=he("Type",[["polyline",{points:"4 7 4 4 20 4 20 7",key:"1nosan"}],["line",{x1:"9",x2:"15",y1:"20",y2:"20",key:"swin9y"}],["line",{x1:"12",x2:"12",y1:"4",y2:"20",key:"1tx1rr"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vpe=he("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fpe=he("UserMinus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BP=he("UserPlus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bpe=he("UserX",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"17",x2:"22",y1:"8",y2:"13",key:"3nzzx3"}],["line",{x1:"22",x2:"17",y1:"8",y2:"13",key:"1swrse"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kl=he("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jt=he("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tK=he("Video",[["path",{d:"m22 8-6 4 6 4V8Z",key:"50v9me"}],["rect",{width:"14",height:"12",x:"2",y:"6",rx:"2",ry:"2",key:"1rqjg6"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Upe=he("XCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mh=he("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);function zpe(t){if(typeof Proxy>"u")return t;const e=new Map,n=(...r)=>t(...r);return new Proxy(n,{get:(r,i)=>i==="create"?t:(e.has(i)||e.set(i,t(i)),e.get(i))})}function oS(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}const UP=t=>Array.isArray(t);function nK(t,e){if(!Array.isArray(e))return!1;const n=e.length;if(n!==t.length)return!1;for(let r=0;r<n;r++)if(e[r]!==t[r])return!1;return!0}function ny(t){return typeof t=="string"||Array.isArray(t)}function u4(t){const e=[{},{}];return t==null||t.values.forEach((n,r)=>{e[0][r]=n.get(),e[1][r]=n.getVelocity()}),e}function k2(t,e,n,r){if(typeof e=="function"){const[i,s]=u4(r);e=e(n!==void 0?n:t.custom,i,s)}if(typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"){const[i,s]=u4(r);e=e(n!==void 0?n:t.custom,i,s)}return e}function aS(t,e,n){const r=t.getProps();return k2(r,e,n!==void 0?n:r.custom,t)}const P2=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],C2=["initial",...P2],Ov=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],ud=new Set(Ov),Qo=t=>t*1e3,Yo=t=>t/1e3,qpe={type:"spring",stiffness:500,damping:25,restSpeed:10},Hpe=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),Wpe={type:"keyframes",duration:.8},Kpe={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},Gpe=(t,{keyframes:e})=>e.length>2?Wpe:ud.has(t)?t.startsWith("scale")?Hpe(e[1]):qpe:Kpe;function I2(t,e){return t?t[e]||t.default||t:void 0}const Qpe={skipAnimations:!1,useManualTiming:!1},Ype=t=>t!==null;function lS(t,{repeat:e,repeatType:n="loop"},r){const i=t.filter(Ype),s=e&&n!=="loop"&&e%2===1?0:i.length-1;return!s||r===void 0?i[s]:r}const Ar=t=>t;function Xpe(t){let e=new Set,n=new Set,r=!1,i=!1;const s=new WeakSet;let o={delta:0,timestamp:0,isProcessing:!1};function a(c){s.has(c)&&(l.schedule(c),t()),c(o)}const l={schedule:(c,u=!1,d=!1)=>{const p=d&&r?e:n;return u&&s.add(c),p.has(c)||p.add(c),c},cancel:c=>{n.delete(c),s.delete(c)},process:c=>{if(o=c,r){i=!0;return}r=!0,[e,n]=[n,e],n.clear(),e.forEach(a),r=!1,i&&(i=!1,l.process(c))}};return l}const F0=["read","resolveKeyframes","update","preRender","render","postRender"],Jpe=40;function rK(t,e){let n=!1,r=!0;const i={delta:0,timestamp:0,isProcessing:!1},s=()=>n=!0,o=F0.reduce((x,b)=>(x[b]=Xpe(s),x),{}),{read:a,resolveKeyframes:l,update:c,preRender:u,render:d,postRender:f}=o,p=()=>{const x=performance.now();n=!1,i.delta=r?1e3/60:Math.max(Math.min(x-i.timestamp,Jpe),1),i.timestamp=x,i.isProcessing=!0,a.process(i),l.process(i),c.process(i),u.process(i),d.process(i),f.process(i),i.isProcessing=!1,n&&e&&(r=!1,t(p))},m=()=>{n=!0,r=!0,i.isProcessing||t(p)};return{schedule:F0.reduce((x,b)=>{const w=o[b];return x[b]=(T,_=!1,k=!1)=>(n||m(),w.schedule(T,_,k)),x},{}),cancel:x=>{for(let b=0;b<F0.length;b++)o[F0[b]].cancel(x)},state:i,steps:o}}const{schedule:Ct,cancel:Gl,state:tr,steps:kT}=rK(typeof requestAnimationFrame<"u"?requestAnimationFrame:Ar,!0),iK=(t,e,n)=>(((1-3*n+3*e)*t+(3*n-6*e))*t+3*e)*t,Zpe=1e-7,eme=12;function tme(t,e,n,r,i){let s,o,a=0;do o=e+(n-e)/2,s=iK(o,r,i)-t,s>0?n=o:e=o;while(Math.abs(s)>Zpe&&++a<eme);return o}function Nv(t,e,n,r){if(t===e&&n===r)return Ar;const i=s=>tme(s,0,1,t,n);return s=>s===0||s===1?s:iK(i(s),e,r)}const sK=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,oK=t=>e=>1-t(1-e),aK=Nv(.33,1.53,.69,.99),O2=oK(aK),lK=sK(O2),cK=t=>(t*=2)<1?.5*O2(t):.5*(2-Math.pow(2,-10*(t-1))),N2=t=>1-Math.sin(Math.acos(t)),uK=oK(N2),dK=sK(N2),fK=t=>/^0[^.\s]+$/u.test(t);function nme(t){return typeof t=="number"?t===0:t!==null?t==="none"||t==="0"||fK(t):!0}let zP=Ar;const hK=t=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(t),pK=t=>e=>typeof e=="string"&&e.startsWith(t),mK=pK("--"),rme=pK("var(--"),j2=t=>rme(t)?ime.test(t.split("/*")[0].trim()):!1,ime=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,sme=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function ome(t){const e=sme.exec(t);if(!e)return[,];const[,n,r,i]=e;return[`--${n??r}`,i]}function gK(t,e,n=1){const[r,i]=ome(t);if(!r)return;const s=window.getComputedStyle(e).getPropertyValue(r);if(s){const o=s.trim();return hK(o)?parseFloat(o):o}return j2(i)?gK(i,e,n+1):i}const Ql=(t,e,n)=>n>e?e:n<t?t:n,hp={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},ry={...hp,transform:t=>Ql(0,1,t)},B0={...hp,default:1},jv=t=>({test:e=>typeof e=="string"&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),Va=jv("deg"),io=jv("%"),Re=jv("px"),ame=jv("vh"),lme=jv("vw"),d4={...io,parse:t=>io.parse(t)/100,transform:t=>io.transform(t*100)},cme=new Set(["width","height","top","left","right","bottom","x","y","translateX","translateY"]),f4=t=>t===hp||t===Re,h4=(t,e)=>parseFloat(t.split(", ")[e]),p4=(t,e)=>(n,{transform:r})=>{if(r==="none"||!r)return 0;const i=r.match(/^matrix3d\((.+)\)$/u);if(i)return h4(i[1],e);{const s=r.match(/^matrix\((.+)\)$/u);return s?h4(s[1],t):0}},ume=new Set(["x","y","z"]),dme=Ov.filter(t=>!ume.has(t));function fme(t){const e=[];return dme.forEach(n=>{const r=t.getValue(n);r!==void 0&&(e.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))}),e}const gh={width:({x:t},{paddingLeft:e="0",paddingRight:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),height:({y:t},{paddingTop:e="0",paddingBottom:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:p4(4,13),y:p4(5,14)};gh.translateX=gh.x;gh.translateY=gh.y;const yK=t=>e=>e.test(t),hme={test:t=>t==="auto",parse:t=>t},vK=[hp,Re,io,Va,lme,ame,hme],m4=t=>vK.find(yK(t)),gu=new Set;let qP=!1,HP=!1;function xK(){if(HP){const t=Array.from(gu).filter(r=>r.needsMeasurement),e=new Set(t.map(r=>r.element)),n=new Map;e.forEach(r=>{const i=fme(r);i.length&&(n.set(r,i),r.render())}),t.forEach(r=>r.measureInitialState()),e.forEach(r=>{r.render();const i=n.get(r);i&&i.forEach(([s,o])=>{var a;(a=r.getValue(s))===null||a===void 0||a.set(o)})}),t.forEach(r=>r.measureEndState()),t.forEach(r=>{r.suspendedScrollY!==void 0&&window.scrollTo(0,r.suspendedScrollY)})}HP=!1,qP=!1,gu.forEach(t=>t.complete()),gu.clear()}function bK(){gu.forEach(t=>{t.readKeyframes(),t.needsMeasurement&&(HP=!0)})}function pme(){bK(),xK()}class R2{constructor(e,n,r,i,s,o=!1){this.isComplete=!1,this.isAsync=!1,this.needsMeasurement=!1,this.isScheduled=!1,this.unresolvedKeyframes=[...e],this.onComplete=n,this.name=r,this.motionValue=i,this.element=s,this.isAsync=o}scheduleResolve(){this.isScheduled=!0,this.isAsync?(gu.add(this),qP||(qP=!0,Ct.read(bK),Ct.resolveKeyframes(xK))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:n,element:r,motionValue:i}=this;for(let s=0;s<e.length;s++)if(e[s]===null)if(s===0){const o=i==null?void 0:i.get(),a=e[e.length-1];if(o!==void 0)e[0]=o;else if(r&&n){const l=r.readValue(n,a);l!=null&&(e[0]=l)}e[0]===void 0&&(e[0]=a),i&&o===void 0&&i.set(e[0])}else e[s]=e[s-1]}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(){this.isComplete=!0,this.onComplete(this.unresolvedKeyframes,this.finalKeyframe),gu.delete(this)}cancel(){this.isComplete||(this.isScheduled=!1,gu.delete(this))}resume(){this.isComplete||this.scheduleResolve()}}const rg=t=>Math.round(t*1e5)/1e5,D2=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function mme(t){return t==null}const gme=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,M2=(t,e)=>n=>!!(typeof n=="string"&&gme.test(n)&&n.startsWith(t)||e&&!mme(n)&&Object.prototype.hasOwnProperty.call(n,e)),wK=(t,e,n)=>r=>{if(typeof r!="string")return r;const[i,s,o,a]=r.match(D2);return{[t]:parseFloat(i),[e]:parseFloat(s),[n]:parseFloat(o),alpha:a!==void 0?parseFloat(a):1}},yme=t=>Ql(0,255,t),PT={...hp,transform:t=>Math.round(yme(t))},Qc={test:M2("rgb","red"),parse:wK("red","green","blue"),transform:({red:t,green:e,blue:n,alpha:r=1})=>"rgba("+PT.transform(t)+", "+PT.transform(e)+", "+PT.transform(n)+", "+rg(ry.transform(r))+")"};function vme(t){let e="",n="",r="",i="";return t.length>5?(e=t.substring(1,3),n=t.substring(3,5),r=t.substring(5,7),i=t.substring(7,9)):(e=t.substring(1,2),n=t.substring(2,3),r=t.substring(3,4),i=t.substring(4,5),e+=e,n+=n,r+=r,i+=i),{red:parseInt(e,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:i?parseInt(i,16)/255:1}}const WP={test:M2("#"),parse:vme,transform:Qc.transform},nf={test:M2("hsl","hue"),parse:wK("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:n,alpha:r=1})=>"hsla("+Math.round(t)+", "+io.transform(rg(e))+", "+io.transform(rg(n))+", "+rg(ry.transform(r))+")"},gr={test:t=>Qc.test(t)||WP.test(t)||nf.test(t),parse:t=>Qc.test(t)?Qc.parse(t):nf.test(t)?nf.parse(t):WP.parse(t),transform:t=>typeof t=="string"?t:t.hasOwnProperty("red")?Qc.transform(t):nf.transform(t)},xme=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function bme(t){var e,n;return isNaN(t)&&typeof t=="string"&&(((e=t.match(D2))===null||e===void 0?void 0:e.length)||0)+(((n=t.match(xme))===null||n===void 0?void 0:n.length)||0)>0}const _K="number",SK="color",wme="var",_me="var(",g4="${}",Sme=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function iy(t){const e=t.toString(),n=[],r={color:[],number:[],var:[]},i=[];let s=0;const a=e.replace(Sme,l=>(gr.test(l)?(r.color.push(s),i.push(SK),n.push(gr.parse(l))):l.startsWith(_me)?(r.var.push(s),i.push(wme),n.push(l)):(r.number.push(s),i.push(_K),n.push(parseFloat(l))),++s,g4)).split(g4);return{values:n,split:a,indexes:r,types:i}}function EK(t){return iy(t).values}function TK(t){const{split:e,types:n}=iy(t),r=e.length;return i=>{let s="";for(let o=0;o<r;o++)if(s+=e[o],i[o]!==void 0){const a=n[o];a===_K?s+=rg(i[o]):a===SK?s+=gr.transform(i[o]):s+=i[o]}return s}}const Eme=t=>typeof t=="number"?0:t;function Tme(t){const e=EK(t);return TK(t)(e.map(Eme))}const Yl={test:bme,parse:EK,createTransformer:TK,getAnimatableNone:Tme},Ame=new Set(["brightness","contrast","saturate","opacity"]);function kme(t){const[e,n]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[r]=n.match(D2)||[];if(!r)return t;const i=n.replace(r,"");let s=Ame.has(e)?1:0;return r!==n&&(s*=100),e+"("+s+i+")"}const Pme=/\b([a-z-]*)\(.*?\)/gu,KP={...Yl,getAnimatableNone:t=>{const e=t.match(Pme);return e?e.map(kme).join(" "):t}},Cme={borderWidth:Re,borderTopWidth:Re,borderRightWidth:Re,borderBottomWidth:Re,borderLeftWidth:Re,borderRadius:Re,radius:Re,borderTopLeftRadius:Re,borderTopRightRadius:Re,borderBottomRightRadius:Re,borderBottomLeftRadius:Re,width:Re,maxWidth:Re,height:Re,maxHeight:Re,top:Re,right:Re,bottom:Re,left:Re,padding:Re,paddingTop:Re,paddingRight:Re,paddingBottom:Re,paddingLeft:Re,margin:Re,marginTop:Re,marginRight:Re,marginBottom:Re,marginLeft:Re,backgroundPositionX:Re,backgroundPositionY:Re},Ime={rotate:Va,rotateX:Va,rotateY:Va,rotateZ:Va,scale:B0,scaleX:B0,scaleY:B0,scaleZ:B0,skew:Va,skewX:Va,skewY:Va,distance:Re,translateX:Re,translateY:Re,translateZ:Re,x:Re,y:Re,z:Re,perspective:Re,transformPerspective:Re,opacity:ry,originX:d4,originY:d4,originZ:Re},y4={...hp,transform:Math.round},L2={...Cme,...Ime,zIndex:y4,size:Re,fillOpacity:ry,strokeOpacity:ry,numOctaves:y4},Ome={...L2,color:gr,backgroundColor:gr,outlineColor:gr,fill:gr,stroke:gr,borderColor:gr,borderTopColor:gr,borderRightColor:gr,borderBottomColor:gr,borderLeftColor:gr,filter:KP,WebkitFilter:KP},$2=t=>Ome[t];function AK(t,e){let n=$2(t);return n!==KP&&(n=Yl),n.getAnimatableNone?n.getAnimatableNone(e):void 0}const Nme=new Set(["auto","none","0"]);function jme(t,e,n){let r=0,i;for(;r<t.length&&!i;){const s=t[r];typeof s=="string"&&!Nme.has(s)&&iy(s).values.length&&(i=t[r]),r++}if(i&&n)for(const s of e)t[s]=AK(n,i)}class kK extends R2{constructor(e,n,r,i,s){super(e,n,r,i,s,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:n,name:r}=this;if(!n||!n.current)return;super.readKeyframes();for(let l=0;l<e.length;l++){let c=e[l];if(typeof c=="string"&&(c=c.trim(),j2(c))){const u=gK(c,n.current);u!==void 0&&(e[l]=u),l===e.length-1&&(this.finalKeyframe=c)}}if(this.resolveNoneKeyframes(),!cme.has(r)||e.length!==2)return;const[i,s]=e,o=m4(i),a=m4(s);if(o!==a)if(f4(o)&&f4(a))for(let l=0;l<e.length;l++){const c=e[l];typeof c=="string"&&(e[l]=parseFloat(c))}else this.needsMeasurement=!0}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:n}=this,r=[];for(let i=0;i<e.length;i++)nme(e[i])&&r.push(i);r.length&&jme(e,r,n)}measureInitialState(){const{element:e,unresolvedKeyframes:n,name:r}=this;if(!e||!e.current)return;r==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=gh[r](e.measureViewportBox(),window.getComputedStyle(e.current)),n[0]=this.measuredOrigin;const i=n[n.length-1];i!==void 0&&e.getValue(r,i).jump(i,!1)}measureEndState(){var e;const{element:n,name:r,unresolvedKeyframes:i}=this;if(!n||!n.current)return;const s=n.getValue(r);s&&s.jump(this.measuredOrigin,!1);const o=i.length-1,a=i[o];i[o]=gh[r](n.measureViewportBox(),window.getComputedStyle(n.current)),a!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=a),!((e=this.removedTransforms)===null||e===void 0)&&e.length&&this.removedTransforms.forEach(([l,c])=>{n.getValue(l).set(c)}),this.resolveNoneKeyframes()}}function V2(t){return typeof t=="function"}let Qx;function Rme(){Qx=void 0}const so={now:()=>(Qx===void 0&&so.set(tr.isProcessing||Qpe.useManualTiming?tr.timestamp:performance.now()),Qx),set:t=>{Qx=t,queueMicrotask(Rme)}},v4=(t,e)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(Yl.test(t)||t==="0")&&!t.startsWith("url("));function Dme(t){const e=t[0];if(t.length===1)return!0;for(let n=0;n<t.length;n++)if(t[n]!==e)return!0}function Mme(t,e,n,r){const i=t[0];if(i===null)return!1;if(e==="display"||e==="visibility")return!0;const s=t[t.length-1],o=v4(i,e),a=v4(s,e);return!o||!a?!1:Dme(t)||(n==="spring"||V2(n))&&r}const Lme=40;class PK{constructor({autoplay:e=!0,delay:n=0,type:r="keyframes",repeat:i=0,repeatDelay:s=0,repeatType:o="loop",...a}){this.isStopped=!1,this.hasAttemptedResolve=!1,this.createdAt=so.now(),this.options={autoplay:e,delay:n,type:r,repeat:i,repeatDelay:s,repeatType:o,...a},this.updateFinishedPromise()}calcStartTime(){return this.resolvedAt?this.resolvedAt-this.createdAt>Lme?this.resolvedAt:this.createdAt:this.createdAt}get resolved(){return!this._resolved&&!this.hasAttemptedResolve&&pme(),this._resolved}onKeyframesResolved(e,n){this.resolvedAt=so.now(),this.hasAttemptedResolve=!0;const{name:r,type:i,velocity:s,delay:o,onComplete:a,onUpdate:l,isGenerator:c}=this.options;if(!c&&!Mme(e,r,i,s))if(o)this.options.duration=0;else{l==null||l(lS(e,this.options,n)),a==null||a(),this.resolveFinishedPromise();return}const u=this.initPlayback(e,n);u!==!1&&(this._resolved={keyframes:e,finalKeyframe:n,...u},this.onPostResolved())}onPostResolved(){}then(e,n){return this.currentFinishedPromise.then(e,n)}flatten(){this.options.type="keyframes",this.options.ease="linear"}updateFinishedPromise(){this.currentFinishedPromise=new Promise(e=>{this.resolveFinishedPromise=e})}}function CK(t,e){return e?t*(1e3/e):0}const $me=5;function IK(t,e,n){const r=Math.max(e-$me,0);return CK(n-t(r),e-r)}const CT=.001,Vme=.01,Fme=10,Bme=.05,Ume=1;function zme({duration:t=800,bounce:e=.25,velocity:n=0,mass:r=1}){let i,s,o=1-e;o=Ql(Bme,Ume,o),t=Ql(Vme,Fme,Yo(t)),o<1?(i=c=>{const u=c*o,d=u*t,f=u-n,p=GP(c,o),m=Math.exp(-d);return CT-f/p*m},s=c=>{const d=c*o*t,f=d*n+n,p=Math.pow(o,2)*Math.pow(c,2)*t,m=Math.exp(-d),g=GP(Math.pow(c,2),o);return(-i(c)+CT>0?-1:1)*((f-p)*m)/g}):(i=c=>{const u=Math.exp(-c*t),d=(c-n)*t+1;return-CT+u*d},s=c=>{const u=Math.exp(-c*t),d=(n-c)*(t*t);return u*d});const a=5/t,l=Hme(i,s,a);if(t=Qo(t),isNaN(l))return{stiffness:100,damping:10,duration:t};{const c=Math.pow(l,2)*r;return{stiffness:c,damping:o*2*Math.sqrt(r*c),duration:t}}}const qme=12;function Hme(t,e,n){let r=n;for(let i=1;i<qme;i++)r=r-t(r)/e(r);return r}function GP(t,e){return t*Math.sqrt(1-e*e)}const Wme=["duration","bounce"],Kme=["stiffness","damping","mass"];function x4(t,e){return e.some(n=>t[n]!==void 0)}function Gme(t){let e={velocity:0,stiffness:100,damping:10,mass:1,isResolvedFromDuration:!1,...t};if(!x4(t,Kme)&&x4(t,Wme)){const n=zme(t);e={...e,...n,mass:1},e.isResolvedFromDuration=!0}return e}function OK({keyframes:t,restDelta:e,restSpeed:n,...r}){const i=t[0],s=t[t.length-1],o={done:!1,value:i},{stiffness:a,damping:l,mass:c,duration:u,velocity:d,isResolvedFromDuration:f}=Gme({...r,velocity:-Yo(r.velocity||0)}),p=d||0,m=l/(2*Math.sqrt(a*c)),g=s-i,v=Yo(Math.sqrt(a/c)),x=Math.abs(g)<5;n||(n=x?.01:2),e||(e=x?.005:.5);let b;if(m<1){const w=GP(v,m);b=T=>{const _=Math.exp(-m*v*T);return s-_*((p+m*v*g)/w*Math.sin(w*T)+g*Math.cos(w*T))}}else if(m===1)b=w=>s-Math.exp(-v*w)*(g+(p+v*g)*w);else{const w=v*Math.sqrt(m*m-1);b=T=>{const _=Math.exp(-m*v*T),k=Math.min(w*T,300);return s-_*((p+m*v*g)*Math.sinh(k)+w*g*Math.cosh(k))/w}}return{calculatedDuration:f&&u||null,next:w=>{const T=b(w);if(f)o.done=w>=u;else{let _=0;m<1&&(_=w===0?Qo(p):IK(b,w,T));const k=Math.abs(_)<=n,S=Math.abs(s-T)<=e;o.done=k&&S}return o.value=o.done?s:T,o}}}function b4({keyframes:t,velocity:e=0,power:n=.8,timeConstant:r=325,bounceDamping:i=10,bounceStiffness:s=500,modifyTarget:o,min:a,max:l,restDelta:c=.5,restSpeed:u}){const d=t[0],f={done:!1,value:d},p=E=>a!==void 0&&E<a||l!==void 0&&E>l,m=E=>a===void 0?l:l===void 0||Math.abs(a-E)<Math.abs(l-E)?a:l;let g=n*e;const v=d+g,x=o===void 0?v:o(v);x!==v&&(g=x-d);const b=E=>-g*Math.exp(-E/r),w=E=>x+b(E),T=E=>{const P=b(E),O=w(E);f.done=Math.abs(P)<=c,f.value=f.done?x:O};let _,k;const S=E=>{p(f.value)&&(_=E,k=OK({keyframes:[f.value,m(f.value)],velocity:IK(w,E,f.value),damping:i,stiffness:s,restDelta:c,restSpeed:u}))};return S(0),{calculatedDuration:null,next:E=>{let P=!1;return!k&&_===void 0&&(P=!0,T(E),S(E)),_!==void 0&&E>=_?k.next(E-_):(!P&&T(E),f)}}}const Qme=Nv(.42,0,1,1),Yme=Nv(0,0,.58,1),NK=Nv(.42,0,.58,1),Xme=t=>Array.isArray(t)&&typeof t[0]!="number",F2=t=>Array.isArray(t)&&typeof t[0]=="number",w4={linear:Ar,easeIn:Qme,easeInOut:NK,easeOut:Yme,circIn:N2,circInOut:dK,circOut:uK,backIn:O2,backInOut:lK,backOut:aK,anticipate:cK},_4=t=>{if(F2(t)){zP(t.length===4);const[e,n,r,i]=t;return Nv(e,n,r,i)}else if(typeof t=="string")return zP(w4[t]!==void 0),w4[t];return t},Jme=(t,e)=>n=>e(t(n)),Xo=(...t)=>t.reduce(Jme),yh=(t,e,n)=>{const r=e-t;return r===0?1:(n-t)/r},on=(t,e,n)=>t+(e-t)*n;function IT(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function Zme({hue:t,saturation:e,lightness:n,alpha:r}){t/=360,e/=100,n/=100;let i=0,s=0,o=0;if(!e)i=s=o=n;else{const a=n<.5?n*(1+e):n+e-n*e,l=2*n-a;i=IT(l,a,t+1/3),s=IT(l,a,t),o=IT(l,a,t-1/3)}return{red:Math.round(i*255),green:Math.round(s*255),blue:Math.round(o*255),alpha:r}}function tw(t,e){return n=>n>0?e:t}const OT=(t,e,n)=>{const r=t*t,i=n*(e*e-r)+r;return i<0?0:Math.sqrt(i)},ege=[WP,Qc,nf],tge=t=>ege.find(e=>e.test(t));function S4(t){const e=tge(t);if(!e)return!1;let n=e.parse(t);return e===nf&&(n=Zme(n)),n}const E4=(t,e)=>{const n=S4(t),r=S4(e);if(!n||!r)return tw(t,e);const i={...n};return s=>(i.red=OT(n.red,r.red,s),i.green=OT(n.green,r.green,s),i.blue=OT(n.blue,r.blue,s),i.alpha=on(n.alpha,r.alpha,s),Qc.transform(i))},QP=new Set(["none","hidden"]);function nge(t,e){return QP.has(t)?n=>n<=0?t:e:n=>n>=1?e:t}function rge(t,e){return n=>on(t,e,n)}function B2(t){return typeof t=="number"?rge:typeof t=="string"?j2(t)?tw:gr.test(t)?E4:oge:Array.isArray(t)?jK:typeof t=="object"?gr.test(t)?E4:ige:tw}function jK(t,e){const n=[...t],r=n.length,i=t.map((s,o)=>B2(s)(s,e[o]));return s=>{for(let o=0;o<r;o++)n[o]=i[o](s);return n}}function ige(t,e){const n={...t,...e},r={};for(const i in n)t[i]!==void 0&&e[i]!==void 0&&(r[i]=B2(t[i])(t[i],e[i]));return i=>{for(const s in r)n[s]=r[s](i);return n}}function sge(t,e){var n;const r=[],i={color:0,var:0,number:0};for(let s=0;s<e.values.length;s++){const o=e.types[s],a=t.indexes[o][i[o]],l=(n=t.values[a])!==null&&n!==void 0?n:0;r[s]=l,i[o]++}return r}const oge=(t,e)=>{const n=Yl.createTransformer(e),r=iy(t),i=iy(e);return r.indexes.var.length===i.indexes.var.length&&r.indexes.color.length===i.indexes.color.length&&r.indexes.number.length>=i.indexes.number.length?QP.has(t)&&!i.values.length||QP.has(e)&&!r.values.length?nge(t,e):Xo(jK(sge(r,i),i.values),n):tw(t,e)};function RK(t,e,n){return typeof t=="number"&&typeof e=="number"&&typeof n=="number"?on(t,e,n):B2(t)(t,e)}function age(t,e,n){const r=[],i=n||RK,s=t.length-1;for(let o=0;o<s;o++){let a=i(t[o],t[o+1]);if(e){const l=Array.isArray(e)?e[o]||Ar:e;a=Xo(l,a)}r.push(a)}return r}function lge(t,e,{clamp:n=!0,ease:r,mixer:i}={}){const s=t.length;if(zP(s===e.length),s===1)return()=>e[0];if(s===2&&t[0]===t[1])return()=>e[1];t[0]>t[s-1]&&(t=[...t].reverse(),e=[...e].reverse());const o=age(e,r,i),a=o.length,l=c=>{let u=0;if(a>1)for(;u<t.length-2&&!(c<t[u+1]);u++);const d=yh(t[u],t[u+1],c);return o[u](d)};return n?c=>l(Ql(t[0],t[s-1],c)):l}function cge(t,e){const n=t[t.length-1];for(let r=1;r<=e;r++){const i=yh(0,e,r);t.push(on(n,1,i))}}function uge(t){const e=[0];return cge(e,t.length-1),e}function dge(t,e){return t.map(n=>n*e)}function fge(t,e){return t.map(()=>e||NK).splice(0,t.length-1)}function nw({duration:t=300,keyframes:e,times:n,ease:r="easeInOut"}){const i=Xme(r)?r.map(_4):_4(r),s={done:!1,value:e[0]},o=dge(n&&n.length===e.length?n:uge(e),t),a=lge(o,e,{ease:Array.isArray(i)?i:fge(e,i)});return{calculatedDuration:t,next:l=>(s.value=a(l),s.done=l>=t,s)}}const T4=2e4;function hge(t){let e=0;const n=50;let r=t.next(e);for(;!r.done&&e<T4;)e+=n,r=t.next(e);return e>=T4?1/0:e}const pge=t=>{const e=({timestamp:n})=>t(n);return{start:()=>Ct.update(e,!0),stop:()=>Gl(e),now:()=>tr.isProcessing?tr.timestamp:so.now()}},mge={decay:b4,inertia:b4,tween:nw,keyframes:nw,spring:OK},gge=t=>t/100;class U2 extends PK{constructor(e){super(e),this.holdTime=null,this.cancelTime=null,this.currentTime=0,this.playbackSpeed=1,this.pendingPlayState="running",this.startTime=null,this.state="idle",this.stop=()=>{if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.teardown();const{onStop:l}=this.options;l&&l()};const{name:n,motionValue:r,element:i,keyframes:s}=this.options,o=(i==null?void 0:i.KeyframeResolver)||R2,a=(l,c)=>this.onKeyframesResolved(l,c);this.resolver=new o(s,a,n,r,i),this.resolver.scheduleResolve()}flatten(){super.flatten(),this._resolved&&Object.assign(this._resolved,this.initPlayback(this._resolved.keyframes))}initPlayback(e){const{type:n="keyframes",repeat:r=0,repeatDelay:i=0,repeatType:s,velocity:o=0}=this.options,a=V2(n)?n:mge[n]||nw;let l,c;a!==nw&&typeof e[0]!="number"&&(l=Xo(gge,RK(e[0],e[1])),e=[0,100]);const u=a({...this.options,keyframes:e});s==="mirror"&&(c=a({...this.options,keyframes:[...e].reverse(),velocity:-o})),u.calculatedDuration===null&&(u.calculatedDuration=hge(u));const{calculatedDuration:d}=u,f=d+i,p=f*(r+1)-i;return{generator:u,mirroredGenerator:c,mapPercentToKeyframes:l,calculatedDuration:d,resolvedDuration:f,totalDuration:p}}onPostResolved(){const{autoplay:e=!0}=this.options;this.play(),this.pendingPlayState==="paused"||!e?this.pause():this.state=this.pendingPlayState}tick(e,n=!1){const{resolved:r}=this;if(!r){const{keyframes:E}=this.options;return{done:!0,value:E[E.length-1]}}const{finalKeyframe:i,generator:s,mirroredGenerator:o,mapPercentToKeyframes:a,keyframes:l,calculatedDuration:c,totalDuration:u,resolvedDuration:d}=r;if(this.startTime===null)return s.next(0);const{delay:f,repeat:p,repeatType:m,repeatDelay:g,onUpdate:v}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-u/this.speed,this.startTime)),n?this.currentTime=e:this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=Math.round(e-this.startTime)*this.speed;const x=this.currentTime-f*(this.speed>=0?1:-1),b=this.speed>=0?x<0:x>u;this.currentTime=Math.max(x,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=u);let w=this.currentTime,T=s;if(p){const E=Math.min(this.currentTime,u)/d;let P=Math.floor(E),O=E%1;!O&&E>=1&&(O=1),O===1&&P--,P=Math.min(P,p+1),!!(P%2)&&(m==="reverse"?(O=1-O,g&&(O-=g/d)):m==="mirror"&&(T=o)),w=Ql(0,1,O)*d}const _=b?{done:!1,value:l[0]}:T.next(w);a&&(_.value=a(_.value));let{done:k}=_;!b&&c!==null&&(k=this.speed>=0?this.currentTime>=u:this.currentTime<=0);const S=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&k);return S&&i!==void 0&&(_.value=lS(l,this.options,i)),v&&v(_.value),S&&this.finish(),_}get duration(){const{resolved:e}=this;return e?Yo(e.calculatedDuration):0}get time(){return Yo(this.currentTime)}set time(e){e=Qo(e),this.currentTime=e,this.holdTime!==null||this.speed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.speed)}get speed(){return this.playbackSpeed}set speed(e){const n=this.playbackSpeed!==e;this.playbackSpeed=e,n&&(this.time=Yo(this.currentTime))}play(){if(this.resolver.isScheduled||this.resolver.resume(),!this._resolved){this.pendingPlayState="running";return}if(this.isStopped)return;const{driver:e=pge,onPlay:n,startTime:r}=this.options;this.driver||(this.driver=e(s=>this.tick(s))),n&&n();const i=this.driver.now();this.holdTime!==null?this.startTime=i-this.holdTime:this.startTime?this.state==="finished"&&(this.startTime=i):this.startTime=r??this.calcStartTime(),this.state==="finished"&&this.updateFinishedPromise(),this.cancelTime=this.startTime,this.holdTime=null,this.state="running",this.driver.start()}pause(){var e;if(!this._resolved){this.pendingPlayState="paused";return}this.state="paused",this.holdTime=(e=this.currentTime)!==null&&e!==void 0?e:0}complete(){this.state!=="running"&&this.play(),this.pendingPlayState=this.state="finished",this.holdTime=null}finish(){this.teardown(),this.state="finished";const{onComplete:e}=this.options;e&&e()}cancel(){this.cancelTime!==null&&this.tick(this.cancelTime),this.teardown(),this.updateFinishedPromise()}teardown(){this.state="idle",this.stopDriver(),this.resolveFinishedPromise(),this.updateFinishedPromise(),this.startTime=this.cancelTime=null,this.resolver.cancel()}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}}const yge=new Set(["opacity","clipPath","filter","transform"]),vge=10,xge=(t,e)=>{let n="";const r=Math.max(Math.round(e/vge),2);for(let i=0;i<r;i++)n+=t(yh(0,r-1,i))+", ";return`linear(${n.substring(0,n.length-2)})`};function z2(t){let e;return()=>(e===void 0&&(e=t()),e)}const bge={linearEasing:void 0};function wge(t,e){const n=z2(t);return()=>{var r;return(r=bge[e])!==null&&r!==void 0?r:n()}}const rw=wge(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing");function DK(t){return!!(typeof t=="function"&&rw()||!t||typeof t=="string"&&(t in YP||rw())||F2(t)||Array.isArray(t)&&t.every(DK))}const Dm=([t,e,n,r])=>`cubic-bezier(${t}, ${e}, ${n}, ${r})`,YP={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Dm([0,.65,.55,1]),circOut:Dm([.55,0,1,.45]),backIn:Dm([.31,.01,.66,-.59]),backOut:Dm([.33,1.53,.69,.99])};function MK(t,e){if(t)return typeof t=="function"&&rw()?xge(t,e):F2(t)?Dm(t):Array.isArray(t)?t.map(n=>MK(n,e)||YP.easeOut):YP[t]}function _ge(t,e,n,{delay:r=0,duration:i=300,repeat:s=0,repeatType:o="loop",ease:a="easeInOut",times:l}={}){const c={[e]:n};l&&(c.offset=l);const u=MK(a,i);return Array.isArray(u)&&(c.easing=u),t.animate(c,{delay:r,duration:i,easing:Array.isArray(u)?"linear":u,fill:"both",iterations:s+1,direction:o==="reverse"?"alternate":"normal"})}function A4(t,e){t.timeline=e,t.onfinish=null}const Sge=z2(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),iw=10,Ege=2e4;function Tge(t){return V2(t.type)||t.type==="spring"||!DK(t.ease)}function Age(t,e){const n=new U2({...e,keyframes:t,repeat:0,delay:0,isGenerator:!0});let r={done:!1,value:t[0]};const i=[];let s=0;for(;!r.done&&s<Ege;)r=n.sample(s),i.push(r.value),s+=iw;return{times:void 0,keyframes:i,duration:s-iw,ease:"linear"}}const LK={anticipate:cK,backInOut:lK,circInOut:dK};function kge(t){return t in LK}class k4 extends PK{constructor(e){super(e);const{name:n,motionValue:r,element:i,keyframes:s}=this.options;this.resolver=new kK(s,(o,a)=>this.onKeyframesResolved(o,a),n,r,i),this.resolver.scheduleResolve()}initPlayback(e,n){var r;let{duration:i=300,times:s,ease:o,type:a,motionValue:l,name:c,startTime:u}=this.options;if(!(!((r=l.owner)===null||r===void 0)&&r.current))return!1;if(typeof o=="string"&&rw()&&kge(o)&&(o=LK[o]),Tge(this.options)){const{onComplete:f,onUpdate:p,motionValue:m,element:g,...v}=this.options,x=Age(e,v);e=x.keyframes,e.length===1&&(e[1]=e[0]),i=x.duration,s=x.times,o=x.ease,a="keyframes"}const d=_ge(l.owner.current,c,e,{...this.options,duration:i,times:s,ease:o});return d.startTime=u??this.calcStartTime(),this.pendingTimeline?(A4(d,this.pendingTimeline),this.pendingTimeline=void 0):d.onfinish=()=>{const{onComplete:f}=this.options;l.set(lS(e,this.options,n)),f&&f(),this.cancel(),this.resolveFinishedPromise()},{animation:d,duration:i,times:s,type:a,ease:o,keyframes:e}}get duration(){const{resolved:e}=this;if(!e)return 0;const{duration:n}=e;return Yo(n)}get time(){const{resolved:e}=this;if(!e)return 0;const{animation:n}=e;return Yo(n.currentTime||0)}set time(e){const{resolved:n}=this;if(!n)return;const{animation:r}=n;r.currentTime=Qo(e)}get speed(){const{resolved:e}=this;if(!e)return 1;const{animation:n}=e;return n.playbackRate}set speed(e){const{resolved:n}=this;if(!n)return;const{animation:r}=n;r.playbackRate=e}get state(){const{resolved:e}=this;if(!e)return"idle";const{animation:n}=e;return n.playState}get startTime(){const{resolved:e}=this;if(!e)return null;const{animation:n}=e;return n.startTime}attachTimeline(e){if(!this._resolved)this.pendingTimeline=e;else{const{resolved:n}=this;if(!n)return Ar;const{animation:r}=n;A4(r,e)}return Ar}play(){if(this.isStopped)return;const{resolved:e}=this;if(!e)return;const{animation:n}=e;n.playState==="finished"&&this.updateFinishedPromise(),n.play()}pause(){const{resolved:e}=this;if(!e)return;const{animation:n}=e;n.pause()}stop(){if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.resolveFinishedPromise(),this.updateFinishedPromise();const{resolved:e}=this;if(!e)return;const{animation:n,keyframes:r,duration:i,type:s,ease:o,times:a}=e;if(n.playState==="idle"||n.playState==="finished")return;if(this.time){const{motionValue:c,onUpdate:u,onComplete:d,element:f,...p}=this.options,m=new U2({...p,keyframes:r,duration:i,type:s,ease:o,times:a,isGenerator:!0}),g=Qo(this.time);c.setWithVelocity(m.sample(g-iw).value,m.sample(g).value,iw)}const{onStop:l}=this.options;l&&l(),this.cancel()}complete(){const{resolved:e}=this;e&&e.animation.finish()}cancel(){const{resolved:e}=this;e&&e.animation.cancel()}static supports(e){const{motionValue:n,name:r,repeatDelay:i,repeatType:s,damping:o,type:a}=e;return Sge()&&r&&yge.has(r)&&n&&n.owner&&n.owner.current instanceof HTMLElement&&!n.owner.getProps().onUpdate&&!i&&s!=="mirror"&&o!==0&&a!=="inertia"}}const Pge=z2(()=>window.ScrollTimeline!==void 0);class Cge{constructor(e){this.stop=()=>this.runAll("stop"),this.animations=e.filter(Boolean)}then(e,n){return Promise.all(this.animations).then(e).catch(n)}getAll(e){return this.animations[0][e]}setAll(e,n){for(let r=0;r<this.animations.length;r++)this.animations[r][e]=n}attachTimeline(e,n){const r=this.animations.map(i=>Pge()&&i.attachTimeline?i.attachTimeline(e):n(i));return()=>{r.forEach((i,s)=>{i&&i(),this.animations[s].stop()})}}get time(){return this.getAll("time")}set time(e){this.setAll("time",e)}get speed(){return this.getAll("speed")}set speed(e){this.setAll("speed",e)}get startTime(){return this.getAll("startTime")}get duration(){let e=0;for(let n=0;n<this.animations.length;n++)e=Math.max(e,this.animations[n].duration);return e}runAll(e){this.animations.forEach(n=>n[e]())}flatten(){this.runAll("flatten")}play(){this.runAll("play")}pause(){this.runAll("pause")}cancel(){this.runAll("cancel")}complete(){this.runAll("complete")}}function Ige({when:t,delay:e,delayChildren:n,staggerChildren:r,staggerDirection:i,repeat:s,repeatType:o,repeatDelay:a,from:l,elapsed:c,...u}){return!!Object.keys(u).length}const q2=(t,e,n,r={},i,s)=>o=>{const a=I2(r,t)||{},l=a.delay||r.delay||0;let{elapsed:c=0}=r;c=c-Qo(l);let u={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:e.getVelocity(),...a,delay:-c,onUpdate:f=>{e.set(f),a.onUpdate&&a.onUpdate(f)},onComplete:()=>{o(),a.onComplete&&a.onComplete()},name:t,motionValue:e,element:s?void 0:i};Ige(a)||(u={...u,...Gpe(t,u)}),u.duration&&(u.duration=Qo(u.duration)),u.repeatDelay&&(u.repeatDelay=Qo(u.repeatDelay)),u.from!==void 0&&(u.keyframes[0]=u.from);let d=!1;if((u.type===!1||u.duration===0&&!u.repeatDelay)&&(u.duration=0,u.delay===0&&(d=!0)),d&&!s&&e.get()!==void 0){const f=lS(u.keyframes,a);if(f!==void 0)return Ct.update(()=>{u.onUpdate(f),u.onComplete()}),new Cge([])}return!s&&k4.supports(u)?new k4(u):new U2(u)},Oge=t=>!!(t&&typeof t=="object"&&t.mix&&t.toValue),Nge=t=>UP(t)?t[t.length-1]||0:t;function H2(t,e){t.indexOf(e)===-1&&t.push(e)}function W2(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}class K2{constructor(){this.subscriptions=[]}add(e){return H2(this.subscriptions,e),()=>W2(this.subscriptions,e)}notify(e,n,r){const i=this.subscriptions.length;if(i)if(i===1)this.subscriptions[0](e,n,r);else for(let s=0;s<i;s++){const o=this.subscriptions[s];o&&o(e,n,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const P4=30,jge=t=>!isNaN(parseFloat(t));class Rge{constructor(e,n={}){this.version="11.11.17",this.canTrackVelocity=null,this.events={},this.updateAndNotify=(r,i=!0)=>{const s=so.now();this.updatedAt!==s&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(r),this.current!==this.prev&&this.events.change&&this.events.change.notify(this.current),i&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.hasAnimated=!1,this.setCurrent(e),this.owner=n.owner}setCurrent(e){this.current=e,this.updatedAt=so.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=jge(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,n){this.events[e]||(this.events[e]=new K2);const r=this.events[e].add(n);return e==="change"?()=>{r(),Ct.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,n){this.passiveEffect=e,this.stopPassiveEffect=n}set(e,n=!0){!n||!this.passiveEffect?this.updateAndNotify(e,n):this.passiveEffect(e,this.updateAndNotify)}setWithVelocity(e,n,r){this.set(n),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-r}jump(e,n=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const e=so.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>P4)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,P4);return CK(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(e){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=e(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function sy(t,e){return new Rge(t,e)}function Dge(t,e,n){t.hasValue(e)?t.getValue(e).set(n):t.addValue(e,sy(n))}function Mge(t,e){const n=aS(t,e);let{transitionEnd:r={},transition:i={},...s}=n||{};s={...s,...r};for(const o in s){const a=Nge(s[o]);Dge(t,o,a)}}const G2=t=>t.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),Lge="framerAppearId",$K="data-"+G2(Lge);function VK(t){return t.props[$K]}const Sr=t=>!!(t&&t.getVelocity);function $ge(t){return!!(Sr(t)&&t.add)}function XP(t,e){const n=t.getValue("willChange");if($ge(n))return n.add(e)}function Vge({protectedKeys:t,needsAnimating:e},n){const r=t.hasOwnProperty(n)&&e[n]!==!0;return e[n]=!1,r}function FK(t,e,{delay:n=0,transitionOverride:r,type:i}={}){var s;let{transition:o=t.getDefaultTransition(),transitionEnd:a,...l}=e;r&&(o=r);const c=[],u=i&&t.animationState&&t.animationState.getState()[i];for(const d in l){const f=t.getValue(d,(s=t.latestValues[d])!==null&&s!==void 0?s:null),p=l[d];if(p===void 0||u&&Vge(u,d))continue;const m={delay:n,...I2(o||{},d)};let g=!1;if(window.MotionHandoffAnimation){const x=VK(t);if(x){const b=window.MotionHandoffAnimation(x,d,Ct);b!==null&&(m.startTime=b,g=!0)}}XP(t,d),f.start(q2(d,f,p,t.shouldReduceMotion&&ud.has(d)?{type:!1}:m,t,g));const v=f.animation;v&&c.push(v)}return a&&Promise.all(c).then(()=>{Ct.update(()=>{a&&Mge(t,a)})}),c}function JP(t,e,n={}){var r;const i=aS(t,e,n.type==="exit"?(r=t.presenceContext)===null||r===void 0?void 0:r.custom:void 0);let{transition:s=t.getDefaultTransition()||{}}=i||{};n.transitionOverride&&(s=n.transitionOverride);const o=i?()=>Promise.all(FK(t,i,n)):()=>Promise.resolve(),a=t.variantChildren&&t.variantChildren.size?(c=0)=>{const{delayChildren:u=0,staggerChildren:d,staggerDirection:f}=s;return Fge(t,e,u+c,d,f,n)}:()=>Promise.resolve(),{when:l}=s;if(l){const[c,u]=l==="beforeChildren"?[o,a]:[a,o];return c().then(()=>u())}else return Promise.all([o(),a(n.delay)])}function Fge(t,e,n=0,r=0,i=1,s){const o=[],a=(t.variantChildren.size-1)*r,l=i===1?(c=0)=>c*r:(c=0)=>a-c*r;return Array.from(t.variantChildren).sort(Bge).forEach((c,u)=>{c.notify("AnimationStart",e),o.push(JP(c,e,{...s,delay:n+l(u)}).then(()=>c.notify("AnimationComplete",e)))}),Promise.all(o)}function Bge(t,e){return t.sortNodePosition(e)}function Uge(t,e,n={}){t.notify("AnimationStart",e);let r;if(Array.isArray(e)){const i=e.map(s=>JP(t,s,n));r=Promise.all(i)}else if(typeof e=="string")r=JP(t,e,n);else{const i=typeof e=="function"?aS(t,e,n.custom):e;r=Promise.all(FK(t,i,n))}return r.then(()=>{t.notify("AnimationComplete",e)})}const zge=C2.length;function BK(t){if(!t)return;if(!t.isControllingVariants){const n=t.parent?BK(t.parent)||{}:{};return t.props.initial!==void 0&&(n.initial=t.props.initial),n}const e={};for(let n=0;n<zge;n++){const r=C2[n],i=t.props[r];(ny(i)||i===!1)&&(e[r]=i)}return e}const qge=[...P2].reverse(),Hge=P2.length;function Wge(t){return e=>Promise.all(e.map(({animation:n,options:r})=>Uge(t,n,r)))}function Kge(t){let e=Wge(t),n=C4(),r=!0;const i=l=>(c,u)=>{var d;const f=aS(t,u,l==="exit"?(d=t.presenceContext)===null||d===void 0?void 0:d.custom:void 0);if(f){const{transition:p,transitionEnd:m,...g}=f;c={...c,...g,...m}}return c};function s(l){e=l(t)}function o(l){const{props:c}=t,u=BK(t.parent)||{},d=[],f=new Set;let p={},m=1/0;for(let v=0;v<Hge;v++){const x=qge[v],b=n[x],w=c[x]!==void 0?c[x]:u[x],T=ny(w),_=x===l?b.isActive:null;_===!1&&(m=v);let k=w===u[x]&&w!==c[x]&&T;if(k&&r&&t.manuallyAnimateOnMount&&(k=!1),b.protectedKeys={...p},!b.isActive&&_===null||!w&&!b.prevProp||oS(w)||typeof w=="boolean")continue;const S=Gge(b.prevProp,w);let E=S||x===l&&b.isActive&&!k&&T||v>m&&T,P=!1;const O=Array.isArray(w)?w:[w];let N=O.reduce(i(x),{});_===!1&&(N={});const{prevResolvedValues:R={}}=b,j={...R,...N},z=B=>{E=!0,f.has(B)&&(P=!0,f.delete(B)),b.needsAnimating[B]=!0;const $=t.getValue(B);$&&($.liveStyle=!1)};for(const B in j){const $=N[B],U=R[B];if(p.hasOwnProperty(B))continue;let W=!1;UP($)&&UP(U)?W=!nK($,U):W=$!==U,W?$!=null?z(B):f.add(B):$!==void 0&&f.has(B)?z(B):b.protectedKeys[B]=!0}b.prevProp=w,b.prevResolvedValues=N,b.isActive&&(p={...p,...N}),r&&t.blockInitialAnimation&&(E=!1),E&&(!(k&&S)||P)&&d.push(...O.map(B=>({animation:B,options:{type:x}})))}if(f.size){const v={};f.forEach(x=>{const b=t.getBaseTarget(x),w=t.getValue(x);w&&(w.liveStyle=!0),v[x]=b??null}),d.push({animation:v})}let g=!!d.length;return r&&(c.initial===!1||c.initial===c.animate)&&!t.manuallyAnimateOnMount&&(g=!1),r=!1,g?e(d):Promise.resolve()}function a(l,c){var u;if(n[l].isActive===c)return Promise.resolve();(u=t.variantChildren)===null||u===void 0||u.forEach(f=>{var p;return(p=f.animationState)===null||p===void 0?void 0:p.setActive(l,c)}),n[l].isActive=c;const d=o(l);for(const f in n)n[f].protectedKeys={};return d}return{animateChanges:o,setActive:a,setAnimateFunction:s,getState:()=>n,reset:()=>{n=C4(),r=!0}}}function Gge(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!nK(e,t):!1}function Sc(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function C4(){return{animate:Sc(!0),whileInView:Sc(),whileHover:Sc(),whileTap:Sc(),whileDrag:Sc(),whileFocus:Sc(),exit:Sc()}}class ac{constructor(e){this.isMounted=!1,this.node=e}update(){}}class Qge extends ac{constructor(e){super(e),e.animationState||(e.animationState=Kge(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();oS(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:n}=this.node.prevProps||{};e!==n&&this.updateAnimationControlsSubscription()}unmount(){var e;this.node.animationState.reset(),(e=this.unmountControls)===null||e===void 0||e.call(this)}}let Yge=0;class Xge extends ac{constructor(){super(...arguments),this.id=Yge++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:n}=this.node.presenceContext,{isPresent:r}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===r)return;const i=this.node.animationState.setActive("exit",!e);n&&!e&&i.then(()=>n(this.id))}mount(){const{register:e}=this.node.presenceContext||{};e&&(this.unmount=e(this.id))}unmount(){}}const Jge={animation:{Feature:Qge},exit:{Feature:Xge}},UK=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1;function cS(t,e="page"){return{point:{x:t[`${e}X`],y:t[`${e}Y`]}}}const Zge=t=>e=>UK(e)&&t(e,cS(e));function zo(t,e,n,r={passive:!0}){return t.addEventListener(e,n,r),()=>t.removeEventListener(e,n)}function Jo(t,e,n,r){return zo(t,e,Zge(n),r)}const I4=(t,e)=>Math.abs(t-e);function eye(t,e){const n=I4(t.x,e.x),r=I4(t.y,e.y);return Math.sqrt(n**2+r**2)}class zK{constructor(e,n,{transformPagePoint:r,contextWindow:i,dragSnapToOrigin:s=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const d=jT(this.lastMoveEventInfo,this.history),f=this.startEvent!==null,p=eye(d.offset,{x:0,y:0})>=3;if(!f&&!p)return;const{point:m}=d,{timestamp:g}=tr;this.history.push({...m,timestamp:g});const{onStart:v,onMove:x}=this.handlers;f||(v&&v(this.lastMoveEvent,d),this.startEvent=this.lastMoveEvent),x&&x(this.lastMoveEvent,d)},this.handlePointerMove=(d,f)=>{this.lastMoveEvent=d,this.lastMoveEventInfo=NT(f,this.transformPagePoint),Ct.update(this.updatePoint,!0)},this.handlePointerUp=(d,f)=>{this.end();const{onEnd:p,onSessionEnd:m,resumeAnimation:g}=this.handlers;if(this.dragSnapToOrigin&&g&&g(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const v=jT(d.type==="pointercancel"?this.lastMoveEventInfo:NT(f,this.transformPagePoint),this.history);this.startEvent&&p&&p(d,v),m&&m(d,v)},!UK(e))return;this.dragSnapToOrigin=s,this.handlers=n,this.transformPagePoint=r,this.contextWindow=i||window;const o=cS(e),a=NT(o,this.transformPagePoint),{point:l}=a,{timestamp:c}=tr;this.history=[{...l,timestamp:c}];const{onSessionStart:u}=n;u&&u(e,jT(a,this.history)),this.removeListeners=Xo(Jo(this.contextWindow,"pointermove",this.handlePointerMove),Jo(this.contextWindow,"pointerup",this.handlePointerUp),Jo(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),Gl(this.updatePoint)}}function NT(t,e){return e?{point:e(t.point)}:t}function O4(t,e){return{x:t.x-e.x,y:t.y-e.y}}function jT({point:t},e){return{point:t,delta:O4(t,qK(e)),offset:O4(t,tye(e)),velocity:nye(e,.1)}}function tye(t){return t[0]}function qK(t){return t[t.length-1]}function nye(t,e){if(t.length<2)return{x:0,y:0};let n=t.length-1,r=null;const i=qK(t);for(;n>=0&&(r=t[n],!(i.timestamp-r.timestamp>Qo(e)));)n--;if(!r)return{x:0,y:0};const s=Yo(i.timestamp-r.timestamp);if(s===0)return{x:0,y:0};const o={x:(i.x-r.x)/s,y:(i.y-r.y)/s};return o.x===1/0&&(o.x=0),o.y===1/0&&(o.y=0),o}function HK(t){let e=null;return()=>{const n=()=>{e=null};return e===null?(e=t,n):!1}}const N4=HK("dragHorizontal"),j4=HK("dragVertical");function WK(t){let e=!1;if(t==="y")e=j4();else if(t==="x")e=N4();else{const n=N4(),r=j4();n&&r?e=()=>{n(),r()}:(n&&n(),r&&r())}return e}function KK(){const t=WK(!0);return t?(t(),!1):!0}function rf(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}const GK=1e-4,rye=1-GK,iye=1+GK,QK=.01,sye=0-QK,oye=0+QK;function Di(t){return t.max-t.min}function aye(t,e,n){return Math.abs(t-e)<=n}function R4(t,e,n,r=.5){t.origin=r,t.originPoint=on(e.min,e.max,t.origin),t.scale=Di(n)/Di(e),t.translate=on(n.min,n.max,t.origin)-t.originPoint,(t.scale>=rye&&t.scale<=iye||isNaN(t.scale))&&(t.scale=1),(t.translate>=sye&&t.translate<=oye||isNaN(t.translate))&&(t.translate=0)}function ig(t,e,n,r){R4(t.x,e.x,n.x,r?r.originX:void 0),R4(t.y,e.y,n.y,r?r.originY:void 0)}function D4(t,e,n){t.min=n.min+e.min,t.max=t.min+Di(e)}function lye(t,e,n){D4(t.x,e.x,n.x),D4(t.y,e.y,n.y)}function M4(t,e,n){t.min=e.min-n.min,t.max=t.min+Di(e)}function sg(t,e,n){M4(t.x,e.x,n.x),M4(t.y,e.y,n.y)}function cye(t,{min:e,max:n},r){return e!==void 0&&t<e?t=r?on(e,t,r.min):Math.max(t,e):n!==void 0&&t>n&&(t=r?on(n,t,r.max):Math.min(t,n)),t}function L4(t,e,n){return{min:e!==void 0?t.min+e:void 0,max:n!==void 0?t.max+n-(t.max-t.min):void 0}}function uye(t,{top:e,left:n,bottom:r,right:i}){return{x:L4(t.x,n,i),y:L4(t.y,e,r)}}function $4(t,e){let n=e.min-t.min,r=e.max-t.max;return e.max-e.min<t.max-t.min&&([n,r]=[r,n]),{min:n,max:r}}function dye(t,e){return{x:$4(t.x,e.x),y:$4(t.y,e.y)}}function fye(t,e){let n=.5;const r=Di(t),i=Di(e);return i>r?n=yh(e.min,e.max-r,t.min):r>i&&(n=yh(t.min,t.max-i,e.min)),Ql(0,1,n)}function hye(t,e){const n={};return e.min!==void 0&&(n.min=e.min-t.min),e.max!==void 0&&(n.max=e.max-t.min),n}const ZP=.35;function pye(t=ZP){return t===!1?t=0:t===!0&&(t=ZP),{x:V4(t,"left","right"),y:V4(t,"top","bottom")}}function V4(t,e,n){return{min:F4(t,e),max:F4(t,n)}}function F4(t,e){return typeof t=="number"?t:t[e]||0}const B4=()=>({translate:0,scale:1,origin:0,originPoint:0}),sf=()=>({x:B4(),y:B4()}),U4=()=>({min:0,max:0}),vn=()=>({x:U4(),y:U4()});function qi(t){return[t("x"),t("y")]}function YK({top:t,left:e,right:n,bottom:r}){return{x:{min:e,max:n},y:{min:t,max:r}}}function mye({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function gye(t,e){if(!e)return t;const n=e({x:t.left,y:t.top}),r=e({x:t.right,y:t.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}function RT(t){return t===void 0||t===1}function eC({scale:t,scaleX:e,scaleY:n}){return!RT(t)||!RT(e)||!RT(n)}function Oc(t){return eC(t)||XK(t)||t.z||t.rotate||t.rotateX||t.rotateY||t.skewX||t.skewY}function XK(t){return z4(t.x)||z4(t.y)}function z4(t){return t&&t!=="0%"}function sw(t,e,n){const r=t-n,i=e*r;return n+i}function q4(t,e,n,r,i){return i!==void 0&&(t=sw(t,i,r)),sw(t,n,r)+e}function tC(t,e=0,n=1,r,i){t.min=q4(t.min,e,n,r,i),t.max=q4(t.max,e,n,r,i)}function JK(t,{x:e,y:n}){tC(t.x,e.translate,e.scale,e.originPoint),tC(t.y,n.translate,n.scale,n.originPoint)}const H4=.999999999999,W4=1.0000000000001;function yye(t,e,n,r=!1){const i=n.length;if(!i)return;e.x=e.y=1;let s,o;for(let a=0;a<i;a++){s=n[a],o=s.projectionDelta;const{visualElement:l}=s.options;l&&l.props.style&&l.props.style.display==="contents"||(r&&s.options.layoutScroll&&s.scroll&&s!==s.root&&af(t,{x:-s.scroll.offset.x,y:-s.scroll.offset.y}),o&&(e.x*=o.x.scale,e.y*=o.y.scale,JK(t,o)),r&&Oc(s.latestValues)&&af(t,s.latestValues))}e.x<W4&&e.x>H4&&(e.x=1),e.y<W4&&e.y>H4&&(e.y=1)}function of(t,e){t.min=t.min+e,t.max=t.max+e}function K4(t,e,n,r,i=.5){const s=on(t.min,t.max,i);tC(t,e,n,s,r)}function af(t,e){K4(t.x,e.x,e.scaleX,e.scale,e.originX),K4(t.y,e.y,e.scaleY,e.scale,e.originY)}function ZK(t,e){return YK(gye(t.getBoundingClientRect(),e))}function vye(t,e,n){const r=ZK(t,n),{scroll:i}=e;return i&&(of(r.x,i.offset.x),of(r.y,i.offset.y)),r}const e7=({current:t})=>t?t.ownerDocument.defaultView:null,xye=new WeakMap;class bye{constructor(e){this.openGlobalLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=vn(),this.visualElement=e}start(e,{snapToCursor:n=!1}={}){const{presenceContext:r}=this.visualElement;if(r&&r.isPresent===!1)return;const i=u=>{const{dragSnapToOrigin:d}=this.getProps();d?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(cS(u,"page").point)},s=(u,d)=>{const{drag:f,dragPropagation:p,onDragStart:m}=this.getProps();if(f&&!p&&(this.openGlobalLock&&this.openGlobalLock(),this.openGlobalLock=WK(f),!this.openGlobalLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),qi(v=>{let x=this.getAxisMotionValue(v).get()||0;if(io.test(x)){const{projection:b}=this.visualElement;if(b&&b.layout){const w=b.layout.layoutBox[v];w&&(x=Di(w)*(parseFloat(x)/100))}}this.originPoint[v]=x}),m&&Ct.postRender(()=>m(u,d)),XP(this.visualElement,"transform");const{animationState:g}=this.visualElement;g&&g.setActive("whileDrag",!0)},o=(u,d)=>{const{dragPropagation:f,dragDirectionLock:p,onDirectionLock:m,onDrag:g}=this.getProps();if(!f&&!this.openGlobalLock)return;const{offset:v}=d;if(p&&this.currentDirection===null){this.currentDirection=wye(v),this.currentDirection!==null&&m&&m(this.currentDirection);return}this.updateAxis("x",d.point,v),this.updateAxis("y",d.point,v),this.visualElement.render(),g&&g(u,d)},a=(u,d)=>this.stop(u,d),l=()=>qi(u=>{var d;return this.getAnimationState(u)==="paused"&&((d=this.getAxisMotionValue(u).animation)===null||d===void 0?void 0:d.play())}),{dragSnapToOrigin:c}=this.getProps();this.panSession=new zK(e,{onSessionStart:i,onStart:s,onMove:o,onSessionEnd:a,resumeAnimation:l},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:c,contextWindow:e7(this.visualElement)})}stop(e,n){const r=this.isDragging;if(this.cancel(),!r)return;const{velocity:i}=n;this.startAnimation(i);const{onDragEnd:s}=this.getProps();s&&Ct.postRender(()=>s(e,n))}cancel(){this.isDragging=!1;const{projection:e,animationState:n}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openGlobalLock&&(this.openGlobalLock(),this.openGlobalLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(e,n,r){const{drag:i}=this.getProps();if(!r||!U0(e,i,this.currentDirection))return;const s=this.getAxisMotionValue(e);let o=this.originPoint[e]+r[e];this.constraints&&this.constraints[e]&&(o=cye(o,this.constraints[e],this.elastic[e])),s.set(o)}resolveConstraints(){var e;const{dragConstraints:n,dragElastic:r}=this.getProps(),i=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(e=this.visualElement.projection)===null||e===void 0?void 0:e.layout,s=this.constraints;n&&rf(n)?this.constraints||(this.constraints=this.resolveRefConstraints()):n&&i?this.constraints=uye(i.layoutBox,n):this.constraints=!1,this.elastic=pye(r),s!==this.constraints&&i&&this.constraints&&!this.hasMutatedConstraints&&qi(o=>{this.constraints!==!1&&this.getAxisMotionValue(o)&&(this.constraints[o]=hye(i.layoutBox[o],this.constraints[o]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:n}=this.getProps();if(!e||!rf(e))return!1;const r=e.current,{projection:i}=this.visualElement;if(!i||!i.layout)return!1;const s=vye(r,i.root,this.visualElement.getTransformPagePoint());let o=dye(i.layout.layoutBox,s);if(n){const a=n(mye(o));this.hasMutatedConstraints=!!a,a&&(o=YK(a))}return o}startAnimation(e){const{drag:n,dragMomentum:r,dragElastic:i,dragTransition:s,dragSnapToOrigin:o,onDragTransitionEnd:a}=this.getProps(),l=this.constraints||{},c=qi(u=>{if(!U0(u,n,this.currentDirection))return;let d=l&&l[u]||{};o&&(d={min:0,max:0});const f=i?200:1e6,p=i?40:1e7,m={type:"inertia",velocity:r?e[u]:0,bounceStiffness:f,bounceDamping:p,timeConstant:750,restDelta:1,restSpeed:10,...s,...d};return this.startAxisValueAnimation(u,m)});return Promise.all(c).then(a)}startAxisValueAnimation(e,n){const r=this.getAxisMotionValue(e);return XP(this.visualElement,e),r.start(q2(e,r,0,n,this.visualElement,!1))}stopAnimation(){qi(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){qi(e=>{var n;return(n=this.getAxisMotionValue(e).animation)===null||n===void 0?void 0:n.pause()})}getAnimationState(e){var n;return(n=this.getAxisMotionValue(e).animation)===null||n===void 0?void 0:n.state}getAxisMotionValue(e){const n=`_drag${e.toUpperCase()}`,r=this.visualElement.getProps(),i=r[n];return i||this.visualElement.getValue(e,(r.initial?r.initial[e]:void 0)||0)}snapToCursor(e){qi(n=>{const{drag:r}=this.getProps();if(!U0(n,r,this.currentDirection))return;const{projection:i}=this.visualElement,s=this.getAxisMotionValue(n);if(i&&i.layout){const{min:o,max:a}=i.layout.layoutBox[n];s.set(e[n]-on(o,a,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:n}=this.getProps(),{projection:r}=this.visualElement;if(!rf(n)||!r||!this.constraints)return;this.stopAnimation();const i={x:0,y:0};qi(o=>{const a=this.getAxisMotionValue(o);if(a&&this.constraints!==!1){const l=a.get();i[o]=fye({min:l,max:l},this.constraints[o])}});const{transformTemplate:s}=this.visualElement.getProps();this.visualElement.current.style.transform=s?s({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),qi(o=>{if(!U0(o,e,null))return;const a=this.getAxisMotionValue(o),{min:l,max:c}=this.constraints[o];a.set(on(l,c,i[o]))})}addListeners(){if(!this.visualElement.current)return;xye.set(this.visualElement,this);const e=this.visualElement.current,n=Jo(e,"pointerdown",l=>{const{drag:c,dragListener:u=!0}=this.getProps();c&&u&&this.start(l)}),r=()=>{const{dragConstraints:l}=this.getProps();rf(l)&&l.current&&(this.constraints=this.resolveRefConstraints())},{projection:i}=this.visualElement,s=i.addEventListener("measure",r);i&&!i.layout&&(i.root&&i.root.updateScroll(),i.updateLayout()),Ct.read(r);const o=zo(window,"resize",()=>this.scalePositionWithinConstraints()),a=i.addEventListener("didUpdate",({delta:l,hasLayoutChanged:c})=>{this.isDragging&&c&&(qi(u=>{const d=this.getAxisMotionValue(u);d&&(this.originPoint[u]+=l[u].translate,d.set(d.get()+l[u].translate))}),this.visualElement.render())});return()=>{o(),n(),s(),a&&a()}}getProps(){const e=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:r=!1,dragPropagation:i=!1,dragConstraints:s=!1,dragElastic:o=ZP,dragMomentum:a=!0}=e;return{...e,drag:n,dragDirectionLock:r,dragPropagation:i,dragConstraints:s,dragElastic:o,dragMomentum:a}}}function U0(t,e,n){return(e===!0||e===t)&&(n===null||n===t)}function wye(t,e=10){let n=null;return Math.abs(t.y)>e?n="y":Math.abs(t.x)>e&&(n="x"),n}class _ye extends ac{constructor(e){super(e),this.removeGroupControls=Ar,this.removeListeners=Ar,this.controls=new bye(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Ar}unmount(){this.removeGroupControls(),this.removeListeners()}}const G4=t=>(e,n)=>{t&&Ct.postRender(()=>t(e,n))};class Sye extends ac{constructor(){super(...arguments),this.removePointerDownListener=Ar}onPointerDown(e){this.session=new zK(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:e7(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:n,onPan:r,onPanEnd:i}=this.node.getProps();return{onSessionStart:G4(e),onStart:G4(n),onMove:r,onEnd:(s,o)=>{delete this.session,i&&Ct.postRender(()=>i(s,o))}}}mount(){this.removePointerDownListener=Jo(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const uS=C.createContext(null);function Eye(){const t=C.useContext(uS);if(t===null)return[!0,null];const{isPresent:e,onExitComplete:n,register:r}=t,i=C.useId();C.useEffect(()=>r(i),[]);const s=C.useCallback(()=>n&&n(i),[i,n]);return!e&&n?[!1,s]:[!0]}const Q2=C.createContext({}),t7=C.createContext({}),Yx={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function Q4(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const im={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(Re.test(t))t=parseFloat(t);else return t;const n=Q4(t,e.target.x),r=Q4(t,e.target.y);return`${n}% ${r}%`}},Tye={correct:(t,{treeScale:e,projectionDelta:n})=>{const r=t,i=Yl.parse(t);if(i.length>5)return r;const s=Yl.createTransformer(t),o=typeof i[0]!="number"?1:0,a=n.x.scale*e.x,l=n.y.scale*e.y;i[0+o]/=a,i[1+o]/=l;const c=on(a,l,.5);return typeof i[2+o]=="number"&&(i[2+o]/=c),typeof i[3+o]=="number"&&(i[3+o]/=c),s(i)}},ow={};function Aye(t){Object.assign(ow,t)}const{schedule:Y2,cancel:EYe}=rK(queueMicrotask,!1);class kye extends C.Component{componentDidMount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r,layoutId:i}=this.props,{projection:s}=e;Aye(Pye),s&&(n.group&&n.group.add(s),r&&r.register&&i&&r.register(s),s.root.didUpdate(),s.addEventListener("animationComplete",()=>{this.safeToRemove()}),s.setOptions({...s.options,onExitComplete:()=>this.safeToRemove()})),Yx.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:n,visualElement:r,drag:i,isPresent:s}=this.props,o=r.projection;return o&&(o.isPresent=s,i||e.layoutDependency!==n||n===void 0?o.willUpdate():this.safeToRemove(),e.isPresent!==s&&(s?o.promote():o.relegate()||Ct.postRender(()=>{const a=o.getStack();(!a||!a.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),Y2.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r}=this.props,{projection:i}=e;i&&(i.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(i),r&&r.deregister&&r.deregister(i))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function n7(t){const[e,n]=Eye(),r=C.useContext(Q2);return h.jsx(kye,{...t,layoutGroup:r,switchLayoutGroup:C.useContext(t7),isPresent:e,safeToRemove:n})}const Pye={borderRadius:{...im,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:im,borderTopRightRadius:im,borderBottomLeftRadius:im,borderBottomRightRadius:im,boxShadow:Tye},r7=["TopLeft","TopRight","BottomLeft","BottomRight"],Cye=r7.length,Y4=t=>typeof t=="string"?parseFloat(t):t,X4=t=>typeof t=="number"||Re.test(t);function Iye(t,e,n,r,i,s){i?(t.opacity=on(0,n.opacity!==void 0?n.opacity:1,Oye(r)),t.opacityExit=on(e.opacity!==void 0?e.opacity:1,0,Nye(r))):s&&(t.opacity=on(e.opacity!==void 0?e.opacity:1,n.opacity!==void 0?n.opacity:1,r));for(let o=0;o<Cye;o++){const a=`border${r7[o]}Radius`;let l=J4(e,a),c=J4(n,a);if(l===void 0&&c===void 0)continue;l||(l=0),c||(c=0),l===0||c===0||X4(l)===X4(c)?(t[a]=Math.max(on(Y4(l),Y4(c),r),0),(io.test(c)||io.test(l))&&(t[a]+="%")):t[a]=c}(e.rotate||n.rotate)&&(t.rotate=on(e.rotate||0,n.rotate||0,r))}function J4(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const Oye=i7(0,.5,uK),Nye=i7(.5,.95,Ar);function i7(t,e,n){return r=>r<t?0:r>e?1:n(yh(t,e,r))}function Z4(t,e){t.min=e.min,t.max=e.max}function $i(t,e){Z4(t.x,e.x),Z4(t.y,e.y)}function eV(t,e){t.translate=e.translate,t.scale=e.scale,t.originPoint=e.originPoint,t.origin=e.origin}function tV(t,e,n,r,i){return t-=e,t=sw(t,1/n,r),i!==void 0&&(t=sw(t,1/i,r)),t}function jye(t,e=0,n=1,r=.5,i,s=t,o=t){if(io.test(e)&&(e=parseFloat(e),e=on(o.min,o.max,e/100)-o.min),typeof e!="number")return;let a=on(s.min,s.max,r);t===s&&(a-=e),t.min=tV(t.min,e,n,a,i),t.max=tV(t.max,e,n,a,i)}function nV(t,e,[n,r,i],s,o){jye(t,e[n],e[r],e[i],e.scale,s,o)}const Rye=["x","scaleX","originX"],Dye=["y","scaleY","originY"];function rV(t,e,n,r){nV(t.x,e,Rye,n?n.x:void 0,r?r.x:void 0),nV(t.y,e,Dye,n?n.y:void 0,r?r.y:void 0)}function iV(t){return t.translate===0&&t.scale===1}function s7(t){return iV(t.x)&&iV(t.y)}function sV(t,e){return t.min===e.min&&t.max===e.max}function Mye(t,e){return sV(t.x,e.x)&&sV(t.y,e.y)}function oV(t,e){return Math.round(t.min)===Math.round(e.min)&&Math.round(t.max)===Math.round(e.max)}function o7(t,e){return oV(t.x,e.x)&&oV(t.y,e.y)}function aV(t){return Di(t.x)/Di(t.y)}function lV(t,e){return t.translate===e.translate&&t.scale===e.scale&&t.originPoint===e.originPoint}class Lye{constructor(){this.members=[]}add(e){H2(this.members,e),e.scheduleRender()}remove(e){if(W2(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(e){const n=this.members.findIndex(i=>e===i);if(n===0)return!1;let r;for(let i=n;i>=0;i--){const s=this.members[i];if(s.isPresent!==!1){r=s;break}}return r?(this.promote(r),!0):!1}promote(e,n){const r=this.lead;if(e!==r&&(this.prevLead=r,this.lead=e,e.show(),r)){r.instance&&r.scheduleRender(),e.scheduleRender(),e.resumeFrom=r,n&&(e.resumeFrom.preserveOpacity=!0),r.snapshot&&(e.snapshot=r.snapshot,e.snapshot.latestValues=r.animationValues||r.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:i}=e.options;i===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:n,resumingFrom:r}=e;n.onExitComplete&&n.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function $ye(t,e,n){let r="";const i=t.x.translate/e.x,s=t.y.translate/e.y,o=(n==null?void 0:n.z)||0;if((i||s||o)&&(r=`translate3d(${i}px, ${s}px, ${o}px) `),(e.x!==1||e.y!==1)&&(r+=`scale(${1/e.x}, ${1/e.y}) `),n){const{transformPerspective:c,rotate:u,rotateX:d,rotateY:f,skewX:p,skewY:m}=n;c&&(r=`perspective(${c}px) ${r}`),u&&(r+=`rotate(${u}deg) `),d&&(r+=`rotateX(${d}deg) `),f&&(r+=`rotateY(${f}deg) `),p&&(r+=`skewX(${p}deg) `),m&&(r+=`skewY(${m}deg) `)}const a=t.x.scale*e.x,l=t.y.scale*e.y;return(a!==1||l!==1)&&(r+=`scale(${a}, ${l})`),r||"none"}const Vye=(t,e)=>t.depth-e.depth;class Fye{constructor(){this.children=[],this.isDirty=!1}add(e){H2(this.children,e),this.isDirty=!0}remove(e){W2(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(Vye),this.isDirty=!1,this.children.forEach(e)}}function Xx(t){const e=Sr(t)?t.get():t;return Oge(e)?e.toValue():e}function Bye(t,e){const n=so.now(),r=({timestamp:i})=>{const s=i-n;s>=e&&(Gl(r),t(s-e))};return Ct.read(r,!0),()=>Gl(r)}function Uye(t){return t instanceof SVGElement&&t.tagName!=="svg"}function zye(t,e,n){const r=Sr(t)?t:sy(t);return r.start(q2("",r,e,n)),r.animation}const Nc={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0},Mm=typeof window<"u"&&window.MotionDebug!==void 0,DT=["","X","Y","Z"],qye={visibility:"hidden"},cV=1e3;let Hye=0;function MT(t,e,n,r){const{latestValues:i}=e;i[t]&&(n[t]=i[t],e.setStaticValue(t,0),r&&(r[t]=0))}function a7(t){if(t.hasCheckedOptimisedAppear=!0,t.root===t)return;const{visualElement:e}=t.options;if(!e)return;const n=VK(e);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:i,layoutId:s}=t.options;window.MotionCancelOptimisedAnimation(n,"transform",Ct,!(i||s))}const{parent:r}=t;r&&!r.hasCheckedOptimisedAppear&&a7(r)}function l7({attachResizeListener:t,defaultParent:e,measureScroll:n,checkIsScrollRoot:r,resetTransform:i}){return class{constructor(o={},a=e==null?void 0:e()){this.id=Hye++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,Mm&&(Nc.totalNodes=Nc.resolvedTargetDeltas=Nc.recalculatedProjection=0),this.nodes.forEach(Gye),this.nodes.forEach(Zye),this.nodes.forEach(eve),this.nodes.forEach(Qye),Mm&&window.MotionDebug.record(Nc)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=o,this.root=a?a.root||a:this,this.path=a?[...a.path,a]:[],this.parent=a,this.depth=a?a.depth+1:0;for(let l=0;l<this.path.length;l++)this.path[l].shouldResetTransform=!0;this.root===this&&(this.nodes=new Fye)}addEventListener(o,a){return this.eventHandlers.has(o)||this.eventHandlers.set(o,new K2),this.eventHandlers.get(o).add(a)}notifyListeners(o,...a){const l=this.eventHandlers.get(o);l&&l.notify(...a)}hasListeners(o){return this.eventHandlers.has(o)}mount(o,a=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=Uye(o),this.instance=o;const{layoutId:l,layout:c,visualElement:u}=this.options;if(u&&!u.current&&u.mount(o),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),a&&(c||l)&&(this.isLayoutDirty=!0),t){let d;const f=()=>this.root.updateBlockedByResize=!1;t(o,()=>{this.root.updateBlockedByResize=!0,d&&d(),d=Bye(f,250),Yx.hasAnimatedSinceResize&&(Yx.hasAnimatedSinceResize=!1,this.nodes.forEach(dV))})}l&&this.root.registerSharedNode(l,this),this.options.animate!==!1&&u&&(l||c)&&this.addEventListener("didUpdate",({delta:d,hasLayoutChanged:f,hasRelativeTargetChanged:p,layout:m})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const g=this.options.transition||u.getDefaultTransition()||sve,{onLayoutAnimationStart:v,onLayoutAnimationComplete:x}=u.getProps(),b=!this.targetLayout||!o7(this.targetLayout,m)||p,w=!f&&p;if(this.options.layoutRoot||this.resumeFrom&&this.resumeFrom.instance||w||f&&(b||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(d,w);const T={...I2(g,"layout"),onPlay:v,onComplete:x};(u.shouldReduceMotion||this.options.layoutRoot)&&(T.delay=0,T.type=!1),this.startAnimation(T)}else f||dV(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=m})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const o=this.getStack();o&&o.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,Gl(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(tve),this.animationId++)}getTransformTemplate(){const{visualElement:o}=this.options;return o&&o.getProps().transformTemplate}willUpdate(o=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&a7(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let u=0;u<this.path.length;u++){const d=this.path[u];d.shouldResetTransform=!0,d.updateScroll("snapshot"),d.options.layoutRoot&&d.willUpdate(!1)}const{layoutId:a,layout:l}=this.options;if(a===void 0&&!l)return;const c=this.getTransformTemplate();this.prevTransformTemplateValue=c?c(this.latestValues,""):void 0,this.updateSnapshot(),o&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(uV);return}this.isUpdating||this.nodes.forEach(Xye),this.isUpdating=!1,this.nodes.forEach(Jye),this.nodes.forEach(Wye),this.nodes.forEach(Kye),this.clearAllSnapshots();const a=so.now();tr.delta=Ql(0,1e3/60,a-tr.timestamp),tr.timestamp=a,tr.isProcessing=!0,kT.update.process(tr),kT.preRender.process(tr),kT.render.process(tr),tr.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,Y2.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(Yye),this.sharedNodes.forEach(nve)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,Ct.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){Ct.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure())}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let l=0;l<this.path.length;l++)this.path[l].updateScroll();const o=this.layout;this.layout=this.measure(!1),this.layoutCorrected=vn(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:a}=this.options;a&&a.notify("LayoutMeasure",this.layout.layoutBox,o?o.layoutBox:void 0)}updateScroll(o="measure"){let a=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===o&&(a=!1),a){const l=r(this.instance);this.scroll={animationId:this.root.animationId,phase:o,isRoot:l,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:l}}}resetTransform(){if(!i)return;const o=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,a=this.projectionDelta&&!s7(this.projectionDelta),l=this.getTransformTemplate(),c=l?l(this.latestValues,""):void 0,u=c!==this.prevTransformTemplateValue;o&&(a||Oc(this.latestValues)||u)&&(i(this.instance,c),this.shouldResetTransform=!1,this.scheduleRender())}measure(o=!0){const a=this.measurePageBox();let l=this.removeElementScroll(a);return o&&(l=this.removeTransform(l)),ove(l),{animationId:this.root.animationId,measuredBox:a,layoutBox:l,latestValues:{},source:this.id}}measurePageBox(){var o;const{visualElement:a}=this.options;if(!a)return vn();const l=a.measureViewportBox();if(!(((o=this.scroll)===null||o===void 0?void 0:o.wasRoot)||this.path.some(ave))){const{scroll:u}=this.root;u&&(of(l.x,u.offset.x),of(l.y,u.offset.y))}return l}removeElementScroll(o){var a;const l=vn();if($i(l,o),!((a=this.scroll)===null||a===void 0)&&a.wasRoot)return l;for(let c=0;c<this.path.length;c++){const u=this.path[c],{scroll:d,options:f}=u;u!==this.root&&d&&f.layoutScroll&&(d.wasRoot&&$i(l,o),of(l.x,d.offset.x),of(l.y,d.offset.y))}return l}applyTransform(o,a=!1){const l=vn();$i(l,o);for(let c=0;c<this.path.length;c++){const u=this.path[c];!a&&u.options.layoutScroll&&u.scroll&&u!==u.root&&af(l,{x:-u.scroll.offset.x,y:-u.scroll.offset.y}),Oc(u.latestValues)&&af(l,u.latestValues)}return Oc(this.latestValues)&&af(l,this.latestValues),l}removeTransform(o){const a=vn();$i(a,o);for(let l=0;l<this.path.length;l++){const c=this.path[l];if(!c.instance||!Oc(c.latestValues))continue;eC(c.latestValues)&&c.updateSnapshot();const u=vn(),d=c.measurePageBox();$i(u,d),rV(a,c.latestValues,c.snapshot?c.snapshot.layoutBox:void 0,u)}return Oc(this.latestValues)&&rV(a,this.latestValues),a}setTargetDelta(o){this.targetDelta=o,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(o){this.options={...this.options,...o,crossfade:o.crossfade!==void 0?o.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==tr.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(o=!1){var a;const l=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=l.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=l.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=l.isSharedProjectionDirty);const c=!!this.resumingFrom||this!==l;if(!(o||c&&this.isSharedProjectionDirty||this.isProjectionDirty||!((a=this.parent)===null||a===void 0)&&a.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:d,layoutId:f}=this.options;if(!(!this.layout||!(d||f))){if(this.resolvedRelativeTargetAt=tr.timestamp,!this.targetDelta&&!this.relativeTarget){const p=this.getClosestProjectingParent();p&&p.layout&&this.animationProgress!==1?(this.relativeParent=p,this.forceRelativeParentToResolveTarget(),this.relativeTarget=vn(),this.relativeTargetOrigin=vn(),sg(this.relativeTargetOrigin,this.layout.layoutBox,p.layout.layoutBox),$i(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)){if(this.target||(this.target=vn(),this.targetWithTransforms=vn()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),lye(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):$i(this.target,this.layout.layoutBox),JK(this.target,this.targetDelta)):$i(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const p=this.getClosestProjectingParent();p&&!!p.resumingFrom==!!this.resumingFrom&&!p.options.layoutScroll&&p.target&&this.animationProgress!==1?(this.relativeParent=p,this.forceRelativeParentToResolveTarget(),this.relativeTarget=vn(),this.relativeTargetOrigin=vn(),sg(this.relativeTargetOrigin,this.target,p.target),$i(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}Mm&&Nc.resolvedTargetDeltas++}}}getClosestProjectingParent(){if(!(!this.parent||eC(this.parent.latestValues)||XK(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var o;const a=this.getLead(),l=!!this.resumingFrom||this!==a;let c=!0;if((this.isProjectionDirty||!((o=this.parent)===null||o===void 0)&&o.isProjectionDirty)&&(c=!1),l&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(c=!1),this.resolvedRelativeTargetAt===tr.timestamp&&(c=!1),c)return;const{layout:u,layoutId:d}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(u||d))return;$i(this.layoutCorrected,this.layout.layoutBox);const f=this.treeScale.x,p=this.treeScale.y;yye(this.layoutCorrected,this.treeScale,this.path,l),a.layout&&!a.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(a.target=a.layout.layoutBox,a.targetWithTransforms=vn());const{target:m}=a;if(!m){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(eV(this.prevProjectionDelta.x,this.projectionDelta.x),eV(this.prevProjectionDelta.y,this.projectionDelta.y)),ig(this.projectionDelta,this.layoutCorrected,m,this.latestValues),(this.treeScale.x!==f||this.treeScale.y!==p||!lV(this.projectionDelta.x,this.prevProjectionDelta.x)||!lV(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",m)),Mm&&Nc.recalculatedProjection++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(o=!0){var a;if((a=this.options.visualElement)===null||a===void 0||a.scheduleRender(),o){const l=this.getStack();l&&l.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=sf(),this.projectionDelta=sf(),this.projectionDeltaWithTransform=sf()}setAnimationOrigin(o,a=!1){const l=this.snapshot,c=l?l.latestValues:{},u={...this.latestValues},d=sf();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!a;const f=vn(),p=l?l.source:void 0,m=this.layout?this.layout.source:void 0,g=p!==m,v=this.getStack(),x=!v||v.members.length<=1,b=!!(g&&!x&&this.options.crossfade===!0&&!this.path.some(ive));this.animationProgress=0;let w;this.mixTargetDelta=T=>{const _=T/1e3;fV(d.x,o.x,_),fV(d.y,o.y,_),this.setTargetDelta(d),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(sg(f,this.layout.layoutBox,this.relativeParent.layout.layoutBox),rve(this.relativeTarget,this.relativeTargetOrigin,f,_),w&&Mye(this.relativeTarget,w)&&(this.isProjectionDirty=!1),w||(w=vn()),$i(w,this.relativeTarget)),g&&(this.animationValues=u,Iye(u,c,this.latestValues,_,b,x)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=_},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(o){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(Gl(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=Ct.update(()=>{Yx.hasAnimatedSinceResize=!0,this.currentAnimation=zye(0,cV,{...o,onUpdate:a=>{this.mixTargetDelta(a),o.onUpdate&&o.onUpdate(a)},onComplete:()=>{o.onComplete&&o.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const o=this.getStack();o&&o.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(cV),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const o=this.getLead();let{targetWithTransforms:a,target:l,layout:c,latestValues:u}=o;if(!(!a||!l||!c)){if(this!==o&&this.layout&&c&&c7(this.options.animationType,this.layout.layoutBox,c.layoutBox)){l=this.target||vn();const d=Di(this.layout.layoutBox.x);l.x.min=o.target.x.min,l.x.max=l.x.min+d;const f=Di(this.layout.layoutBox.y);l.y.min=o.target.y.min,l.y.max=l.y.min+f}$i(a,l),af(a,u),ig(this.projectionDeltaWithTransform,this.layoutCorrected,a,u)}}registerSharedNode(o,a){this.sharedNodes.has(o)||this.sharedNodes.set(o,new Lye),this.sharedNodes.get(o).add(a);const c=a.options.initialPromotionConfig;a.promote({transition:c?c.transition:void 0,preserveFollowOpacity:c&&c.shouldPreserveFollowOpacity?c.shouldPreserveFollowOpacity(a):void 0})}isLead(){const o=this.getStack();return o?o.lead===this:!0}getLead(){var o;const{layoutId:a}=this.options;return a?((o=this.getStack())===null||o===void 0?void 0:o.lead)||this:this}getPrevLead(){var o;const{layoutId:a}=this.options;return a?(o=this.getStack())===null||o===void 0?void 0:o.prevLead:void 0}getStack(){const{layoutId:o}=this.options;if(o)return this.root.sharedNodes.get(o)}promote({needsReset:o,transition:a,preserveFollowOpacity:l}={}){const c=this.getStack();c&&c.promote(this,l),o&&(this.projectionDelta=void 0,this.needsReset=!0),a&&this.setOptions({transition:a})}relegate(){const o=this.getStack();return o?o.relegate(this):!1}resetSkewAndRotation(){const{visualElement:o}=this.options;if(!o)return;let a=!1;const{latestValues:l}=o;if((l.z||l.rotate||l.rotateX||l.rotateY||l.rotateZ||l.skewX||l.skewY)&&(a=!0),!a)return;const c={};l.z&&MT("z",o,c,this.animationValues);for(let u=0;u<DT.length;u++)MT(`rotate${DT[u]}`,o,c,this.animationValues),MT(`skew${DT[u]}`,o,c,this.animationValues);o.render();for(const u in c)o.setStaticValue(u,c[u]),this.animationValues&&(this.animationValues[u]=c[u]);o.scheduleRender()}getProjectionStyles(o){var a,l;if(!this.instance||this.isSVG)return;if(!this.isVisible)return qye;const c={visibility:""},u=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,c.opacity="",c.pointerEvents=Xx(o==null?void 0:o.pointerEvents)||"",c.transform=u?u(this.latestValues,""):"none",c;const d=this.getLead();if(!this.projectionDelta||!this.layout||!d.target){const g={};return this.options.layoutId&&(g.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,g.pointerEvents=Xx(o==null?void 0:o.pointerEvents)||""),this.hasProjected&&!Oc(this.latestValues)&&(g.transform=u?u({},""):"none",this.hasProjected=!1),g}const f=d.animationValues||d.latestValues;this.applyTransformsToTarget(),c.transform=$ye(this.projectionDeltaWithTransform,this.treeScale,f),u&&(c.transform=u(f,c.transform));const{x:p,y:m}=this.projectionDelta;c.transformOrigin=`${p.origin*100}% ${m.origin*100}% 0`,d.animationValues?c.opacity=d===this?(l=(a=f.opacity)!==null&&a!==void 0?a:this.latestValues.opacity)!==null&&l!==void 0?l:1:this.preserveOpacity?this.latestValues.opacity:f.opacityExit:c.opacity=d===this?f.opacity!==void 0?f.opacity:"":f.opacityExit!==void 0?f.opacityExit:0;for(const g in ow){if(f[g]===void 0)continue;const{correct:v,applyTo:x}=ow[g],b=c.transform==="none"?f[g]:v(f[g],d);if(x){const w=x.length;for(let T=0;T<w;T++)c[x[T]]=b}else c[g]=b}return this.options.layoutId&&(c.pointerEvents=d===this?Xx(o==null?void 0:o.pointerEvents)||"":"none"),c}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(o=>{var a;return(a=o.currentAnimation)===null||a===void 0?void 0:a.stop()}),this.root.nodes.forEach(uV),this.root.sharedNodes.clear()}}}function Wye(t){t.updateLayout()}function Kye(t){var e;const n=((e=t.resumeFrom)===null||e===void 0?void 0:e.snapshot)||t.snapshot;if(t.isLead()&&t.layout&&n&&t.hasListeners("didUpdate")){const{layoutBox:r,measuredBox:i}=t.layout,{animationType:s}=t.options,o=n.source!==t.layout.source;s==="size"?qi(d=>{const f=o?n.measuredBox[d]:n.layoutBox[d],p=Di(f);f.min=r[d].min,f.max=f.min+p}):c7(s,n.layoutBox,r)&&qi(d=>{const f=o?n.measuredBox[d]:n.layoutBox[d],p=Di(r[d]);f.max=f.min+p,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[d].max=t.relativeTarget[d].min+p)});const a=sf();ig(a,r,n.layoutBox);const l=sf();o?ig(l,t.applyTransform(i,!0),n.measuredBox):ig(l,r,n.layoutBox);const c=!s7(a);let u=!1;if(!t.resumeFrom){const d=t.getClosestProjectingParent();if(d&&!d.resumeFrom){const{snapshot:f,layout:p}=d;if(f&&p){const m=vn();sg(m,n.layoutBox,f.layoutBox);const g=vn();sg(g,r,p.layoutBox),o7(m,g)||(u=!0),d.options.layoutRoot&&(t.relativeTarget=g,t.relativeTargetOrigin=m,t.relativeParent=d)}}}t.notifyListeners("didUpdate",{layout:r,snapshot:n,delta:l,layoutDelta:a,hasLayoutChanged:c,hasRelativeTargetChanged:u})}else if(t.isLead()){const{onExitComplete:r}=t.options;r&&r()}t.options.transition=void 0}function Gye(t){Mm&&Nc.totalNodes++,t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function Qye(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function Yye(t){t.clearSnapshot()}function uV(t){t.clearMeasurements()}function Xye(t){t.isLayoutDirty=!1}function Jye(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function dV(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function Zye(t){t.resolveTargetDelta()}function eve(t){t.calcProjection()}function tve(t){t.resetSkewAndRotation()}function nve(t){t.removeLeadSnapshot()}function fV(t,e,n){t.translate=on(e.translate,0,n),t.scale=on(e.scale,1,n),t.origin=e.origin,t.originPoint=e.originPoint}function hV(t,e,n,r){t.min=on(e.min,n.min,r),t.max=on(e.max,n.max,r)}function rve(t,e,n,r){hV(t.x,e.x,n.x,r),hV(t.y,e.y,n.y,r)}function ive(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const sve={duration:.45,ease:[.4,0,.1,1]},pV=t=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(t),mV=pV("applewebkit/")&&!pV("chrome/")?Math.round:Ar;function gV(t){t.min=mV(t.min),t.max=mV(t.max)}function ove(t){gV(t.x),gV(t.y)}function c7(t,e,n){return t==="position"||t==="preserve-aspect"&&!aye(aV(e),aV(n),.2)}function ave(t){var e;return t!==t.root&&((e=t.scroll)===null||e===void 0?void 0:e.wasRoot)}const lve=l7({attachResizeListener:(t,e)=>zo(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),LT={current:void 0},u7=l7({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!LT.current){const t=new lve({});t.mount(window),t.setOptions({layoutScroll:!0}),LT.current=t}return LT.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),cve={pan:{Feature:Sye},drag:{Feature:_ye,ProjectionNode:u7,MeasureLayout:n7}};function yV(t,e){const n=e?"pointerenter":"pointerleave",r=e?"onHoverStart":"onHoverEnd",i=(s,o)=>{if(s.pointerType==="touch"||KK())return;const a=t.getProps();t.animationState&&a.whileHover&&t.animationState.setActive("whileHover",e);const l=a[r];l&&Ct.postRender(()=>l(s,o))};return Jo(t.current,n,i,{passive:!t.getProps()[r]})}class uve extends ac{mount(){this.unmount=Xo(yV(this.node,!0),yV(this.node,!1))}unmount(){}}class dve extends ac{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Xo(zo(this.node.current,"focus",()=>this.onFocus()),zo(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}const d7=(t,e)=>e?t===e?!0:d7(t,e.parentElement):!1;function $T(t,e){if(!e)return;const n=new PointerEvent("pointer"+t);e(n,cS(n))}class fve extends ac{constructor(){super(...arguments),this.removeStartListeners=Ar,this.removeEndListeners=Ar,this.removeAccessibleListeners=Ar,this.startPointerPress=(e,n)=>{if(this.isPressing)return;this.removeEndListeners();const r=this.node.getProps(),s=Jo(window,"pointerup",(a,l)=>{if(!this.checkPressEnd())return;const{onTap:c,onTapCancel:u,globalTapTarget:d}=this.node.getProps(),f=!d&&!d7(this.node.current,a.target)?u:c;f&&Ct.update(()=>f(a,l))},{passive:!(r.onTap||r.onPointerUp)}),o=Jo(window,"pointercancel",(a,l)=>this.cancelPress(a,l),{passive:!(r.onTapCancel||r.onPointerCancel)});this.removeEndListeners=Xo(s,o),this.startPress(e,n)},this.startAccessiblePress=()=>{const e=s=>{if(s.key!=="Enter"||this.isPressing)return;const o=a=>{a.key!=="Enter"||!this.checkPressEnd()||$T("up",(l,c)=>{const{onTap:u}=this.node.getProps();u&&Ct.postRender(()=>u(l,c))})};this.removeEndListeners(),this.removeEndListeners=zo(this.node.current,"keyup",o),$T("down",(a,l)=>{this.startPress(a,l)})},n=zo(this.node.current,"keydown",e),r=()=>{this.isPressing&&$T("cancel",(s,o)=>this.cancelPress(s,o))},i=zo(this.node.current,"blur",r);this.removeAccessibleListeners=Xo(n,i)}}startPress(e,n){this.isPressing=!0;const{onTapStart:r,whileTap:i}=this.node.getProps();i&&this.node.animationState&&this.node.animationState.setActive("whileTap",!0),r&&Ct.postRender(()=>r(e,n))}checkPressEnd(){return this.removeEndListeners(),this.isPressing=!1,this.node.getProps().whileTap&&this.node.animationState&&this.node.animationState.setActive("whileTap",!1),!KK()}cancelPress(e,n){if(!this.checkPressEnd())return;const{onTapCancel:r}=this.node.getProps();r&&Ct.postRender(()=>r(e,n))}mount(){const e=this.node.getProps(),n=Jo(e.globalTapTarget?window:this.node.current,"pointerdown",this.startPointerPress,{passive:!(e.onTapStart||e.onPointerStart)}),r=zo(this.node.current,"focus",this.startAccessiblePress);this.removeStartListeners=Xo(n,r)}unmount(){this.removeStartListeners(),this.removeEndListeners(),this.removeAccessibleListeners()}}const nC=new WeakMap,VT=new WeakMap,hve=t=>{const e=nC.get(t.target);e&&e(t)},pve=t=>{t.forEach(hve)};function mve({root:t,...e}){const n=t||document;VT.has(n)||VT.set(n,{});const r=VT.get(n),i=JSON.stringify(e);return r[i]||(r[i]=new IntersectionObserver(pve,{root:t,...e})),r[i]}function gve(t,e,n){const r=mve(e);return nC.set(t,n),r.observe(t),()=>{nC.delete(t),r.unobserve(t)}}const yve={some:0,all:1};class vve extends ac{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:n,margin:r,amount:i="some",once:s}=e,o={root:n?n.current:void 0,rootMargin:r,threshold:typeof i=="number"?i:yve[i]},a=l=>{const{isIntersecting:c}=l;if(this.isInView===c||(this.isInView=c,s&&!c&&this.hasEnteredView))return;c&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",c);const{onViewportEnter:u,onViewportLeave:d}=this.node.getProps(),f=c?u:d;f&&f(l)};return gve(this.node.current,o,a)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:n}=this.node;["amount","margin","root"].some(xve(e,n))&&this.startObserver()}unmount(){}}function xve({viewport:t={}},{viewport:e={}}={}){return n=>t[n]!==e[n]}const bve={inView:{Feature:vve},tap:{Feature:fve},focus:{Feature:dve},hover:{Feature:uve}},wve={layout:{ProjectionNode:u7,MeasureLayout:n7}},X2=C.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"}),dS=C.createContext({}),J2=typeof window<"u",f7=J2?C.useLayoutEffect:C.useEffect,h7=C.createContext({strict:!1});function _ve(t,e,n,r,i){var s,o;const{visualElement:a}=C.useContext(dS),l=C.useContext(h7),c=C.useContext(uS),u=C.useContext(X2).reducedMotion,d=C.useRef();r=r||l.renderer,!d.current&&r&&(d.current=r(t,{visualState:e,parent:a,props:n,presenceContext:c,blockInitialAnimation:c?c.initial===!1:!1,reducedMotionConfig:u}));const f=d.current,p=C.useContext(t7);f&&!f.projection&&i&&(f.type==="html"||f.type==="svg")&&Sve(d.current,n,i,p);const m=C.useRef(!1);C.useInsertionEffect(()=>{f&&m.current&&f.update(n,c)});const g=n[$K],v=C.useRef(!!g&&!(!((s=window.MotionHandoffIsComplete)===null||s===void 0)&&s.call(window,g))&&((o=window.MotionHasOptimisedAnimation)===null||o===void 0?void 0:o.call(window,g)));return f7(()=>{f&&(m.current=!0,window.MotionIsMounted=!0,f.updateFeatures(),Y2.render(f.render),v.current&&f.animationState&&f.animationState.animateChanges())}),C.useEffect(()=>{f&&(!v.current&&f.animationState&&f.animationState.animateChanges(),v.current&&(queueMicrotask(()=>{var x;(x=window.MotionHandoffMarkAsComplete)===null||x===void 0||x.call(window,g)}),v.current=!1))}),f}function Sve(t,e,n,r){const{layoutId:i,layout:s,drag:o,dragConstraints:a,layoutScroll:l,layoutRoot:c}=e;t.projection=new n(t.latestValues,e["data-framer-portal-id"]?void 0:p7(t.parent)),t.projection.setOptions({layoutId:i,layout:s,alwaysMeasureLayout:!!o||a&&rf(a),visualElement:t,animationType:typeof s=="string"?s:"both",initialPromotionConfig:r,layoutScroll:l,layoutRoot:c})}function p7(t){if(t)return t.options.allowProjection!==!1?t.projection:p7(t.parent)}function Eve(t,e,n){return C.useCallback(r=>{r&&t.mount&&t.mount(r),e&&(r?e.mount(r):e.unmount()),n&&(typeof n=="function"?n(r):rf(n)&&(n.current=r))},[e])}function fS(t){return oS(t.animate)||C2.some(e=>ny(t[e]))}function m7(t){return!!(fS(t)||t.variants)}function Tve(t,e){if(fS(t)){const{initial:n,animate:r}=t;return{initial:n===!1||ny(n)?n:void 0,animate:ny(r)?r:void 0}}return t.inherit!==!1?e:{}}function Ave(t){const{initial:e,animate:n}=Tve(t,C.useContext(dS));return C.useMemo(()=>({initial:e,animate:n}),[vV(e),vV(n)])}function vV(t){return Array.isArray(t)?t.join(" "):t}const xV={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},vh={};for(const t in xV)vh[t]={isEnabled:e=>xV[t].some(n=>!!e[n])};function kve(t){for(const e in t)vh[e]={...vh[e],...t[e]}}const Pve=Symbol.for("motionComponentSymbol");function Cve({preloadedFeatures:t,createVisualElement:e,useRender:n,useVisualState:r,Component:i}){t&&kve(t);function s(a,l){let c;const u={...C.useContext(X2),...a,layoutId:Ive(a)},{isStatic:d}=u,f=Ave(a),p=r(a,d);if(!d&&J2){Ove();const m=Nve(u);c=m.MeasureLayout,f.visualElement=_ve(i,p,u,e,m.ProjectionNode)}return h.jsxs(dS.Provider,{value:f,children:[c&&f.visualElement?h.jsx(c,{visualElement:f.visualElement,...u}):null,n(i,a,Eve(p,f.visualElement,l),p,d,f.visualElement)]})}const o=C.forwardRef(s);return o[Pve]=i,o}function Ive({layoutId:t}){const e=C.useContext(Q2).id;return e&&t!==void 0?e+"-"+t:t}function Ove(t,e){C.useContext(h7).strict}function Nve(t){const{drag:e,layout:n}=vh;if(!e&&!n)return{};const r={...e,...n};return{MeasureLayout:e!=null&&e.isEnabled(t)||n!=null&&n.isEnabled(t)?r.MeasureLayout:void 0,ProjectionNode:r.ProjectionNode}}const jve=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function Z2(t){return typeof t!="string"||t.includes("-")?!1:!!(jve.indexOf(t)>-1||/[A-Z]/u.test(t))}function g7(t,{style:e,vars:n},r,i){Object.assign(t.style,e,i&&i.getProjectionStyles(r));for(const s in n)t.style.setProperty(s,n[s])}const y7=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function v7(t,e,n,r){g7(t,e,void 0,r);for(const i in e.attrs)t.setAttribute(y7.has(i)?i:G2(i),e.attrs[i])}function x7(t,{layout:e,layoutId:n}){return ud.has(t)||t.startsWith("origin")||(e||n!==void 0)&&(!!ow[t]||t==="opacity")}function ej(t,e,n){var r;const{style:i}=t,s={};for(const o in i)(Sr(i[o])||e.style&&Sr(e.style[o])||x7(o,t)||((r=n==null?void 0:n.getValue(o))===null||r===void 0?void 0:r.liveStyle)!==void 0)&&(s[o]=i[o]);return s}function b7(t,e,n){const r=ej(t,e,n);for(const i in t)if(Sr(t[i])||Sr(e[i])){const s=Ov.indexOf(i)!==-1?"attr"+i.charAt(0).toUpperCase()+i.substring(1):i;r[s]=t[i]}return r}function tj(t){const e=C.useRef(null);return e.current===null&&(e.current=t()),e.current}function Rve({scrapeMotionValuesFromProps:t,createRenderState:e,onMount:n},r,i,s){const o={latestValues:Dve(r,i,s,t),renderState:e()};return n&&(o.mount=a=>n(r,a,o)),o}const w7=t=>(e,n)=>{const r=C.useContext(dS),i=C.useContext(uS),s=()=>Rve(t,e,r,i);return n?s():tj(s)};function Dve(t,e,n,r){const i={},s=r(t,{});for(const f in s)i[f]=Xx(s[f]);let{initial:o,animate:a}=t;const l=fS(t),c=m7(t);e&&c&&!l&&t.inherit!==!1&&(o===void 0&&(o=e.initial),a===void 0&&(a=e.animate));let u=n?n.initial===!1:!1;u=u||o===!1;const d=u?a:o;if(d&&typeof d!="boolean"&&!oS(d)){const f=Array.isArray(d)?d:[d];for(let p=0;p<f.length;p++){const m=k2(t,f[p]);if(m){const{transitionEnd:g,transition:v,...x}=m;for(const b in x){let w=x[b];if(Array.isArray(w)){const T=u?w.length-1:0;w=w[T]}w!==null&&(i[b]=w)}for(const b in g)i[b]=g[b]}}}return i}const nj=()=>({style:{},transform:{},transformOrigin:{},vars:{}}),_7=()=>({...nj(),attrs:{}}),S7=(t,e)=>e&&typeof t=="number"?e.transform(t):t,Mve={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},Lve=Ov.length;function $ve(t,e,n){let r="",i=!0;for(let s=0;s<Lve;s++){const o=Ov[s],a=t[o];if(a===void 0)continue;let l=!0;if(typeof a=="number"?l=a===(o.startsWith("scale")?1:0):l=parseFloat(a)===0,!l||n){const c=S7(a,L2[o]);if(!l){i=!1;const u=Mve[o]||o;r+=`${u}(${c}) `}n&&(e[o]=c)}}return r=r.trim(),n?r=n(e,i?"":r):i&&(r="none"),r}function rj(t,e,n){const{style:r,vars:i,transformOrigin:s}=t;let o=!1,a=!1;for(const l in e){const c=e[l];if(ud.has(l)){o=!0;continue}else if(mK(l)){i[l]=c;continue}else{const u=S7(c,L2[l]);l.startsWith("origin")?(a=!0,s[l]=u):r[l]=u}}if(e.transform||(o||n?r.transform=$ve(e,t.transform,n):r.transform&&(r.transform="none")),a){const{originX:l="50%",originY:c="50%",originZ:u=0}=s;r.transformOrigin=`${l} ${c} ${u}`}}function bV(t,e,n){return typeof t=="string"?t:Re.transform(e+n*t)}function Vve(t,e,n){const r=bV(e,t.x,t.width),i=bV(n,t.y,t.height);return`${r} ${i}`}const Fve={offset:"stroke-dashoffset",array:"stroke-dasharray"},Bve={offset:"strokeDashoffset",array:"strokeDasharray"};function Uve(t,e,n=1,r=0,i=!0){t.pathLength=1;const s=i?Fve:Bve;t[s.offset]=Re.transform(-r);const o=Re.transform(e),a=Re.transform(n);t[s.array]=`${o} ${a}`}function ij(t,{attrX:e,attrY:n,attrScale:r,originX:i,originY:s,pathLength:o,pathSpacing:a=1,pathOffset:l=0,...c},u,d){if(rj(t,c,d),u){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:f,style:p,dimensions:m}=t;f.transform&&(m&&(p.transform=f.transform),delete f.transform),m&&(i!==void 0||s!==void 0||p.transform)&&(p.transformOrigin=Vve(m,i!==void 0?i:.5,s!==void 0?s:.5)),e!==void 0&&(f.x=e),n!==void 0&&(f.y=n),r!==void 0&&(f.scale=r),o!==void 0&&Uve(f,o,a,l,!1)}const sj=t=>typeof t=="string"&&t.toLowerCase()==="svg",zve={useVisualState:w7({scrapeMotionValuesFromProps:b7,createRenderState:_7,onMount:(t,e,{renderState:n,latestValues:r})=>{Ct.read(()=>{try{n.dimensions=typeof e.getBBox=="function"?e.getBBox():e.getBoundingClientRect()}catch{n.dimensions={x:0,y:0,width:0,height:0}}}),Ct.render(()=>{ij(n,r,sj(e.tagName),t.transformTemplate),v7(e,n)})}})},qve={useVisualState:w7({scrapeMotionValuesFromProps:ej,createRenderState:nj})};function E7(t,e,n){for(const r in e)!Sr(e[r])&&!x7(r,n)&&(t[r]=e[r])}function Hve({transformTemplate:t},e){return C.useMemo(()=>{const n=nj();return rj(n,e,t),Object.assign({},n.vars,n.style)},[e])}function Wve(t,e){const n=t.style||{},r={};return E7(r,n,t),Object.assign(r,Hve(t,e)),r}function Kve(t,e){const n={},r=Wve(t,e);return t.drag&&t.dragListener!==!1&&(n.draggable=!1,r.userSelect=r.WebkitUserSelect=r.WebkitTouchCallout="none",r.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(n.tabIndex=0),n.style=r,n}const Gve=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function aw(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||Gve.has(t)}let T7=t=>!aw(t);function Qve(t){t&&(T7=e=>e.startsWith("on")?!aw(e):t(e))}try{Qve(require("@emotion/is-prop-valid").default)}catch{}function Yve(t,e,n){const r={};for(const i in t)i==="values"&&typeof t.values=="object"||(T7(i)||n===!0&&aw(i)||!e&&!aw(i)||t.draggable&&i.startsWith("onDrag"))&&(r[i]=t[i]);return r}function Xve(t,e,n,r){const i=C.useMemo(()=>{const s=_7();return ij(s,e,sj(r),t.transformTemplate),{...s.attrs,style:{...s.style}}},[e]);if(t.style){const s={};E7(s,t.style,t),i.style={...s,...i.style}}return i}function Jve(t=!1){return(n,r,i,{latestValues:s},o)=>{const l=(Z2(n)?Xve:Kve)(r,s,o,n),c=Yve(r,typeof n=="string",t),u=n!==C.Fragment?{...c,...l,ref:i}:{},{children:d}=r,f=C.useMemo(()=>Sr(d)?d.get():d,[d]);return C.createElement(n,{...u,children:f})}}function Zve(t,e){return function(r,{forwardMotionProps:i}={forwardMotionProps:!1}){const o={...Z2(r)?zve:qve,preloadedFeatures:t,useRender:Jve(i),createVisualElement:e,Component:r};return Cve(o)}}const rC={current:null},A7={current:!1};function e0e(){if(A7.current=!0,!!J2)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>rC.current=t.matches;t.addListener(e),e()}else rC.current=!1}function t0e(t,e,n){for(const r in e){const i=e[r],s=n[r];if(Sr(i))t.addValue(r,i);else if(Sr(s))t.addValue(r,sy(i,{owner:t}));else if(s!==i)if(t.hasValue(r)){const o=t.getValue(r);o.liveStyle===!0?o.jump(i):o.hasAnimated||o.set(i)}else{const o=t.getStaticValue(r);t.addValue(r,sy(o!==void 0?o:i,{owner:t}))}}for(const r in n)e[r]===void 0&&t.removeValue(r);return e}const wV=new WeakMap,n0e=[...vK,gr,Yl],r0e=t=>n0e.find(yK(t)),_V=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class i0e{scrapeMotionValuesFromProps(e,n,r){return{}}constructor({parent:e,props:n,presenceContext:r,reducedMotionConfig:i,blockInitialAnimation:s,visualState:o},a={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=R2,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const f=so.now();this.renderScheduledAt<f&&(this.renderScheduledAt=f,Ct.render(this.render,!1,!0))};const{latestValues:l,renderState:c}=o;this.latestValues=l,this.baseTarget={...l},this.initialValues=n.initial?{...l}:{},this.renderState=c,this.parent=e,this.props=n,this.presenceContext=r,this.depth=e?e.depth+1:0,this.reducedMotionConfig=i,this.options=a,this.blockInitialAnimation=!!s,this.isControllingVariants=fS(n),this.isVariantNode=m7(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:u,...d}=this.scrapeMotionValuesFromProps(n,{},this);for(const f in d){const p=d[f];l[f]!==void 0&&Sr(p)&&p.set(l[f],!1)}}mount(e){this.current=e,wV.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,r)=>this.bindToMotionValue(r,n)),A7.current||e0e(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:rC.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){wV.delete(this.current),this.projection&&this.projection.unmount(),Gl(this.notifyUpdate),Gl(this.render),this.valueSubscriptions.forEach(e=>e()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const e in this.events)this.events[e].clear();for(const e in this.features){const n=this.features[e];n&&(n.unmount(),n.isMounted=!1)}this.current=null}bindToMotionValue(e,n){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const r=ud.has(e),i=n.on("change",a=>{this.latestValues[e]=a,this.props.onUpdate&&Ct.preRender(this.notifyUpdate),r&&this.projection&&(this.projection.isTransformDirty=!0)}),s=n.on("renderRequest",this.scheduleRender);let o;window.MotionCheckAppearSync&&(o=window.MotionCheckAppearSync(this,e,n)),this.valueSubscriptions.set(e,()=>{i(),s(),o&&o(),n.owner&&n.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in vh){const n=vh[e];if(!n)continue;const{isEnabled:r,Feature:i}=n;if(!this.features[e]&&i&&r(this.props)&&(this.features[e]=new i(this)),this.features[e]){const s=this.features[e];s.isMounted?s.update():(s.mount(),s.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):vn()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,n){this.latestValues[e]=n}update(e,n){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let r=0;r<_V.length;r++){const i=_V[r];this.propEventSubscriptions[i]&&(this.propEventSubscriptions[i](),delete this.propEventSubscriptions[i]);const s="on"+i,o=e[s];o&&(this.propEventSubscriptions[i]=this.on(i,o))}this.prevMotionValues=t0e(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(e),()=>n.variantChildren.delete(e)}addValue(e,n){const r=this.values.get(e);n!==r&&(r&&this.removeValue(e),this.bindToMotionValue(e,n),this.values.set(e,n),this.latestValues[e]=n.get())}removeValue(e){this.values.delete(e);const n=this.valueSubscriptions.get(e);n&&(n(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,n){if(this.props.values&&this.props.values[e])return this.props.values[e];let r=this.values.get(e);return r===void 0&&n!==void 0&&(r=sy(n===null?void 0:n,{owner:this}),this.addValue(e,r)),r}readValue(e,n){var r;let i=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:(r=this.getBaseTargetFromProps(this.props,e))!==null&&r!==void 0?r:this.readValueFromInstance(this.current,e,this.options);return i!=null&&(typeof i=="string"&&(hK(i)||fK(i))?i=parseFloat(i):!r0e(i)&&Yl.test(n)&&(i=AK(e,n)),this.setBaseTarget(e,Sr(i)?i.get():i)),Sr(i)?i.get():i}setBaseTarget(e,n){this.baseTarget[e]=n}getBaseTarget(e){var n;const{initial:r}=this.props;let i;if(typeof r=="string"||typeof r=="object"){const o=k2(this.props,r,(n=this.presenceContext)===null||n===void 0?void 0:n.custom);o&&(i=o[e])}if(r&&i!==void 0)return i;const s=this.getBaseTargetFromProps(this.props,e);return s!==void 0&&!Sr(s)?s:this.initialValues[e]!==void 0&&i===void 0?void 0:this.baseTarget[e]}on(e,n){return this.events[e]||(this.events[e]=new K2),this.events[e].add(n)}notify(e,...n){this.events[e]&&this.events[e].notify(...n)}}class k7 extends i0e{constructor(){super(...arguments),this.KeyframeResolver=kK}sortInstanceNodePosition(e,n){return e.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(e,n){return e.style?e.style[n]:void 0}removeValueFromRenderState(e,{vars:n,style:r}){delete n[e],delete r[e]}}function s0e(t){return window.getComputedStyle(t)}class o0e extends k7{constructor(){super(...arguments),this.type="html",this.renderInstance=g7}readValueFromInstance(e,n){if(ud.has(n)){const r=$2(n);return r&&r.default||0}else{const r=s0e(e),i=(mK(n)?r.getPropertyValue(n):r[n])||0;return typeof i=="string"?i.trim():i}}measureInstanceViewportBox(e,{transformPagePoint:n}){return ZK(e,n)}build(e,n,r){rj(e,n,r.transformTemplate)}scrapeMotionValuesFromProps(e,n,r){return ej(e,n,r)}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;Sr(e)&&(this.childSubscription=e.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}class a0e extends k7{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=vn}getBaseTargetFromProps(e,n){return e[n]}readValueFromInstance(e,n){if(ud.has(n)){const r=$2(n);return r&&r.default||0}return n=y7.has(n)?n:G2(n),e.getAttribute(n)}scrapeMotionValuesFromProps(e,n,r){return b7(e,n,r)}build(e,n,r){ij(e,n,this.isSVGTag,r.transformTemplate)}renderInstance(e,n,r,i){v7(e,n,r,i)}mount(e){this.isSVGTag=sj(e.tagName),super.mount(e)}}const l0e=(t,e)=>Z2(t)?new a0e(e):new o0e(e,{allowProjection:t!==C.Fragment}),c0e=Zve({...Jge,...bve,...cve,...wve},l0e),G=zpe(c0e);class u0e extends C.Component{getSnapshotBeforeUpdate(e){const n=this.props.childRef.current;if(n&&e.isPresent&&!this.props.isPresent){const r=this.props.sizeRef.current;r.height=n.offsetHeight||0,r.width=n.offsetWidth||0,r.top=n.offsetTop,r.left=n.offsetLeft}return null}componentDidUpdate(){}render(){return this.props.children}}function d0e({children:t,isPresent:e}){const n=C.useId(),r=C.useRef(null),i=C.useRef({width:0,height:0,top:0,left:0}),{nonce:s}=C.useContext(X2);return C.useInsertionEffect(()=>{const{width:o,height:a,top:l,left:c}=i.current;if(e||!r.current||!o||!a)return;r.current.dataset.motionPopId=n;const u=document.createElement("style");return s&&(u.nonce=s),document.head.appendChild(u),u.sheet&&u.sheet.insertRule(`
          [data-motion-pop-id="${n}"] {
            position: absolute !important;
            width: ${o}px !important;
            height: ${a}px !important;
            top: ${l}px !important;
            left: ${c}px !important;
          }
        `),()=>{document.head.removeChild(u)}},[e]),h.jsx(u0e,{isPresent:e,childRef:r,sizeRef:i,children:C.cloneElement(t,{ref:r})})}const f0e=({children:t,initial:e,isPresent:n,onExitComplete:r,custom:i,presenceAffectsLayout:s,mode:o})=>{const a=tj(h0e),l=C.useId(),c=C.useCallback(d=>{a.set(d,!0);for(const f of a.values())if(!f)return;r&&r()},[a,r]),u=C.useMemo(()=>({id:l,initial:e,isPresent:n,custom:i,onExitComplete:c,register:d=>(a.set(d,!1),()=>a.delete(d))}),s?[Math.random(),c]:[n,c]);return C.useMemo(()=>{a.forEach((d,f)=>a.set(f,!1))},[n]),C.useEffect(()=>{!n&&!a.size&&r&&r()},[n]),o==="popLayout"&&(t=h.jsx(d0e,{isPresent:n,children:t})),h.jsx(uS.Provider,{value:u,children:t})};function h0e(){return new Map}const z0=t=>t.key||"";function SV(t){const e=[];return C.Children.forEach(t,n=>{C.isValidElement(n)&&e.push(n)}),e}const or=({children:t,exitBeforeEnter:e,custom:n,initial:r=!0,onExitComplete:i,presenceAffectsLayout:s=!0,mode:o="sync"})=>{const a=C.useMemo(()=>SV(t),[t]),l=a.map(z0),c=C.useRef(!0),u=C.useRef(a),d=tj(()=>new Map),[f,p]=C.useState(a),[m,g]=C.useState(a);f7(()=>{c.current=!1,u.current=a;for(let b=0;b<m.length;b++){const w=z0(m[b]);l.includes(w)?d.delete(w):d.get(w)!==!0&&d.set(w,!1)}},[m,l.length,l.join("-")]);const v=[];if(a!==f){let b=[...a];for(let w=0;w<m.length;w++){const T=m[w],_=z0(T);l.includes(_)||(b.splice(w,0,T),v.push(T))}o==="wait"&&v.length&&(b=v),g(SV(b)),p(a);return}const{forceRender:x}=C.useContext(Q2);return h.jsx(h.Fragment,{children:m.map(b=>{const w=z0(b),T=a===m||l.includes(w),_=()=>{if(d.has(w))d.set(w,!0);else return;let k=!0;d.forEach(S=>{S||(k=!1)}),k&&(x==null||x(),g(u.current),i&&i())};return h.jsx(f0e,{isPresent:T,initial:!c.current||r?void 0:!1,custom:T?void 0:n,presenceAffectsLayout:s,mode:o,onExitComplete:T?void 0:_,children:b},w)})})};class p0e extends M.Component{constructor(e){super(e),this.state={hasError:!1,error:null}}static getDerivedStateFromError(e){return{hasError:!0,error:e}}componentDidCatch(e,n){console.error("Error caught by boundary:",e,n)}render(){var e;return this.state.hasError?this.props.fallback?this.props.fallback:h.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center p-4",children:h.jsxs(G.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},className:"bg-surface border border-surface-light rounded-lg p-8 max-w-md w-full text-center",children:[h.jsx(G.div,{initial:{scale:.5},animate:{scale:1},transition:{type:"spring",stiffness:260,damping:20},children:h.jsx(Cv,{className:"h-16 w-16 text-red-500 mx-auto mb-6"})}),h.jsx("h1",{className:"text-2xl font-bold text-white mb-3",children:"Something went wrong"}),h.jsx("p",{className:"text-gray-400 mb-6",children:((e=this.state.error)==null?void 0:e.message)||"An unexpected error occurred"}),h.jsxs(G.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>window.location.reload(),className:"inline-flex items-center px-6 py-3 bg-primary text-white rounded-md hover:bg-primary/90 transition-all duration-200",children:[h.jsx(Cpe,{className:"h-5 w-5 mr-2"}),"Reload Page"]})]})}):this.props.children}}function Hr(t){const e=Object.prototype.toString.call(t);return t instanceof Date||typeof t=="object"&&e==="[object Date]"?new t.constructor(+t):typeof t=="number"||e==="[object Number]"||typeof t=="string"||e==="[object String]"?new Date(t):new Date(NaN)}function fa(t,e){return t instanceof Date?new t.constructor(e):new Date(e)}function m0e(t,e){const n=Hr(t);if(isNaN(e))return fa(t,NaN);const r=n.getDate(),i=fa(t,n.getTime());i.setMonth(n.getMonth()+e+1,0);const s=i.getDate();return r>=s?i:(n.setFullYear(i.getFullYear(),i.getMonth(),r),n)}const P7=6048e5,g0e=864e5;let y0e={};function hS(){return y0e}function oy(t,e){var a,l,c,u;const n=hS(),r=(e==null?void 0:e.weekStartsOn)??((l=(a=e==null?void 0:e.locale)==null?void 0:a.options)==null?void 0:l.weekStartsOn)??n.weekStartsOn??((u=(c=n.locale)==null?void 0:c.options)==null?void 0:u.weekStartsOn)??0,i=Hr(t),s=i.getDay(),o=(s<r?7:0)+s-r;return i.setDate(i.getDate()-o),i.setHours(0,0,0,0),i}function lw(t){return oy(t,{weekStartsOn:1})}function C7(t){const e=Hr(t),n=e.getFullYear(),r=fa(t,0);r.setFullYear(n+1,0,4),r.setHours(0,0,0,0);const i=lw(r),s=fa(t,0);s.setFullYear(n,0,4),s.setHours(0,0,0,0);const o=lw(s);return e.getTime()>=i.getTime()?n+1:e.getTime()>=o.getTime()?n:n-1}function cw(t){const e=Hr(t);return e.setHours(0,0,0,0),e}function EV(t){const e=Hr(t),n=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return n.setUTCFullYear(e.getFullYear()),+t-+n}function v0e(t,e){const n=cw(t),r=cw(e),i=+n-EV(n),s=+r-EV(r);return Math.round((i-s)/g0e)}function x0e(t){const e=C7(t),n=fa(t,0);return n.setFullYear(e,0,4),n.setHours(0,0,0,0),lw(n)}function b0e(t,e){return m0e(t,e*12)}function Af(t,e){const n=cw(t),r=cw(e);return+n==+r}function w0e(t){return t instanceof Date||typeof t=="object"&&Object.prototype.toString.call(t)==="[object Date]"}function _0e(t){if(!w0e(t)&&typeof t!="number")return!1;const e=Hr(t);return!isNaN(Number(e))}function I7(t,e){const n=Hr(t.start),r=Hr(t.end);let i=+n>+r;const s=i?+n:+r,o=i?r:n;o.setHours(0,0,0,0);let a=1;const l=[];for(;+o<=s;)l.push(Hr(o)),o.setDate(o.getDate()+a),o.setHours(0,0,0,0);return i?l.reverse():l}function S0e(t){const e=Hr(t),n=fa(t,0);return n.setFullYear(e.getFullYear(),0,1),n.setHours(0,0,0,0),n}const E0e={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},T0e=(t,e,n)=>{let r;const i=E0e[t];return typeof i=="string"?r=i:e===1?r=i.one:r=i.other.replace("{{count}}",e.toString()),n!=null&&n.addSuffix?n.comparison&&n.comparison>0?"in "+r:r+" ago":r};function FT(t){return(e={})=>{const n=e.width?String(e.width):t.defaultWidth;return t.formats[n]||t.formats[t.defaultWidth]}}const A0e={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},k0e={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},P0e={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},C0e={date:FT({formats:A0e,defaultWidth:"full"}),time:FT({formats:k0e,defaultWidth:"full"}),dateTime:FT({formats:P0e,defaultWidth:"full"})},I0e={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},O0e=(t,e,n,r)=>I0e[t];function sm(t){return(e,n)=>{const r=n!=null&&n.context?String(n.context):"standalone";let i;if(r==="formatting"&&t.formattingValues){const o=t.defaultFormattingWidth||t.defaultWidth,a=n!=null&&n.width?String(n.width):o;i=t.formattingValues[a]||t.formattingValues[o]}else{const o=t.defaultWidth,a=n!=null&&n.width?String(n.width):t.defaultWidth;i=t.values[a]||t.values[o]}const s=t.argumentCallback?t.argumentCallback(e):e;return i[s]}}const N0e={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},j0e={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},R0e={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},D0e={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},M0e={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},L0e={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},$0e=(t,e)=>{const n=Number(t),r=n%100;if(r>20||r<10)switch(r%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},V0e={ordinalNumber:$0e,era:sm({values:N0e,defaultWidth:"wide"}),quarter:sm({values:j0e,defaultWidth:"wide",argumentCallback:t=>t-1}),month:sm({values:R0e,defaultWidth:"wide"}),day:sm({values:D0e,defaultWidth:"wide"}),dayPeriod:sm({values:M0e,defaultWidth:"wide",formattingValues:L0e,defaultFormattingWidth:"wide"})};function om(t){return(e,n={})=>{const r=n.width,i=r&&t.matchPatterns[r]||t.matchPatterns[t.defaultMatchWidth],s=e.match(i);if(!s)return null;const o=s[0],a=r&&t.parsePatterns[r]||t.parsePatterns[t.defaultParseWidth],l=Array.isArray(a)?B0e(a,d=>d.test(o)):F0e(a,d=>d.test(o));let c;c=t.valueCallback?t.valueCallback(l):l,c=n.valueCallback?n.valueCallback(c):c;const u=e.slice(o.length);return{value:c,rest:u}}}function F0e(t,e){for(const n in t)if(Object.prototype.hasOwnProperty.call(t,n)&&e(t[n]))return n}function B0e(t,e){for(let n=0;n<t.length;n++)if(e(t[n]))return n}function U0e(t){return(e,n={})=>{const r=e.match(t.matchPattern);if(!r)return null;const i=r[0],s=e.match(t.parsePattern);if(!s)return null;let o=t.valueCallback?t.valueCallback(s[0]):s[0];o=n.valueCallback?n.valueCallback(o):o;const a=e.slice(i.length);return{value:o,rest:a}}}const z0e=/^(\d+)(th|st|nd|rd)?/i,q0e=/\d+/i,H0e={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},W0e={any:[/^b/i,/^(a|c)/i]},K0e={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},G0e={any:[/1/i,/2/i,/3/i,/4/i]},Q0e={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},Y0e={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},X0e={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},J0e={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},Z0e={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},exe={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},txe={ordinalNumber:U0e({matchPattern:z0e,parsePattern:q0e,valueCallback:t=>parseInt(t,10)}),era:om({matchPatterns:H0e,defaultMatchWidth:"wide",parsePatterns:W0e,defaultParseWidth:"any"}),quarter:om({matchPatterns:K0e,defaultMatchWidth:"wide",parsePatterns:G0e,defaultParseWidth:"any",valueCallback:t=>t+1}),month:om({matchPatterns:Q0e,defaultMatchWidth:"wide",parsePatterns:Y0e,defaultParseWidth:"any"}),day:om({matchPatterns:X0e,defaultMatchWidth:"wide",parsePatterns:J0e,defaultParseWidth:"any"}),dayPeriod:om({matchPatterns:Z0e,defaultMatchWidth:"any",parsePatterns:exe,defaultParseWidth:"any"})},nxe={code:"en-US",formatDistance:T0e,formatLong:C0e,formatRelative:O0e,localize:V0e,match:txe,options:{weekStartsOn:0,firstWeekContainsDate:1}};function rxe(t){const e=Hr(t);return v0e(e,S0e(e))+1}function ixe(t){const e=Hr(t),n=+lw(e)-+x0e(e);return Math.round(n/P7)+1}function O7(t,e){var u,d,f,p;const n=Hr(t),r=n.getFullYear(),i=hS(),s=(e==null?void 0:e.firstWeekContainsDate)??((d=(u=e==null?void 0:e.locale)==null?void 0:u.options)==null?void 0:d.firstWeekContainsDate)??i.firstWeekContainsDate??((p=(f=i.locale)==null?void 0:f.options)==null?void 0:p.firstWeekContainsDate)??1,o=fa(t,0);o.setFullYear(r+1,0,s),o.setHours(0,0,0,0);const a=oy(o,e),l=fa(t,0);l.setFullYear(r,0,s),l.setHours(0,0,0,0);const c=oy(l,e);return n.getTime()>=a.getTime()?r+1:n.getTime()>=c.getTime()?r:r-1}function sxe(t,e){var a,l,c,u;const n=hS(),r=(e==null?void 0:e.firstWeekContainsDate)??((l=(a=e==null?void 0:e.locale)==null?void 0:a.options)==null?void 0:l.firstWeekContainsDate)??n.firstWeekContainsDate??((u=(c=n.locale)==null?void 0:c.options)==null?void 0:u.firstWeekContainsDate)??1,i=O7(t,e),s=fa(t,0);return s.setFullYear(i,0,r),s.setHours(0,0,0,0),oy(s,e)}function oxe(t,e){const n=Hr(t),r=+oy(n,e)-+sxe(n,e);return Math.round(r/P7)+1}function St(t,e){const n=t<0?"-":"",r=Math.abs(t).toString().padStart(e,"0");return n+r}const Ma={y(t,e){const n=t.getFullYear(),r=n>0?n:1-n;return St(e==="yy"?r%100:r,e.length)},M(t,e){const n=t.getMonth();return e==="M"?String(n+1):St(n+1,2)},d(t,e){return St(t.getDate(),e.length)},a(t,e){const n=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return n.toUpperCase();case"aaa":return n;case"aaaaa":return n[0];case"aaaa":default:return n==="am"?"a.m.":"p.m."}},h(t,e){return St(t.getHours()%12||12,e.length)},H(t,e){return St(t.getHours(),e.length)},m(t,e){return St(t.getMinutes(),e.length)},s(t,e){return St(t.getSeconds(),e.length)},S(t,e){const n=e.length,r=t.getMilliseconds(),i=Math.trunc(r*Math.pow(10,n-3));return St(i,e.length)}},Td={am:"am",pm:"pm",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},TV={G:function(t,e,n){const r=t.getFullYear()>0?1:0;switch(e){case"G":case"GG":case"GGG":return n.era(r,{width:"abbreviated"});case"GGGGG":return n.era(r,{width:"narrow"});case"GGGG":default:return n.era(r,{width:"wide"})}},y:function(t,e,n){if(e==="yo"){const r=t.getFullYear(),i=r>0?r:1-r;return n.ordinalNumber(i,{unit:"year"})}return Ma.y(t,e)},Y:function(t,e,n,r){const i=O7(t,r),s=i>0?i:1-i;if(e==="YY"){const o=s%100;return St(o,2)}return e==="Yo"?n.ordinalNumber(s,{unit:"year"}):St(s,e.length)},R:function(t,e){const n=C7(t);return St(n,e.length)},u:function(t,e){const n=t.getFullYear();return St(n,e.length)},Q:function(t,e,n){const r=Math.ceil((t.getMonth()+1)/3);switch(e){case"Q":return String(r);case"QQ":return St(r,2);case"Qo":return n.ordinalNumber(r,{unit:"quarter"});case"QQQ":return n.quarter(r,{width:"abbreviated",context:"formatting"});case"QQQQQ":return n.quarter(r,{width:"narrow",context:"formatting"});case"QQQQ":default:return n.quarter(r,{width:"wide",context:"formatting"})}},q:function(t,e,n){const r=Math.ceil((t.getMonth()+1)/3);switch(e){case"q":return String(r);case"qq":return St(r,2);case"qo":return n.ordinalNumber(r,{unit:"quarter"});case"qqq":return n.quarter(r,{width:"abbreviated",context:"standalone"});case"qqqqq":return n.quarter(r,{width:"narrow",context:"standalone"});case"qqqq":default:return n.quarter(r,{width:"wide",context:"standalone"})}},M:function(t,e,n){const r=t.getMonth();switch(e){case"M":case"MM":return Ma.M(t,e);case"Mo":return n.ordinalNumber(r+1,{unit:"month"});case"MMM":return n.month(r,{width:"abbreviated",context:"formatting"});case"MMMMM":return n.month(r,{width:"narrow",context:"formatting"});case"MMMM":default:return n.month(r,{width:"wide",context:"formatting"})}},L:function(t,e,n){const r=t.getMonth();switch(e){case"L":return String(r+1);case"LL":return St(r+1,2);case"Lo":return n.ordinalNumber(r+1,{unit:"month"});case"LLL":return n.month(r,{width:"abbreviated",context:"standalone"});case"LLLLL":return n.month(r,{width:"narrow",context:"standalone"});case"LLLL":default:return n.month(r,{width:"wide",context:"standalone"})}},w:function(t,e,n,r){const i=oxe(t,r);return e==="wo"?n.ordinalNumber(i,{unit:"week"}):St(i,e.length)},I:function(t,e,n){const r=ixe(t);return e==="Io"?n.ordinalNumber(r,{unit:"week"}):St(r,e.length)},d:function(t,e,n){return e==="do"?n.ordinalNumber(t.getDate(),{unit:"date"}):Ma.d(t,e)},D:function(t,e,n){const r=rxe(t);return e==="Do"?n.ordinalNumber(r,{unit:"dayOfYear"}):St(r,e.length)},E:function(t,e,n){const r=t.getDay();switch(e){case"E":case"EE":case"EEE":return n.day(r,{width:"abbreviated",context:"formatting"});case"EEEEE":return n.day(r,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(r,{width:"short",context:"formatting"});case"EEEE":default:return n.day(r,{width:"wide",context:"formatting"})}},e:function(t,e,n,r){const i=t.getDay(),s=(i-r.weekStartsOn+8)%7||7;switch(e){case"e":return String(s);case"ee":return St(s,2);case"eo":return n.ordinalNumber(s,{unit:"day"});case"eee":return n.day(i,{width:"abbreviated",context:"formatting"});case"eeeee":return n.day(i,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(i,{width:"short",context:"formatting"});case"eeee":default:return n.day(i,{width:"wide",context:"formatting"})}},c:function(t,e,n,r){const i=t.getDay(),s=(i-r.weekStartsOn+8)%7||7;switch(e){case"c":return String(s);case"cc":return St(s,e.length);case"co":return n.ordinalNumber(s,{unit:"day"});case"ccc":return n.day(i,{width:"abbreviated",context:"standalone"});case"ccccc":return n.day(i,{width:"narrow",context:"standalone"});case"cccccc":return n.day(i,{width:"short",context:"standalone"});case"cccc":default:return n.day(i,{width:"wide",context:"standalone"})}},i:function(t,e,n){const r=t.getDay(),i=r===0?7:r;switch(e){case"i":return String(i);case"ii":return St(i,e.length);case"io":return n.ordinalNumber(i,{unit:"day"});case"iii":return n.day(r,{width:"abbreviated",context:"formatting"});case"iiiii":return n.day(r,{width:"narrow",context:"formatting"});case"iiiiii":return n.day(r,{width:"short",context:"formatting"});case"iiii":default:return n.day(r,{width:"wide",context:"formatting"})}},a:function(t,e,n){const i=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"aaa":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return n.dayPeriod(i,{width:"narrow",context:"formatting"});case"aaaa":default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},b:function(t,e,n){const r=t.getHours();let i;switch(r===12?i=Td.noon:r===0?i=Td.midnight:i=r/12>=1?"pm":"am",e){case"b":case"bb":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"bbb":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return n.dayPeriod(i,{width:"narrow",context:"formatting"});case"bbbb":default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},B:function(t,e,n){const r=t.getHours();let i;switch(r>=17?i=Td.evening:r>=12?i=Td.afternoon:r>=4?i=Td.morning:i=Td.night,e){case"B":case"BB":case"BBB":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"BBBBB":return n.dayPeriod(i,{width:"narrow",context:"formatting"});case"BBBB":default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},h:function(t,e,n){if(e==="ho"){let r=t.getHours()%12;return r===0&&(r=12),n.ordinalNumber(r,{unit:"hour"})}return Ma.h(t,e)},H:function(t,e,n){return e==="Ho"?n.ordinalNumber(t.getHours(),{unit:"hour"}):Ma.H(t,e)},K:function(t,e,n){const r=t.getHours()%12;return e==="Ko"?n.ordinalNumber(r,{unit:"hour"}):St(r,e.length)},k:function(t,e,n){let r=t.getHours();return r===0&&(r=24),e==="ko"?n.ordinalNumber(r,{unit:"hour"}):St(r,e.length)},m:function(t,e,n){return e==="mo"?n.ordinalNumber(t.getMinutes(),{unit:"minute"}):Ma.m(t,e)},s:function(t,e,n){return e==="so"?n.ordinalNumber(t.getSeconds(),{unit:"second"}):Ma.s(t,e)},S:function(t,e){return Ma.S(t,e)},X:function(t,e,n){const r=t.getTimezoneOffset();if(r===0)return"Z";switch(e){case"X":return kV(r);case"XXXX":case"XX":return jc(r);case"XXXXX":case"XXX":default:return jc(r,":")}},x:function(t,e,n){const r=t.getTimezoneOffset();switch(e){case"x":return kV(r);case"xxxx":case"xx":return jc(r);case"xxxxx":case"xxx":default:return jc(r,":")}},O:function(t,e,n){const r=t.getTimezoneOffset();switch(e){case"O":case"OO":case"OOO":return"GMT"+AV(r,":");case"OOOO":default:return"GMT"+jc(r,":")}},z:function(t,e,n){const r=t.getTimezoneOffset();switch(e){case"z":case"zz":case"zzz":return"GMT"+AV(r,":");case"zzzz":default:return"GMT"+jc(r,":")}},t:function(t,e,n){const r=Math.trunc(t.getTime()/1e3);return St(r,e.length)},T:function(t,e,n){const r=t.getTime();return St(r,e.length)}};function AV(t,e=""){const n=t>0?"-":"+",r=Math.abs(t),i=Math.trunc(r/60),s=r%60;return s===0?n+String(i):n+String(i)+e+St(s,2)}function kV(t,e){return t%60===0?(t>0?"-":"+")+St(Math.abs(t)/60,2):jc(t,e)}function jc(t,e=""){const n=t>0?"-":"+",r=Math.abs(t),i=St(Math.trunc(r/60),2),s=St(r%60,2);return n+i+e+s}const PV=(t,e)=>{switch(t){case"P":return e.date({width:"short"});case"PP":return e.date({width:"medium"});case"PPP":return e.date({width:"long"});case"PPPP":default:return e.date({width:"full"})}},N7=(t,e)=>{switch(t){case"p":return e.time({width:"short"});case"pp":return e.time({width:"medium"});case"ppp":return e.time({width:"long"});case"pppp":default:return e.time({width:"full"})}},axe=(t,e)=>{const n=t.match(/(P+)(p+)?/)||[],r=n[1],i=n[2];if(!i)return PV(t,e);let s;switch(r){case"P":s=e.dateTime({width:"short"});break;case"PP":s=e.dateTime({width:"medium"});break;case"PPP":s=e.dateTime({width:"long"});break;case"PPPP":default:s=e.dateTime({width:"full"});break}return s.replace("{{date}}",PV(r,e)).replace("{{time}}",N7(i,e))},lxe={p:N7,P:axe},cxe=/^D+$/,uxe=/^Y+$/,dxe=["D","DD","YY","YYYY"];function fxe(t){return cxe.test(t)}function hxe(t){return uxe.test(t)}function pxe(t,e,n){const r=mxe(t,e,n);if(console.warn(r),dxe.includes(t))throw new RangeError(r)}function mxe(t,e,n){const r=t[0]==="Y"?"years":"days of the month";return`Use \`${t.toLowerCase()}\` instead of \`${t}\` (in \`${e}\`) for formatting ${r} to the input \`${n}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const gxe=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,yxe=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,vxe=/^'([^]*?)'?$/,xxe=/''/g,bxe=/[a-zA-Z]/;function Sa(t,e,n){var u,d,f,p;const r=hS(),i=r.locale??nxe,s=r.firstWeekContainsDate??((d=(u=r.locale)==null?void 0:u.options)==null?void 0:d.firstWeekContainsDate)??1,o=r.weekStartsOn??((p=(f=r.locale)==null?void 0:f.options)==null?void 0:p.weekStartsOn)??0,a=Hr(t);if(!_0e(a))throw new RangeError("Invalid time value");let l=e.match(yxe).map(m=>{const g=m[0];if(g==="p"||g==="P"){const v=lxe[g];return v(m,i.formatLong)}return m}).join("").match(gxe).map(m=>{if(m==="''")return{isToken:!1,value:"'"};const g=m[0];if(g==="'")return{isToken:!1,value:wxe(m)};if(TV[g])return{isToken:!0,value:m};if(g.match(bxe))throw new RangeError("Format string contains an unescaped latin alphabet character `"+g+"`");return{isToken:!1,value:m}});i.localize.preprocessor&&(l=i.localize.preprocessor(a,l));const c={firstWeekContainsDate:s,weekStartsOn:o,locale:i};return l.map(m=>{if(!m.isToken)return m.value;const g=m.value;(hxe(g)||fxe(g))&&pxe(g,e,String(t));const v=TV[g[0]];return v(a,g,i.localize,c)}).join("")}function wxe(t){const e=t.match(vxe);return e?e[1].replace(xxe,"'"):t}function uw(t,e){return b0e(t,-e)}function _xe(){const[t,e]=C.useState([]),[n,r]=C.useState(!1),[i,s]=C.useState(0),[o,a]=C.useState(!0);return C.useEffect(()=>{if(!ee.currentUser)return;let l=null,c=!0;return(async()=>{try{const d=wt(Ce(le,"notifications"),pt("user_id","==",ee.currentUser.uid),mn("created_at","desc"),_W(50));l=up(d,f=>{if(!c)return;const p=f.docs.map(m=>({id:m.id,...m.data()}));e(p),s(p.filter(m=>!m.read).length),a(!1)},f=>{console.error("Notifications subscription error:",f),c&&(te.error("Failed to load notifications"),e([]),s(0),a(!1))})}catch(d){console.error("Error setting up notifications:",d),c&&(te.error("Failed to connect to notifications"),e([]),s(0),a(!1))}})(),()=>{c=!1,l&&l()}},[]),o?h.jsx("div",{className:"relative p-2",children:h.jsx(ew,{className:"h-6 w-6 text-gray-400 animate-pulse"})}):h.jsxs("div",{className:"relative",children:[h.jsxs("button",{onClick:()=>r(!n),className:"relative p-2 text-gray-400 hover:text-white",children:[h.jsx(ew,{className:"h-6 w-6"}),i>0&&h.jsx("span",{className:"absolute top-0 right-0 inline-flex items-center justify-center px-2 py-1 text-xs font-bold leading-none text-white transform translate-x-1/2 -translate-y-1/2 bg-primary rounded-full",children:i})]}),n&&h.jsxs("div",{className:"absolute right-0 mt-2 w-80 bg-surface border border-surface-light rounded-lg shadow-lg z-50",children:[h.jsx("div",{className:"p-4 border-b border-surface-light",children:h.jsx("h3",{className:"text-lg font-semibold text-white",children:"Notifications"})}),h.jsx("div",{className:"max-h-96 overflow-y-auto",children:t.length>0?t.map(l=>{var u,d;const c=((d=(u=l.created_at)==null?void 0:u.toDate)==null?void 0:d.call(u))||new Date;return h.jsxs(yt,{to:l.link,className:`block p-4 hover:bg-surface-light border-b border-surface-light ${l.read?"":"bg-primary/5"}`,onClick:()=>r(!1),children:[h.jsx("p",{className:"text-white",children:l.content}),h.jsx("p",{className:"text-sm text-gray-400 mt-1",children:Sa(c,"PP")})]},l.id)}):h.jsx("div",{className:"p-4 text-center text-gray-400",children:"No notifications yet"})})]})]})}function Sxe(){if(console&&console.warn){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];yu(e[0])&&(e[0]=`react-i18next:: ${e[0]}`),console.warn(...e)}}const CV={};function iC(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];yu(e[0])&&CV[e[0]]||(yu(e[0])&&(CV[e[0]]=new Date),Sxe(...e))}const j7=(t,e)=>()=>{if(t.isInitialized)e();else{const n=()=>{setTimeout(()=>{t.off("initialized",n)},0),e()};t.on("initialized",n)}},IV=(t,e,n)=>{t.loadNamespaces(e,j7(t,n))},OV=(t,e,n,r)=>{yu(n)&&(n=[n]),n.forEach(i=>{t.options.ns.indexOf(i)<0&&t.options.ns.push(i)}),t.loadLanguages(e,j7(t,r))},Exe=function(t,e){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const r=e.languages[0],i=e.options?e.options.fallbackLng:!1,s=e.languages[e.languages.length-1];if(r.toLowerCase()==="cimode")return!0;const o=(a,l)=>{const c=e.services.backendConnector.state[`${a}|${l}`];return c===-1||c===2};return n.bindI18n&&n.bindI18n.indexOf("languageChanging")>-1&&e.services.backendConnector.backend&&e.isLanguageChangingTo&&!o(e.isLanguageChangingTo,t)?!1:!!(e.hasResourceBundle(r,t)||!e.services.backendConnector.backend||e.options.resources&&!e.options.partialBundledLanguages||o(r,t)&&(!i||o(s,t)))},Txe=function(t,e){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return!e.languages||!e.languages.length?(iC("i18n.languages were undefined or empty",e.languages),!0):e.options.ignoreJSONStructure!==void 0?e.hasLoadedNamespace(t,{lng:n.lng,precheck:(i,s)=>{if(n.bindI18n&&n.bindI18n.indexOf("languageChanging")>-1&&i.services.backendConnector.backend&&i.isLanguageChangingTo&&!s(i.isLanguageChangingTo,t))return!1}}):Exe(t,e,n)},yu=t=>typeof t=="string",Axe=t=>typeof t=="object"&&t!==null,kxe=/&(?:amp|#38|lt|#60|gt|#62|apos|#39|quot|#34|nbsp|#160|copy|#169|reg|#174|hellip|#8230|#x2F|#47);/g,Pxe={"&amp;":"&","&#38;":"&","&lt;":"<","&#60;":"<","&gt;":">","&#62;":">","&apos;":"'","&#39;":"'","&quot;":'"',"&#34;":'"',"&nbsp;":" ","&#160;":" ","&copy;":"","&#169;":"","&reg;":"","&#174;":"","&hellip;":"","&#8230;":"","&#x2F;":"/","&#47;":"/"},Cxe=t=>Pxe[t],Ixe=t=>t.replace(kxe,Cxe);let sC={bindI18n:"languageChanged",bindI18nStore:"",transEmptyNodeValue:"",transSupportBasicHtmlNodes:!0,transWrapTextNodes:"",transKeepBasicHtmlNodesFor:["br","strong","i","p"],useSuspense:!0,unescape:Ixe};const Oxe=function(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};sC={...sC,...t}},Nxe=()=>sC;let R7;const jxe=t=>{R7=t},Rxe=()=>R7,Dxe={type:"3rdParty",init(t){Oxe(t.options.react),jxe(t)}},Mxe=C.createContext();class Lxe{constructor(){$D(this,"getUsedNamespaces",()=>Object.keys(this.usedNamespaces));this.usedNamespaces={}}addUsedNamespaces(e){e.forEach(n=>{this.usedNamespaces[n]||(this.usedNamespaces[n]=!0)})}}const $xe=(t,e)=>{const n=C.useRef();return C.useEffect(()=>{n.current=t},[t,e]),n.current},D7=(t,e,n,r)=>t.getFixedT(e,n,r),Vxe=(t,e,n,r)=>C.useCallback(D7(t,e,n,r),[t,e,n,r]),Fxe=function(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const{i18n:n}=e,{i18n:r,defaultNS:i}=C.useContext(Mxe)||{},s=n||r||Rxe();if(s&&!s.reportNamespaces&&(s.reportNamespaces=new Lxe),!s){iC("You will need to pass in an i18next instance by using initReactI18next");const T=(k,S)=>yu(S)?S:Axe(S)&&yu(S.defaultValue)?S.defaultValue:Array.isArray(k)?k[k.length-1]:k,_=[T,{},!1];return _.t=T,_.i18n={},_.ready=!1,_}s.options.react&&s.options.react.wait!==void 0&&iC("It seems you are still using the old wait option, you may migrate to the new useSuspense behaviour.");const o={...Nxe(),...s.options.react,...e},{useSuspense:a,keyPrefix:l}=o;let c=i||s.options&&s.options.defaultNS;c=yu(c)?[c]:c||["translation"],s.reportNamespaces.addUsedNamespaces&&s.reportNamespaces.addUsedNamespaces(c);const u=(s.isInitialized||s.initializedStoreOnce)&&c.every(T=>Txe(T,s,o)),d=Vxe(s,e.lng||null,o.nsMode==="fallback"?c:c[0],l),f=()=>d,p=()=>D7(s,e.lng||null,o.nsMode==="fallback"?c:c[0],l),[m,g]=C.useState(f);let v=c.join();e.lng&&(v=`${e.lng}${v}`);const x=$xe(v),b=C.useRef(!0);C.useEffect(()=>{const{bindI18n:T,bindI18nStore:_}=o;b.current=!0,!u&&!a&&(e.lng?OV(s,e.lng,c,()=>{b.current&&g(p)}):IV(s,c,()=>{b.current&&g(p)})),u&&x&&x!==v&&b.current&&g(p);const k=()=>{b.current&&g(p)};return T&&s&&s.on(T,k),_&&s&&s.store.on(_,k),()=>{b.current=!1,T&&s&&T.split(" ").forEach(S=>s.off(S,k)),_&&s&&_.split(" ").forEach(S=>s.store.off(S,k))}},[s,v]),C.useEffect(()=>{b.current&&u&&g(f)},[s,l,u]);const w=[m,s,u];if(w.t=m,w.i18n=s,w.ready=u,u||!u&&!a)return w;throw new Promise(T=>{e.lng?OV(s,e.lng,c,()=>T()):IV(s,c,()=>T())})},BT=[{code:"en",name:"English"},{code:"es",name:"Espaol"},{code:"de",name:"Deutsch"},{code:"fr",name:"Franais"},{code:"zh",name:""},{code:"ja",name:""},{code:"ko",name:""},{code:"ar",name:""},{code:"hi",name:""},{code:"pt",name:"Portugus"}];function Bxe(){const{i18n:t}=Fxe(),[e,n]=C.useState(!1),r=async s=>{try{await t.changeLanguage(s),localStorage.setItem("i18nextLng",s),document.documentElement.lang=s,n(!1)}catch(o){console.error("Error changing language:",o)}},i=BT.find(s=>s.code===t.language)||BT[0];return h.jsxs("div",{className:"relative",children:[h.jsxs("button",{onClick:()=>n(!e),className:"flex items-center space-x-2 px-3 py-2 text-gray-400 hover:text-white transition-colors",title:"Change Language",children:[h.jsx(VP,{className:"h-5 w-5"}),h.jsx("span",{className:"text-sm hidden md:inline",children:i.name})]}),h.jsx(or,{children:e&&h.jsx(G.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},className:"absolute right-0 mt-2 w-48 bg-surface border border-surface-light rounded-lg shadow-lg overflow-hidden z-50",children:h.jsx("div",{className:"py-1",children:BT.map(s=>h.jsx("button",{onClick:()=>r(s.code),className:`w-full text-left px-4 py-2 text-sm ${t.language===s.code?"bg-primary/10 text-primary":"text-gray-300 hover:bg-surface-light"}`,children:s.name},s.code))})})})]})}function Uxe(t,e){C.useEffect(()=>{const n=r=>{!t.current||t.current.contains(r.target)||e()};return document.addEventListener("mousedown",n),document.addEventListener("touchstart",n),()=>{document.removeEventListener("mousedown",n),document.removeEventListener("touchstart",n)}},[t,e])}function zxe(){var a;const t=Os(),e=nd(),[n,r]=C.useState(!1),i=C.useRef(null);Uxe(i,()=>r(!1));const s=async()=>{await pae(ee),te.success("Signed out successfully"),t("/login")},o=l=>{l.key==="Escape"&&r(!1)};return h.jsxs("div",{className:"min-h-screen bg-background",children:[h.jsx("nav",{className:"fixed top-0 left-0 right-0 z-50 navbar-blur",children:h.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:h.jsxs("div",{className:"flex justify-between h-16",children:[h.jsxs("div",{className:"flex",children:[h.jsx(yt,{to:"/",className:"flex items-center px-2 text-white",children:h.jsx("span",{className:"text-xl font-bold",children:"$INSIGHTS"})}),h.jsxs("div",{className:"hidden sm:ml-6 sm:flex sm:space-x-8",children:[h.jsxs(yt,{to:"/",className:`inline-flex items-center px-1 pt-1 text-sm font-medium ${e.pathname==="/"?"text-primary border-b-2 border-primary":"text-gray-400 hover:text-white"}`,children:[h.jsx(mpe,{className:"h-4 w-4 mr-1"}),"Home"]}),h.jsxs(yt,{to:"/communities",className:`inline-flex items-center px-1 pt-1 text-sm font-medium ${e.pathname==="/communities"?"text-primary border-b-2 border-primary":"text-gray-400 hover:text-white"}`,children:[h.jsx(Jt,{className:"h-4 w-4 mr-1"}),"Communities"]}),h.jsxs(yt,{to:"/courses",className:`inline-flex items-center px-1 pt-1 text-sm font-medium ${e.pathname==="/courses"?"text-primary border-b-2 border-primary":"text-gray-400 hover:text-white"}`,children:[h.jsx(ls,{className:"h-4 w-4 mr-1"}),"Courses"]})]})]}),h.jsxs("div",{className:"flex items-center space-x-4",children:[h.jsx(Bxe,{}),h.jsx(_xe,{}),h.jsxs("div",{className:"relative",ref:i,children:[h.jsx("button",{onClick:()=>r(!n),onKeyDown:o,className:"flex items-center focus:outline-none focus:ring-2 focus:ring-primary focus:ring-offset-2 focus:ring-offset-surface rounded-full","aria-expanded":n,"aria-haspopup":"true",children:h.jsx("div",{className:"h-8 w-8 rounded-full bg-primary/10 flex items-center justify-center hover:bg-primary/20 transition-colors",children:(a=ee.currentUser)!=null&&a.photoURL?h.jsx("img",{src:ee.currentUser.photoURL,alt:"Profile",className:"h-8 w-8 rounded-full object-cover"}):h.jsx(Kl,{className:"h-4 w-4 text-primary"})})}),n&&h.jsxs("div",{className:"absolute right-0 mt-2 w-48 bg-surface border border-surface-light rounded-lg shadow-lg py-1 z-50",role:"menu","aria-orientation":"vertical","aria-labelledby":"user-menu",children:[h.jsxs(yt,{to:"/profile",className:"flex items-center px-4 py-2 text-sm text-gray-300 hover:bg-surface-light focus:bg-surface-light focus:outline-none",onClick:()=>r(!1),role:"menuitem",children:[h.jsx(Kl,{className:"h-4 w-4 mr-2"}),"Profile"]}),h.jsxs(yt,{to:"/settings",className:"flex items-center px-4 py-2 text-sm text-gray-300 hover:bg-surface-light focus:bg-surface-light focus:outline-none",onClick:()=>r(!1),role:"menuitem",children:[h.jsx(A2,{className:"h-4 w-4 mr-2"}),"Settings"]}),h.jsx("div",{className:"border-t border-surface-light my-1"}),h.jsxs("button",{onClick:()=>{r(!1),s()},className:"flex items-center w-full px-4 py-2 text-sm text-red-400 hover:bg-surface-light focus:bg-surface-light focus:outline-none",role:"menuitem",children:[h.jsx(bpe,{className:"h-4 w-4 mr-2"}),"Sign out"]})]})]})]})]})})}),h.jsx("main",{className:"max-w-7xl mx-auto py-6 sm:px-6 lg:px-8 mt-16",children:h.jsx(Sie,{})})]})}function qxe(){const t=Os(),[e,n]=C.useState(!0),[r,i]=C.useState(!1),[s,o]=C.useState({email:"",password:"",fullName:"",username:""}),a=async c=>{if(!c||c.length<3||!/^[a-zA-Z0-9_-]+$/.test(c))return!1;const u=wt(Ce(le,"users"),pt("username","==",c));return(await Ft(u)).empty},l=async c=>{if(c.preventDefault(),!r)try{if(i(!0),e)await cae(ee,s.email,s.password),te.success("Signed in successfully");else{if(!await a(s.username)){te.error("Username is invalid or already taken"),i(!1);return}const{user:d}=await lae(ee,s.email,s.password);await dae(d,{displayName:s.fullName}),await d.reload(),await Wde(ht(le,"users",d.uid),{email:s.email,full_name:s.fullName,username:s.username.toLowerCase(),created_at:lt(),updated_at:lt(),metrics:{total_students:0,total_revenue:0,avg_course_rating:0,total_courses:0,completion_rate:0,engagement_score:0}}),te.success("Account created successfully")}t("/")}catch(u){console.error("Auth error:",u),te.error(u.message)}finally{i(!1)}};return h.jsx("div",{className:"min-h-screen flex items-center justify-center bg-background py-12 px-4 sm:px-6 lg:px-8",children:h.jsxs("div",{className:"max-w-md w-full space-y-8 bg-surface p-8 rounded-lg border border-surface-light",children:[h.jsxs("div",{children:[h.jsx("h2",{className:"mt-6 text-center text-3xl font-extrabold text-white",children:"Welcome to LearnHub"}),h.jsx("p",{className:"mt-2 text-center text-sm text-gray-400",children:e?"Sign in to continue":"Create a new account"})]}),h.jsxs("form",{onSubmit:l,className:"mt-8 space-y-6",children:[h.jsxs("div",{className:"rounded-md shadow-sm space-y-4",children:[!e&&h.jsxs(h.Fragment,{children:[h.jsxs("div",{children:[h.jsx("label",{htmlFor:"fullName",className:"block text-sm font-medium text-gray-300 mb-1",children:"Full Name"}),h.jsx("input",{id:"fullName",name:"fullName",type:"text",required:!e,value:s.fullName,onChange:c=>o({...s,fullName:c.target.value}),className:"appearance-none relative block w-full px-3 py-2 border border-surface-light placeholder-gray-500 text-white rounded-md bg-surface-light focus:outline-none focus:ring-primary focus:border-primary focus:z-10 sm:text-sm",placeholder:"Full Name"})]}),h.jsxs("div",{children:[h.jsx("label",{htmlFor:"username",className:"block text-sm font-medium text-gray-300 mb-1",children:"Username"}),h.jsxs("div",{className:"relative",children:[h.jsx("input",{id:"username",name:"username",type:"text",required:!e,value:s.username,onChange:c=>o({...s,username:c.target.value.toLowerCase()}),className:"appearance-none relative block w-full px-3 py-2 border border-surface-light placeholder-gray-500 text-white rounded-md bg-surface-light focus:outline-none focus:ring-primary focus:border-primary focus:z-10 sm:text-sm",placeholder:"Choose a username",pattern:"[a-zA-Z0-9_-]+",title:"Only letters, numbers, underscores, and hyphens are allowed"}),h.jsx("div",{className:"absolute inset-y-0 right-0 flex items-center pr-3 pointer-events-none",children:h.jsxs("span",{className:"text-gray-400 text-sm",children:["@",s.username]})})]}),h.jsxs("p",{className:"mt-1 text-sm text-gray-400",children:["This will be your profile URL: domain.com/",s.username||"username"]})]})]}),h.jsxs("div",{children:[h.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-300 mb-1",children:"Email address"}),h.jsx("input",{id:"email",name:"email",type:"email",required:!0,value:s.email,onChange:c=>o({...s,email:c.target.value}),className:"appearance-none relative block w-full px-3 py-2 border border-surface-light placeholder-gray-500 text-white rounded-md bg-surface-light focus:outline-none focus:ring-primary focus:border-primary focus:z-10 sm:text-sm",placeholder:"Email address"})]}),h.jsxs("div",{children:[h.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-300 mb-1",children:"Password"}),h.jsx("input",{id:"password",name:"password",type:"password",required:!0,value:s.password,onChange:c=>o({...s,password:c.target.value}),className:"appearance-none relative block w-full px-3 py-2 border border-surface-light placeholder-gray-500 text-white rounded-md bg-surface-light focus:outline-none focus:ring-primary focus:border-primary focus:z-10 sm:text-sm",placeholder:"Password"})]})]}),h.jsx("div",{children:h.jsx("button",{type:"submit",disabled:r,className:"group relative w-full flex justify-center py-2 px-4 border border-transparent text-sm font-medium rounded-md text-white bg-primary hover:bg-primary/90 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary disabled:opacity-50",children:r?"Please wait...":e?"Sign in":"Sign up"})}),h.jsx("div",{className:"text-center",children:h.jsx("button",{type:"button",onClick:()=>n(!e),className:"text-primary hover:text-primary/90",children:e?"Need an account? Sign up":"Already have an account? Sign in"})})]})]})})}function M7(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}var ay;(function(t){t.event="event",t.props="prop"})(ay||(ay={}));function nl(){}function Hxe(t){var e,n=void 0;return function(){for(var r=[],i=arguments.length;i--;)r[i]=arguments[i];return e&&r.length===e.length&&r.every(function(s,o){return s===e[o]})||(e=r,n=t.apply(void 0,r)),n}}function ly(t){return!!(t||"").match(/\d/)}function kf(t){return t==null}function Wxe(t){return typeof t=="number"&&isNaN(t)}function L7(t){return kf(t)||Wxe(t)||typeof t=="number"&&!isFinite(t)}function $7(t){return t.replace(/[-[\]/{}()*+?.\\^$|]/g,"\\$&")}function Kxe(t){switch(t){case"lakh":return/(\d+?)(?=(\d\d)+(\d)(?!\d))(\.\d+)?/g;case"wan":return/(\d)(?=(\d{4})+(?!\d))/g;case"thousand":default:return/(\d)(?=(\d{3})+(?!\d))/g}}function Gxe(t,e,n){var r=Kxe(n),i=t.search(/[1-9]/);return i=i===-1?t.length:i,t.substring(0,i)+t.substring(i,t.length).replace(r,"$1"+e)}function Qxe(t){var e=C.useRef(t);e.current=t;var n=C.useRef(function(){for(var r=[],i=arguments.length;i--;)r[i]=arguments[i];return e.current.apply(e,r)});return n.current}function oj(t,e){e===void 0&&(e=!0);var n=t[0]==="-",r=n&&e;t=t.replace("-","");var i=t.split("."),s=i[0],o=i[1]||"";return{beforeDecimal:s,afterDecimal:o,hasNegation:n,addNegation:r}}function Yxe(t){if(!t)return t;var e=t[0]==="-";e&&(t=t.substring(1,t.length));var n=t.split("."),r=n[0].replace(/^0+/,"")||"0",i=n[1]||"";return(e?"-":"")+r+(i?"."+i:"")}function V7(t,e,n){for(var r="",i=n?"0":"",s=0;s<=e-1;s++)r+=t[s]||i;return r}function NV(t,e){return Array(e+1).join(t)}function F7(t){var e=t+"",n=e[0]==="-"?"-":"";n&&(e=e.substring(1));var r=e.split(/[eE]/g),i=r[0],s=r[1];if(s=Number(s),!s)return n+i;i=i.replace(".","");var o=1+s,a=i.length;return o<0?i="0."+NV("0",Math.abs(o))+i:o>=a?i=i+NV("0",o-a):i=(i.substring(0,o)||"0")+"."+i.substring(o),n+i}function jV(t,e,n){if(["","-"].indexOf(t)!==-1)return t;var r=(t.indexOf(".")!==-1||n)&&e,i=oj(t),s=i.beforeDecimal,o=i.afterDecimal,a=i.hasNegation,l=parseFloat("0."+(o||"0")),c=o.length<=e?"0."+o:l.toFixed(e),u=c.split("."),d=s;s&&Number(u[0])&&(d=s.split("").reverse().reduce(function(g,v,x){return g.length>x?(Number(g[0])+Number(v)).toString()+g.substring(1,g.length):v+g},u[0]));var f=V7(u[1]||"",e,n),p=a?"-":"",m=r?".":"";return""+p+d+m+f}function Bc(t,e){if(t.value=t.value,t!==null){if(t.createTextRange){var n=t.createTextRange();return n.move("character",e),n.select(),!0}return t.selectionStart||t.selectionStart===0?(t.focus(),t.setSelectionRange(e,e),!0):(t.focus(),!1)}}var B7=Hxe(function(t,e){for(var n=0,r=0,i=t.length,s=e.length;t[n]===e[n]&&n<i;)n++;for(;t[i-1-r]===e[s-1-r]&&s-r>n&&i-r>n;)r++;return{from:{start:n,end:i-r},to:{start:n,end:s-r}}}),Xxe=function(t,e){var n=Math.min(t.selectionStart,e);return{from:{start:n,end:t.selectionEnd},to:{start:n,end:e}}};function Jxe(t,e,n){return Math.min(Math.max(t,e),n)}function UT(t){return Math.max(t.selectionStart,t.selectionEnd)}function Zxe(){return typeof navigator<"u"&&!(navigator.platform&&/iPhone|iPod/.test(navigator.platform))}function ebe(t){return{from:{start:0,end:0},to:{start:0,end:t.length},lastValue:""}}function tbe(t){var e=t.currentValue,n=t.formattedValue,r=t.currentValueIndex,i=t.formattedValueIndex;return e[r]===n[i]}function nbe(t,e,n,r,i,s,o){o===void 0&&(o=tbe);var a=i.findIndex(function(T){return T}),l=t.slice(0,a);!e&&!n.startsWith(l)&&(e=l,n=l+n,r=r+l.length);for(var c=n.length,u=t.length,d={},f=new Array(c),p=0;p<c;p++){f[p]=-1;for(var m=0,g=u;m<g;m++){var v=o({currentValue:n,lastValue:e,formattedValue:t,currentValueIndex:p,formattedValueIndex:m});if(v&&d[m]!==!0){f[p]=m,d[m]=!0;break}}}for(var x=r;x<c&&(f[x]===-1||!s(n[x]));)x++;var b=x===c||f[x]===-1?u:f[x];for(x=r-1;x>0&&f[x]===-1;)x--;var w=x===-1||f[x]===-1?0:f[x]+1;return w>b?b:r-w<b-r?w:b}function RV(t,e,n,r){var i=t.length;if(e=Jxe(e,0,i),r==="left"){for(;e>=0&&!n[e];)e--;e===-1&&(e=n.indexOf(!0))}else{for(;e<=i&&!n[e];)e++;e>i&&(e=n.lastIndexOf(!0))}return e===-1&&(e=i),e}function rbe(t){for(var e=Array.from({length:t.length+1}).map(function(){return!0}),n=0,r=e.length;n<r;n++)e[n]=!!(ly(t[n])||ly(t[n-1]));return e}function U7(t,e,n,r,i,s){s===void 0&&(s=nl);var o=Qxe(function(m,g){var v,x;return L7(m)?(x="",v=""):typeof m=="number"||g?(x=typeof m=="number"?F7(m):m,v=r(x)):(x=i(m,void 0),v=r(x)),{formattedValue:v,numAsString:x}}),a=C.useState(function(){return o(kf(t)?e:t,n)}),l=a[0],c=a[1],u=function(m,g){m.formattedValue!==l.formattedValue&&c({formattedValue:m.formattedValue,numAsString:m.value}),s(m,g)},d=t,f=n;kf(t)&&(d=l.numAsString,f=!0);var p=o(d,f);return C.useMemo(function(){c(p)},[p.formattedValue]),[l,u]}function ibe(t){return t.replace(/[^0-9]/g,"")}function sbe(t){return t}function obe(t){var e=t.type;e===void 0&&(e="text");var n=t.displayType;n===void 0&&(n="input");var r=t.customInput,i=t.renderText,s=t.getInputRef,o=t.format;o===void 0&&(o=sbe);var a=t.removeFormatting;a===void 0&&(a=ibe);var l=t.defaultValue,c=t.valueIsNumericString,u=t.onValueChange,d=t.isAllowed,f=t.onChange;f===void 0&&(f=nl);var p=t.onKeyDown;p===void 0&&(p=nl);var m=t.onMouseUp;m===void 0&&(m=nl);var g=t.onFocus;g===void 0&&(g=nl);var v=t.onBlur;v===void 0&&(v=nl);var x=t.value,b=t.getCaretBoundary;b===void 0&&(b=rbe);var w=t.isValidInputCharacter;w===void 0&&(w=ly);var T=t.isCharacterSame,_=M7(t,["type","displayType","customInput","renderText","getInputRef","format","removeFormatting","defaultValue","valueIsNumericString","onValueChange","isAllowed","onChange","onKeyDown","onMouseUp","onFocus","onBlur","value","getCaretBoundary","isValidInputCharacter","isCharacterSame"]),k=U7(x,l,!!c,o,a,u),S=k[0],E=S.formattedValue,P=S.numAsString,O=k[1],N=C.useRef(),R=C.useRef({formattedValue:E,numAsString:P}),j=function(oe,ge){R.current={formattedValue:oe.formattedValue,numAsString:oe.value},O(oe,ge)},z=C.useState(!1),F=z[0],L=z[1],B=C.useRef(null),$=C.useRef({setCaretTimeout:null,focusTimeout:null});C.useEffect(function(){return L(!0),function(){clearTimeout($.current.setCaretTimeout),clearTimeout($.current.focusTimeout)}},[]);var U=o,W=function(oe,ge){var ke=parseFloat(ge);return{formattedValue:oe,value:ge,floatValue:isNaN(ke)?void 0:ke}},Z=function(oe,ge,ke){oe.selectionStart===0&&oe.selectionEnd===oe.value.length||(Bc(oe,ge),$.current.setCaretTimeout=setTimeout(function(){oe.value===ke&&oe.selectionStart!==ge&&Bc(oe,ge)},0))},Q=function(oe,ge,ke){return RV(oe,ge,b(oe),ke)},fe=function(oe,ge,ke){var Je=b(ge),Nt=nbe(ge,E,oe,ke,Je,w,T);return Nt=RV(ge,Nt,Je),Nt},Le=function(oe){var ge=oe.formattedValue;ge===void 0&&(ge="");var ke=oe.input,Je=oe.source,Nt=oe.event,it=oe.numAsString,tt;if(ke){var se=oe.inputValue||ke.value,_e=UT(ke);ke.value=ge,tt=fe(se,ge,_e),tt!==void 0&&Z(ke,tt,ge)}ge!==E&&j(W(ge,it),{event:Nt,source:Je})};C.useEffect(function(){var oe=R.current,ge=oe.formattedValue,ke=oe.numAsString;(E!==ge||P!==ke)&&j(W(E,P),{event:void 0,source:ay.props})},[E,P]);var Ye=B.current?UT(B.current):void 0,rt=typeof window<"u"?C.useLayoutEffect:C.useEffect;rt(function(){var oe=B.current;if(E!==R.current.formattedValue&&oe){var ge=fe(R.current.formattedValue,E,Ye);oe.value=E,Z(oe,ge,E)}},[E]);var Gt=function(oe,ge,ke){var Je=ge.target,Nt=N.current?Xxe(N.current,Je.selectionEnd):B7(E,oe),it=Object.assign(Object.assign({},Nt),{lastValue:E}),tt=a(oe,it),se=U(tt);if(tt=a(se,void 0),d&&!d(W(se,tt))){var _e=ge.target,$e=UT(_e),Ze=fe(oe,E,$e);return _e.value=E,Z(_e,Ze,E),!1}return Le({formattedValue:se,numAsString:tt,inputValue:oe,event:ge,source:ke,input:ge.target}),!0},tn=function(oe,ge){ge===void 0&&(ge=0);var ke=oe.selectionStart,Je=oe.selectionEnd;N.current={selectionStart:ke,selectionEnd:Je+ge}},pe=function(oe){var ge=oe.target,ke=ge.value,Je=Gt(ke,oe,ay.event);Je&&f(oe),N.current=void 0},Ae=function(oe){var ge=oe.target,ke=oe.key,Je=ge.selectionStart,Nt=ge.selectionEnd,it=ge.value;it===void 0&&(it="");var tt;ke==="ArrowLeft"||ke==="Backspace"?tt=Math.max(Je-1,0):ke==="ArrowRight"?tt=Math.min(Je+1,it.length):ke==="Delete"&&(tt=Je);var se=0;ke==="Delete"&&Je===Nt&&(se=1);var _e=ke==="ArrowLeft"||ke==="ArrowRight";if(tt===void 0||Je!==Nt&&!_e){p(oe),tn(ge,se);return}var $e=tt;if(_e){var Ze=ke==="ArrowLeft"?"left":"right";$e=Q(it,tt,Ze),$e!==tt&&oe.preventDefault()}else ke==="Delete"&&!w(it[tt])?$e=Q(it,tt,"right"):ke==="Backspace"&&!w(it[tt])&&($e=Q(it,tt,"left"));$e!==tt&&Z(ge,$e,it),p(oe),tn(ge,se)},Ne=function(oe){var ge=oe.target,ke=function(){var Je=ge.selectionStart,Nt=ge.selectionEnd,it=ge.value;if(it===void 0&&(it=""),Je===Nt){var tt=Q(it,Je);tt!==Je&&Z(ge,tt,it)}};ke(),requestAnimationFrame(function(){ke()}),m(oe),tn(ge)},J=function(oe){oe.persist&&oe.persist();var ge=oe.target,ke=oe.currentTarget;B.current=ge,$.current.focusTimeout=setTimeout(function(){var Je=ge.selectionStart,Nt=ge.selectionEnd,it=ge.value;it===void 0&&(it="");var tt=Q(it,Je);tt!==Je&&!(Je===0&&Nt===it.length)&&Z(ge,tt,it),g(Object.assign(Object.assign({},oe),{currentTarget:ke}))},0)},gt=function(oe){B.current=null,clearTimeout($.current.focusTimeout),clearTimeout($.current.setCaretTimeout),v(oe)},We=F&&Zxe()?"numeric":void 0,_t=Object.assign({inputMode:We},_,{type:e,value:E,onChange:pe,onKeyDown:Ae,onMouseUp:Ne,onFocus:J,onBlur:gt});if(n==="text")return i?M.createElement(M.Fragment,null,i(E,_)||null):M.createElement("span",Object.assign({},_,{ref:s}),E);if(r){var Ot=r;return M.createElement(Ot,Object.assign({},_t,{ref:s}))}return M.createElement("input",Object.assign({},_t,{ref:s}))}function DV(t,e){var n=e.decimalScale,r=e.fixedDecimalScale,i=e.prefix;i===void 0&&(i="");var s=e.suffix;s===void 0&&(s="");var o=e.allowNegative,a=e.thousandsGroupStyle;if(a===void 0&&(a="thousand"),t===""||t==="-")return t;var l=pS(e),c=l.thousandSeparator,u=l.decimalSeparator,d=n!==0&&t.indexOf(".")!==-1||n&&r,f=oj(t,o),p=f.beforeDecimal,m=f.afterDecimal,g=f.addNegation;return n!==void 0&&(m=V7(m,n,!!r)),c&&(p=Gxe(p,c,a)),i&&(p=i+p),s&&(m=m+s),g&&(p="-"+p),t=p+(d&&u||"")+m,t}function pS(t){var e=t.decimalSeparator;e===void 0&&(e=".");var n=t.thousandSeparator,r=t.allowedDecimalSeparators;return n===!0&&(n=","),r||(r=[e,"."]),{decimalSeparator:e,thousandSeparator:n,allowedDecimalSeparators:r}}function abe(t,e){t===void 0&&(t="");var n=new RegExp("(-)"),r=new RegExp("(-)(.)*(-)"),i=n.test(t),s=r.test(t);return t=t.replace(/-/g,""),i&&!s&&e&&(t="-"+t),t}function lbe(t,e){return new RegExp("(^-)|[0-9]|"+$7(t),"g")}function cbe(t,e,n){return t===""?!0:!(e!=null&&e.match(/\d/))&&!(n!=null&&n.match(/\d/))&&typeof t=="string"&&!isNaN(Number(t))}function ube(t,e,n){var r;e===void 0&&(e=ebe(t));var i=n.allowNegative,s=n.prefix;s===void 0&&(s="");var o=n.suffix;o===void 0&&(o="");var a=n.decimalScale,l=e.from,c=e.to,u=c.start,d=c.end,f=pS(n),p=f.allowedDecimalSeparators,m=f.decimalSeparator,g=t[d]===m;if(ly(t)&&(t===s||t===o)&&e.lastValue==="")return t;if(d-u===1&&p.indexOf(t[u])!==-1){var v=a===0?"":m;t=t.substring(0,u)+v+t.substring(u+1,t.length)}var x=function(B,$,U){var W=!1,Z=!1;s.startsWith("-")?W=!1:B.startsWith("--")?(W=!1,Z=!0):o.startsWith("-")&&B.length===o.length?W=!1:B[0]==="-"&&(W=!0);var Q=W?1:0;return Z&&(Q=2),Q&&(B=B.substring(Q),$-=Q,U-=Q),{value:B,start:$,end:U,hasNegation:W}},b=x(t,u,d),w=b.hasNegation;r=b,t=r.value,u=r.start,d=r.end;var T=x(e.lastValue,l.start,l.end),_=T.start,k=T.end,S=T.value,E=t.substring(u,d);t.length&&S.length&&(_>S.length-o.length||k<s.length)&&!(E&&o.startsWith(E))&&(t=S);var P=0;t.startsWith(s)?P+=s.length:u<s.length&&(P=u),t=t.substring(P),d-=P;var O=t.length,N=t.length-o.length;t.endsWith(o)?O=N:(d>N||d>t.length-o.length)&&(O=d),t=t.substring(0,O),t=abe(w?"-"+t:t,i),t=(t.match(lbe(m))||[]).join("");var R=t.indexOf(m);t=t.replace(new RegExp($7(m),"g"),function(B,$){return $===R?".":""});var j=oj(t,i),z=j.beforeDecimal,F=j.afterDecimal,L=j.addNegation;return c.end-c.start<l.end-l.start&&z===""&&g&&!parseFloat(F)&&(t=L?"-":""),t}function dbe(t,e){var n=e.prefix;n===void 0&&(n="");var r=e.suffix;r===void 0&&(r="");var i=Array.from({length:t.length+1}).map(function(){return!0}),s=t[0]==="-";i.fill(!1,0,n.length+(s?1:0));var o=t.length;return i.fill(!1,o-r.length+1,o+1),i}function fbe(t){var e=pS(t),n=e.thousandSeparator,r=e.decimalSeparator,i=t.prefix;i===void 0&&(i="");var s=t.allowNegative;if(s===void 0&&(s=!0),n===r)throw new Error(`
        Decimal separator can't be same as thousand separator.
        thousandSeparator: `+n+` (thousandSeparator = {true} is same as thousandSeparator = ",")
        decimalSeparator: `+r+` (default value for decimalSeparator is .)
     `);return i.startsWith("-")&&s&&(console.error(`
      Prefix can't start with '-' when allowNegative is true.
      prefix: `+i+`
      allowNegative: `+s+`
    `),s=!1),Object.assign(Object.assign({},t),{allowNegative:s})}function hbe(t){t=fbe(t),t.decimalSeparator,t.allowedDecimalSeparators,t.thousandsGroupStyle;var e=t.suffix,n=t.allowNegative,r=t.allowLeadingZeros,i=t.onKeyDown;i===void 0&&(i=nl);var s=t.onBlur;s===void 0&&(s=nl);var o=t.thousandSeparator,a=t.decimalScale,l=t.fixedDecimalScale,c=t.prefix;c===void 0&&(c="");var u=t.defaultValue,d=t.value,f=t.valueIsNumericString,p=t.onValueChange,m=M7(t,["decimalSeparator","allowedDecimalSeparators","thousandsGroupStyle","suffix","allowNegative","allowLeadingZeros","onKeyDown","onBlur","thousandSeparator","decimalScale","fixedDecimalScale","prefix","defaultValue","value","valueIsNumericString","onValueChange"]),g=pS(t),v=g.decimalSeparator,x=g.allowedDecimalSeparators,b=function(L){return DV(L,t)},w=function(L,B){return ube(L,B,t)},T=kf(d)?u:d,_=f??cbe(T,c,e);kf(d)?kf(u)||(_=_||typeof u=="number"):_=_||typeof d=="number";var k=function(L){return L7(L)?L:(typeof L=="number"&&(L=F7(L)),_&&typeof a=="number"?jV(L,a,!!l):L)},S=U7(k(d),k(u),!!_,b,w,p),E=S[0],P=E.numAsString,O=E.formattedValue,N=S[1],R=function(L){var B=L.target,$=L.key,U=B.selectionStart,W=B.selectionEnd,Z=B.value;if(Z===void 0&&(Z=""),($==="Backspace"||$==="Delete")&&W<c.length){L.preventDefault();return}if(U!==W){i(L);return}$==="Backspace"&&Z[0]==="-"&&U===c.length+1&&n&&Bc(B,1),a&&l&&($==="Backspace"&&Z[U-1]===v?(Bc(B,U-1),L.preventDefault()):$==="Delete"&&Z[U]===v&&L.preventDefault()),x!=null&&x.includes($)&&Z[U]===v&&Bc(B,U+1);var Q=o===!0?",":o;$==="Backspace"&&Z[U-1]===Q&&Bc(B,U-1),$==="Delete"&&Z[U]===Q&&Bc(B,U+1),i(L)},j=function(L){var B=P;if(B.match(/\d/g)||(B=""),r||(B=Yxe(B)),l&&a&&(B=jV(B,a,l)),B!==P){var $=DV(B,t);N({formattedValue:$,value:B,floatValue:parseFloat(B)},{event:L,source:ay.event})}s(L)},z=function(L){return L===v?!0:ly(L)},F=function(L){var B=L.currentValue,$=L.lastValue,U=L.formattedValue,W=L.currentValueIndex,Z=L.formattedValueIndex,Q=B[W],fe=U[Z],Le=B7($,B),Ye=Le.to,rt=function(Gt){return w(Gt).indexOf(".")+c.length};return d===0&&l&&a&&B[Ye.start]===v&&rt(B)<W&&rt(U)>Z?!1:W>=Ye.start&&W<Ye.end&&x&&x.includes(Q)&&fe===v?!0:Q===fe};return Object.assign(Object.assign({},m),{value:O,valueIsNumericString:!1,isValidInputCharacter:z,isCharacterSame:F,onValueChange:N,format:b,removeFormatting:w,getCaretBoundary:function(L){return dbe(L,t)},onKeyDown:R,onBlur:j})}function z7(t){var e=hbe(t);return M.createElement(obe,Object.assign({},e))}function pbe({communities:t,sortBy:e}){const n=()=>[...t].sort((i,s)=>{var o,a,l,c,u,d;switch(e){case"revenue":return(((o=s.metrics)==null?void 0:o.monthly_revenue)||0)-(((a=i.metrics)==null?void 0:a.monthly_revenue)||0);case"students":return(((l=s.metrics)==null?void 0:l.total_students)||0)-(((c=i.metrics)==null?void 0:c.total_students)||0);case"rating":return(((u=s.metrics)==null?void 0:u.avg_course_rating)||0)-(((d=i.metrics)==null?void 0:d.avg_course_rating)||0);default:return 0}}),r=i=>i>0?h.jsx(LP,{className:"h-4 w-4 text-green-500"}):i<0?h.jsx(MP,{className:"h-4 w-4 text-red-500"}):null;return h.jsx("div",{className:"overflow-x-auto",children:h.jsxs("table",{className:"w-full",children:[h.jsx("thead",{children:h.jsxs("tr",{className:"text-left text-gray-400 border-b border-surface-light",children:[h.jsx("th",{className:"pb-4 pl-4",children:"#"}),h.jsx("th",{className:"pb-4",children:"Community"}),h.jsx("th",{className:"pb-4",children:"Monthly Revenue"}),h.jsx("th",{className:"pb-4",children:"Students"}),h.jsx("th",{className:"pb-4",children:"Rating"}),h.jsx("th",{className:"pb-4",children:"Growth"}),h.jsx("th",{className:"pb-4",children:"Engagement"})]})}),h.jsx("tbody",{className:"divide-y divide-surface-light",children:n().map((i,s)=>{var o,a,l,c,u,d,f,p;return h.jsxs(G.tr,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:s*.05},className:"hover:bg-surface-light",children:[h.jsx("td",{className:"py-4 pl-4 text-gray-400",children:s+1}),h.jsx("td",{className:"py-4",children:h.jsxs(yt,{to:`/communities/${i.id}`,className:"flex items-center space-x-3",children:[i.banner_url?h.jsx("img",{src:i.banner_url,alt:i.name,className:"h-10 w-10 rounded-lg object-cover"}):h.jsx("div",{className:"h-10 w-10 rounded-lg bg-primary/10 flex items-center justify-center",children:h.jsx(fp,{className:"h-5 w-5 text-primary"})}),h.jsxs("div",{children:[h.jsx("h3",{className:"text-white font-medium",children:i.name}),h.jsx("p",{className:"text-sm text-gray-400",children:i.category})]})]})}),h.jsx("td",{className:"py-4",children:h.jsx(z7,{value:((o=i.metrics)==null?void 0:o.monthly_revenue)||0,displayType:"text",thousandSeparator:!0,prefix:"$",className:"text-white font-medium"})}),h.jsx("td",{className:"py-4",children:h.jsxs("div",{className:"flex items-center space-x-1",children:[h.jsx(Jt,{className:"h-4 w-4 text-gray-400"}),h.jsx("span",{className:"text-white",children:((l=(a=i.metrics)==null?void 0:a.total_students)==null?void 0:l.toLocaleString())||0})]})}),h.jsx("td",{className:"py-4",children:h.jsxs("div",{className:"flex items-center space-x-1",children:[h.jsx(bo,{className:"h-4 w-4 text-yellow-500"}),h.jsx("span",{className:"text-white",children:((u=(c=i.metrics)==null?void 0:c.avg_course_rating)==null?void 0:u.toFixed(1))||"0.0"})]})}),h.jsx("td",{className:"py-4",children:h.jsxs("div",{className:"flex items-center space-x-1",children:[r(((d=i.metrics)==null?void 0:d.growth_rate)||0),h.jsxs("span",{className:"text-white",children:[Math.abs(((f=i.metrics)==null?void 0:f.growth_rate)||0),"%"]})]})}),h.jsx("td",{className:"py-4",children:h.jsx("div",{className:"w-full bg-surface rounded-full h-2",children:h.jsx("div",{className:"bg-primary rounded-full h-2",style:{width:`${((p=i.metrics)==null?void 0:p.engagement_rate)||0}%`}})})})]},i.id)})})]})})}function mbe({creators:t}){const e=[...t].sort((n,r)=>{var i,s;return(((i=r.metrics)==null?void 0:i.total_revenue)||0)-(((s=n.metrics)==null?void 0:s.total_revenue)||0)});return h.jsx("div",{className:"overflow-x-auto",children:h.jsxs("table",{className:"w-full",children:[h.jsx("thead",{children:h.jsxs("tr",{className:"text-left text-gray-400 border-b border-surface-light",children:[h.jsx("th",{className:"pb-4 pl-4",children:"#"}),h.jsx("th",{className:"pb-4",children:"Creator"}),h.jsx("th",{className:"pb-4",children:"Total Revenue"}),h.jsx("th",{className:"pb-4",children:"Students"}),h.jsx("th",{className:"pb-4",children:"Courses"}),h.jsx("th",{className:"pb-4",children:"Rating"}),h.jsx("th",{className:"pb-4",children:"Engagement"})]})}),h.jsx("tbody",{className:"divide-y divide-surface-light",children:e.map((n,r)=>{var i,s,o,a,l,c,u;return h.jsxs(G.tr,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:r*.05},className:"hover:bg-surface-light",children:[h.jsx("td",{className:"py-4 pl-4 text-gray-400",children:r+1}),h.jsx("td",{className:"py-4",children:h.jsxs(yt,{to:`/creators/${n.id}`,className:"flex items-center space-x-3",children:[n.avatar_url?h.jsx("img",{src:n.avatar_url,alt:n.full_name,className:"h-10 w-10 rounded-full object-cover"}):h.jsx("div",{className:"h-10 w-10 rounded-full bg-primary/10 flex items-center justify-center",children:h.jsx(Kl,{className:"h-5 w-5 text-primary"})}),h.jsxs("div",{children:[h.jsx("h3",{className:"text-white font-medium",children:n.full_name}),h.jsxs("p",{className:"text-sm text-gray-400",children:[((i=n.metrics)==null?void 0:i.total_courses)||0," courses"]})]})]})}),h.jsx("td",{className:"py-4",children:h.jsxs("div",{className:"flex items-center space-x-1",children:[h.jsx(nS,{className:"h-4 w-4 text-green-500"}),h.jsx(z7,{value:((s=n.metrics)==null?void 0:s.total_revenue)||0,displayType:"text",thousandSeparator:!0,className:"text-white"})]})}),h.jsx("td",{className:"py-4",children:h.jsxs("div",{className:"flex items-center space-x-1",children:[h.jsx(Jt,{className:"h-4 w-4 text-gray-400"}),h.jsx("span",{className:"text-white",children:((a=(o=n.metrics)==null?void 0:o.total_students)==null?void 0:a.toLocaleString())||0})]})}),h.jsx("td",{className:"py-4",children:h.jsxs("div",{className:"flex items-center space-x-1",children:[h.jsx(ls,{className:"h-4 w-4 text-blue-500"}),h.jsx("span",{className:"text-white",children:((l=n.metrics)==null?void 0:l.total_courses)||0})]})}),h.jsx("td",{className:"py-4",children:h.jsxs("div",{className:"flex items-center space-x-1",children:[h.jsx(bo,{className:"h-4 w-4 text-yellow-500"}),h.jsx("span",{className:"text-white",children:(((c=n.metrics)==null?void 0:c.avg_course_rating)||0).toFixed(1)})]})}),h.jsx("td",{className:"py-4",children:h.jsx("div",{className:"w-full bg-surface rounded-full h-2",children:h.jsx("div",{className:"bg-primary rounded-full h-2",style:{width:`${((u=n.metrics)==null?void 0:u.engagement_score)||0}%`}})})})]},n.id)})})]})})}function Ci({count:t=1,type:e="card",className:n=""}){const r=Array.from({length:t},(s,o)=>o),i=s=>{switch(e){case"banner":return h.jsxs(G.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:s*.1},className:`bg-surface border border-surface-light rounded-lg overflow-hidden ${n}`,children:[h.jsx("div",{className:"h-64 bg-surface-light animate-pulse"}),h.jsxs("div",{className:"p-6 space-y-4",children:[h.jsx("div",{className:"h-8 bg-surface-light rounded w-1/3 animate-pulse"}),h.jsx("div",{className:"h-4 bg-surface-light rounded w-2/3 animate-pulse"}),h.jsx("div",{className:"grid grid-cols-3 gap-4",children:[...Array(3)].map((o,a)=>h.jsx("div",{className:"h-20 bg-surface-light rounded animate-pulse"},a))})]})]},s);case"card":return h.jsxs(G.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:s*.1},className:`bg-surface border border-surface-light rounded-lg overflow-hidden ${n}`,children:[h.jsx("div",{className:"h-48 bg-surface-light animate-pulse"}),h.jsxs("div",{className:"p-6 space-y-4",children:[h.jsxs("div",{className:"flex space-x-2",children:[h.jsx("div",{className:"h-6 w-20 bg-surface-light rounded-full animate-pulse"}),h.jsx("div",{className:"h-6 w-24 bg-surface-light rounded-full animate-pulse"})]}),h.jsx("div",{className:"h-8 bg-surface-light rounded animate-pulse"}),h.jsx("div",{className:"h-4 bg-surface-light rounded w-3/4 animate-pulse"}),h.jsx("div",{className:"grid grid-cols-3 gap-4",children:[...Array(3)].map((o,a)=>h.jsx("div",{className:"h-16 bg-surface-light rounded animate-pulse"},a))})]})]},s);case"list":return h.jsx(G.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:s*.1},className:`bg-surface border border-surface-light rounded-lg p-4 ${n}`,children:h.jsxs("div",{className:"flex items-center space-x-4",children:[h.jsx("div",{className:"h-12 w-12 rounded-full bg-surface-light animate-pulse"}),h.jsxs("div",{className:"flex-1 space-y-2",children:[h.jsx("div",{className:"h-4 bg-surface-light rounded w-1/4 animate-pulse"}),h.jsx("div",{className:"h-3 bg-surface-light rounded w-3/4 animate-pulse"})]}),h.jsx("div",{className:"h-8 w-24 bg-surface-light rounded animate-pulse"})]})},s);case"text":return h.jsxs(G.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:s*.1},className:`space-y-2 ${n}`,children:[h.jsx("div",{className:"h-4 bg-surface-light rounded w-3/4 animate-pulse"}),h.jsx("div",{className:"h-4 bg-surface-light rounded w-1/2 animate-pulse"}),h.jsx("div",{className:"h-4 bg-surface-light rounded w-5/6 animate-pulse"})]},s)}};return h.jsx(h.Fragment,{children:r.map(i)})}function gbe(){const[t,e]=C.useState("creators"),[n,r]=C.useState([]),[i,s]=C.useState([]),[o,a]=C.useState("revenue"),[l,c]=C.useState(!0),[u,d]=C.useState(null);C.useEffect(()=>{m()},[]);async function f(){const g=wt(Ce(le,"communities"),mn("created_at","desc"));return(await Ft(g)).docs.map(x=>({id:x.id,...x.data(),metrics:{monthly_revenue:Math.floor(Math.random()*1e5),total_revenue:Math.floor(Math.random()*1e6),active_users:Math.floor(Math.random()*1e3),engagement_rate:Math.floor(Math.random()*100),course_completion_rate:Math.floor(Math.random()*100),avg_course_rating:Number((Math.random()*2+3).toFixed(1)),student_satisfaction:Math.floor(Math.random()*100),total_courses:Math.floor(Math.random()*50),total_students:Math.floor(Math.random()*1e4),growth_rate:Math.floor(Math.random()*200-100),updated_at:new Date}}))}async function p(){const g=wt(Ce(le,"users"),mn("created_at","desc"));return(await Ft(g)).docs.map(x=>({id:x.id,...x.data(),metrics:{total_students:Math.floor(Math.random()*5e3),total_revenue:Math.floor(Math.random()*5e5),avg_course_rating:Number((Math.random()*2+3).toFixed(1)),total_courses:Math.floor(Math.random()*20),completion_rate:Math.floor(Math.random()*100),engagement_score:Math.floor(Math.random()*100),active_students:Math.floor(Math.random()*1e3),monthly_revenue:Math.floor(Math.random()*5e4),updated_at:new Date}}))}async function m(){try{c(!0),d(null);const[g,v]=await Promise.all([f(),p()]);r(g),s(v)}catch(g){console.error("Error loading rankings:",g),d(g),Et(g,"Failed to load rankings")}finally{c(!1)}}return h.jsxs(G.div,{initial:{opacity:0},animate:{opacity:1},className:"space-y-8",children:[h.jsxs("div",{className:"flex justify-between items-center",children:[h.jsxs(G.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},children:[h.jsx("h1",{className:"text-3xl font-bold text-white",children:"Rankings"}),h.jsx("p",{className:"text-gray-400 mt-2",children:"Top performing creators and communities based on revenue and engagement"})]}),h.jsx(G.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},children:h.jsxs(yt,{to:"/communities/new",className:"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md text-white bg-primary hover:bg-primary/90 transition-all duration-200",children:[h.jsx(Ri,{className:"h-4 w-4 mr-1"}),"Create Community"]})})]}),h.jsx("div",{className:"border-b border-surface-light",children:h.jsxs("div",{className:"flex space-x-8",children:[h.jsxs("button",{onClick:()=>e("creators"),className:`pb-4 relative ${t==="creators"?"text-primary":"text-gray-400 hover:text-white"}`,children:["Creators",t==="creators"&&h.jsx("div",{className:"absolute bottom-0 left-0 right-0 h-0.5 bg-primary"})]}),h.jsxs("button",{onClick:()=>e("communities"),className:`pb-4 relative ${t==="communities"?"text-primary":"text-gray-400 hover:text-white"}`,children:["Communities",t==="communities"&&h.jsx("div",{className:"absolute bottom-0 left-0 right-0 h-0.5 bg-primary"})]})]})}),h.jsx("div",{className:"bg-surface border border-surface-light rounded-lg p-6",children:h.jsx(or,{mode:"wait",children:l?h.jsx(G.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},children:h.jsx(Ci,{type:"list",count:5})},"loading"):u?h.jsxs(G.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.95},className:"text-center py-12",children:[h.jsx("p",{className:"text-red-400 mb-4",children:u.message}),h.jsx("button",{onClick:m,className:"px-4 py-2 bg-primary text-white rounded-md hover:bg-primary/90",children:"Try Again"})]},"error"):h.jsx(G.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},children:t==="creators"?h.jsx(mbe,{creators:i}):h.jsx(pbe,{communities:n,sortBy:o})},"content")})}),h.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[h.jsxs(G.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},className:"bg-surface border border-surface-light rounded-lg p-6",children:[h.jsxs("div",{className:"flex items-center justify-between",children:[h.jsx("h3",{className:"text-lg font-medium text-white",children:"Total Revenue"}),h.jsx(fp,{className:"h-5 w-5 text-green-500"})]}),h.jsxs("p",{className:"text-3xl font-bold text-white mt-2",children:["$",n.reduce((g,v)=>{var x;return g+(((x=v.metrics)==null?void 0:x.monthly_revenue)||0)},0).toLocaleString()]}),h.jsx("p",{className:"text-sm text-gray-400 mt-1",children:"Across all communities"})]}),h.jsxs(G.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},className:"bg-surface border border-surface-light rounded-lg p-6",children:[h.jsxs("div",{className:"flex items-center justify-between",children:[h.jsx("h3",{className:"text-lg font-medium text-white",children:"Active Students"}),h.jsx(Jt,{className:"h-5 w-5 text-blue-500"})]}),h.jsx("p",{className:"text-3xl font-bold text-white mt-2",children:n.reduce((g,v)=>{var x;return g+(((x=v.metrics)==null?void 0:x.active_users)||0)},0).toLocaleString()}),h.jsx("p",{className:"text-sm text-gray-400 mt-1",children:"Learning this month"})]}),h.jsxs(G.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3},className:"bg-surface border border-surface-light rounded-lg p-6",children:[h.jsxs("div",{className:"flex items-center justify-between",children:[h.jsx("h3",{className:"text-lg font-medium text-white",children:"Course Completion"}),h.jsx(bo,{className:"h-5 w-5 text-yellow-500"})]}),h.jsxs("p",{className:"text-3xl font-bold text-white mt-2",children:[Math.round(n.reduce((g,v)=>{var x;return g+(((x=v.metrics)==null?void 0:x.course_completion_rate)||0)},0)/Math.max(n.length,1)),"%"]}),h.jsx("p",{className:"text-sm text-gray-400 mt-1",children:"Average completion rate"})]})]})]})}var q7={exports:{}},ybe="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",vbe=ybe,xbe=vbe;function H7(){}function W7(){}W7.resetWarningCache=H7;var bbe=function(){function t(r,i,s,o,a,l){if(l!==xbe){var c=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw c.name="Invariant Violation",c}}t.isRequired=t;function e(){return t}var n={array:t,bigint:t,bool:t,func:t,number:t,object:t,string:t,symbol:t,any:t,arrayOf:e,element:t,elementType:t,instanceOf:e,node:t,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:W7,resetWarningCache:H7};return n.PropTypes=n,n};q7.exports=bbe();var wbe=q7.exports;const xe=vt(wbe),_be=new Map([["1km","application/vnd.1000minds.decision-model+xml"],["3dml","text/vnd.in3d.3dml"],["3ds","image/x-3ds"],["3g2","video/3gpp2"],["3gp","video/3gp"],["3gpp","video/3gpp"],["3mf","model/3mf"],["7z","application/x-7z-compressed"],["7zip","application/x-7z-compressed"],["123","application/vnd.lotus-1-2-3"],["aab","application/x-authorware-bin"],["aac","audio/x-acc"],["aam","application/x-authorware-map"],["aas","application/x-authorware-seg"],["abw","application/x-abiword"],["ac","application/vnd.nokia.n-gage.ac+xml"],["ac3","audio/ac3"],["acc","application/vnd.americandynamics.acc"],["ace","application/x-ace-compressed"],["acu","application/vnd.acucobol"],["acutc","application/vnd.acucorp"],["adp","audio/adpcm"],["aep","application/vnd.audiograph"],["afm","application/x-font-type1"],["afp","application/vnd.ibm.modcap"],["ahead","application/vnd.ahead.space"],["ai","application/pdf"],["aif","audio/x-aiff"],["aifc","audio/x-aiff"],["aiff","audio/x-aiff"],["air","application/vnd.adobe.air-application-installer-package+zip"],["ait","application/vnd.dvb.ait"],["ami","application/vnd.amiga.ami"],["amr","audio/amr"],["apk","application/vnd.android.package-archive"],["apng","image/apng"],["appcache","text/cache-manifest"],["application","application/x-ms-application"],["apr","application/vnd.lotus-approach"],["arc","application/x-freearc"],["arj","application/x-arj"],["asc","application/pgp-signature"],["asf","video/x-ms-asf"],["asm","text/x-asm"],["aso","application/vnd.accpac.simply.aso"],["asx","video/x-ms-asf"],["atc","application/vnd.acucorp"],["atom","application/atom+xml"],["atomcat","application/atomcat+xml"],["atomdeleted","application/atomdeleted+xml"],["atomsvc","application/atomsvc+xml"],["atx","application/vnd.antix.game-component"],["au","audio/x-au"],["avi","video/x-msvideo"],["avif","image/avif"],["aw","application/applixware"],["azf","application/vnd.airzip.filesecure.azf"],["azs","application/vnd.airzip.filesecure.azs"],["azv","image/vnd.airzip.accelerator.azv"],["azw","application/vnd.amazon.ebook"],["b16","image/vnd.pco.b16"],["bat","application/x-msdownload"],["bcpio","application/x-bcpio"],["bdf","application/x-font-bdf"],["bdm","application/vnd.syncml.dm+wbxml"],["bdoc","application/x-bdoc"],["bed","application/vnd.realvnc.bed"],["bh2","application/vnd.fujitsu.oasysprs"],["bin","application/octet-stream"],["blb","application/x-blorb"],["blorb","application/x-blorb"],["bmi","application/vnd.bmi"],["bmml","application/vnd.balsamiq.bmml+xml"],["bmp","image/bmp"],["book","application/vnd.framemaker"],["box","application/vnd.previewsystems.box"],["boz","application/x-bzip2"],["bpk","application/octet-stream"],["bpmn","application/octet-stream"],["bsp","model/vnd.valve.source.compiled-map"],["btif","image/prs.btif"],["buffer","application/octet-stream"],["bz","application/x-bzip"],["bz2","application/x-bzip2"],["c","text/x-c"],["c4d","application/vnd.clonk.c4group"],["c4f","application/vnd.clonk.c4group"],["c4g","application/vnd.clonk.c4group"],["c4p","application/vnd.clonk.c4group"],["c4u","application/vnd.clonk.c4group"],["c11amc","application/vnd.cluetrust.cartomobile-config"],["c11amz","application/vnd.cluetrust.cartomobile-config-pkg"],["cab","application/vnd.ms-cab-compressed"],["caf","audio/x-caf"],["cap","application/vnd.tcpdump.pcap"],["car","application/vnd.curl.car"],["cat","application/vnd.ms-pki.seccat"],["cb7","application/x-cbr"],["cba","application/x-cbr"],["cbr","application/x-cbr"],["cbt","application/x-cbr"],["cbz","application/x-cbr"],["cc","text/x-c"],["cco","application/x-cocoa"],["cct","application/x-director"],["ccxml","application/ccxml+xml"],["cdbcmsg","application/vnd.contact.cmsg"],["cda","application/x-cdf"],["cdf","application/x-netcdf"],["cdfx","application/cdfx+xml"],["cdkey","application/vnd.mediastation.cdkey"],["cdmia","application/cdmi-capability"],["cdmic","application/cdmi-container"],["cdmid","application/cdmi-domain"],["cdmio","application/cdmi-object"],["cdmiq","application/cdmi-queue"],["cdr","application/cdr"],["cdx","chemical/x-cdx"],["cdxml","application/vnd.chemdraw+xml"],["cdy","application/vnd.cinderella"],["cer","application/pkix-cert"],["cfs","application/x-cfs-compressed"],["cgm","image/cgm"],["chat","application/x-chat"],["chm","application/vnd.ms-htmlhelp"],["chrt","application/vnd.kde.kchart"],["cif","chemical/x-cif"],["cii","application/vnd.anser-web-certificate-issue-initiation"],["cil","application/vnd.ms-artgalry"],["cjs","application/node"],["cla","application/vnd.claymore"],["class","application/octet-stream"],["clkk","application/vnd.crick.clicker.keyboard"],["clkp","application/vnd.crick.clicker.palette"],["clkt","application/vnd.crick.clicker.template"],["clkw","application/vnd.crick.clicker.wordbank"],["clkx","application/vnd.crick.clicker"],["clp","application/x-msclip"],["cmc","application/vnd.cosmocaller"],["cmdf","chemical/x-cmdf"],["cml","chemical/x-cml"],["cmp","application/vnd.yellowriver-custom-menu"],["cmx","image/x-cmx"],["cod","application/vnd.rim.cod"],["coffee","text/coffeescript"],["com","application/x-msdownload"],["conf","text/plain"],["cpio","application/x-cpio"],["cpp","text/x-c"],["cpt","application/mac-compactpro"],["crd","application/x-mscardfile"],["crl","application/pkix-crl"],["crt","application/x-x509-ca-cert"],["crx","application/x-chrome-extension"],["cryptonote","application/vnd.rig.cryptonote"],["csh","application/x-csh"],["csl","application/vnd.citationstyles.style+xml"],["csml","chemical/x-csml"],["csp","application/vnd.commonspace"],["csr","application/octet-stream"],["css","text/css"],["cst","application/x-director"],["csv","text/csv"],["cu","application/cu-seeme"],["curl","text/vnd.curl"],["cww","application/prs.cww"],["cxt","application/x-director"],["cxx","text/x-c"],["dae","model/vnd.collada+xml"],["daf","application/vnd.mobius.daf"],["dart","application/vnd.dart"],["dataless","application/vnd.fdsn.seed"],["davmount","application/davmount+xml"],["dbf","application/vnd.dbf"],["dbk","application/docbook+xml"],["dcr","application/x-director"],["dcurl","text/vnd.curl.dcurl"],["dd2","application/vnd.oma.dd2+xml"],["ddd","application/vnd.fujixerox.ddd"],["ddf","application/vnd.syncml.dmddf+xml"],["dds","image/vnd.ms-dds"],["deb","application/x-debian-package"],["def","text/plain"],["deploy","application/octet-stream"],["der","application/x-x509-ca-cert"],["dfac","application/vnd.dreamfactory"],["dgc","application/x-dgc-compressed"],["dic","text/x-c"],["dir","application/x-director"],["dis","application/vnd.mobius.dis"],["disposition-notification","message/disposition-notification"],["dist","application/octet-stream"],["distz","application/octet-stream"],["djv","image/vnd.djvu"],["djvu","image/vnd.djvu"],["dll","application/octet-stream"],["dmg","application/x-apple-diskimage"],["dmn","application/octet-stream"],["dmp","application/vnd.tcpdump.pcap"],["dms","application/octet-stream"],["dna","application/vnd.dna"],["doc","application/msword"],["docm","application/vnd.ms-word.template.macroEnabled.12"],["docx","application/vnd.openxmlformats-officedocument.wordprocessingml.document"],["dot","application/msword"],["dotm","application/vnd.ms-word.template.macroEnabled.12"],["dotx","application/vnd.openxmlformats-officedocument.wordprocessingml.template"],["dp","application/vnd.osgi.dp"],["dpg","application/vnd.dpgraph"],["dra","audio/vnd.dra"],["drle","image/dicom-rle"],["dsc","text/prs.lines.tag"],["dssc","application/dssc+der"],["dtb","application/x-dtbook+xml"],["dtd","application/xml-dtd"],["dts","audio/vnd.dts"],["dtshd","audio/vnd.dts.hd"],["dump","application/octet-stream"],["dvb","video/vnd.dvb.file"],["dvi","application/x-dvi"],["dwd","application/atsc-dwd+xml"],["dwf","model/vnd.dwf"],["dwg","image/vnd.dwg"],["dxf","image/vnd.dxf"],["dxp","application/vnd.spotfire.dxp"],["dxr","application/x-director"],["ear","application/java-archive"],["ecelp4800","audio/vnd.nuera.ecelp4800"],["ecelp7470","audio/vnd.nuera.ecelp7470"],["ecelp9600","audio/vnd.nuera.ecelp9600"],["ecma","application/ecmascript"],["edm","application/vnd.novadigm.edm"],["edx","application/vnd.novadigm.edx"],["efif","application/vnd.picsel"],["ei6","application/vnd.pg.osasli"],["elc","application/octet-stream"],["emf","image/emf"],["eml","message/rfc822"],["emma","application/emma+xml"],["emotionml","application/emotionml+xml"],["emz","application/x-msmetafile"],["eol","audio/vnd.digital-winds"],["eot","application/vnd.ms-fontobject"],["eps","application/postscript"],["epub","application/epub+zip"],["es","application/ecmascript"],["es3","application/vnd.eszigno3+xml"],["esa","application/vnd.osgi.subsystem"],["esf","application/vnd.epson.esf"],["et3","application/vnd.eszigno3+xml"],["etx","text/x-setext"],["eva","application/x-eva"],["evy","application/x-envoy"],["exe","application/octet-stream"],["exi","application/exi"],["exp","application/express"],["exr","image/aces"],["ext","application/vnd.novadigm.ext"],["ez","application/andrew-inset"],["ez2","application/vnd.ezpix-album"],["ez3","application/vnd.ezpix-package"],["f","text/x-fortran"],["f4v","video/mp4"],["f77","text/x-fortran"],["f90","text/x-fortran"],["fbs","image/vnd.fastbidsheet"],["fcdt","application/vnd.adobe.formscentral.fcdt"],["fcs","application/vnd.isac.fcs"],["fdf","application/vnd.fdf"],["fdt","application/fdt+xml"],["fe_launch","application/vnd.denovo.fcselayout-link"],["fg5","application/vnd.fujitsu.oasysgp"],["fgd","application/x-director"],["fh","image/x-freehand"],["fh4","image/x-freehand"],["fh5","image/x-freehand"],["fh7","image/x-freehand"],["fhc","image/x-freehand"],["fig","application/x-xfig"],["fits","image/fits"],["flac","audio/x-flac"],["fli","video/x-fli"],["flo","application/vnd.micrografx.flo"],["flv","video/x-flv"],["flw","application/vnd.kde.kivio"],["flx","text/vnd.fmi.flexstor"],["fly","text/vnd.fly"],["fm","application/vnd.framemaker"],["fnc","application/vnd.frogans.fnc"],["fo","application/vnd.software602.filler.form+xml"],["for","text/x-fortran"],["fpx","image/vnd.fpx"],["frame","application/vnd.framemaker"],["fsc","application/vnd.fsc.weblaunch"],["fst","image/vnd.fst"],["ftc","application/vnd.fluxtime.clip"],["fti","application/vnd.anser-web-funds-transfer-initiation"],["fvt","video/vnd.fvt"],["fxp","application/vnd.adobe.fxp"],["fxpl","application/vnd.adobe.fxp"],["fzs","application/vnd.fuzzysheet"],["g2w","application/vnd.geoplan"],["g3","image/g3fax"],["g3w","application/vnd.geospace"],["gac","application/vnd.groove-account"],["gam","application/x-tads"],["gbr","application/rpki-ghostbusters"],["gca","application/x-gca-compressed"],["gdl","model/vnd.gdl"],["gdoc","application/vnd.google-apps.document"],["geo","application/vnd.dynageo"],["geojson","application/geo+json"],["gex","application/vnd.geometry-explorer"],["ggb","application/vnd.geogebra.file"],["ggt","application/vnd.geogebra.tool"],["ghf","application/vnd.groove-help"],["gif","image/gif"],["gim","application/vnd.groove-identity-message"],["glb","model/gltf-binary"],["gltf","model/gltf+json"],["gml","application/gml+xml"],["gmx","application/vnd.gmx"],["gnumeric","application/x-gnumeric"],["gpg","application/gpg-keys"],["gph","application/vnd.flographit"],["gpx","application/gpx+xml"],["gqf","application/vnd.grafeq"],["gqs","application/vnd.grafeq"],["gram","application/srgs"],["gramps","application/x-gramps-xml"],["gre","application/vnd.geometry-explorer"],["grv","application/vnd.groove-injector"],["grxml","application/srgs+xml"],["gsf","application/x-font-ghostscript"],["gsheet","application/vnd.google-apps.spreadsheet"],["gslides","application/vnd.google-apps.presentation"],["gtar","application/x-gtar"],["gtm","application/vnd.groove-tool-message"],["gtw","model/vnd.gtw"],["gv","text/vnd.graphviz"],["gxf","application/gxf"],["gxt","application/vnd.geonext"],["gz","application/gzip"],["gzip","application/gzip"],["h","text/x-c"],["h261","video/h261"],["h263","video/h263"],["h264","video/h264"],["hal","application/vnd.hal+xml"],["hbci","application/vnd.hbci"],["hbs","text/x-handlebars-template"],["hdd","application/x-virtualbox-hdd"],["hdf","application/x-hdf"],["heic","image/heic"],["heics","image/heic-sequence"],["heif","image/heif"],["heifs","image/heif-sequence"],["hej2","image/hej2k"],["held","application/atsc-held+xml"],["hh","text/x-c"],["hjson","application/hjson"],["hlp","application/winhlp"],["hpgl","application/vnd.hp-hpgl"],["hpid","application/vnd.hp-hpid"],["hps","application/vnd.hp-hps"],["hqx","application/mac-binhex40"],["hsj2","image/hsj2"],["htc","text/x-component"],["htke","application/vnd.kenameaapp"],["htm","text/html"],["html","text/html"],["hvd","application/vnd.yamaha.hv-dic"],["hvp","application/vnd.yamaha.hv-voice"],["hvs","application/vnd.yamaha.hv-script"],["i2g","application/vnd.intergeo"],["icc","application/vnd.iccprofile"],["ice","x-conference/x-cooltalk"],["icm","application/vnd.iccprofile"],["ico","image/x-icon"],["ics","text/calendar"],["ief","image/ief"],["ifb","text/calendar"],["ifm","application/vnd.shana.informed.formdata"],["iges","model/iges"],["igl","application/vnd.igloader"],["igm","application/vnd.insors.igm"],["igs","model/iges"],["igx","application/vnd.micrografx.igx"],["iif","application/vnd.shana.informed.interchange"],["img","application/octet-stream"],["imp","application/vnd.accpac.simply.imp"],["ims","application/vnd.ms-ims"],["in","text/plain"],["ini","text/plain"],["ink","application/inkml+xml"],["inkml","application/inkml+xml"],["install","application/x-install-instructions"],["iota","application/vnd.astraea-software.iota"],["ipfix","application/ipfix"],["ipk","application/vnd.shana.informed.package"],["irm","application/vnd.ibm.rights-management"],["irp","application/vnd.irepository.package+xml"],["iso","application/x-iso9660-image"],["itp","application/vnd.shana.informed.formtemplate"],["its","application/its+xml"],["ivp","application/vnd.immervision-ivp"],["ivu","application/vnd.immervision-ivu"],["jad","text/vnd.sun.j2me.app-descriptor"],["jade","text/jade"],["jam","application/vnd.jam"],["jar","application/java-archive"],["jardiff","application/x-java-archive-diff"],["java","text/x-java-source"],["jhc","image/jphc"],["jisp","application/vnd.jisp"],["jls","image/jls"],["jlt","application/vnd.hp-jlyt"],["jng","image/x-jng"],["jnlp","application/x-java-jnlp-file"],["joda","application/vnd.joost.joda-archive"],["jp2","image/jp2"],["jpe","image/jpeg"],["jpeg","image/jpeg"],["jpf","image/jpx"],["jpg","image/jpeg"],["jpg2","image/jp2"],["jpgm","video/jpm"],["jpgv","video/jpeg"],["jph","image/jph"],["jpm","video/jpm"],["jpx","image/jpx"],["js","application/javascript"],["json","application/json"],["json5","application/json5"],["jsonld","application/ld+json"],["jsonl","application/jsonl"],["jsonml","application/jsonml+json"],["jsx","text/jsx"],["jxr","image/jxr"],["jxra","image/jxra"],["jxrs","image/jxrs"],["jxs","image/jxs"],["jxsc","image/jxsc"],["jxsi","image/jxsi"],["jxss","image/jxss"],["kar","audio/midi"],["karbon","application/vnd.kde.karbon"],["kdb","application/octet-stream"],["kdbx","application/x-keepass2"],["key","application/x-iwork-keynote-sffkey"],["kfo","application/vnd.kde.kformula"],["kia","application/vnd.kidspiration"],["kml","application/vnd.google-earth.kml+xml"],["kmz","application/vnd.google-earth.kmz"],["kne","application/vnd.kinar"],["knp","application/vnd.kinar"],["kon","application/vnd.kde.kontour"],["kpr","application/vnd.kde.kpresenter"],["kpt","application/vnd.kde.kpresenter"],["kpxx","application/vnd.ds-keypoint"],["ksp","application/vnd.kde.kspread"],["ktr","application/vnd.kahootz"],["ktx","image/ktx"],["ktx2","image/ktx2"],["ktz","application/vnd.kahootz"],["kwd","application/vnd.kde.kword"],["kwt","application/vnd.kde.kword"],["lasxml","application/vnd.las.las+xml"],["latex","application/x-latex"],["lbd","application/vnd.llamagraphics.life-balance.desktop"],["lbe","application/vnd.llamagraphics.life-balance.exchange+xml"],["les","application/vnd.hhe.lesson-player"],["less","text/less"],["lgr","application/lgr+xml"],["lha","application/octet-stream"],["link66","application/vnd.route66.link66+xml"],["list","text/plain"],["list3820","application/vnd.ibm.modcap"],["listafp","application/vnd.ibm.modcap"],["litcoffee","text/coffeescript"],["lnk","application/x-ms-shortcut"],["log","text/plain"],["lostxml","application/lost+xml"],["lrf","application/octet-stream"],["lrm","application/vnd.ms-lrm"],["ltf","application/vnd.frogans.ltf"],["lua","text/x-lua"],["luac","application/x-lua-bytecode"],["lvp","audio/vnd.lucent.voice"],["lwp","application/vnd.lotus-wordpro"],["lzh","application/octet-stream"],["m1v","video/mpeg"],["m2a","audio/mpeg"],["m2v","video/mpeg"],["m3a","audio/mpeg"],["m3u","text/plain"],["m3u8","application/vnd.apple.mpegurl"],["m4a","audio/x-m4a"],["m4p","application/mp4"],["m4s","video/iso.segment"],["m4u","application/vnd.mpegurl"],["m4v","video/x-m4v"],["m13","application/x-msmediaview"],["m14","application/x-msmediaview"],["m21","application/mp21"],["ma","application/mathematica"],["mads","application/mads+xml"],["maei","application/mmt-aei+xml"],["mag","application/vnd.ecowin.chart"],["maker","application/vnd.framemaker"],["man","text/troff"],["manifest","text/cache-manifest"],["map","application/json"],["mar","application/octet-stream"],["markdown","text/markdown"],["mathml","application/mathml+xml"],["mb","application/mathematica"],["mbk","application/vnd.mobius.mbk"],["mbox","application/mbox"],["mc1","application/vnd.medcalcdata"],["mcd","application/vnd.mcd"],["mcurl","text/vnd.curl.mcurl"],["md","text/markdown"],["mdb","application/x-msaccess"],["mdi","image/vnd.ms-modi"],["mdx","text/mdx"],["me","text/troff"],["mesh","model/mesh"],["meta4","application/metalink4+xml"],["metalink","application/metalink+xml"],["mets","application/mets+xml"],["mfm","application/vnd.mfmp"],["mft","application/rpki-manifest"],["mgp","application/vnd.osgeo.mapguide.package"],["mgz","application/vnd.proteus.magazine"],["mid","audio/midi"],["midi","audio/midi"],["mie","application/x-mie"],["mif","application/vnd.mif"],["mime","message/rfc822"],["mj2","video/mj2"],["mjp2","video/mj2"],["mjs","application/javascript"],["mk3d","video/x-matroska"],["mka","audio/x-matroska"],["mkd","text/x-markdown"],["mks","video/x-matroska"],["mkv","video/x-matroska"],["mlp","application/vnd.dolby.mlp"],["mmd","application/vnd.chipnuts.karaoke-mmd"],["mmf","application/vnd.smaf"],["mml","text/mathml"],["mmr","image/vnd.fujixerox.edmics-mmr"],["mng","video/x-mng"],["mny","application/x-msmoney"],["mobi","application/x-mobipocket-ebook"],["mods","application/mods+xml"],["mov","video/quicktime"],["movie","video/x-sgi-movie"],["mp2","audio/mpeg"],["mp2a","audio/mpeg"],["mp3","audio/mpeg"],["mp4","video/mp4"],["mp4a","audio/mp4"],["mp4s","application/mp4"],["mp4v","video/mp4"],["mp21","application/mp21"],["mpc","application/vnd.mophun.certificate"],["mpd","application/dash+xml"],["mpe","video/mpeg"],["mpeg","video/mpeg"],["mpg","video/mpeg"],["mpg4","video/mp4"],["mpga","audio/mpeg"],["mpkg","application/vnd.apple.installer+xml"],["mpm","application/vnd.blueice.multipass"],["mpn","application/vnd.mophun.application"],["mpp","application/vnd.ms-project"],["mpt","application/vnd.ms-project"],["mpy","application/vnd.ibm.minipay"],["mqy","application/vnd.mobius.mqy"],["mrc","application/marc"],["mrcx","application/marcxml+xml"],["ms","text/troff"],["mscml","application/mediaservercontrol+xml"],["mseed","application/vnd.fdsn.mseed"],["mseq","application/vnd.mseq"],["msf","application/vnd.epson.msf"],["msg","application/vnd.ms-outlook"],["msh","model/mesh"],["msi","application/x-msdownload"],["msl","application/vnd.mobius.msl"],["msm","application/octet-stream"],["msp","application/octet-stream"],["msty","application/vnd.muvee.style"],["mtl","model/mtl"],["mts","model/vnd.mts"],["mus","application/vnd.musician"],["musd","application/mmt-usd+xml"],["musicxml","application/vnd.recordare.musicxml+xml"],["mvb","application/x-msmediaview"],["mvt","application/vnd.mapbox-vector-tile"],["mwf","application/vnd.mfer"],["mxf","application/mxf"],["mxl","application/vnd.recordare.musicxml"],["mxmf","audio/mobile-xmf"],["mxml","application/xv+xml"],["mxs","application/vnd.triscape.mxs"],["mxu","video/vnd.mpegurl"],["n-gage","application/vnd.nokia.n-gage.symbian.install"],["n3","text/n3"],["nb","application/mathematica"],["nbp","application/vnd.wolfram.player"],["nc","application/x-netcdf"],["ncx","application/x-dtbncx+xml"],["nfo","text/x-nfo"],["ngdat","application/vnd.nokia.n-gage.data"],["nitf","application/vnd.nitf"],["nlu","application/vnd.neurolanguage.nlu"],["nml","application/vnd.enliven"],["nnd","application/vnd.noblenet-directory"],["nns","application/vnd.noblenet-sealer"],["nnw","application/vnd.noblenet-web"],["npx","image/vnd.net-fpx"],["nq","application/n-quads"],["nsc","application/x-conference"],["nsf","application/vnd.lotus-notes"],["nt","application/n-triples"],["ntf","application/vnd.nitf"],["numbers","application/x-iwork-numbers-sffnumbers"],["nzb","application/x-nzb"],["oa2","application/vnd.fujitsu.oasys2"],["oa3","application/vnd.fujitsu.oasys3"],["oas","application/vnd.fujitsu.oasys"],["obd","application/x-msbinder"],["obgx","application/vnd.openblox.game+xml"],["obj","model/obj"],["oda","application/oda"],["odb","application/vnd.oasis.opendocument.database"],["odc","application/vnd.oasis.opendocument.chart"],["odf","application/vnd.oasis.opendocument.formula"],["odft","application/vnd.oasis.opendocument.formula-template"],["odg","application/vnd.oasis.opendocument.graphics"],["odi","application/vnd.oasis.opendocument.image"],["odm","application/vnd.oasis.opendocument.text-master"],["odp","application/vnd.oasis.opendocument.presentation"],["ods","application/vnd.oasis.opendocument.spreadsheet"],["odt","application/vnd.oasis.opendocument.text"],["oga","audio/ogg"],["ogex","model/vnd.opengex"],["ogg","audio/ogg"],["ogv","video/ogg"],["ogx","application/ogg"],["omdoc","application/omdoc+xml"],["onepkg","application/onenote"],["onetmp","application/onenote"],["onetoc","application/onenote"],["onetoc2","application/onenote"],["opf","application/oebps-package+xml"],["opml","text/x-opml"],["oprc","application/vnd.palm"],["opus","audio/ogg"],["org","text/x-org"],["osf","application/vnd.yamaha.openscoreformat"],["osfpvg","application/vnd.yamaha.openscoreformat.osfpvg+xml"],["osm","application/vnd.openstreetmap.data+xml"],["otc","application/vnd.oasis.opendocument.chart-template"],["otf","font/otf"],["otg","application/vnd.oasis.opendocument.graphics-template"],["oth","application/vnd.oasis.opendocument.text-web"],["oti","application/vnd.oasis.opendocument.image-template"],["otp","application/vnd.oasis.opendocument.presentation-template"],["ots","application/vnd.oasis.opendocument.spreadsheet-template"],["ott","application/vnd.oasis.opendocument.text-template"],["ova","application/x-virtualbox-ova"],["ovf","application/x-virtualbox-ovf"],["owl","application/rdf+xml"],["oxps","application/oxps"],["oxt","application/vnd.openofficeorg.extension"],["p","text/x-pascal"],["p7a","application/x-pkcs7-signature"],["p7b","application/x-pkcs7-certificates"],["p7c","application/pkcs7-mime"],["p7m","application/pkcs7-mime"],["p7r","application/x-pkcs7-certreqresp"],["p7s","application/pkcs7-signature"],["p8","application/pkcs8"],["p10","application/x-pkcs10"],["p12","application/x-pkcs12"],["pac","application/x-ns-proxy-autoconfig"],["pages","application/x-iwork-pages-sffpages"],["pas","text/x-pascal"],["paw","application/vnd.pawaafile"],["pbd","application/vnd.powerbuilder6"],["pbm","image/x-portable-bitmap"],["pcap","application/vnd.tcpdump.pcap"],["pcf","application/x-font-pcf"],["pcl","application/vnd.hp-pcl"],["pclxl","application/vnd.hp-pclxl"],["pct","image/x-pict"],["pcurl","application/vnd.curl.pcurl"],["pcx","image/x-pcx"],["pdb","application/x-pilot"],["pde","text/x-processing"],["pdf","application/pdf"],["pem","application/x-x509-user-cert"],["pfa","application/x-font-type1"],["pfb","application/x-font-type1"],["pfm","application/x-font-type1"],["pfr","application/font-tdpfr"],["pfx","application/x-pkcs12"],["pgm","image/x-portable-graymap"],["pgn","application/x-chess-pgn"],["pgp","application/pgp"],["php","application/x-httpd-php"],["php3","application/x-httpd-php"],["php4","application/x-httpd-php"],["phps","application/x-httpd-php-source"],["phtml","application/x-httpd-php"],["pic","image/x-pict"],["pkg","application/octet-stream"],["pki","application/pkixcmp"],["pkipath","application/pkix-pkipath"],["pkpass","application/vnd.apple.pkpass"],["pl","application/x-perl"],["plb","application/vnd.3gpp.pic-bw-large"],["plc","application/vnd.mobius.plc"],["plf","application/vnd.pocketlearn"],["pls","application/pls+xml"],["pm","application/x-perl"],["pml","application/vnd.ctc-posml"],["png","image/png"],["pnm","image/x-portable-anymap"],["portpkg","application/vnd.macports.portpkg"],["pot","application/vnd.ms-powerpoint"],["potm","application/vnd.ms-powerpoint.presentation.macroEnabled.12"],["potx","application/vnd.openxmlformats-officedocument.presentationml.template"],["ppa","application/vnd.ms-powerpoint"],["ppam","application/vnd.ms-powerpoint.addin.macroEnabled.12"],["ppd","application/vnd.cups-ppd"],["ppm","image/x-portable-pixmap"],["pps","application/vnd.ms-powerpoint"],["ppsm","application/vnd.ms-powerpoint.slideshow.macroEnabled.12"],["ppsx","application/vnd.openxmlformats-officedocument.presentationml.slideshow"],["ppt","application/powerpoint"],["pptm","application/vnd.ms-powerpoint.presentation.macroEnabled.12"],["pptx","application/vnd.openxmlformats-officedocument.presentationml.presentation"],["pqa","application/vnd.palm"],["prc","application/x-pilot"],["pre","application/vnd.lotus-freelance"],["prf","application/pics-rules"],["provx","application/provenance+xml"],["ps","application/postscript"],["psb","application/vnd.3gpp.pic-bw-small"],["psd","application/x-photoshop"],["psf","application/x-font-linux-psf"],["pskcxml","application/pskc+xml"],["pti","image/prs.pti"],["ptid","application/vnd.pvi.ptid1"],["pub","application/x-mspublisher"],["pvb","application/vnd.3gpp.pic-bw-var"],["pwn","application/vnd.3m.post-it-notes"],["pya","audio/vnd.ms-playready.media.pya"],["pyv","video/vnd.ms-playready.media.pyv"],["qam","application/vnd.epson.quickanime"],["qbo","application/vnd.intu.qbo"],["qfx","application/vnd.intu.qfx"],["qps","application/vnd.publishare-delta-tree"],["qt","video/quicktime"],["qwd","application/vnd.quark.quarkxpress"],["qwt","application/vnd.quark.quarkxpress"],["qxb","application/vnd.quark.quarkxpress"],["qxd","application/vnd.quark.quarkxpress"],["qxl","application/vnd.quark.quarkxpress"],["qxt","application/vnd.quark.quarkxpress"],["ra","audio/x-realaudio"],["ram","audio/x-pn-realaudio"],["raml","application/raml+yaml"],["rapd","application/route-apd+xml"],["rar","application/x-rar"],["ras","image/x-cmu-raster"],["rcprofile","application/vnd.ipunplugged.rcprofile"],["rdf","application/rdf+xml"],["rdz","application/vnd.data-vision.rdz"],["relo","application/p2p-overlay+xml"],["rep","application/vnd.businessobjects"],["res","application/x-dtbresource+xml"],["rgb","image/x-rgb"],["rif","application/reginfo+xml"],["rip","audio/vnd.rip"],["ris","application/x-research-info-systems"],["rl","application/resource-lists+xml"],["rlc","image/vnd.fujixerox.edmics-rlc"],["rld","application/resource-lists-diff+xml"],["rm","audio/x-pn-realaudio"],["rmi","audio/midi"],["rmp","audio/x-pn-realaudio-plugin"],["rms","application/vnd.jcp.javame.midlet-rms"],["rmvb","application/vnd.rn-realmedia-vbr"],["rnc","application/relax-ng-compact-syntax"],["rng","application/xml"],["roa","application/rpki-roa"],["roff","text/troff"],["rp9","application/vnd.cloanto.rp9"],["rpm","audio/x-pn-realaudio-plugin"],["rpss","application/vnd.nokia.radio-presets"],["rpst","application/vnd.nokia.radio-preset"],["rq","application/sparql-query"],["rs","application/rls-services+xml"],["rsa","application/x-pkcs7"],["rsat","application/atsc-rsat+xml"],["rsd","application/rsd+xml"],["rsheet","application/urc-ressheet+xml"],["rss","application/rss+xml"],["rtf","text/rtf"],["rtx","text/richtext"],["run","application/x-makeself"],["rusd","application/route-usd+xml"],["rv","video/vnd.rn-realvideo"],["s","text/x-asm"],["s3m","audio/s3m"],["saf","application/vnd.yamaha.smaf-audio"],["sass","text/x-sass"],["sbml","application/sbml+xml"],["sc","application/vnd.ibm.secure-container"],["scd","application/x-msschedule"],["scm","application/vnd.lotus-screencam"],["scq","application/scvp-cv-request"],["scs","application/scvp-cv-response"],["scss","text/x-scss"],["scurl","text/vnd.curl.scurl"],["sda","application/vnd.stardivision.draw"],["sdc","application/vnd.stardivision.calc"],["sdd","application/vnd.stardivision.impress"],["sdkd","application/vnd.solent.sdkm+xml"],["sdkm","application/vnd.solent.sdkm+xml"],["sdp","application/sdp"],["sdw","application/vnd.stardivision.writer"],["sea","application/octet-stream"],["see","application/vnd.seemail"],["seed","application/vnd.fdsn.seed"],["sema","application/vnd.sema"],["semd","application/vnd.semd"],["semf","application/vnd.semf"],["senmlx","application/senml+xml"],["sensmlx","application/sensml+xml"],["ser","application/java-serialized-object"],["setpay","application/set-payment-initiation"],["setreg","application/set-registration-initiation"],["sfd-hdstx","application/vnd.hydrostatix.sof-data"],["sfs","application/vnd.spotfire.sfs"],["sfv","text/x-sfv"],["sgi","image/sgi"],["sgl","application/vnd.stardivision.writer-global"],["sgm","text/sgml"],["sgml","text/sgml"],["sh","application/x-sh"],["shar","application/x-shar"],["shex","text/shex"],["shf","application/shf+xml"],["shtml","text/html"],["sid","image/x-mrsid-image"],["sieve","application/sieve"],["sig","application/pgp-signature"],["sil","audio/silk"],["silo","model/mesh"],["sis","application/vnd.symbian.install"],["sisx","application/vnd.symbian.install"],["sit","application/x-stuffit"],["sitx","application/x-stuffitx"],["siv","application/sieve"],["skd","application/vnd.koan"],["skm","application/vnd.koan"],["skp","application/vnd.koan"],["skt","application/vnd.koan"],["sldm","application/vnd.ms-powerpoint.slide.macroenabled.12"],["sldx","application/vnd.openxmlformats-officedocument.presentationml.slide"],["slim","text/slim"],["slm","text/slim"],["sls","application/route-s-tsid+xml"],["slt","application/vnd.epson.salt"],["sm","application/vnd.stepmania.stepchart"],["smf","application/vnd.stardivision.math"],["smi","application/smil"],["smil","application/smil"],["smv","video/x-smv"],["smzip","application/vnd.stepmania.package"],["snd","audio/basic"],["snf","application/x-font-snf"],["so","application/octet-stream"],["spc","application/x-pkcs7-certificates"],["spdx","text/spdx"],["spf","application/vnd.yamaha.smaf-phrase"],["spl","application/x-futuresplash"],["spot","text/vnd.in3d.spot"],["spp","application/scvp-vp-response"],["spq","application/scvp-vp-request"],["spx","audio/ogg"],["sql","application/x-sql"],["src","application/x-wais-source"],["srt","application/x-subrip"],["sru","application/sru+xml"],["srx","application/sparql-results+xml"],["ssdl","application/ssdl+xml"],["sse","application/vnd.kodak-descriptor"],["ssf","application/vnd.epson.ssf"],["ssml","application/ssml+xml"],["sst","application/octet-stream"],["st","application/vnd.sailingtracker.track"],["stc","application/vnd.sun.xml.calc.template"],["std","application/vnd.sun.xml.draw.template"],["stf","application/vnd.wt.stf"],["sti","application/vnd.sun.xml.impress.template"],["stk","application/hyperstudio"],["stl","model/stl"],["stpx","model/step+xml"],["stpxz","model/step-xml+zip"],["stpz","model/step+zip"],["str","application/vnd.pg.format"],["stw","application/vnd.sun.xml.writer.template"],["styl","text/stylus"],["stylus","text/stylus"],["sub","text/vnd.dvb.subtitle"],["sus","application/vnd.sus-calendar"],["susp","application/vnd.sus-calendar"],["sv4cpio","application/x-sv4cpio"],["sv4crc","application/x-sv4crc"],["svc","application/vnd.dvb.service"],["svd","application/vnd.svd"],["svg","image/svg+xml"],["svgz","image/svg+xml"],["swa","application/x-director"],["swf","application/x-shockwave-flash"],["swi","application/vnd.aristanetworks.swi"],["swidtag","application/swid+xml"],["sxc","application/vnd.sun.xml.calc"],["sxd","application/vnd.sun.xml.draw"],["sxg","application/vnd.sun.xml.writer.global"],["sxi","application/vnd.sun.xml.impress"],["sxm","application/vnd.sun.xml.math"],["sxw","application/vnd.sun.xml.writer"],["t","text/troff"],["t3","application/x-t3vm-image"],["t38","image/t38"],["taglet","application/vnd.mynfc"],["tao","application/vnd.tao.intent-module-archive"],["tap","image/vnd.tencent.tap"],["tar","application/x-tar"],["tcap","application/vnd.3gpp2.tcap"],["tcl","application/x-tcl"],["td","application/urc-targetdesc+xml"],["teacher","application/vnd.smart.teacher"],["tei","application/tei+xml"],["teicorpus","application/tei+xml"],["tex","application/x-tex"],["texi","application/x-texinfo"],["texinfo","application/x-texinfo"],["text","text/plain"],["tfi","application/thraud+xml"],["tfm","application/x-tex-tfm"],["tfx","image/tiff-fx"],["tga","image/x-tga"],["tgz","application/x-tar"],["thmx","application/vnd.ms-officetheme"],["tif","image/tiff"],["tiff","image/tiff"],["tk","application/x-tcl"],["tmo","application/vnd.tmobile-livetv"],["toml","application/toml"],["torrent","application/x-bittorrent"],["tpl","application/vnd.groove-tool-template"],["tpt","application/vnd.trid.tpt"],["tr","text/troff"],["tra","application/vnd.trueapp"],["trig","application/trig"],["trm","application/x-msterminal"],["ts","video/mp2t"],["tsd","application/timestamped-data"],["tsv","text/tab-separated-values"],["ttc","font/collection"],["ttf","font/ttf"],["ttl","text/turtle"],["ttml","application/ttml+xml"],["twd","application/vnd.simtech-mindmapper"],["twds","application/vnd.simtech-mindmapper"],["txd","application/vnd.genomatix.tuxedo"],["txf","application/vnd.mobius.txf"],["txt","text/plain"],["u8dsn","message/global-delivery-status"],["u8hdr","message/global-headers"],["u8mdn","message/global-disposition-notification"],["u8msg","message/global"],["u32","application/x-authorware-bin"],["ubj","application/ubjson"],["udeb","application/x-debian-package"],["ufd","application/vnd.ufdl"],["ufdl","application/vnd.ufdl"],["ulx","application/x-glulx"],["umj","application/vnd.umajin"],["unityweb","application/vnd.unity"],["uoml","application/vnd.uoml+xml"],["uri","text/uri-list"],["uris","text/uri-list"],["urls","text/uri-list"],["usdz","model/vnd.usdz+zip"],["ustar","application/x-ustar"],["utz","application/vnd.uiq.theme"],["uu","text/x-uuencode"],["uva","audio/vnd.dece.audio"],["uvd","application/vnd.dece.data"],["uvf","application/vnd.dece.data"],["uvg","image/vnd.dece.graphic"],["uvh","video/vnd.dece.hd"],["uvi","image/vnd.dece.graphic"],["uvm","video/vnd.dece.mobile"],["uvp","video/vnd.dece.pd"],["uvs","video/vnd.dece.sd"],["uvt","application/vnd.dece.ttml+xml"],["uvu","video/vnd.uvvu.mp4"],["uvv","video/vnd.dece.video"],["uvva","audio/vnd.dece.audio"],["uvvd","application/vnd.dece.data"],["uvvf","application/vnd.dece.data"],["uvvg","image/vnd.dece.graphic"],["uvvh","video/vnd.dece.hd"],["uvvi","image/vnd.dece.graphic"],["uvvm","video/vnd.dece.mobile"],["uvvp","video/vnd.dece.pd"],["uvvs","video/vnd.dece.sd"],["uvvt","application/vnd.dece.ttml+xml"],["uvvu","video/vnd.uvvu.mp4"],["uvvv","video/vnd.dece.video"],["uvvx","application/vnd.dece.unspecified"],["uvvz","application/vnd.dece.zip"],["uvx","application/vnd.dece.unspecified"],["uvz","application/vnd.dece.zip"],["vbox","application/x-virtualbox-vbox"],["vbox-extpack","application/x-virtualbox-vbox-extpack"],["vcard","text/vcard"],["vcd","application/x-cdlink"],["vcf","text/x-vcard"],["vcg","application/vnd.groove-vcard"],["vcs","text/x-vcalendar"],["vcx","application/vnd.vcx"],["vdi","application/x-virtualbox-vdi"],["vds","model/vnd.sap.vds"],["vhd","application/x-virtualbox-vhd"],["vis","application/vnd.visionary"],["viv","video/vnd.vivo"],["vlc","application/videolan"],["vmdk","application/x-virtualbox-vmdk"],["vob","video/x-ms-vob"],["vor","application/vnd.stardivision.writer"],["vox","application/x-authorware-bin"],["vrml","model/vrml"],["vsd","application/vnd.visio"],["vsf","application/vnd.vsf"],["vss","application/vnd.visio"],["vst","application/vnd.visio"],["vsw","application/vnd.visio"],["vtf","image/vnd.valve.source.texture"],["vtt","text/vtt"],["vtu","model/vnd.vtu"],["vxml","application/voicexml+xml"],["w3d","application/x-director"],["wad","application/x-doom"],["wadl","application/vnd.sun.wadl+xml"],["war","application/java-archive"],["wasm","application/wasm"],["wav","audio/x-wav"],["wax","audio/x-ms-wax"],["wbmp","image/vnd.wap.wbmp"],["wbs","application/vnd.criticaltools.wbs+xml"],["wbxml","application/wbxml"],["wcm","application/vnd.ms-works"],["wdb","application/vnd.ms-works"],["wdp","image/vnd.ms-photo"],["weba","audio/webm"],["webapp","application/x-web-app-manifest+json"],["webm","video/webm"],["webmanifest","application/manifest+json"],["webp","image/webp"],["wg","application/vnd.pmi.widget"],["wgt","application/widget"],["wks","application/vnd.ms-works"],["wm","video/x-ms-wm"],["wma","audio/x-ms-wma"],["wmd","application/x-ms-wmd"],["wmf","image/wmf"],["wml","text/vnd.wap.wml"],["wmlc","application/wmlc"],["wmls","text/vnd.wap.wmlscript"],["wmlsc","application/vnd.wap.wmlscriptc"],["wmv","video/x-ms-wmv"],["wmx","video/x-ms-wmx"],["wmz","application/x-msmetafile"],["woff","font/woff"],["woff2","font/woff2"],["word","application/msword"],["wpd","application/vnd.wordperfect"],["wpl","application/vnd.ms-wpl"],["wps","application/vnd.ms-works"],["wqd","application/vnd.wqd"],["wri","application/x-mswrite"],["wrl","model/vrml"],["wsc","message/vnd.wfa.wsc"],["wsdl","application/wsdl+xml"],["wspolicy","application/wspolicy+xml"],["wtb","application/vnd.webturbo"],["wvx","video/x-ms-wvx"],["x3d","model/x3d+xml"],["x3db","model/x3d+fastinfoset"],["x3dbz","model/x3d+binary"],["x3dv","model/x3d-vrml"],["x3dvz","model/x3d+vrml"],["x3dz","model/x3d+xml"],["x32","application/x-authorware-bin"],["x_b","model/vnd.parasolid.transmit.binary"],["x_t","model/vnd.parasolid.transmit.text"],["xaml","application/xaml+xml"],["xap","application/x-silverlight-app"],["xar","application/vnd.xara"],["xav","application/xcap-att+xml"],["xbap","application/x-ms-xbap"],["xbd","application/vnd.fujixerox.docuworks.binder"],["xbm","image/x-xbitmap"],["xca","application/xcap-caps+xml"],["xcs","application/calendar+xml"],["xdf","application/xcap-diff+xml"],["xdm","application/vnd.syncml.dm+xml"],["xdp","application/vnd.adobe.xdp+xml"],["xdssc","application/dssc+xml"],["xdw","application/vnd.fujixerox.docuworks"],["xel","application/xcap-el+xml"],["xenc","application/xenc+xml"],["xer","application/patch-ops-error+xml"],["xfdf","application/vnd.adobe.xfdf"],["xfdl","application/vnd.xfdl"],["xht","application/xhtml+xml"],["xhtml","application/xhtml+xml"],["xhvml","application/xv+xml"],["xif","image/vnd.xiff"],["xl","application/excel"],["xla","application/vnd.ms-excel"],["xlam","application/vnd.ms-excel.addin.macroEnabled.12"],["xlc","application/vnd.ms-excel"],["xlf","application/xliff+xml"],["xlm","application/vnd.ms-excel"],["xls","application/vnd.ms-excel"],["xlsb","application/vnd.ms-excel.sheet.binary.macroEnabled.12"],["xlsm","application/vnd.ms-excel.sheet.macroEnabled.12"],["xlsx","application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"],["xlt","application/vnd.ms-excel"],["xltm","application/vnd.ms-excel.template.macroEnabled.12"],["xltx","application/vnd.openxmlformats-officedocument.spreadsheetml.template"],["xlw","application/vnd.ms-excel"],["xm","audio/xm"],["xml","application/xml"],["xns","application/xcap-ns+xml"],["xo","application/vnd.olpc-sugar"],["xop","application/xop+xml"],["xpi","application/x-xpinstall"],["xpl","application/xproc+xml"],["xpm","image/x-xpixmap"],["xpr","application/vnd.is-xpr"],["xps","application/vnd.ms-xpsdocument"],["xpw","application/vnd.intercon.formnet"],["xpx","application/vnd.intercon.formnet"],["xsd","application/xml"],["xsl","application/xml"],["xslt","application/xslt+xml"],["xsm","application/vnd.syncml+xml"],["xspf","application/xspf+xml"],["xul","application/vnd.mozilla.xul+xml"],["xvm","application/xv+xml"],["xvml","application/xv+xml"],["xwd","image/x-xwindowdump"],["xyz","chemical/x-xyz"],["xz","application/x-xz"],["yaml","text/yaml"],["yang","application/yang"],["yin","application/yin+xml"],["yml","text/yaml"],["ymp","text/x-suse-ymp"],["z","application/x-compress"],["z1","application/x-zmachine"],["z2","application/x-zmachine"],["z3","application/x-zmachine"],["z4","application/x-zmachine"],["z5","application/x-zmachine"],["z6","application/x-zmachine"],["z7","application/x-zmachine"],["z8","application/x-zmachine"],["zaz","application/vnd.zzazz.deck+xml"],["zip","application/zip"],["zir","application/vnd.zul"],["zirz","application/vnd.zul"],["zmm","application/vnd.handheld-entertainment+xml"],["zsh","text/x-scriptzsh"]]);function xh(t,e,n){const r=Sbe(t),{webkitRelativePath:i}=t,s=typeof e=="string"?e:typeof i=="string"&&i.length>0?i:`./${t.name}`;return typeof r.path!="string"&&MV(r,"path",s),MV(r,"relativePath",s),r}function Sbe(t){const{name:e}=t;if(e&&e.lastIndexOf(".")!==-1&&!t.type){const r=e.split(".").pop().toLowerCase(),i=_be.get(r);i&&Object.defineProperty(t,"type",{value:i,writable:!1,configurable:!1,enumerable:!0})}return t}function MV(t,e,n){Object.defineProperty(t,e,{value:n,writable:!1,configurable:!1,enumerable:!0})}const Ebe=[".DS_Store","Thumbs.db"];function Tbe(t){return id(this,void 0,void 0,function*(){return dw(t)&&Abe(t.dataTransfer)?Ibe(t.dataTransfer,t.type):kbe(t)?Pbe(t):Array.isArray(t)&&t.every(e=>"getFile"in e&&typeof e.getFile=="function")?Cbe(t):[]})}function Abe(t){return dw(t)}function kbe(t){return dw(t)&&dw(t.target)}function dw(t){return typeof t=="object"&&t!==null}function Pbe(t){return oC(t.target.files).map(e=>xh(e))}function Cbe(t){return id(this,void 0,void 0,function*(){return(yield Promise.all(t.map(n=>n.getFile()))).map(n=>xh(n))})}function Ibe(t,e){return id(this,void 0,void 0,function*(){if(t.items){const n=oC(t.items).filter(i=>i.kind==="file");if(e!=="drop")return n;const r=yield Promise.all(n.map(Obe));return LV(K7(r))}return LV(oC(t.files).map(n=>xh(n)))})}function LV(t){return t.filter(e=>Ebe.indexOf(e.name)===-1)}function oC(t){if(t===null)return[];const e=[];for(let n=0;n<t.length;n++){const r=t[n];e.push(r)}return e}function Obe(t){if(typeof t.webkitGetAsEntry!="function")return $V(t);const e=t.webkitGetAsEntry();return e&&e.isDirectory?G7(e):$V(t,e)}function K7(t){return t.reduce((e,n)=>[...e,...Array.isArray(n)?K7(n):[n]],[])}function $V(t,e){var n;if(typeof t.getAsFileSystemHandle=="function")return t.getAsFileSystemHandle().then(s=>id(this,void 0,void 0,function*(){const o=yield s.getFile();return o.handle=s,xh(o)}));const r=t.getAsFile();if(!r)return Promise.reject(`${t} is not a File`);const i=xh(r,(n=e==null?void 0:e.fullPath)!==null&&n!==void 0?n:void 0);return Promise.resolve(i)}function Nbe(t){return id(this,void 0,void 0,function*(){return t.isDirectory?G7(t):jbe(t)})}function G7(t){const e=t.createReader();return new Promise((n,r)=>{const i=[];function s(){e.readEntries(o=>id(this,void 0,void 0,function*(){if(o.length){const a=Promise.all(o.map(Nbe));i.push(a),s()}else try{const a=yield Promise.all(i);n(a)}catch(a){r(a)}}),o=>{r(o)})}s()})}function jbe(t){return id(this,void 0,void 0,function*(){return new Promise((e,n)=>{t.file(r=>{const i=xh(r,t.fullPath);e(i)},r=>{n(r)})})})}var zT=function(t,e){if(t&&e){var n=Array.isArray(e)?e:e.split(",");if(n.length===0)return!0;var r=t.name||"",i=(t.type||"").toLowerCase(),s=i.replace(/\/.*$/,"");return n.some(function(o){var a=o.trim().toLowerCase();return a.charAt(0)==="."?r.toLowerCase().endsWith(a):a.endsWith("/*")?s===a.replace(/\/.*$/,""):i===a})}return!0};function VV(t){return Mbe(t)||Dbe(t)||Y7(t)||Rbe()}function Rbe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Dbe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Mbe(t){if(Array.isArray(t))return aC(t)}function FV(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function BV(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?FV(Object(n),!0).forEach(function(r){Q7(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):FV(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Q7(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function cy(t,e){return Vbe(t)||$be(t,e)||Y7(t,e)||Lbe()}function Lbe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Y7(t,e){if(t){if(typeof t=="string")return aC(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return aC(t,e)}}function aC(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function $be(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r=[],i=!0,s=!1,o,a;try{for(n=n.call(t);!(i=(o=n.next()).done)&&(r.push(o.value),!(e&&r.length===e));i=!0);}catch(l){s=!0,a=l}finally{try{!i&&n.return!=null&&n.return()}finally{if(s)throw a}}return r}}function Vbe(t){if(Array.isArray(t))return t}var Fbe=typeof zT=="function"?zT:zT.default,Bbe="file-invalid-type",Ube="file-too-large",zbe="file-too-small",qbe="too-many-files",Hbe=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",n=e.split(","),r=n.length>1?"one of ".concat(n.join(", ")):n[0];return{code:Bbe,message:"File type must be ".concat(r)}},UV=function(e){return{code:Ube,message:"File is larger than ".concat(e," ").concat(e===1?"byte":"bytes")}},zV=function(e){return{code:zbe,message:"File is smaller than ".concat(e," ").concat(e===1?"byte":"bytes")}},Wbe={code:qbe,message:"Too many files"};function X7(t,e){var n=t.type==="application/x-moz-file"||Fbe(t,e);return[n,n?null:Hbe(e)]}function J7(t,e,n){if(Uc(t.size))if(Uc(e)&&Uc(n)){if(t.size>n)return[!1,UV(n)];if(t.size<e)return[!1,zV(e)]}else{if(Uc(e)&&t.size<e)return[!1,zV(e)];if(Uc(n)&&t.size>n)return[!1,UV(n)]}return[!0,null]}function Uc(t){return t!=null}function Kbe(t){var e=t.files,n=t.accept,r=t.minSize,i=t.maxSize,s=t.multiple,o=t.maxFiles,a=t.validator;return!s&&e.length>1||s&&o>=1&&e.length>o?!1:e.every(function(l){var c=X7(l,n),u=cy(c,1),d=u[0],f=J7(l,r,i),p=cy(f,1),m=p[0],g=a?a(l):null;return d&&m&&!g})}function fw(t){return typeof t.isPropagationStopped=="function"?t.isPropagationStopped():typeof t.cancelBubble<"u"?t.cancelBubble:!1}function q0(t){return t.dataTransfer?Array.prototype.some.call(t.dataTransfer.types,function(e){return e==="Files"||e==="application/x-moz-file"}):!!t.target&&!!t.target.files}function qV(t){t.preventDefault()}function Gbe(t){return t.indexOf("MSIE")!==-1||t.indexOf("Trident/")!==-1}function Qbe(t){return t.indexOf("Edge/")!==-1}function Ybe(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:window.navigator.userAgent;return Gbe(t)||Qbe(t)}function Rs(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return function(r){for(var i=arguments.length,s=new Array(i>1?i-1:0),o=1;o<i;o++)s[o-1]=arguments[o];return e.some(function(a){return!fw(r)&&a&&a.apply(void 0,[r].concat(s)),fw(r)})}}function Xbe(){return"showOpenFilePicker"in window}function Jbe(t){if(Uc(t)){var e=Object.entries(t).filter(function(n){var r=cy(n,2),i=r[0],s=r[1],o=!0;return Z7(i)||(console.warn('Skipped "'.concat(i,'" because it is not a valid MIME type. Check https://developer.mozilla.org/en-US/docs/Web/HTTP/Basics_of_HTTP/MIME_types/Common_types for a list of valid MIME types.')),o=!1),(!Array.isArray(s)||!s.every(eG))&&(console.warn('Skipped "'.concat(i,'" because an invalid file extension was provided.')),o=!1),o}).reduce(function(n,r){var i=cy(r,2),s=i[0],o=i[1];return BV(BV({},n),{},Q7({},s,o))},{});return[{description:"Files",accept:e}]}return t}function Zbe(t){if(Uc(t))return Object.entries(t).reduce(function(e,n){var r=cy(n,2),i=r[0],s=r[1];return[].concat(VV(e),[i],VV(s))},[]).filter(function(e){return Z7(e)||eG(e)}).join(",")}function ewe(t){return t instanceof DOMException&&(t.name==="AbortError"||t.code===t.ABORT_ERR)}function twe(t){return t instanceof DOMException&&(t.name==="SecurityError"||t.code===t.SECURITY_ERR)}function Z7(t){return t==="audio/*"||t==="video/*"||t==="image/*"||t==="text/*"||t==="application/*"||/\w+\/[-+.\w]+/g.test(t)}function eG(t){return/^.*\.[\w]+$/.test(t)}var nwe=["children"],rwe=["open"],iwe=["refKey","role","onKeyDown","onFocus","onBlur","onClick","onDragEnter","onDragOver","onDragLeave","onDrop"],swe=["refKey","onChange","onClick"];function owe(t){return cwe(t)||lwe(t)||tG(t)||awe()}function awe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function lwe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function cwe(t){if(Array.isArray(t))return lC(t)}function qT(t,e){return fwe(t)||dwe(t,e)||tG(t,e)||uwe()}function uwe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function tG(t,e){if(t){if(typeof t=="string")return lC(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return lC(t,e)}}function lC(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function dwe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r=[],i=!0,s=!1,o,a;try{for(n=n.call(t);!(i=(o=n.next()).done)&&(r.push(o.value),!(e&&r.length===e));i=!0);}catch(l){s=!0,a=l}finally{try{!i&&n.return!=null&&n.return()}finally{if(s)throw a}}return r}}function fwe(t){if(Array.isArray(t))return t}function HV(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function nn(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?HV(Object(n),!0).forEach(function(r){cC(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):HV(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function cC(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function hw(t,e){if(t==null)return{};var n=hwe(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function hwe(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}var aj=C.forwardRef(function(t,e){var n=t.children,r=hw(t,nwe),i=rG(r),s=i.open,o=hw(i,rwe);return C.useImperativeHandle(e,function(){return{open:s}},[s]),M.createElement(C.Fragment,null,n(nn(nn({},o),{},{open:s})))});aj.displayName="Dropzone";var nG={disabled:!1,getFilesFromEvent:Tbe,maxSize:1/0,minSize:0,multiple:!0,maxFiles:0,preventDropOnDocument:!0,noClick:!1,noKeyboard:!1,noDrag:!1,noDragEventsBubbling:!1,validator:null,useFsAccessApi:!1,autoFocus:!1};aj.defaultProps=nG;aj.propTypes={children:xe.func,accept:xe.objectOf(xe.arrayOf(xe.string)),multiple:xe.bool,preventDropOnDocument:xe.bool,noClick:xe.bool,noKeyboard:xe.bool,noDrag:xe.bool,noDragEventsBubbling:xe.bool,minSize:xe.number,maxSize:xe.number,maxFiles:xe.number,disabled:xe.bool,getFilesFromEvent:xe.func,onFileDialogCancel:xe.func,onFileDialogOpen:xe.func,useFsAccessApi:xe.bool,autoFocus:xe.bool,onDragEnter:xe.func,onDragLeave:xe.func,onDragOver:xe.func,onDrop:xe.func,onDropAccepted:xe.func,onDropRejected:xe.func,onError:xe.func,validator:xe.func};var uC={isFocused:!1,isFileDialogActive:!1,isDragActive:!1,isDragAccept:!1,isDragReject:!1,acceptedFiles:[],fileRejections:[]};function rG(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},e=nn(nn({},nG),t),n=e.accept,r=e.disabled,i=e.getFilesFromEvent,s=e.maxSize,o=e.minSize,a=e.multiple,l=e.maxFiles,c=e.onDragEnter,u=e.onDragLeave,d=e.onDragOver,f=e.onDrop,p=e.onDropAccepted,m=e.onDropRejected,g=e.onFileDialogCancel,v=e.onFileDialogOpen,x=e.useFsAccessApi,b=e.autoFocus,w=e.preventDropOnDocument,T=e.noClick,_=e.noKeyboard,k=e.noDrag,S=e.noDragEventsBubbling,E=e.onError,P=e.validator,O=C.useMemo(function(){return Zbe(n)},[n]),N=C.useMemo(function(){return Jbe(n)},[n]),R=C.useMemo(function(){return typeof v=="function"?v:WV},[v]),j=C.useMemo(function(){return typeof g=="function"?g:WV},[g]),z=C.useRef(null),F=C.useRef(null),L=C.useReducer(pwe,uC),B=qT(L,2),$=B[0],U=B[1],W=$.isFocused,Z=$.isFileDialogActive,Q=C.useRef(typeof window<"u"&&window.isSecureContext&&x&&Xbe()),fe=function(){!Q.current&&Z&&setTimeout(function(){if(F.current){var _e=F.current.files;_e.length||(U({type:"closeDialog"}),j())}},300)};C.useEffect(function(){return window.addEventListener("focus",fe,!1),function(){window.removeEventListener("focus",fe,!1)}},[F,Z,j,Q]);var Le=C.useRef([]),Ye=function(_e){z.current&&z.current.contains(_e.target)||(_e.preventDefault(),Le.current=[])};C.useEffect(function(){return w&&(document.addEventListener("dragover",qV,!1),document.addEventListener("drop",Ye,!1)),function(){w&&(document.removeEventListener("dragover",qV),document.removeEventListener("drop",Ye))}},[z,w]),C.useEffect(function(){return!r&&b&&z.current&&z.current.focus(),function(){}},[z,b,r]);var rt=C.useCallback(function(se){E?E(se):console.error(se)},[E]),Gt=C.useCallback(function(se){se.preventDefault(),se.persist(),Je(se),Le.current=[].concat(owe(Le.current),[se.target]),q0(se)&&Promise.resolve(i(se)).then(function(_e){if(!(fw(se)&&!S)){var $e=_e.length,Ze=$e>0&&Kbe({files:_e,accept:O,minSize:o,maxSize:s,multiple:a,maxFiles:l,validator:P}),Vn=$e>0&&!Ze;U({isDragAccept:Ze,isDragReject:Vn,isDragActive:!0,type:"setDraggedFiles"}),c&&c(se)}}).catch(function(_e){return rt(_e)})},[i,c,rt,S,O,o,s,a,l,P]),tn=C.useCallback(function(se){se.preventDefault(),se.persist(),Je(se);var _e=q0(se);if(_e&&se.dataTransfer)try{se.dataTransfer.dropEffect="copy"}catch{}return _e&&d&&d(se),!1},[d,S]),pe=C.useCallback(function(se){se.preventDefault(),se.persist(),Je(se);var _e=Le.current.filter(function(Ze){return z.current&&z.current.contains(Ze)}),$e=_e.indexOf(se.target);$e!==-1&&_e.splice($e,1),Le.current=_e,!(_e.length>0)&&(U({type:"setDraggedFiles",isDragActive:!1,isDragAccept:!1,isDragReject:!1}),q0(se)&&u&&u(se))},[z,u,S]),Ae=C.useCallback(function(se,_e){var $e=[],Ze=[];se.forEach(function(Vn){var Pa=X7(Vn,O),So=qT(Pa,2),Cp=So[0],Eo=So[1],md=J7(Vn,o,s),mc=qT(md,2),gc=mc[0],Ip=mc[1],Op=P?P(Vn):null;if(Cp&&gc&&!Op)$e.push(Vn);else{var yc=[Eo,Ip];Op&&(yc=yc.concat(Op)),Ze.push({file:Vn,errors:yc.filter(function(Gv){return Gv})})}}),(!a&&$e.length>1||a&&l>=1&&$e.length>l)&&($e.forEach(function(Vn){Ze.push({file:Vn,errors:[Wbe]})}),$e.splice(0)),U({acceptedFiles:$e,fileRejections:Ze,isDragReject:Ze.length>0,type:"setFiles"}),f&&f($e,Ze,_e),Ze.length>0&&m&&m(Ze,_e),$e.length>0&&p&&p($e,_e)},[U,a,O,o,s,l,f,p,m,P]),Ne=C.useCallback(function(se){se.preventDefault(),se.persist(),Je(se),Le.current=[],q0(se)&&Promise.resolve(i(se)).then(function(_e){fw(se)&&!S||Ae(_e,se)}).catch(function(_e){return rt(_e)}),U({type:"reset"})},[i,Ae,rt,S]),J=C.useCallback(function(){if(Q.current){U({type:"openDialog"}),R();var se={multiple:a,types:N};window.showOpenFilePicker(se).then(function(_e){return i(_e)}).then(function(_e){Ae(_e,null),U({type:"closeDialog"})}).catch(function(_e){ewe(_e)?(j(_e),U({type:"closeDialog"})):twe(_e)?(Q.current=!1,F.current?(F.current.value=null,F.current.click()):rt(new Error("Cannot open the file picker because the https://developer.mozilla.org/en-US/docs/Web/API/File_System_Access_API is not supported and no <input> was provided."))):rt(_e)});return}F.current&&(U({type:"openDialog"}),R(),F.current.value=null,F.current.click())},[U,R,j,x,Ae,rt,N,a]),gt=C.useCallback(function(se){!z.current||!z.current.isEqualNode(se.target)||(se.key===" "||se.key==="Enter"||se.keyCode===32||se.keyCode===13)&&(se.preventDefault(),J())},[z,J]),We=C.useCallback(function(){U({type:"focus"})},[]),_t=C.useCallback(function(){U({type:"blur"})},[]),Ot=C.useCallback(function(){T||(Ybe()?setTimeout(J,0):J())},[T,J]),oe=function(_e){return r?null:_e},ge=function(_e){return _?null:oe(_e)},ke=function(_e){return k?null:oe(_e)},Je=function(_e){S&&_e.stopPropagation()},Nt=C.useMemo(function(){return function(){var se=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},_e=se.refKey,$e=_e===void 0?"ref":_e,Ze=se.role,Vn=se.onKeyDown,Pa=se.onFocus,So=se.onBlur,Cp=se.onClick,Eo=se.onDragEnter,md=se.onDragOver,mc=se.onDragLeave,gc=se.onDrop,Ip=hw(se,iwe);return nn(nn(cC({onKeyDown:ge(Rs(Vn,gt)),onFocus:ge(Rs(Pa,We)),onBlur:ge(Rs(So,_t)),onClick:oe(Rs(Cp,Ot)),onDragEnter:ke(Rs(Eo,Gt)),onDragOver:ke(Rs(md,tn)),onDragLeave:ke(Rs(mc,pe)),onDrop:ke(Rs(gc,Ne)),role:typeof Ze=="string"&&Ze!==""?Ze:"presentation"},$e,z),!r&&!_?{tabIndex:0}:{}),Ip)}},[z,gt,We,_t,Ot,Gt,tn,pe,Ne,_,k,r]),it=C.useCallback(function(se){se.stopPropagation()},[]),tt=C.useMemo(function(){return function(){var se=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},_e=se.refKey,$e=_e===void 0?"ref":_e,Ze=se.onChange,Vn=se.onClick,Pa=hw(se,swe),So=cC({accept:O,multiple:a,type:"file",style:{border:0,clip:"rect(0, 0, 0, 0)",clipPath:"inset(50%)",height:"1px",margin:"0 -1px -1px 0",overflow:"hidden",padding:0,position:"absolute",width:"1px",whiteSpace:"nowrap"},onChange:oe(Rs(Ze,Ne)),onClick:oe(Rs(Vn,it)),tabIndex:-1},$e,F);return nn(nn({},So),Pa)}},[F,n,a,Ne,r]);return nn(nn({},$),{},{isFocused:W&&!r,getRootProps:Nt,getInputProps:tt,rootRef:z,inputRef:F,open:oe(J)})}function pwe(t,e){switch(e.type){case"focus":return nn(nn({},t),{},{isFocused:!0});case"blur":return nn(nn({},t),{},{isFocused:!1});case"openDialog":return nn(nn({},uC),{},{isFileDialogActive:!0});case"closeDialog":return nn(nn({},t),{},{isFileDialogActive:!1});case"setDraggedFiles":return nn(nn({},t),{},{isDragActive:e.isDragActive,isDragAccept:e.isDragAccept,isDragReject:e.isDragReject});case"setFiles":return nn(nn({},t),{},{acceptedFiles:e.acceptedFiles,fileRejections:e.fileRejections,isDragReject:e.isDragReject});case"reset":return nn({},uC);default:return t}}function WV(){}const mwe={maxSizeInMB:5,allowedTypes:["image/jpeg","image/png","image/webp"],quality:.8,folder:"images"};async function gwe(t,e){return new Promise((n,r)=>{const i=new Image;i.src=URL.createObjectURL(t),i.onload=()=>{const s=document.createElement("canvas"),o=s.getContext("2d");if(!o){r(new Error("Failed to get canvas context"));return}s.width=i.width,s.height=i.height,o.drawImage(i,0,0),s.toBlob(a=>{a?n(a):r(new Error("Failed to compress image"))},"image/jpeg",e)},i.onerror=()=>r(new Error("Failed to load image"))})}async function ywe(t,e={}){var r;if(!ee.currentUser)throw new Error("Must be logged in to upload images");const n={...mwe,...e};try{if(t.size>n.maxSizeInMB*1024*1024)throw new Error(`File size must be less than ${n.maxSizeInMB}MB`);if(t instanceof File&&((r=n.allowedTypes)!=null&&r.length)&&!n.allowedTypes.includes(t.type))throw new Error("Invalid file type. Allowed types: "+n.allowedTypes.join(", "));let i=t;n.quality&&n.quality<1&&(i=await gwe(t,n.quality));const o=`${Date.now()}.jpg`,a=she(tpe,`${n.folder}/${ee.currentUser.uid}/${o}`),l=await rhe(a,i,{contentType:"image/jpeg",customMetadata:{uploadedBy:ee.currentUser.uid,originalName:t instanceof File?t.name:"image.jpg"}});return await ihe(l.ref)}catch(i){throw console.error("Error uploading image:",i),i.code==="storage/unauthorized"?new Error("Permission denied. Please check if you're signed in."):i.code==="storage/canceled"?new Error("Upload was cancelled"):i.code==="storage/unknown"?new Error("An unknown error occurred. Please try again."):i}}function vwe(){const[t,e]=C.useState(0);return{uploadWithProgress:async(r,i={})=>{try{e(0);const s=await ywe(r,i);return e(100),s}catch(s){throw console.error("Upload error:",s),te.error(s.message||"Failed to upload image"),e(0),s}},progress:t}}function Rv({currentBannerUrl:t,onBannerChange:e,className:n="",height:r="h-48",showUrlInput:i=!0}){const{uploadWithProgress:s,progress:o}=vwe(),[a,l]=C.useState(!1),[c,u]=C.useState(""),d=o>0&&o<100,f=C.useCallback(async x=>{const b=x[0];if(b)try{const w=await s(b,{folder:"banners",maxSizeInMB:5});e(w),te.success("Banner updated successfully")}catch(w){console.error("Upload error:",w),te.error("Failed to upload banner")}},[e]),{getRootProps:p,getInputProps:m,isDragActive:g}=rG({onDrop:f,accept:{"image/*":[".png",".jpg",".jpeg",".webp"]},maxFiles:1,disabled:d}),v=x=>{if(x.preventDefault(),!!c)try{new URL(c),e(c),u(""),l(!1),te.success("Banner URL updated successfully")}catch{te.error("Please enter a valid URL")}};return h.jsxs("div",{className:`relative ${n}`,children:[h.jsxs("div",{...p(),className:`relative cursor-pointer group ${r}`,children:[h.jsx("input",{...m()}),h.jsxs("div",{className:"absolute inset-0 bg-cover bg-center",style:{backgroundImage:t?`url(${t})`:void 0,backgroundColor:t?void 0:"#1A1B23"},children:[h.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/80 via-black/40 to-transparent"}),h.jsx(G.div,{initial:{opacity:0},animate:{opacity:d||g?1:0},whileHover:{opacity:1},className:"absolute inset-0 flex items-center justify-center bg-black/50 transition-opacity",children:h.jsx("div",{className:"text-center text-white",children:d?h.jsxs(h.Fragment,{children:[h.jsx(dp,{className:"h-8 w-8 animate-spin mx-auto mb-2"}),h.jsxs("p",{children:["Uploading... ",o,"%"]})]}):h.jsx(h.Fragment,{children:g?h.jsxs(h.Fragment,{children:[h.jsx(Vpe,{className:"h-8 w-8 mx-auto mb-2"}),h.jsx("p",{children:"Drop image here"})]}):h.jsxs(h.Fragment,{children:[h.jsx(gpe,{className:"h-8 w-8 mx-auto mb-2"}),h.jsx("p",{children:"Click or drag to change banner"}),i&&h.jsxs("button",{onClick:x=>{x.stopPropagation(),l(!0)},className:"mt-2 px-3 py-1 bg-primary/90 rounded-full text-sm hover:bg-primary transition-colors",children:[h.jsx(rS,{className:"h-4 w-4 inline-block mr-1"}),"Use Image URL"]})]})})})})]})]}),h.jsx(or,{children:a&&h.jsx(G.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},className:"absolute bottom-4 left-4 right-4 bg-surface border border-surface-light rounded-lg p-4 shadow-lg",onClick:x=>x.stopPropagation(),children:h.jsxs("form",{onSubmit:v,className:"flex space-x-2",children:[h.jsx("input",{type:"url",value:c,onChange:x=>u(x.target.value),placeholder:"Enter image URL...",className:"flex-1 px-3 py-2 bg-surface-light border border-surface-light rounded-md text-white focus:outline-none focus:ring-primary focus:border-primary"}),h.jsx("button",{type:"submit",className:"px-4 py-2 bg-primary text-white rounded-md hover:bg-primary/90",children:"Set URL"}),h.jsx("button",{type:"button",onClick:()=>l(!1),className:"px-4 py-2 border border-surface-light text-white rounded-md hover:bg-surface-light",children:"Cancel"})]})})})]})}function iG({currentAvatarUrl:t,size:e="md"}){const n={sm:"w-20 h-20",md:"w-32 h-32",lg:"w-40 h-40"};return h.jsx("div",{className:"relative",children:h.jsx("div",{className:`${n[e]} rounded-full overflow-hidden bg-surface-light border-4 border-surface flex items-center justify-center`,children:t?h.jsx("img",{src:t,alt:"Profile",className:"w-full h-full object-cover"}):h.jsx(Kl,{className:"h-1/3 w-1/3 text-gray-400"})})})}function sG({content:t,children:e,delay:n=0,offset:r={x:0,y:-8}}){const[i,s]=C.useState(!1),[o,a]=C.useState({x:0,y:0}),l=C.useRef(null);let c;const u=m=>{l.current&&(l.current.getBoundingClientRect(),a({x:m.clientX+(r.x||0),y:m.clientY+(r.y||0)}))},d=m=>{u(m.nativeEvent),c=setTimeout(()=>{s(!0)},n)},f=m=>{i&&u(m.nativeEvent)},p=()=>{clearTimeout(c),s(!1)};return C.useEffect(()=>()=>clearTimeout(c),[]),h.jsxs("div",{ref:l,onMouseEnter:d,onMouseMove:f,onMouseLeave:p,className:"relative inline-block",children:[e,h.jsx(or,{children:i&&h.jsx(G.div,{initial:{opacity:0,y:4},animate:{opacity:1,y:0},exit:{opacity:0,y:4},style:{position:"fixed",left:o.x,top:o.y,transform:"translate(-50%, -100%)",zIndex:50},className:"px-3 py-2 text-sm bg-surface border border-surface-light rounded-lg shadow-lg whitespace-nowrap",children:t})})]})}function oG({userId:t}){const[e,n]=C.useState([]),[r,i]=C.useState(!0),[s,o]=C.useState(null),[a,l]=C.useState({totalComments:0,totalEnrollments:0,activeDays:0});C.useEffect(()=>{t&&c()},[t]);async function c(){try{i(!0),o(null);const f=uw(new Date,1),[p,m]=await Promise.all([Ft(wt(Ce(le,"comments"),pt("user_id","==",t),pt("created_at",">=",f),mn("created_at","asc"))),Ft(wt(Ce(le,"enrollments"),pt("user_id","==",t),pt("created_at",">=",f),mn("created_at","asc")))]),g=[];let v=0,x=0;p.docs.forEach(b=>{var _,k;const w=(_=b.data().created_at)==null?void 0:_.toDate();if(!w)return;const T=g.find(S=>Af(S.date,w));T?(T.count++,T.details={...T.details,comments:(((k=T.details)==null?void 0:k.comments)||0)+1}):g.push({date:w,count:1,type:"comment",details:{comments:1}}),v++}),m.docs.forEach(b=>{var _,k;const w=(_=b.data().created_at)==null?void 0:_.toDate();if(!w)return;const T=g.find(S=>Af(S.date,w));T?(T.count++,T.details={...T.details,enrollments:(((k=T.details)==null?void 0:k.enrollments)||0)+1}):g.push({date:w,count:1,type:"contribution",details:{enrollments:1}}),x++}),l({totalComments:v,totalEnrollments:x,activeDays:g.length}),n(g.sort((b,w)=>b.date.getTime()-w.date.getTime()))}catch(d){console.error("Error loading activity data:",d),o("Failed to load activity data"),Et(d)}finally{i(!1)}}const u=d=>d===0?"bg-surface-light/70 hover:bg-surface-light/80":d<=3?"bg-primary/25 hover:bg-primary/35":d<=6?"bg-primary/50 hover:bg-primary/60":d<=9?"bg-primary/75 hover:bg-primary/85":"bg-primary hover:bg-primary/90";return r?h.jsx("div",{className:"flex items-center justify-center h-48",children:h.jsx(QW,{className:"h-6 w-6 text-primary animate-spin"})}):s?h.jsxs("div",{className:"flex flex-col items-center justify-center h-48 text-center",children:[h.jsx(Cv,{className:"h-8 w-8 text-red-500 mb-2"}),h.jsx("p",{className:"text-gray-400 mb-4",children:s}),h.jsx("button",{onClick:()=>c(),className:"px-4 py-2 bg-primary text-white rounded-md hover:bg-primary/90",children:"Try Again"})]}):h.jsxs("div",{className:"space-y-6",children:[h.jsx("h2",{className:"text-xl font-semibold text-white",children:"Activity Board"}),h.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[h.jsx("div",{className:"bg-surface-light rounded-lg p-4",children:h.jsxs("div",{className:"flex items-center justify-between",children:[h.jsxs("div",{children:[h.jsx("p",{className:"text-sm text-gray-400",children:"Total Comments"}),h.jsx("p",{className:"text-2xl font-bold text-white",children:a.totalComments})]}),h.jsx(Iv,{className:"h-6 w-6 text-primary"})]})}),h.jsx("div",{className:"bg-surface-light rounded-lg p-4",children:h.jsxs("div",{className:"flex items-center justify-between",children:[h.jsxs("div",{children:[h.jsx("p",{className:"text-sm text-gray-400",children:"Enrollments"}),h.jsx("p",{className:"text-2xl font-bold text-white",children:a.totalEnrollments})]}),h.jsx(ls,{className:"h-6 w-6 text-green-500"})]})}),h.jsx("div",{className:"bg-surface-light rounded-lg p-4",children:h.jsxs("div",{className:"flex items-center justify-between",children:[h.jsxs("div",{children:[h.jsx("p",{className:"text-sm text-gray-400",children:"Active Days"}),h.jsx("p",{className:"text-2xl font-bold text-white",children:a.activeDays})]}),h.jsx(Jt,{className:"h-6 w-6 text-yellow-500"})]})})]}),h.jsx("div",{className:"activity-grid-container",children:h.jsx("div",{className:"activity-grid",children:I7({start:uw(new Date,1),end:new Date}).map(d=>{const f=e.find(m=>Af(m.date,d)),p=(f==null?void 0:f.count)||0;return h.jsx(sG,{content:h.jsxs("div",{className:"text-white",children:[h.jsx("div",{children:Sa(d,"MMM d, yyyy")}),h.jsxs("div",{children:[p," ",p===1?"activity":"activities"]}),(f==null?void 0:f.details)&&h.jsxs("div",{className:"text-sm text-gray-400",children:[f.details.comments&&h.jsxs("div",{children:["Comments: ",f.details.comments]}),f.details.enrollments&&h.jsxs("div",{children:["Enrollments: ",f.details.enrollments]})]})]}),offset:{x:0,y:-4},children:h.jsx("div",{className:`w-3 h-3 rounded-sm ${u(p)} transition-colors duration-200`})},d.toISOString())})})}),h.jsxs("div",{className:"flex items-center justify-end space-x-2 text-sm",children:[h.jsx("span",{className:"text-gray-400",children:"Less"}),h.jsxs("div",{className:"flex space-x-1",children:[h.jsx("div",{className:"w-3 h-3 rounded-sm bg-surface-light/70"}),h.jsx("div",{className:"w-3 h-3 rounded-sm bg-primary/25"}),h.jsx("div",{className:"w-3 h-3 rounded-sm bg-primary/50"}),h.jsx("div",{className:"w-3 h-3 rounded-sm bg-primary/75"}),h.jsx("div",{className:"w-3 h-3 rounded-sm bg-primary"})]}),h.jsx("span",{className:"text-gray-400",children:"More"})]})]})}function lj({course:t}){var e,n,r;return h.jsx(G.div,{whileHover:{scale:1.02},whileTap:{scale:.98},transition:{duration:.2},children:h.jsxs(yt,{to:`/communities/${t.community_id}/courses/${t.id}`,className:"block h-full bg-surface border border-surface-light rounded-lg overflow-hidden hover:border-primary/50 transition-all duration-200",children:[h.jsxs("div",{className:"relative h-48",children:[t.thumbnail_url?h.jsx(G.img,{src:t.thumbnail_url,alt:t.title,className:"w-full h-full object-cover",whileHover:{scale:1.1},transition:{duration:.3}}):h.jsx("div",{className:"w-full h-full bg-gradient-to-r from-primary/20 to-primary/10 flex items-center justify-center",children:h.jsx(G.div,{whileHover:{rotate:15},transition:{duration:.2},children:h.jsx(ls,{className:"h-12 w-12 text-primary"})})}),t.level&&h.jsx("div",{className:"absolute top-4 right-4 px-3 py-1 bg-primary/90 text-white text-sm font-medium rounded-full",children:t.level})]}),h.jsxs("div",{className:"p-6",children:[h.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[h.jsx("span",{className:"px-2 py-1 text-xs font-medium text-primary bg-primary/10 rounded-full",children:t.category||"General"}),t.price!==void 0&&h.jsx("span",{className:"px-2 py-1 text-xs font-medium text-white bg-surface-light rounded-full",children:t.price===0?"Free":`$${t.price}`})]}),h.jsx("h3",{className:"text-xl font-semibold text-white mb-2",children:t.title}),h.jsx("p",{className:"text-gray-400 line-clamp-2 mb-4",children:t.description}),h.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[h.jsxs(G.div,{className:"bg-surface-light rounded-lg p-3 text-center",whileHover:{scale:1.05},children:[h.jsx(Jt,{className:"h-5 w-5 text-primary mx-auto mb-1"}),h.jsx("p",{className:"text-sm text-gray-400",children:"Students"}),h.jsx("p",{className:"text-lg font-semibold text-white",children:((e=t.enrollment_count)==null?void 0:e.toLocaleString())||0})]}),h.jsxs(G.div,{className:"bg-surface-light rounded-lg p-3 text-center",whileHover:{scale:1.05},children:[h.jsx(fo,{className:"h-5 w-5 text-blue-500 mx-auto mb-1"}),h.jsx("p",{className:"text-sm text-gray-400",children:"Duration"}),h.jsxs("p",{className:"text-lg font-semibold text-white",children:[t.duration||0,"m"]})]}),h.jsxs(G.div,{className:"bg-surface-light rounded-lg p-3 text-center",whileHover:{scale:1.05},children:[h.jsx(bo,{className:"h-5 w-5 text-yellow-500 mx-auto mb-1"}),h.jsx("p",{className:"text-sm text-gray-400",children:"Rating"}),h.jsx("p",{className:"text-lg font-semibold text-white",children:((r=(n=t.metrics)==null?void 0:n.avg_course_rating)==null?void 0:r.toFixed(1))||"0.0"})]})]})]})]})})}function xwe(){const t=Os(),[e,n]=C.useState(null),[r,i]=C.useState([]),[s,o]=C.useState([]),[a,l]=C.useState(!0),[c,u]=C.useState(!1),[d,f]=C.useState(!1),[p,m]=C.useState(!1),[g,v]=C.useState({full_name:"",bio:"",email:"",phone:"",location:"",website:"",banner_url:"",social_links:{}});C.useEffect(()=>{const S=mq(ee,E=>{f(!0),E?x(E.uid):t("/login")});return()=>S()},[t]);async function x(S){var E,P;try{const O=ht(le,"users",S),N=await ci(O);if(N.exists()){const R={id:N.id,...N.data()};n(R),v({full_name:R.full_name,bio:R.bio||"",email:R.email||"",phone:R.phone||"",location:R.location||"",website:R.website||"",banner_url:R.banner_url||"",social_links:R.social_links||{}})}else{const R={id:S,email:(E=ee.currentUser)==null?void 0:E.email,full_name:((P=ee.currentUser)==null?void 0:P.displayName)||"Anonymous User",created_at:lt(),updated_at:lt(),bio:"",phone:"",location:"",website:"",banner_url:"",social_links:{},metrics:{total_students:0,total_revenue:0,avg_course_rating:0,total_courses:0,completion_rate:0,engagement_score:0}};await setDoc(O,R),n(R),v({full_name:R.full_name,bio:R.bio||"",email:R.email||"",phone:R.phone||"",location:R.location||"",website:R.website||"",banner_url:R.banner_url||"",social_links:R.social_links||{}})}await Promise.all([b(S),w(S)])}catch(O){console.error("Error loading profile:",O),te.error("Failed to load profile")}finally{l(!1)}}async function b(S){try{const E=wt(Ce(le,"communities"),pt("created_by","==",S)),O=(await Ft(E)).docs.map(N=>({id:N.id,...N.data()}));i(O)}catch(E){console.error("Error loading communities:",E),te.error("Failed to load communities")}}async function w(S){try{const E=wt(Ce(le,"courses"),pt("created_by","==",S)),O=(await Ft(E)).docs.map(N=>({id:N.id,...N.data()}));o(O)}catch(E){console.error("Error loading courses:",E),te.error("Failed to load courses")}}async function T(S){if(ee.currentUser)try{const E=ht(le,"users",ee.currentUser.uid);await ui(E,{avatar_url:S,updated_at:lt()}),n(P=>P?{...P,avatar_url:S}:null),te.success("Profile photo updated")}catch(E){console.error("Error updating profile photo:",E),te.error("Failed to update profile photo")}}async function _(S){if(ee.currentUser)try{const E=ht(le,"users",ee.currentUser.uid);await ui(E,{banner_url:S,updated_at:lt()}),n(P=>P?{...P,banner_url:S}:null),v(P=>({...P,banner_url:S})),te.success("Banner updated")}catch(E){console.error("Error updating banner:",E),te.error("Failed to update banner")}}async function k(S){if(S.preventDefault(),!(!ee.currentUser||c)){u(!0);try{const E=ht(le,"users",ee.currentUser.uid);await ui(E,{...g,updated_at:lt()}),te.success("Profile updated successfully"),m(!1),x(ee.currentUser.uid)}catch(E){console.error("Error updating profile:",E),te.error("Failed to update profile")}finally{u(!1)}}}return!d||a?h.jsxs(G.div,{initial:{opacity:0},animate:{opacity:1},className:"max-w-7xl mx-auto space-y-8",children:[h.jsx(Ci,{type:"banner"}),h.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:h.jsx(Ci,{count:3,type:"card"})})]}):e?h.jsxs(G.div,{initial:{opacity:0},animate:{opacity:1},className:"max-w-7xl mx-auto space-y-8",children:[h.jsxs(G.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-surface border border-surface-light rounded-lg overflow-hidden",children:[h.jsxs("div",{className:"relative",children:[h.jsx(Rv,{currentBannerUrl:e.banner_url,onBannerChange:_,height:"h-64"}),h.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/50 via-black/25 to-transparent"})]}),h.jsx("div",{className:"px-6 pb-6",children:h.jsxs("div",{className:"flex flex-col md:flex-row md:items-start md:space-x-6",children:[h.jsx("div",{className:"-mt-20 mb-6 md:mb-0 relative z-10",children:h.jsx(iG,{currentAvatarUrl:e.avatar_url,onAvatarChange:T,size:"lg"})}),h.jsx("div",{className:"flex-1 relative z-0",children:h.jsx(or,{mode:"wait",children:p?h.jsxs(G.form,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},onSubmit:k,className:"space-y-6 bg-surface-light rounded-lg p-6 mt-4",children:[h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-gray-300",children:"Full Name"}),h.jsx("input",{type:"text",value:g.full_name,onChange:S=>v({...g,full_name:S.target.value}),className:"mt-1 block w-full px-3 py-2 bg-surface border border-surface-light rounded-md text-white focus:outline-none focus:ring-primary focus:border-primary transition-all duration-200",required:!0})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-gray-300",children:"Bio"}),h.jsx("textarea",{value:g.bio,onChange:S=>v({...g,bio:S.target.value}),rows:4,className:"mt-1 block w-full px-3 py-2 bg-surface border border-surface-light rounded-md text-white focus:outline-none focus:ring-primary focus:border-primary transition-all duration-200"})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-gray-300",children:"Phone"}),h.jsx("input",{type:"tel",value:g.phone,onChange:S=>v({...g,phone:S.target.value}),className:"mt-1 block w-full px-3 py-2 bg-surface border border-surface-light rounded-md text-white focus:outline-none focus:ring-primary focus:border-primary transition-all duration-200"})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-gray-300",children:"Location"}),h.jsx("input",{type:"text",value:g.location,onChange:S=>v({...g,location:S.target.value}),className:"mt-1 block w-full px-3 py-2 bg-surface border border-surface-light rounded-md text-white focus:outline-none focus:ring-primary focus:border-primary transition-all duration-200"})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-gray-300",children:"Website"}),h.jsx("input",{type:"url",value:g.website,onChange:S=>v({...g,website:S.target.value}),className:"mt-1 block w-full px-3 py-2 bg-surface border border-surface-light rounded-md text-white focus:outline-none focus:ring-primary focus:border-primary transition-all duration-200"})]}),h.jsxs("div",{className:"flex justify-end space-x-4",children:[h.jsx(G.button,{whileHover:{scale:1.02},whileTap:{scale:.98},type:"button",onClick:()=>m(!1),className:"px-4 py-2 border border-surface-light text-white rounded-md hover:bg-surface-light transition-all duration-200",disabled:c,children:"Cancel"}),h.jsx(G.button,{whileHover:{scale:1.02},whileTap:{scale:.98},type:"submit",className:"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md text-white bg-primary hover:bg-primary/90 transition-all duration-200 disabled:opacity-50",disabled:c,children:c?"Saving...":"Save Changes"})]})]},"edit-form"):h.jsxs(G.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"pt-4",children:[h.jsxs("div",{className:"flex items-center justify-between",children:[h.jsxs("div",{children:[h.jsx("h1",{className:"text-3xl font-bold text-white",children:e.full_name}),h.jsxs("div",{className:"mt-2 space-y-2",children:[h.jsxs("div",{className:"flex items-center text-gray-400",children:[h.jsx(wpe,{className:"h-4 w-4 mr-2"}),e.email]}),e.phone&&h.jsxs("div",{className:"flex items-center text-gray-400",children:[h.jsx(kpe,{className:"h-4 w-4 mr-2"}),e.phone]}),e.location&&h.jsxs("div",{className:"flex items-center text-gray-400",children:[h.jsx(JW,{className:"h-4 w-4 mr-2"}),e.location]})]})]}),h.jsxs(G.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>m(!0),className:"inline-flex items-center px-4 py-2 border border-surface-light rounded-md text-white hover:bg-surface-light transition-all duration-200",children:[h.jsx(iS,{className:"h-4 w-4 mr-2"}),"Edit Profile"]})]}),e.bio&&h.jsx("p",{className:"mt-6 text-gray-300",children:e.bio})]},"profile-info")})})]})})]}),h.jsx(G.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},className:"bg-surface border border-surface-light rounded-lg p-6",children:h.jsx(oG,{userId:e.id})}),h.jsxs(G.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},className:"bg-surface border border-surface-light rounded-lg p-6",children:[h.jsxs("div",{className:"flex justify-between items-center mb-6",children:[h.jsx("h2",{className:"text-xl font-semibold text-white",children:"My Communities"}),h.jsxs(yt,{to:"/communities/new",className:"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md text-white bg-primary hover:bg-primary/90 transition-all duration-200",children:[h.jsx(Ri,{className:"h-4 w-4 mr-1"}),"Create Community"]})]}),h.jsx(or,{mode:"wait",children:r.length>0?h.jsx("div",{className:"space-y-4",children:r.map((S,E)=>h.jsxs(G.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:E*.1},className:"flex items-center justify-between p-4 bg-surface-light rounded-lg",children:[h.jsxs("div",{className:"flex items-center space-x-3",children:[h.jsx("div",{className:"h-10 w-10 rounded-lg bg-primary/10 flex items-center justify-center",children:h.jsx(Jt,{className:"h-5 w-5 text-primary"})}),h.jsxs("div",{children:[h.jsx(yt,{to:`/communities/${S.id}`,className:"text-white font-medium hover:text-primary transition-colors",children:S.name}),h.jsx("p",{className:"text-sm text-gray-400",children:S.description})]})]}),h.jsx(yt,{to:`/communities/${S.id}`,className:"px-4 py-2 text-sm font-medium text-primary bg-primary/10 rounded-md hover:bg-primary/20 transition-colors",children:"View Community"})]},S.id))}):h.jsxs(G.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},className:"text-center py-8 text-gray-400",children:[h.jsx(Jt,{className:"h-8 w-8 mx-auto mb-2"}),h.jsx("p",{children:"No communities created yet"}),h.jsx(yt,{to:"/communities/new",className:"inline-block mt-2 text-primary hover:text-primary/90 transition-colors",children:"Create your first community"})]})})]}),h.jsxs(G.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3},className:"bg-surface border border-surface-light rounded-lg p-6",children:[h.jsxs("div",{className:"flex items-center justify-between mb-6",children:[h.jsx("h2",{className:"text-xl font-semibold text-white",children:"My Courses"}),h.jsxs(yt,{to:"/communities/new/courses/new",className:"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md text-white bg-primary hover:bg-primary/90 transition-all duration-200",children:[h.jsx(Ri,{className:"h-4 w-4 mr-1"}),"Create Course"]})]}),h.jsx(or,{mode:"wait",children:s.length>0?h.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:s.map((S,E)=>h.jsx(G.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:E*.1},children:h.jsx(lj,{course:S})},S.id))}):h.jsxs(G.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},className:"text-center py-8 text-gray-400",children:[h.jsx(BookOpen,{className:"h-8 w-8 mx-auto mb-2"}),h.jsx("p",{children:"No courses created yet"}),h.jsx(yt,{to:"/communities/new/courses/new",className:"inline-block mt-2 text-primary hover:text-primary/90 transition-colors",children:"Create your first course"})]})})]})]}):h.jsx(G.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},className:"flex items-center justify-center min-h-[400px]",children:h.jsx("p",{className:"text-gray-400",children:"Profile not found"})})}function aG({community:t}){var e,n,r,i,s;return h.jsx(G.div,{whileHover:{scale:1.02},whileTap:{scale:.98},transition:{duration:.2},children:h.jsxs(yt,{to:`/communities/${t.id}`,className:"block h-full bg-surface border border-surface-light rounded-lg overflow-hidden hover:border-primary/50 transition-all duration-200",children:[h.jsxs("div",{className:"relative h-48",children:[t.banner_url?h.jsx(G.img,{src:t.banner_url,alt:t.name,className:"w-full h-full object-cover",whileHover:{scale:1.1},transition:{duration:.3}}):h.jsx("div",{className:"w-full h-full gradient-banner flex items-center justify-center",children:h.jsx(G.div,{whileHover:{rotate:15},transition:{duration:.2},children:h.jsx(Jt,{className:"h-12 w-12 text-white/50"})})}),t.category&&h.jsx("div",{className:"absolute top-4 right-4 px-3 py-1 bg-primary/90 text-white text-sm font-medium rounded-full",children:t.category})]}),h.jsxs("div",{className:"p-6",children:[h.jsx("h3",{className:"text-xl font-semibold text-white mb-2",children:t.name}),h.jsx("p",{className:"text-gray-400 line-clamp-2 mb-4",children:t.description}),h.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[h.jsxs(G.div,{className:"bg-surface-light rounded-lg p-3 text-center",whileHover:{scale:1.05},children:[h.jsx(Jt,{className:"h-5 w-5 text-primary mx-auto mb-1"}),h.jsx("p",{className:"text-sm text-gray-400",children:"Members"}),h.jsx("p",{className:"text-lg font-semibold text-white",children:((n=(e=t.metrics)==null?void 0:e.total_members)==null?void 0:n.toLocaleString())||0})]}),h.jsxs(G.div,{className:"bg-surface-light rounded-lg p-3 text-center",whileHover:{scale:1.05},children:[h.jsx(fp,{className:"h-5 w-5 text-green-500 mx-auto mb-1"}),h.jsx("p",{className:"text-sm text-gray-400",children:"Growth"}),h.jsxs("p",{className:"text-lg font-semibold text-white",children:[((r=t.metrics)==null?void 0:r.growth_rate)||0,"%"]})]}),h.jsxs(G.div,{className:"bg-surface-light rounded-lg p-3 text-center",whileHover:{scale:1.05},children:[h.jsx(bo,{className:"h-5 w-5 text-yellow-500 mx-auto mb-1"}),h.jsx("p",{className:"text-sm text-gray-400",children:"Rating"}),h.jsx("p",{className:"text-lg font-semibold text-white",children:((s=(i=t.metrics)==null?void 0:i.avg_course_rating)==null?void 0:s.toFixed(1))||"0.0"})]})]})]})]})})}function bwe(){var d;const[t,e]=C.useState([]),[n,r]=C.useState(!0),[i,s]=C.useState({search:"",sortBy:"popular"}),[o,a]=C.useState(!1);C.useEffect(()=>{l()},[]);async function l(){try{r(!0);const f=wt(Ce(le,"communities"),mn("created_at","desc")),m=(await Ft(f)).docs.map(g=>({id:g.id,...g.data()}));e(m)}catch(f){Et(f,"Failed to load communities")}finally{r(!1)}}const c=t.filter(f=>{if(i.search){const p=i.search.toLowerCase();if(!f.name.toLowerCase().includes(p)&&!f.description.toLowerCase().includes(p))return!1}return!(i.category&&f.category!==i.category)}).sort((f,p)=>{var m,g,v,x;switch(i.sortBy){case"newest":return p.created_at.seconds-f.created_at.seconds;case"active":return(((m=p.metrics)==null?void 0:m.engagement_rate)||0)-(((g=f.metrics)==null?void 0:g.engagement_rate)||0);default:return(((v=p.metrics)==null?void 0:v.total_members)||0)-(((x=f.metrics)==null?void 0:x.total_members)||0)}}),u=Array.from(new Set(t.map(f=>f.category).filter(Boolean)));return h.jsxs(G.div,{initial:{opacity:0},animate:{opacity:1},className:"space-y-8",children:[h.jsxs("div",{className:"flex justify-between items-center",children:[h.jsxs(G.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},children:[h.jsx("h1",{className:"text-3xl font-bold text-white",children:"Communities"}),h.jsx("p",{className:"text-gray-400 mt-2",children:"Join communities to learn and grow together"})]}),h.jsx(G.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},children:h.jsxs(yt,{to:"/communities/new",className:"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md text-white bg-primary hover:bg-primary/90 transition-all duration-200 hover:scale-105",children:[h.jsx(Jt,{className:"h-4 w-4 mr-1"}),"Create Community"]})})]}),h.jsxs(G.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"space-y-4",children:[h.jsxs("div",{className:"flex items-center gap-4",children:[h.jsxs("div",{className:"flex-1 relative",children:[h.jsx("input",{type:"text",value:i.search,onChange:f=>s({...i,search:f.target.value}),placeholder:"Search communities...",className:"w-full pl-10 pr-4 py-2 bg-surface border border-surface-light rounded-lg text-white placeholder-gray-400 focus:ring-2 focus:ring-primary focus:border-primary transition-all duration-200"}),h.jsx(sS,{className:"absolute left-3 top-2.5 h-5 w-5 text-gray-400"})]}),h.jsx("button",{onClick:()=>a(!o),className:`p-2 rounded-lg border transition-all duration-200 ${o?"border-primary text-primary":"border-surface-light text-gray-400 hover:text-white hover:border-gray-600"}`,children:h.jsx(Ope,{className:"h-5 w-5"})}),h.jsxs("select",{value:i.sortBy,onChange:f=>s({...i,sortBy:f.target.value}),className:"px-3 py-2 bg-surface border border-surface-light rounded-lg text-white focus:ring-2 focus:ring-primary focus:border-primary transition-all duration-200",children:[h.jsx("option",{value:"popular",children:"Most Popular"}),h.jsx("option",{value:"newest",children:"Newest"}),h.jsx("option",{value:"active",children:"Most Active"})]})]}),h.jsx(or,{children:o&&h.jsx(G.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},className:"p-4 bg-surface border border-surface-light rounded-lg overflow-hidden",children:h.jsxs("div",{className:"flex flex-wrap gap-2",children:[h.jsx("button",{onClick:()=>s({...i,category:void 0}),className:`px-3 py-1.5 rounded-full text-sm font-medium transition-all duration-200 ${i.category?"bg-surface-light text-gray-400 hover:text-white":"bg-primary text-white"}`,children:"All Categories"}),u.map(f=>h.jsx("button",{onClick:()=>s({...i,category:f}),className:`px-3 py-1.5 rounded-full text-sm font-medium transition-all duration-200 ${i.category===f?"bg-primary text-white":"bg-surface-light text-gray-400 hover:text-white"}`,children:f},f))]})})})]}),h.jsxs(G.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[h.jsx("div",{className:"bg-surface border border-surface-light rounded-lg p-4 hover:border-primary/50 transition-all duration-200",children:h.jsxs("div",{className:"flex items-center justify-between",children:[h.jsxs("div",{children:[h.jsx("p",{className:"text-sm text-gray-400",children:"Total Communities"}),h.jsx("p",{className:"text-2xl font-bold text-white",children:t.length})]}),h.jsx(Jt,{className:"h-8 w-8 text-primary"})]})}),h.jsx("div",{className:"bg-surface border border-surface-light rounded-lg p-4 hover:border-primary/50 transition-all duration-200",children:h.jsxs("div",{className:"flex items-center justify-between",children:[h.jsxs("div",{children:[h.jsx("p",{className:"text-sm text-gray-400",children:"Most Active"}),h.jsx("p",{className:"text-2xl font-bold text-white",children:((d=t[0])==null?void 0:d.name)||"N/A"})]}),h.jsx(fp,{className:"h-8 w-8 text-green-500"})]})}),h.jsx("div",{className:"bg-surface border border-surface-light rounded-lg p-4 hover:border-primary/50 transition-all duration-200",children:h.jsxs("div",{className:"flex items-center justify-between",children:[h.jsxs("div",{children:[h.jsx("p",{className:"text-sm text-gray-400",children:"Top Category"}),h.jsx("p",{className:"text-2xl font-bold text-white",children:u[0]||"N/A"})]}),h.jsx(YW,{className:"h-8 w-8 text-yellow-500"})]})})]}),h.jsx(or,{mode:"wait",children:n?h.jsx(G.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:h.jsx(Ci,{count:6,type:"card"})},"loading"):h.jsx(G.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:c.map((f,p)=>h.jsx(G.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:p*.1},children:h.jsx(aG,{community:f})},f.id))},"content")}),!n&&c.length===0&&h.jsxs(G.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},className:"text-center py-12",children:[h.jsx(Jt,{className:"h-16 w-16 text-gray-400 mx-auto mb-4"}),h.jsx("p",{className:"text-gray-400 text-lg",children:"No communities found matching your criteria"}),h.jsx(yt,{to:"/communities/new",className:"inline-block mt-4 text-primary hover:text-primary/90 transition-colors",children:"Create your first community"})]})]})}function wwe({comment:t,onCommentUpdated:e}){var m,g,v,x,b,w,T,_;const[n,r]=C.useState(!1),[i,s]=C.useState(t.content),[o,a]=C.useState(!1),[l,c]=C.useState(!1),u=((m=ee.currentUser)==null?void 0:m.uid)===t.user_id,d=((v=(g=t.created_at)==null?void 0:g.toDate)==null?void 0:v.call(g))||new Date,f=async()=>{if(!(!ee.currentUser||!i.trim()))try{c(!0),await ui(ht(le,"comments",t.id),{content:i.trim(),updated_at:lt()}),te.success("Comment updated"),r(!1),e()}catch(k){Et(k,"Failed to update comment")}finally{c(!1)}},p=async()=>{if(!(!ee.currentUser||!window.confirm("Are you sure you want to delete this comment?")))try{c(!0),await ty(ht(le,"comments",t.id)),te.success("Comment deleted"),e()}catch(k){Et(k,"Failed to delete comment")}finally{c(!1)}};return h.jsxs("div",{className:"bg-surface-light rounded-lg p-4",children:[h.jsxs("div",{className:"flex items-start justify-between",children:[h.jsxs("div",{className:"flex items-center space-x-2",children:[(x=t.user)!=null&&x.avatar_url?h.jsx("img",{src:t.user.avatar_url,alt:t.user.full_name,className:"h-8 w-8 rounded-full"}):h.jsx("div",{className:"h-8 w-8 rounded-full bg-primary/10 flex items-center justify-center",children:h.jsx("span",{className:"text-primary font-medium",children:((w=(b=t.user)==null?void 0:b.full_name)==null?void 0:w[0])||"?"})}),h.jsxs("div",{children:[h.jsx("span",{className:"font-medium text-white",children:((T=t.user)==null?void 0:T.full_name)||((_=t.user)==null?void 0:_.username)||"Anonymous"}),h.jsx("span",{className:"text-sm text-gray-400 ml-2",children:Sa(d,"PP")})]})]}),u&&h.jsxs("div",{className:"relative",children:[h.jsx("button",{onClick:()=>a(!o),className:"p-1 text-gray-400 hover:text-white rounded-full hover:bg-surface transition-colors",children:h.jsx(Epe,{className:"h-4 w-4"})}),h.jsx(or,{children:o&&h.jsxs(G.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.95},className:"absolute right-0 mt-1 w-32 bg-surface border border-surface-light rounded-lg shadow-lg overflow-hidden z-10",children:[h.jsxs("button",{onClick:()=>{a(!1),r(!0)},className:"w-full flex items-center px-4 py-2 text-sm text-gray-300 hover:bg-surface-light",disabled:l,children:[h.jsx(iS,{className:"h-4 w-4 mr-2"}),"Edit"]}),h.jsxs("button",{onClick:()=>{a(!1),p()},className:"w-full flex items-center px-4 py-2 text-sm text-red-400 hover:bg-surface-light",disabled:l,children:[h.jsx(Lpe,{className:"h-4 w-4 mr-2"}),"Delete"]})]})})]})]}),n?h.jsxs("div",{className:"mt-4 space-y-4",children:[h.jsx("textarea",{value:i,onChange:k=>s(k.target.value),className:"w-full px-3 py-2 bg-surface border border-surface-light rounded-md text-white focus:outline-none focus:ring-primary focus:border-primary",rows:3,disabled:l}),h.jsxs("div",{className:"flex justify-end space-x-3",children:[h.jsx("button",{onClick:()=>r(!1),className:"px-3 py-1.5 text-sm text-gray-400 hover:text-white",disabled:l,children:"Cancel"}),h.jsx("button",{onClick:f,disabled:l||!i.trim(),className:"px-3 py-1.5 text-sm bg-primary text-white rounded-md hover:bg-primary/90 disabled:opacity-50",children:l?"Saving...":"Save Changes"})]})]}):h.jsx("p",{className:"mt-2 text-gray-300",children:t.content})]})}function _we({postId:t,onCommentUpdated:e}){const[n,r]=C.useState([]),[i,s]=C.useState(!0),[o,a]=C.useState(null);return C.useEffect(()=>{if(!t){a(new Error("Post ID is required")),s(!1);return}s(!0),a(null);const l=wt(Ce(le,"comments"),pt("post_id","==",t),mn("created_at","desc")),c=up(l,u=>{try{const d=u.docs.map(f=>{const p=f.data(),m=p.created_at instanceof Kt?p.created_at.toDate():new Date;return{id:f.id,content:p.content||"",post_id:p.post_id,user_id:p.user_id,user:p.user||null,created_at:m,updated_at:p.updated_at instanceof Kt?p.updated_at.toDate():null}});r(d),s(!1),a(null)}catch(d){console.error("Error processing comments:",d),a(new Error("Failed to process comments data")),s(!1)}},u=>{console.error("Error loading comments:",u),a(u),s(!1),Et(u,"Failed to load comments")});return()=>c()},[t]),i?h.jsx("div",{className:"flex items-center justify-center py-4",children:h.jsx(dp,{className:"h-6 w-6 text-primary animate-spin"})}):o?h.jsxs("div",{className:"text-center text-red-400 py-4",children:["Failed to load comments.",h.jsx("button",{onClick:()=>s(!0),className:"ml-2 text-primary hover:text-primary/90",children:"Try again"})]}):h.jsxs("div",{className:"space-y-4",children:[h.jsx(or,{mode:"popLayout",children:n.map(l=>h.jsx(G.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},children:h.jsx(wwe,{comment:l,onCommentUpdated:e})},l.id))}),n.length===0&&h.jsx("div",{className:"text-center text-gray-400 py-4",children:"No comments yet. Be the first to comment!"})]})}function Swe({postId:t,onCommentCreated:e}){const[n,r]=C.useState(""),[i,s]=C.useState(!1);async function o(a){if(a.preventDefault(),!ee.currentUser){te.error("You must be logged in to comment");return}const l=n.trim();if(l)try{s(!0);const u=(await ci(ht(le,"users",ee.currentUser.uid))).data();if(!u)throw new Error("User data not found");await Pn(Ce(le,"comments"),{content:l,post_id:t,user_id:ee.currentUser.uid,user:{id:ee.currentUser.uid,email:ee.currentUser.email,full_name:u.full_name,username:u.username,avatar_url:u.avatar_url},created_at:lt()}),r(""),e(),te.success("Comment added successfully")}catch(c){Et(c,"Failed to add comment")}finally{s(!1)}}return h.jsxs(G.form,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},onSubmit:o,className:"space-y-4",children:[h.jsx("textarea",{placeholder:"Write a comment...",value:n,onChange:a=>r(a.target.value),className:"w-full px-3 py-2 bg-surface-light border border-surface-light rounded-md text-white focus:outline-none focus:ring-primary focus:border-primary",rows:2,disabled:i,required:!0}),h.jsx(G.button,{whileHover:{scale:1.02},whileTap:{scale:.98},type:"submit",disabled:i||!n.trim(),className:"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md text-white bg-primary hover:bg-primary/90 disabled:opacity-50",children:i?"Posting...":h.jsxs(h.Fragment,{children:[h.jsx(T2,{className:"h-4 w-4 mr-1"}),"Comment"]})})]})}function lG(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(e=0;e<i;e++)t[e]&&(n=lG(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function He(){for(var t,e,n=0,r="",i=arguments.length;n<i;n++)(t=arguments[n])&&(e=lG(t))&&(r&&(r+=" "),r+=e);return r}async function Ewe(t,e){try{await Pn(Ce(le,"notifications"),{user_id:t,type:e.type,content:e.content,link:e.link,read:!1,created_at:lt(),data:e.data})}catch(n){console.error("Error creating notification:",n)}}async function Twe(t,e,n){t.user_id!==t.user_id&&await Ewe(t.user_id,{type:"reaction",content:`${n} reacted with ${e} to your post "${t.title}"`,link:`/communities/${t.community_id}`,data:{post_id:t.id,reaction_type:e}})}function Awe({postId:t,reactionCounts:e={}}){const[n,r]=C.useState({}),[i,s]=C.useState(e),[o,a]=C.useState(!1);C.useEffect(()=>{let c;if(ee.currentUser){const u=wt(Ce(le,"post_reactions"),pt("post_id","==",t),pt("user_id","==",ee.currentUser.uid));c=up(u,{next:d=>{const f={};d.forEach(p=>{const m=p.data();f[m.type]=p.id}),r(f)},error:d=>{console.error("Error loading reactions:",d),Et(d)}})}return()=>{c&&c()}},[t]);async function l(c){if(!ee.currentUser||o){te.error("You must be logged in to react to posts");return}try{if(a(!0),n[c]){await ty(ht(le,"post_reactions",n[c]));const u={...n};delete u[c],r(u),s({...i,[c]:Math.max(0,(i[c]||0)-1)})}else{const u={post_id:t,user_id:ee.currentUser.uid,type:c,created_at:lt()},d=await Pn(Ce(le,"post_reactions"),u);r({...n,[c]:d.id}),s({...i,[c]:(i[c]||0)+1}),await Twe(t,c,ee.currentUser.displayName||"Someone")}}catch(u){console.error("Error toggling reaction:",u),Et(u)}finally{a(!1)}}return h.jsxs("div",{className:"flex items-center space-x-4",children:[h.jsxs("button",{onClick:()=>l("like"),disabled:o,className:He("inline-flex items-center space-x-1 text-sm transition-colors",n.like?"text-primary":"text-gray-400 hover:text-primary"),children:[h.jsx(Mpe,{className:"h-4 w-4"}),h.jsx("span",{children:i.like||0})]}),h.jsxs("button",{onClick:()=>l("bookmark"),disabled:o,className:He("inline-flex items-center space-x-1 text-sm transition-colors",n.bookmark?"text-yellow-500":"text-gray-400 hover:text-yellow-500"),children:[h.jsx(ope,{className:"h-4 w-4"}),h.jsx("span",{children:i.bookmark||0})]}),h.jsxs("button",{onClick:()=>l("celebrate"),disabled:o,className:He("inline-flex items-center space-x-1 text-sm transition-colors",n.celebrate?"text-green-500":"text-gray-400 hover:text-green-500"),children:[h.jsx(Ape,{className:"h-4 w-4"}),h.jsx("span",{children:i.celebrate||0})]})]})}function kwe({post:t}){var u,d,f;const[e,n]=C.useState(!1),[r,i]=C.useState([]),[s,o]=C.useState(0),[a,l]=C.useState(!0),c=((d=(u=t.created_at)==null?void 0:u.toDate)==null?void 0:d.call(u))||new Date;return C.useEffect(()=>{let p;if(e&&t.id){const m=wt(Ce(le,"comments"),pt("post_id","==",t.id),mn("created_at","desc"));p=up(m,{next:async g=>{try{const v=await Promise.all(g.docs.map(async x=>{var w,T;const b=x.data();return{id:x.id,content:b.content,post_id:b.post_id,user_id:b.user_id,user:b.user,created_at:((w=b.created_at)==null?void 0:w.toDate())||new Date,updated_at:((T=b.updated_at)==null?void 0:T.toDate())||null}}));i(v),o(g.size),l(!1)}catch(v){console.error("Error processing comments:",v),Et(v)}},error:g=>{console.error("Comments subscription error:",g),Et(g)}})}return()=>{p&&p()}},[e,t.id]),h.jsxs("div",{className:"bg-surface border border-surface-light rounded-lg p-6",children:[h.jsx("div",{className:"flex items-start space-x-3",children:h.jsxs("div",{className:"flex-1",children:[h.jsx("h3",{className:"text-lg font-semibold text-white",children:t.title}),h.jsxs("p",{className:"text-sm text-gray-400",children:["Posted by ",((f=t.user)==null?void 0:f.full_name)||"Anonymous","  ",Sa(c,"PP")]}),h.jsx("div",{className:"mt-2 text-gray-300 prose prose-invert max-w-none",dangerouslySetInnerHTML:{__html:t.content}})]})}),h.jsxs("div",{className:"mt-4 flex items-center justify-between",children:[h.jsx(Awe,{postId:t.id,reactionCounts:t.reaction_counts}),h.jsxs("button",{onClick:()=>n(!e),className:"inline-flex items-center space-x-1 text-gray-400 hover:text-primary transition-colors",children:[h.jsx(Iv,{className:"h-4 w-4"}),h.jsxs("span",{children:[s," Comments"]})]})]}),e&&h.jsxs("div",{className:"mt-6 space-y-6",children:[h.jsx(Swe,{postId:t.id,onCommentCreated:()=>{}}),h.jsx(_we,{comments:r,onCommentUpdated:()=>{}})]})]})}function er(t){this.content=t}er.prototype={constructor:er,find:function(t){for(var e=0;e<this.content.length;e+=2)if(this.content[e]===t)return e;return-1},get:function(t){var e=this.find(t);return e==-1?void 0:this.content[e+1]},update:function(t,e,n){var r=n&&n!=t?this.remove(n):this,i=r.find(t),s=r.content.slice();return i==-1?s.push(n||t,e):(s[i+1]=e,n&&(s[i]=n)),new er(s)},remove:function(t){var e=this.find(t);if(e==-1)return this;var n=this.content.slice();return n.splice(e,2),new er(n)},addToStart:function(t,e){return new er([t,e].concat(this.remove(t).content))},addToEnd:function(t,e){var n=this.remove(t).content.slice();return n.push(t,e),new er(n)},addBefore:function(t,e,n){var r=this.remove(e),i=r.content.slice(),s=r.find(t);return i.splice(s==-1?i.length:s,0,e,n),new er(i)},forEach:function(t){for(var e=0;e<this.content.length;e+=2)t(this.content[e],this.content[e+1])},prepend:function(t){return t=er.from(t),t.size?new er(t.content.concat(this.subtract(t).content)):this},append:function(t){return t=er.from(t),t.size?new er(this.subtract(t).content.concat(t.content)):this},subtract:function(t){var e=this;t=er.from(t);for(var n=0;n<t.content.length;n+=2)e=e.remove(t.content[n]);return e},toObject:function(){var t={};return this.forEach(function(e,n){t[e]=n}),t},get size(){return this.content.length>>1}};er.from=function(t){if(t instanceof er)return t;var e=[];if(t)for(var n in t)e.push(n,t[n]);return new er(e)};function cG(t,e,n){for(let r=0;;r++){if(r==t.childCount||r==e.childCount)return t.childCount==e.childCount?null:n;let i=t.child(r),s=e.child(r);if(i==s){n+=i.nodeSize;continue}if(!i.sameMarkup(s))return n;if(i.isText&&i.text!=s.text){for(let o=0;i.text[o]==s.text[o];o++)n++;return n}if(i.content.size||s.content.size){let o=cG(i.content,s.content,n+1);if(o!=null)return o}n+=i.nodeSize}}function uG(t,e,n,r){for(let i=t.childCount,s=e.childCount;;){if(i==0||s==0)return i==s?null:{a:n,b:r};let o=t.child(--i),a=e.child(--s),l=o.nodeSize;if(o==a){n-=l,r-=l;continue}if(!o.sameMarkup(a))return{a:n,b:r};if(o.isText&&o.text!=a.text){let c=0,u=Math.min(o.text.length,a.text.length);for(;c<u&&o.text[o.text.length-c-1]==a.text[a.text.length-c-1];)c++,n--,r--;return{a:n,b:r}}if(o.content.size||a.content.size){let c=uG(o.content,a.content,n-1,r-1);if(c)return c}n-=l,r-=l}}class ne{constructor(e,n){if(this.content=e,this.size=n||0,n==null)for(let r=0;r<e.length;r++)this.size+=e[r].nodeSize}nodesBetween(e,n,r,i=0,s){for(let o=0,a=0;a<n;o++){let l=this.content[o],c=a+l.nodeSize;if(c>e&&r(l,i+a,s||null,o)!==!1&&l.content.size){let u=a+1;l.nodesBetween(Math.max(0,e-u),Math.min(l.content.size,n-u),r,i+u)}a=c}}descendants(e){this.nodesBetween(0,this.size,e)}textBetween(e,n,r,i){let s="",o=!0;return this.nodesBetween(e,n,(a,l)=>{let c=a.isText?a.text.slice(Math.max(e,l)-l,n-l):a.isLeaf?i?typeof i=="function"?i(a):i:a.type.spec.leafText?a.type.spec.leafText(a):"":"";a.isBlock&&(a.isLeaf&&c||a.isTextblock)&&r&&(o?o=!1:s+=r),s+=c},0),s}append(e){if(!e.size)return this;if(!this.size)return e;let n=this.lastChild,r=e.firstChild,i=this.content.slice(),s=0;for(n.isText&&n.sameMarkup(r)&&(i[i.length-1]=n.withText(n.text+r.text),s=1);s<e.content.length;s++)i.push(e.content[s]);return new ne(i,this.size+e.size)}cut(e,n=this.size){if(e==0&&n==this.size)return this;let r=[],i=0;if(n>e)for(let s=0,o=0;o<n;s++){let a=this.content[s],l=o+a.nodeSize;l>e&&((o<e||l>n)&&(a.isText?a=a.cut(Math.max(0,e-o),Math.min(a.text.length,n-o)):a=a.cut(Math.max(0,e-o-1),Math.min(a.content.size,n-o-1))),r.push(a),i+=a.nodeSize),o=l}return new ne(r,i)}cutByIndex(e,n){return e==n?ne.empty:e==0&&n==this.content.length?this:new ne(this.content.slice(e,n))}replaceChild(e,n){let r=this.content[e];if(r==n)return this;let i=this.content.slice(),s=this.size+n.nodeSize-r.nodeSize;return i[e]=n,new ne(i,s)}addToStart(e){return new ne([e].concat(this.content),this.size+e.nodeSize)}addToEnd(e){return new ne(this.content.concat(e),this.size+e.nodeSize)}eq(e){if(this.content.length!=e.content.length)return!1;for(let n=0;n<this.content.length;n++)if(!this.content[n].eq(e.content[n]))return!1;return!0}get firstChild(){return this.content.length?this.content[0]:null}get lastChild(){return this.content.length?this.content[this.content.length-1]:null}get childCount(){return this.content.length}child(e){let n=this.content[e];if(!n)throw new RangeError("Index "+e+" out of range for "+this);return n}maybeChild(e){return this.content[e]||null}forEach(e){for(let n=0,r=0;n<this.content.length;n++){let i=this.content[n];e(i,r,n),r+=i.nodeSize}}findDiffStart(e,n=0){return cG(this,e,n)}findDiffEnd(e,n=this.size,r=e.size){return uG(this,e,n,r)}findIndex(e,n=-1){if(e==0)return H0(0,e);if(e==this.size)return H0(this.content.length,e);if(e>this.size||e<0)throw new RangeError(`Position ${e} outside of fragment (${this})`);for(let r=0,i=0;;r++){let s=this.child(r),o=i+s.nodeSize;if(o>=e)return o==e||n>0?H0(r+1,o):H0(r,i);i=o}}toString(){return"<"+this.toStringInner()+">"}toStringInner(){return this.content.join(", ")}toJSON(){return this.content.length?this.content.map(e=>e.toJSON()):null}static fromJSON(e,n){if(!n)return ne.empty;if(!Array.isArray(n))throw new RangeError("Invalid input for Fragment.fromJSON");return new ne(n.map(e.nodeFromJSON))}static fromArray(e){if(!e.length)return ne.empty;let n,r=0;for(let i=0;i<e.length;i++){let s=e[i];r+=s.nodeSize,i&&s.isText&&e[i-1].sameMarkup(s)?(n||(n=e.slice(0,i)),n[n.length-1]=s.withText(n[n.length-1].text+s.text)):n&&n.push(s)}return new ne(n||e,r)}static from(e){if(!e)return ne.empty;if(e instanceof ne)return e;if(Array.isArray(e))return this.fromArray(e);if(e.attrs)return new ne([e],e.nodeSize);throw new RangeError("Can not convert "+e+" to a Fragment"+(e.nodesBetween?" (looks like multiple versions of prosemirror-model were loaded)":""))}}ne.empty=new ne([],0);const HT={index:0,offset:0};function H0(t,e){return HT.index=t,HT.offset=e,HT}function pw(t,e){if(t===e)return!0;if(!(t&&typeof t=="object")||!(e&&typeof e=="object"))return!1;let n=Array.isArray(t);if(Array.isArray(e)!=n)return!1;if(n){if(t.length!=e.length)return!1;for(let r=0;r<t.length;r++)if(!pw(t[r],e[r]))return!1}else{for(let r in t)if(!(r in e)||!pw(t[r],e[r]))return!1;for(let r in e)if(!(r in t))return!1}return!0}let Rt=class dC{constructor(e,n){this.type=e,this.attrs=n}addToSet(e){let n,r=!1;for(let i=0;i<e.length;i++){let s=e[i];if(this.eq(s))return e;if(this.type.excludes(s.type))n||(n=e.slice(0,i));else{if(s.type.excludes(this.type))return e;!r&&s.type.rank>this.type.rank&&(n||(n=e.slice(0,i)),n.push(this),r=!0),n&&n.push(s)}}return n||(n=e.slice()),r||n.push(this),n}removeFromSet(e){for(let n=0;n<e.length;n++)if(this.eq(e[n]))return e.slice(0,n).concat(e.slice(n+1));return e}isInSet(e){for(let n=0;n<e.length;n++)if(this.eq(e[n]))return!0;return!1}eq(e){return this==e||this.type==e.type&&pw(this.attrs,e.attrs)}toJSON(){let e={type:this.type.name};for(let n in this.attrs){e.attrs=this.attrs;break}return e}static fromJSON(e,n){if(!n)throw new RangeError("Invalid input for Mark.fromJSON");let r=e.marks[n.type];if(!r)throw new RangeError(`There is no mark type ${n.type} in this schema`);let i=r.create(n.attrs);return r.checkAttrs(i.attrs),i}static sameSet(e,n){if(e==n)return!0;if(e.length!=n.length)return!1;for(let r=0;r<e.length;r++)if(!e[r].eq(n[r]))return!1;return!0}static setFrom(e){if(!e||Array.isArray(e)&&e.length==0)return dC.none;if(e instanceof dC)return[e];let n=e.slice();return n.sort((r,i)=>r.type.rank-i.type.rank),n}};Rt.none=[];class mw extends Error{}class ye{constructor(e,n,r){this.content=e,this.openStart=n,this.openEnd=r}get size(){return this.content.size-this.openStart-this.openEnd}insertAt(e,n){let r=fG(this.content,e+this.openStart,n);return r&&new ye(r,this.openStart,this.openEnd)}removeBetween(e,n){return new ye(dG(this.content,e+this.openStart,n+this.openStart),this.openStart,this.openEnd)}eq(e){return this.content.eq(e.content)&&this.openStart==e.openStart&&this.openEnd==e.openEnd}toString(){return this.content+"("+this.openStart+","+this.openEnd+")"}toJSON(){if(!this.content.size)return null;let e={content:this.content.toJSON()};return this.openStart>0&&(e.openStart=this.openStart),this.openEnd>0&&(e.openEnd=this.openEnd),e}static fromJSON(e,n){if(!n)return ye.empty;let r=n.openStart||0,i=n.openEnd||0;if(typeof r!="number"||typeof i!="number")throw new RangeError("Invalid input for Slice.fromJSON");return new ye(ne.fromJSON(e,n.content),r,i)}static maxOpen(e,n=!0){let r=0,i=0;for(let s=e.firstChild;s&&!s.isLeaf&&(n||!s.type.spec.isolating);s=s.firstChild)r++;for(let s=e.lastChild;s&&!s.isLeaf&&(n||!s.type.spec.isolating);s=s.lastChild)i++;return new ye(e,r,i)}}ye.empty=new ye(ne.empty,0,0);function dG(t,e,n){let{index:r,offset:i}=t.findIndex(e),s=t.maybeChild(r),{index:o,offset:a}=t.findIndex(n);if(i==e||s.isText){if(a!=n&&!t.child(o).isText)throw new RangeError("Removing non-flat range");return t.cut(0,e).append(t.cut(n))}if(r!=o)throw new RangeError("Removing non-flat range");return t.replaceChild(r,s.copy(dG(s.content,e-i-1,n-i-1)))}function fG(t,e,n,r){let{index:i,offset:s}=t.findIndex(e),o=t.maybeChild(i);if(s==e||o.isText)return t.cut(0,e).append(n).append(t.cut(e));let a=fG(o.content,e-s-1,n);return a&&t.replaceChild(i,o.copy(a))}function Pwe(t,e,n){if(n.openStart>t.depth)throw new mw("Inserted content deeper than insertion position");if(t.depth-n.openStart!=e.depth-n.openEnd)throw new mw("Inconsistent open depths");return hG(t,e,n,0)}function hG(t,e,n,r){let i=t.index(r),s=t.node(r);if(i==e.index(r)&&r<t.depth-n.openStart){let o=hG(t,e,n,r+1);return s.copy(s.content.replaceChild(i,o))}else if(n.content.size)if(!n.openStart&&!n.openEnd&&t.depth==r&&e.depth==r){let o=t.parent,a=o.content;return xu(o,a.cut(0,t.parentOffset).append(n.content).append(a.cut(e.parentOffset)))}else{let{start:o,end:a}=Cwe(n,t);return xu(s,mG(t,o,a,e,r))}else return xu(s,gw(t,e,r))}function pG(t,e){if(!e.type.compatibleContent(t.type))throw new mw("Cannot join "+e.type.name+" onto "+t.type.name)}function fC(t,e,n){let r=t.node(n);return pG(r,e.node(n)),r}function vu(t,e){let n=e.length-1;n>=0&&t.isText&&t.sameMarkup(e[n])?e[n]=t.withText(e[n].text+t.text):e.push(t)}function og(t,e,n,r){let i=(e||t).node(n),s=0,o=e?e.index(n):i.childCount;t&&(s=t.index(n),t.depth>n?s++:t.textOffset&&(vu(t.nodeAfter,r),s++));for(let a=s;a<o;a++)vu(i.child(a),r);e&&e.depth==n&&e.textOffset&&vu(e.nodeBefore,r)}function xu(t,e){return t.type.checkContent(e),t.copy(e)}function mG(t,e,n,r,i){let s=t.depth>i&&fC(t,e,i+1),o=r.depth>i&&fC(n,r,i+1),a=[];return og(null,t,i,a),s&&o&&e.index(i)==n.index(i)?(pG(s,o),vu(xu(s,mG(t,e,n,r,i+1)),a)):(s&&vu(xu(s,gw(t,e,i+1)),a),og(e,n,i,a),o&&vu(xu(o,gw(n,r,i+1)),a)),og(r,null,i,a),new ne(a)}function gw(t,e,n){let r=[];if(og(null,t,n,r),t.depth>n){let i=fC(t,e,n+1);vu(xu(i,gw(t,e,n+1)),r)}return og(e,null,n,r),new ne(r)}function Cwe(t,e){let n=e.depth-t.openStart,i=e.node(n).copy(t.content);for(let s=n-1;s>=0;s--)i=e.node(s).copy(ne.from(i));return{start:i.resolveNoCache(t.openStart+n),end:i.resolveNoCache(i.content.size-t.openEnd-n)}}class uy{constructor(e,n,r){this.pos=e,this.path=n,this.parentOffset=r,this.depth=n.length/3-1}resolveDepth(e){return e==null?this.depth:e<0?this.depth+e:e}get parent(){return this.node(this.depth)}get doc(){return this.node(0)}node(e){return this.path[this.resolveDepth(e)*3]}index(e){return this.path[this.resolveDepth(e)*3+1]}indexAfter(e){return e=this.resolveDepth(e),this.index(e)+(e==this.depth&&!this.textOffset?0:1)}start(e){return e=this.resolveDepth(e),e==0?0:this.path[e*3-1]+1}end(e){return e=this.resolveDepth(e),this.start(e)+this.node(e).content.size}before(e){if(e=this.resolveDepth(e),!e)throw new RangeError("There is no position before the top-level node");return e==this.depth+1?this.pos:this.path[e*3-1]}after(e){if(e=this.resolveDepth(e),!e)throw new RangeError("There is no position after the top-level node");return e==this.depth+1?this.pos:this.path[e*3-1]+this.path[e*3].nodeSize}get textOffset(){return this.pos-this.path[this.path.length-1]}get nodeAfter(){let e=this.parent,n=this.index(this.depth);if(n==e.childCount)return null;let r=this.pos-this.path[this.path.length-1],i=e.child(n);return r?e.child(n).cut(r):i}get nodeBefore(){let e=this.index(this.depth),n=this.pos-this.path[this.path.length-1];return n?this.parent.child(e).cut(0,n):e==0?null:this.parent.child(e-1)}posAtIndex(e,n){n=this.resolveDepth(n);let r=this.path[n*3],i=n==0?0:this.path[n*3-1]+1;for(let s=0;s<e;s++)i+=r.child(s).nodeSize;return i}marks(){let e=this.parent,n=this.index();if(e.content.size==0)return Rt.none;if(this.textOffset)return e.child(n).marks;let r=e.maybeChild(n-1),i=e.maybeChild(n);if(!r){let a=r;r=i,i=a}let s=r.marks;for(var o=0;o<s.length;o++)s[o].type.spec.inclusive===!1&&(!i||!s[o].isInSet(i.marks))&&(s=s[o--].removeFromSet(s));return s}marksAcross(e){let n=this.parent.maybeChild(this.index());if(!n||!n.isInline)return null;let r=n.marks,i=e.parent.maybeChild(e.index());for(var s=0;s<r.length;s++)r[s].type.spec.inclusive===!1&&(!i||!r[s].isInSet(i.marks))&&(r=r[s--].removeFromSet(r));return r}sharedDepth(e){for(let n=this.depth;n>0;n--)if(this.start(n)<=e&&this.end(n)>=e)return n;return 0}blockRange(e=this,n){if(e.pos<this.pos)return e.blockRange(this);for(let r=this.depth-(this.parent.inlineContent||this.pos==e.pos?1:0);r>=0;r--)if(e.pos<=this.end(r)&&(!n||n(this.node(r))))return new yw(this,e,r);return null}sameParent(e){return this.pos-this.parentOffset==e.pos-e.parentOffset}max(e){return e.pos>this.pos?e:this}min(e){return e.pos<this.pos?e:this}toString(){let e="";for(let n=1;n<=this.depth;n++)e+=(e?"/":"")+this.node(n).type.name+"_"+this.index(n-1);return e+":"+this.parentOffset}static resolve(e,n){if(!(n>=0&&n<=e.content.size))throw new RangeError("Position "+n+" out of range");let r=[],i=0,s=n;for(let o=e;;){let{index:a,offset:l}=o.content.findIndex(s),c=s-l;if(r.push(o,a,i+l),!c||(o=o.child(a),o.isText))break;s=c-1,i+=l+1}return new uy(n,r,s)}static resolveCached(e,n){let r=KV.get(e);if(r)for(let s=0;s<r.elts.length;s++){let o=r.elts[s];if(o.pos==n)return o}else KV.set(e,r=new Iwe);let i=r.elts[r.i]=uy.resolve(e,n);return r.i=(r.i+1)%Owe,i}}class Iwe{constructor(){this.elts=[],this.i=0}}const Owe=12,KV=new WeakMap;class yw{constructor(e,n,r){this.$from=e,this.$to=n,this.depth=r}get start(){return this.$from.before(this.depth+1)}get end(){return this.$to.after(this.depth+1)}get parent(){return this.$from.node(this.depth)}get startIndex(){return this.$from.index(this.depth)}get endIndex(){return this.$to.indexAfter(this.depth)}}const Nwe=Object.create(null);let bu=class hC{constructor(e,n,r,i=Rt.none){this.type=e,this.attrs=n,this.marks=i,this.content=r||ne.empty}get nodeSize(){return this.isLeaf?1:2+this.content.size}get childCount(){return this.content.childCount}child(e){return this.content.child(e)}maybeChild(e){return this.content.maybeChild(e)}forEach(e){this.content.forEach(e)}nodesBetween(e,n,r,i=0){this.content.nodesBetween(e,n,r,i,this)}descendants(e){this.nodesBetween(0,this.content.size,e)}get textContent(){return this.isLeaf&&this.type.spec.leafText?this.type.spec.leafText(this):this.textBetween(0,this.content.size,"")}textBetween(e,n,r,i){return this.content.textBetween(e,n,r,i)}get firstChild(){return this.content.firstChild}get lastChild(){return this.content.lastChild}eq(e){return this==e||this.sameMarkup(e)&&this.content.eq(e.content)}sameMarkup(e){return this.hasMarkup(e.type,e.attrs,e.marks)}hasMarkup(e,n,r){return this.type==e&&pw(this.attrs,n||e.defaultAttrs||Nwe)&&Rt.sameSet(this.marks,r||Rt.none)}copy(e=null){return e==this.content?this:new hC(this.type,this.attrs,e,this.marks)}mark(e){return e==this.marks?this:new hC(this.type,this.attrs,this.content,e)}cut(e,n=this.content.size){return e==0&&n==this.content.size?this:this.copy(this.content.cut(e,n))}slice(e,n=this.content.size,r=!1){if(e==n)return ye.empty;let i=this.resolve(e),s=this.resolve(n),o=r?0:i.sharedDepth(n),a=i.start(o),c=i.node(o).content.cut(i.pos-a,s.pos-a);return new ye(c,i.depth-o,s.depth-o)}replace(e,n,r){return Pwe(this.resolve(e),this.resolve(n),r)}nodeAt(e){for(let n=this;;){let{index:r,offset:i}=n.content.findIndex(e);if(n=n.maybeChild(r),!n)return null;if(i==e||n.isText)return n;e-=i+1}}childAfter(e){let{index:n,offset:r}=this.content.findIndex(e);return{node:this.content.maybeChild(n),index:n,offset:r}}childBefore(e){if(e==0)return{node:null,index:0,offset:0};let{index:n,offset:r}=this.content.findIndex(e);if(r<e)return{node:this.content.child(n),index:n,offset:r};let i=this.content.child(n-1);return{node:i,index:n-1,offset:r-i.nodeSize}}resolve(e){return uy.resolveCached(this,e)}resolveNoCache(e){return uy.resolve(this,e)}rangeHasMark(e,n,r){let i=!1;return n>e&&this.nodesBetween(e,n,s=>(r.isInSet(s.marks)&&(i=!0),!i)),i}get isBlock(){return this.type.isBlock}get isTextblock(){return this.type.isTextblock}get inlineContent(){return this.type.inlineContent}get isInline(){return this.type.isInline}get isText(){return this.type.isText}get isLeaf(){return this.type.isLeaf}get isAtom(){return this.type.isAtom}toString(){if(this.type.spec.toDebugString)return this.type.spec.toDebugString(this);let e=this.type.name;return this.content.size&&(e+="("+this.content.toStringInner()+")"),gG(this.marks,e)}contentMatchAt(e){let n=this.type.contentMatch.matchFragment(this.content,0,e);if(!n)throw new Error("Called contentMatchAt on a node with invalid content");return n}canReplace(e,n,r=ne.empty,i=0,s=r.childCount){let o=this.contentMatchAt(e).matchFragment(r,i,s),a=o&&o.matchFragment(this.content,n);if(!a||!a.validEnd)return!1;for(let l=i;l<s;l++)if(!this.type.allowsMarks(r.child(l).marks))return!1;return!0}canReplaceWith(e,n,r,i){if(i&&!this.type.allowsMarks(i))return!1;let s=this.contentMatchAt(e).matchType(r),o=s&&s.matchFragment(this.content,n);return o?o.validEnd:!1}canAppend(e){return e.content.size?this.canReplace(this.childCount,this.childCount,e.content):this.type.compatibleContent(e.type)}check(){this.type.checkContent(this.content),this.type.checkAttrs(this.attrs);let e=Rt.none;for(let n=0;n<this.marks.length;n++){let r=this.marks[n];r.type.checkAttrs(r.attrs),e=r.addToSet(e)}if(!Rt.sameSet(e,this.marks))throw new RangeError(`Invalid collection of marks for node ${this.type.name}: ${this.marks.map(n=>n.type.name)}`);this.content.forEach(n=>n.check())}toJSON(){let e={type:this.type.name};for(let n in this.attrs){e.attrs=this.attrs;break}return this.content.size&&(e.content=this.content.toJSON()),this.marks.length&&(e.marks=this.marks.map(n=>n.toJSON())),e}static fromJSON(e,n){if(!n)throw new RangeError("Invalid input for Node.fromJSON");let r;if(n.marks){if(!Array.isArray(n.marks))throw new RangeError("Invalid mark data for Node.fromJSON");r=n.marks.map(e.markFromJSON)}if(n.type=="text"){if(typeof n.text!="string")throw new RangeError("Invalid text node in JSON");return e.text(n.text,r)}let i=ne.fromJSON(e,n.content),s=e.nodeType(n.type).create(n.attrs,i,r);return s.type.checkAttrs(s.attrs),s}};bu.prototype.text=void 0;class vw extends bu{constructor(e,n,r,i){if(super(e,n,null,i),!r)throw new RangeError("Empty text nodes are not allowed");this.text=r}toString(){return this.type.spec.toDebugString?this.type.spec.toDebugString(this):gG(this.marks,JSON.stringify(this.text))}get textContent(){return this.text}textBetween(e,n){return this.text.slice(e,n)}get nodeSize(){return this.text.length}mark(e){return e==this.marks?this:new vw(this.type,this.attrs,this.text,e)}withText(e){return e==this.text?this:new vw(this.type,this.attrs,e,this.marks)}cut(e=0,n=this.text.length){return e==0&&n==this.text.length?this:this.withText(this.text.slice(e,n))}eq(e){return this.sameMarkup(e)&&this.text==e.text}toJSON(){let e=super.toJSON();return e.text=this.text,e}}function gG(t,e){for(let n=t.length-1;n>=0;n--)e=t[n].type.name+"("+e+")";return e}class qu{constructor(e){this.validEnd=e,this.next=[],this.wrapCache=[]}static parse(e,n){let r=new jwe(e,n);if(r.next==null)return qu.empty;let i=yG(r);r.next&&r.err("Unexpected trailing text");let s=Fwe(Vwe(i));return Bwe(s,r),s}matchType(e){for(let n=0;n<this.next.length;n++)if(this.next[n].type==e)return this.next[n].next;return null}matchFragment(e,n=0,r=e.childCount){let i=this;for(let s=n;i&&s<r;s++)i=i.matchType(e.child(s).type);return i}get inlineContent(){return this.next.length!=0&&this.next[0].type.isInline}get defaultType(){for(let e=0;e<this.next.length;e++){let{type:n}=this.next[e];if(!(n.isText||n.hasRequiredAttrs()))return n}return null}compatible(e){for(let n=0;n<this.next.length;n++)for(let r=0;r<e.next.length;r++)if(this.next[n].type==e.next[r].type)return!0;return!1}fillBefore(e,n=!1,r=0){let i=[this];function s(o,a){let l=o.matchFragment(e,r);if(l&&(!n||l.validEnd))return ne.from(a.map(c=>c.createAndFill()));for(let c=0;c<o.next.length;c++){let{type:u,next:d}=o.next[c];if(!(u.isText||u.hasRequiredAttrs())&&i.indexOf(d)==-1){i.push(d);let f=s(d,a.concat(u));if(f)return f}}return null}return s(this,[])}findWrapping(e){for(let r=0;r<this.wrapCache.length;r+=2)if(this.wrapCache[r]==e)return this.wrapCache[r+1];let n=this.computeWrapping(e);return this.wrapCache.push(e,n),n}computeWrapping(e){let n=Object.create(null),r=[{match:this,type:null,via:null}];for(;r.length;){let i=r.shift(),s=i.match;if(s.matchType(e)){let o=[];for(let a=i;a.type;a=a.via)o.push(a.type);return o.reverse()}for(let o=0;o<s.next.length;o++){let{type:a,next:l}=s.next[o];!a.isLeaf&&!a.hasRequiredAttrs()&&!(a.name in n)&&(!i.type||l.validEnd)&&(r.push({match:a.contentMatch,type:a,via:i}),n[a.name]=!0)}}return null}get edgeCount(){return this.next.length}edge(e){if(e>=this.next.length)throw new RangeError(`There's no ${e}th edge in this content match`);return this.next[e]}toString(){let e=[];function n(r){e.push(r);for(let i=0;i<r.next.length;i++)e.indexOf(r.next[i].next)==-1&&n(r.next[i].next)}return n(this),e.map((r,i)=>{let s=i+(r.validEnd?"*":" ")+" ";for(let o=0;o<r.next.length;o++)s+=(o?", ":"")+r.next[o].type.name+"->"+e.indexOf(r.next[o].next);return s}).join(`
`)}}qu.empty=new qu(!0);class jwe{constructor(e,n){this.string=e,this.nodeTypes=n,this.inline=null,this.pos=0,this.tokens=e.split(/\s*(?=\b|\W|$)/),this.tokens[this.tokens.length-1]==""&&this.tokens.pop(),this.tokens[0]==""&&this.tokens.shift()}get next(){return this.tokens[this.pos]}eat(e){return this.next==e&&(this.pos++||!0)}err(e){throw new SyntaxError(e+" (in content expression '"+this.string+"')")}}function yG(t){let e=[];do e.push(Rwe(t));while(t.eat("|"));return e.length==1?e[0]:{type:"choice",exprs:e}}function Rwe(t){let e=[];do e.push(Dwe(t));while(t.next&&t.next!=")"&&t.next!="|");return e.length==1?e[0]:{type:"seq",exprs:e}}function Dwe(t){let e=$we(t);for(;;)if(t.eat("+"))e={type:"plus",expr:e};else if(t.eat("*"))e={type:"star",expr:e};else if(t.eat("?"))e={type:"opt",expr:e};else if(t.eat("{"))e=Mwe(t,e);else break;return e}function GV(t){/\D/.test(t.next)&&t.err("Expected number, got '"+t.next+"'");let e=Number(t.next);return t.pos++,e}function Mwe(t,e){let n=GV(t),r=n;return t.eat(",")&&(t.next!="}"?r=GV(t):r=-1),t.eat("}")||t.err("Unclosed braced range"),{type:"range",min:n,max:r,expr:e}}function Lwe(t,e){let n=t.nodeTypes,r=n[e];if(r)return[r];let i=[];for(let s in n){let o=n[s];o.isInGroup(e)&&i.push(o)}return i.length==0&&t.err("No node type or group '"+e+"' found"),i}function $we(t){if(t.eat("(")){let e=yG(t);return t.eat(")")||t.err("Missing closing paren"),e}else if(/\W/.test(t.next))t.err("Unexpected token '"+t.next+"'");else{let e=Lwe(t,t.next).map(n=>(t.inline==null?t.inline=n.isInline:t.inline!=n.isInline&&t.err("Mixing inline and block content"),{type:"name",value:n}));return t.pos++,e.length==1?e[0]:{type:"choice",exprs:e}}}function Vwe(t){let e=[[]];return i(s(t,0),n()),e;function n(){return e.push([])-1}function r(o,a,l){let c={term:l,to:a};return e[o].push(c),c}function i(o,a){o.forEach(l=>l.to=a)}function s(o,a){if(o.type=="choice")return o.exprs.reduce((l,c)=>l.concat(s(c,a)),[]);if(o.type=="seq")for(let l=0;;l++){let c=s(o.exprs[l],a);if(l==o.exprs.length-1)return c;i(c,a=n())}else if(o.type=="star"){let l=n();return r(a,l),i(s(o.expr,l),l),[r(l)]}else if(o.type=="plus"){let l=n();return i(s(o.expr,a),l),i(s(o.expr,l),l),[r(l)]}else{if(o.type=="opt")return[r(a)].concat(s(o.expr,a));if(o.type=="range"){let l=a;for(let c=0;c<o.min;c++){let u=n();i(s(o.expr,l),u),l=u}if(o.max==-1)i(s(o.expr,l),l);else for(let c=o.min;c<o.max;c++){let u=n();r(l,u),i(s(o.expr,l),u),l=u}return[r(l)]}else{if(o.type=="name")return[r(a,void 0,o.value)];throw new Error("Unknown expr type")}}}}function vG(t,e){return e-t}function QV(t,e){let n=[];return r(e),n.sort(vG);function r(i){let s=t[i];if(s.length==1&&!s[0].term)return r(s[0].to);n.push(i);for(let o=0;o<s.length;o++){let{term:a,to:l}=s[o];!a&&n.indexOf(l)==-1&&r(l)}}}function Fwe(t){let e=Object.create(null);return n(QV(t,0));function n(r){let i=[];r.forEach(o=>{t[o].forEach(({term:a,to:l})=>{if(!a)return;let c;for(let u=0;u<i.length;u++)i[u][0]==a&&(c=i[u][1]);QV(t,l).forEach(u=>{c||i.push([a,c=[]]),c.indexOf(u)==-1&&c.push(u)})})});let s=e[r.join(",")]=new qu(r.indexOf(t.length-1)>-1);for(let o=0;o<i.length;o++){let a=i[o][1].sort(vG);s.next.push({type:i[o][0],next:e[a.join(",")]||n(a)})}return s}}function Bwe(t,e){for(let n=0,r=[t];n<r.length;n++){let i=r[n],s=!i.validEnd,o=[];for(let a=0;a<i.next.length;a++){let{type:l,next:c}=i.next[a];o.push(l.name),s&&!(l.isText||l.hasRequiredAttrs())&&(s=!1),r.indexOf(c)==-1&&r.push(c)}s&&e.err("Only non-generatable nodes ("+o.join(", ")+") in a required position (see https://prosemirror.net/docs/guide/#generatable)")}}function xG(t){let e=Object.create(null);for(let n in t){let r=t[n];if(!r.hasDefault)return null;e[n]=r.default}return e}function bG(t,e){let n=Object.create(null);for(let r in t){let i=e&&e[r];if(i===void 0){let s=t[r];if(s.hasDefault)i=s.default;else throw new RangeError("No value supplied for attribute "+r)}n[r]=i}return n}function wG(t,e,n,r){for(let i in e)if(!(i in t))throw new RangeError(`Unsupported attribute ${i} for ${n} of type ${i}`);for(let i in t){let s=t[i];s.validate&&s.validate(e[i])}}function _G(t,e){let n=Object.create(null);if(e)for(let r in e)n[r]=new zwe(t,r,e[r]);return n}let YV=class SG{constructor(e,n,r){this.name=e,this.schema=n,this.spec=r,this.markSet=null,this.groups=r.group?r.group.split(" "):[],this.attrs=_G(e,r.attrs),this.defaultAttrs=xG(this.attrs),this.contentMatch=null,this.inlineContent=null,this.isBlock=!(r.inline||e=="text"),this.isText=e=="text"}get isInline(){return!this.isBlock}get isTextblock(){return this.isBlock&&this.inlineContent}get isLeaf(){return this.contentMatch==qu.empty}get isAtom(){return this.isLeaf||!!this.spec.atom}isInGroup(e){return this.groups.indexOf(e)>-1}get whitespace(){return this.spec.whitespace||(this.spec.code?"pre":"normal")}hasRequiredAttrs(){for(let e in this.attrs)if(this.attrs[e].isRequired)return!0;return!1}compatibleContent(e){return this==e||this.contentMatch.compatible(e.contentMatch)}computeAttrs(e){return!e&&this.defaultAttrs?this.defaultAttrs:bG(this.attrs,e)}create(e=null,n,r){if(this.isText)throw new Error("NodeType.create can't construct text nodes");return new bu(this,this.computeAttrs(e),ne.from(n),Rt.setFrom(r))}createChecked(e=null,n,r){return n=ne.from(n),this.checkContent(n),new bu(this,this.computeAttrs(e),n,Rt.setFrom(r))}createAndFill(e=null,n,r){if(e=this.computeAttrs(e),n=ne.from(n),n.size){let o=this.contentMatch.fillBefore(n);if(!o)return null;n=o.append(n)}let i=this.contentMatch.matchFragment(n),s=i&&i.fillBefore(ne.empty,!0);return s?new bu(this,e,n.append(s),Rt.setFrom(r)):null}validContent(e){let n=this.contentMatch.matchFragment(e);if(!n||!n.validEnd)return!1;for(let r=0;r<e.childCount;r++)if(!this.allowsMarks(e.child(r).marks))return!1;return!0}checkContent(e){if(!this.validContent(e))throw new RangeError(`Invalid content for node ${this.name}: ${e.toString().slice(0,50)}`)}checkAttrs(e){wG(this.attrs,e,"node",this.name)}allowsMarkType(e){return this.markSet==null||this.markSet.indexOf(e)>-1}allowsMarks(e){if(this.markSet==null)return!0;for(let n=0;n<e.length;n++)if(!this.allowsMarkType(e[n].type))return!1;return!0}allowedMarks(e){if(this.markSet==null)return e;let n;for(let r=0;r<e.length;r++)this.allowsMarkType(e[r].type)?n&&n.push(e[r]):n||(n=e.slice(0,r));return n?n.length?n:Rt.none:e}static compile(e,n){let r=Object.create(null);e.forEach((s,o)=>r[s]=new SG(s,n,o));let i=n.spec.topNode||"doc";if(!r[i])throw new RangeError("Schema is missing its top node type ('"+i+"')");if(!r.text)throw new RangeError("Every schema needs a 'text' type");for(let s in r.text.attrs)throw new RangeError("The text node type should not have attributes");return r}};function Uwe(t,e,n){let r=n.split("|");return i=>{let s=i===null?"null":typeof i;if(r.indexOf(s)<0)throw new RangeError(`Expected value of type ${r} for attribute ${e} on type ${t}, got ${s}`)}}class zwe{constructor(e,n,r){this.hasDefault=Object.prototype.hasOwnProperty.call(r,"default"),this.default=r.default,this.validate=typeof r.validate=="string"?Uwe(e,n,r.validate):r.validate}get isRequired(){return!this.hasDefault}}class mS{constructor(e,n,r,i){this.name=e,this.rank=n,this.schema=r,this.spec=i,this.attrs=_G(e,i.attrs),this.excluded=null;let s=xG(this.attrs);this.instance=s?new Rt(this,s):null}create(e=null){return!e&&this.instance?this.instance:new Rt(this,bG(this.attrs,e))}static compile(e,n){let r=Object.create(null),i=0;return e.forEach((s,o)=>r[s]=new mS(s,i++,n,o)),r}removeFromSet(e){for(var n=0;n<e.length;n++)e[n].type==this&&(e=e.slice(0,n).concat(e.slice(n+1)),n--);return e}isInSet(e){for(let n=0;n<e.length;n++)if(e[n].type==this)return e[n]}checkAttrs(e){wG(this.attrs,e,"mark",this.name)}excludes(e){return this.excluded.indexOf(e)>-1}}class EG{constructor(e){this.linebreakReplacement=null,this.cached=Object.create(null);let n=this.spec={};for(let i in e)n[i]=e[i];n.nodes=er.from(e.nodes),n.marks=er.from(e.marks||{}),this.nodes=YV.compile(this.spec.nodes,this),this.marks=mS.compile(this.spec.marks,this);let r=Object.create(null);for(let i in this.nodes){if(i in this.marks)throw new RangeError(i+" can not be both a node and a mark");let s=this.nodes[i],o=s.spec.content||"",a=s.spec.marks;if(s.contentMatch=r[o]||(r[o]=qu.parse(o,this.nodes)),s.inlineContent=s.contentMatch.inlineContent,s.spec.linebreakReplacement){if(this.linebreakReplacement)throw new RangeError("Multiple linebreak nodes defined");if(!s.isInline||!s.isLeaf)throw new RangeError("Linebreak replacement nodes must be inline leaf nodes");this.linebreakReplacement=s}s.markSet=a=="_"?null:a?XV(this,a.split(" ")):a==""||!s.inlineContent?[]:null}for(let i in this.marks){let s=this.marks[i],o=s.spec.excludes;s.excluded=o==null?[s]:o==""?[]:XV(this,o.split(" "))}this.nodeFromJSON=this.nodeFromJSON.bind(this),this.markFromJSON=this.markFromJSON.bind(this),this.topNodeType=this.nodes[this.spec.topNode||"doc"],this.cached.wrappings=Object.create(null)}node(e,n=null,r,i){if(typeof e=="string")e=this.nodeType(e);else if(e instanceof YV){if(e.schema!=this)throw new RangeError("Node type from different schema used ("+e.name+")")}else throw new RangeError("Invalid node type: "+e);return e.createChecked(n,r,i)}text(e,n){let r=this.nodes.text;return new vw(r,r.defaultAttrs,e,Rt.setFrom(n))}mark(e,n){return typeof e=="string"&&(e=this.marks[e]),e.create(n)}nodeFromJSON(e){return bu.fromJSON(this,e)}markFromJSON(e){return Rt.fromJSON(this,e)}nodeType(e){let n=this.nodes[e];if(!n)throw new RangeError("Unknown node type: "+e);return n}}function XV(t,e){let n=[];for(let r=0;r<e.length;r++){let i=e[r],s=t.marks[i],o=s;if(s)n.push(s);else for(let a in t.marks){let l=t.marks[a];(i=="_"||l.spec.group&&l.spec.group.split(" ").indexOf(i)>-1)&&n.push(o=l)}if(!o)throw new SyntaxError("Unknown mark type: '"+e[r]+"'")}return n}function qwe(t){return t.tag!=null}function Hwe(t){return t.style!=null}class Ml{constructor(e,n){this.schema=e,this.rules=n,this.tags=[],this.styles=[];let r=this.matchedStyles=[];n.forEach(i=>{if(qwe(i))this.tags.push(i);else if(Hwe(i)){let s=/[^=]*/.exec(i.style)[0];r.indexOf(s)<0&&r.push(s),this.styles.push(i)}}),this.normalizeLists=!this.tags.some(i=>{if(!/^(ul|ol)\b/.test(i.tag)||!i.node)return!1;let s=e.nodes[i.node];return s.contentMatch.matchType(s)})}parse(e,n={}){let r=new ZV(this,n,!1);return r.addAll(e,Rt.none,n.from,n.to),r.finish()}parseSlice(e,n={}){let r=new ZV(this,n,!0);return r.addAll(e,Rt.none,n.from,n.to),ye.maxOpen(r.finish())}matchTag(e,n,r){for(let i=r?this.tags.indexOf(r)+1:0;i<this.tags.length;i++){let s=this.tags[i];if(Gwe(e,s.tag)&&(s.namespace===void 0||e.namespaceURI==s.namespace)&&(!s.context||n.matchesContext(s.context))){if(s.getAttrs){let o=s.getAttrs(e);if(o===!1)continue;s.attrs=o||void 0}return s}}}matchStyle(e,n,r,i){for(let s=i?this.styles.indexOf(i)+1:0;s<this.styles.length;s++){let o=this.styles[s],a=o.style;if(!(a.indexOf(e)!=0||o.context&&!r.matchesContext(o.context)||a.length>e.length&&(a.charCodeAt(e.length)!=61||a.slice(e.length+1)!=n))){if(o.getAttrs){let l=o.getAttrs(n);if(l===!1)continue;o.attrs=l||void 0}return o}}}static schemaRules(e){let n=[];function r(i){let s=i.priority==null?50:i.priority,o=0;for(;o<n.length;o++){let a=n[o];if((a.priority==null?50:a.priority)<s)break}n.splice(o,0,i)}for(let i in e.marks){let s=e.marks[i].spec.parseDOM;s&&s.forEach(o=>{r(o=eF(o)),o.mark||o.ignore||o.clearMark||(o.mark=i)})}for(let i in e.nodes){let s=e.nodes[i].spec.parseDOM;s&&s.forEach(o=>{r(o=eF(o)),o.node||o.ignore||o.mark||(o.node=i)})}return n}static fromSchema(e){return e.cached.domParser||(e.cached.domParser=new Ml(e,Ml.schemaRules(e)))}}const TG={address:!0,article:!0,aside:!0,blockquote:!0,canvas:!0,dd:!0,div:!0,dl:!0,fieldset:!0,figcaption:!0,figure:!0,footer:!0,form:!0,h1:!0,h2:!0,h3:!0,h4:!0,h5:!0,h6:!0,header:!0,hgroup:!0,hr:!0,li:!0,noscript:!0,ol:!0,output:!0,p:!0,pre:!0,section:!0,table:!0,tfoot:!0,ul:!0},Wwe={head:!0,noscript:!0,object:!0,script:!0,style:!0,title:!0},AG={ol:!0,ul:!0},xw=1,bw=2,ag=4;function JV(t,e,n){return e!=null?(e?xw:0)|(e==="full"?bw:0):t&&t.whitespace=="pre"?xw|bw:n&~ag}class W0{constructor(e,n,r,i,s,o){this.type=e,this.attrs=n,this.marks=r,this.solid=i,this.options=o,this.content=[],this.activeMarks=Rt.none,this.match=s||(o&ag?null:e.contentMatch)}findWrapping(e){if(!this.match){if(!this.type)return[];let n=this.type.contentMatch.fillBefore(ne.from(e));if(n)this.match=this.type.contentMatch.matchFragment(n);else{let r=this.type.contentMatch,i;return(i=r.findWrapping(e.type))?(this.match=r,i):null}}return this.match.findWrapping(e.type)}finish(e){if(!(this.options&xw)){let r=this.content[this.content.length-1],i;if(r&&r.isText&&(i=/[ \t\r\n\u000c]+$/.exec(r.text))){let s=r;r.text.length==i[0].length?this.content.pop():this.content[this.content.length-1]=s.withText(s.text.slice(0,s.text.length-i[0].length))}}let n=ne.from(this.content);return!e&&this.match&&(n=n.append(this.match.fillBefore(ne.empty,!0))),this.type?this.type.create(this.attrs,n,this.marks):n}inlineContext(e){return this.type?this.type.inlineContent:this.content.length?this.content[0].isInline:e.parentNode&&!TG.hasOwnProperty(e.parentNode.nodeName.toLowerCase())}}class ZV{constructor(e,n,r){this.parser=e,this.options=n,this.isOpen=r,this.open=0;let i=n.topNode,s,o=JV(null,n.preserveWhitespace,0)|(r?ag:0);i?s=new W0(i.type,i.attrs,Rt.none,!0,n.topMatch||i.type.contentMatch,o):r?s=new W0(null,null,Rt.none,!0,null,o):s=new W0(e.schema.topNodeType,null,Rt.none,!0,null,o),this.nodes=[s],this.find=n.findPositions,this.needsBlock=!1}get top(){return this.nodes[this.open]}addDOM(e,n){e.nodeType==3?this.addTextNode(e,n):e.nodeType==1&&this.addElement(e,n)}addTextNode(e,n){let r=e.nodeValue,i=this.top;if(i.options&bw||i.inlineContext(e)||/[^ \t\r\n\u000c]/.test(r)){if(i.options&xw)i.options&bw?r=r.replace(/\r\n?/g,`
`):r=r.replace(/\r?\n|\r/g," ");else if(r=r.replace(/[ \t\r\n\u000c]+/g," "),/^[ \t\r\n\u000c]/.test(r)&&this.open==this.nodes.length-1){let s=i.content[i.content.length-1],o=e.previousSibling;(!s||o&&o.nodeName=="BR"||s.isText&&/[ \t\r\n\u000c]$/.test(s.text))&&(r=r.slice(1))}r&&this.insertNode(this.parser.schema.text(r),n),this.findInText(e)}else this.findInside(e)}addElement(e,n,r){let i=e.nodeName.toLowerCase(),s;AG.hasOwnProperty(i)&&this.parser.normalizeLists&&Kwe(e);let o=this.options.ruleFromNode&&this.options.ruleFromNode(e)||(s=this.parser.matchTag(e,this,r));if(o?o.ignore:Wwe.hasOwnProperty(i))this.findInside(e),this.ignoreFallback(e,n);else if(!o||o.skip||o.closeParent){o&&o.closeParent?this.open=Math.max(0,this.open-1):o&&o.skip.nodeType&&(e=o.skip);let a,l=this.top,c=this.needsBlock;if(TG.hasOwnProperty(i))l.content.length&&l.content[0].isInline&&this.open&&(this.open--,l=this.top),a=!0,l.type||(this.needsBlock=!0);else if(!e.firstChild){this.leafFallback(e,n);return}let u=o&&o.skip?n:this.readStyles(e,n);u&&this.addAll(e,u),a&&this.sync(l),this.needsBlock=c}else{let a=this.readStyles(e,n);a&&this.addElementByRule(e,o,a,o.consuming===!1?s:void 0)}}leafFallback(e,n){e.nodeName=="BR"&&this.top.type&&this.top.type.inlineContent&&this.addTextNode(e.ownerDocument.createTextNode(`
`),n)}ignoreFallback(e,n){e.nodeName=="BR"&&(!this.top.type||!this.top.type.inlineContent)&&this.findPlace(this.parser.schema.text("-"),n)}readStyles(e,n){let r=e.style;if(r&&r.length)for(let i=0;i<this.parser.matchedStyles.length;i++){let s=this.parser.matchedStyles[i],o=r.getPropertyValue(s);if(o)for(let a=void 0;;){let l=this.parser.matchStyle(s,o,this,a);if(!l)break;if(l.ignore)return null;if(l.clearMark?n=n.filter(c=>!l.clearMark(c)):n=n.concat(this.parser.schema.marks[l.mark].create(l.attrs)),l.consuming===!1)a=l;else break}}return n}addElementByRule(e,n,r,i){let s,o;if(n.node)if(o=this.parser.schema.nodes[n.node],o.isLeaf)this.insertNode(o.create(n.attrs),r)||this.leafFallback(e,r);else{let l=this.enter(o,n.attrs||null,r,n.preserveWhitespace);l&&(s=!0,r=l)}else{let l=this.parser.schema.marks[n.mark];r=r.concat(l.create(n.attrs))}let a=this.top;if(o&&o.isLeaf)this.findInside(e);else if(i)this.addElement(e,r,i);else if(n.getContent)this.findInside(e),n.getContent(e,this.parser.schema).forEach(l=>this.insertNode(l,r));else{let l=e;typeof n.contentElement=="string"?l=e.querySelector(n.contentElement):typeof n.contentElement=="function"?l=n.contentElement(e):n.contentElement&&(l=n.contentElement),this.findAround(e,l,!0),this.addAll(l,r),this.findAround(e,l,!1)}s&&this.sync(a)&&this.open--}addAll(e,n,r,i){let s=r||0;for(let o=r?e.childNodes[r]:e.firstChild,a=i==null?null:e.childNodes[i];o!=a;o=o.nextSibling,++s)this.findAtPoint(e,s),this.addDOM(o,n);this.findAtPoint(e,s)}findPlace(e,n){let r,i;for(let s=this.open;s>=0;s--){let o=this.nodes[s],a=o.findWrapping(e);if(a&&(!r||r.length>a.length)&&(r=a,i=o,!a.length)||o.solid)break}if(!r)return null;this.sync(i);for(let s=0;s<r.length;s++)n=this.enterInner(r[s],null,n,!1);return n}insertNode(e,n){if(e.isInline&&this.needsBlock&&!this.top.type){let i=this.textblockFromContext();i&&(n=this.enterInner(i,null,n))}let r=this.findPlace(e,n);if(r){this.closeExtra();let i=this.top;i.match&&(i.match=i.match.matchType(e.type));let s=Rt.none;for(let o of r.concat(e.marks))(i.type?i.type.allowsMarkType(o.type):tF(o.type,e.type))&&(s=o.addToSet(s));return i.content.push(e.mark(s)),!0}return!1}enter(e,n,r,i){let s=this.findPlace(e.create(n),r);return s&&(s=this.enterInner(e,n,r,!0,i)),s}enterInner(e,n,r,i=!1,s){this.closeExtra();let o=this.top;o.match=o.match&&o.match.matchType(e);let a=JV(e,s,o.options);o.options&ag&&o.content.length==0&&(a|=ag);let l=Rt.none;return r=r.filter(c=>(o.type?o.type.allowsMarkType(c.type):tF(c.type,e))?(l=c.addToSet(l),!1):!0),this.nodes.push(new W0(e,n,l,i,null,a)),this.open++,r}closeExtra(e=!1){let n=this.nodes.length-1;if(n>this.open){for(;n>this.open;n--)this.nodes[n-1].content.push(this.nodes[n].finish(e));this.nodes.length=this.open+1}}finish(){return this.open=0,this.closeExtra(this.isOpen),this.nodes[0].finish(this.isOpen||this.options.topOpen)}sync(e){for(let n=this.open;n>=0;n--)if(this.nodes[n]==e)return this.open=n,!0;return!1}get currentPos(){this.closeExtra();let e=0;for(let n=this.open;n>=0;n--){let r=this.nodes[n].content;for(let i=r.length-1;i>=0;i--)e+=r[i].nodeSize;n&&e++}return e}findAtPoint(e,n){if(this.find)for(let r=0;r<this.find.length;r++)this.find[r].node==e&&this.find[r].offset==n&&(this.find[r].pos=this.currentPos)}findInside(e){if(this.find)for(let n=0;n<this.find.length;n++)this.find[n].pos==null&&e.nodeType==1&&e.contains(this.find[n].node)&&(this.find[n].pos=this.currentPos)}findAround(e,n,r){if(e!=n&&this.find)for(let i=0;i<this.find.length;i++)this.find[i].pos==null&&e.nodeType==1&&e.contains(this.find[i].node)&&n.compareDocumentPosition(this.find[i].node)&(r?2:4)&&(this.find[i].pos=this.currentPos)}findInText(e){if(this.find)for(let n=0;n<this.find.length;n++)this.find[n].node==e&&(this.find[n].pos=this.currentPos-(e.nodeValue.length-this.find[n].offset))}matchesContext(e){if(e.indexOf("|")>-1)return e.split(/\s*\|\s*/).some(this.matchesContext,this);let n=e.split("/"),r=this.options.context,i=!this.isOpen&&(!r||r.parent.type==this.nodes[0].type),s=-(r?r.depth+1:0)+(i?0:1),o=(a,l)=>{for(;a>=0;a--){let c=n[a];if(c==""){if(a==n.length-1||a==0)continue;for(;l>=s;l--)if(o(a-1,l))return!0;return!1}else{let u=l>0||l==0&&i?this.nodes[l].type:r&&l>=s?r.node(l-s).type:null;if(!u||u.name!=c&&!u.isInGroup(c))return!1;l--}}return!0};return o(n.length-1,this.open)}textblockFromContext(){let e=this.options.context;if(e)for(let n=e.depth;n>=0;n--){let r=e.node(n).contentMatchAt(e.indexAfter(n)).defaultType;if(r&&r.isTextblock&&r.defaultAttrs)return r}for(let n in this.parser.schema.nodes){let r=this.parser.schema.nodes[n];if(r.isTextblock&&r.defaultAttrs)return r}}}function Kwe(t){for(let e=t.firstChild,n=null;e;e=e.nextSibling){let r=e.nodeType==1?e.nodeName.toLowerCase():null;r&&AG.hasOwnProperty(r)&&n?(n.appendChild(e),e=n):r=="li"?n=e:r&&(n=null)}}function Gwe(t,e){return(t.matches||t.msMatchesSelector||t.webkitMatchesSelector||t.mozMatchesSelector).call(t,e)}function eF(t){let e={};for(let n in t)e[n]=t[n];return e}function tF(t,e){let n=e.schema.nodes;for(let r in n){let i=n[r];if(!i.allowsMarkType(t))continue;let s=[],o=a=>{s.push(a);for(let l=0;l<a.edgeCount;l++){let{type:c,next:u}=a.edge(l);if(c==e||s.indexOf(u)<0&&o(u))return!0}};if(o(i.contentMatch))return!0}}class dd{constructor(e,n){this.nodes=e,this.marks=n}serializeFragment(e,n={},r){r||(r=WT(n).createDocumentFragment());let i=r,s=[];return e.forEach(o=>{if(s.length||o.marks.length){let a=0,l=0;for(;a<s.length&&l<o.marks.length;){let c=o.marks[l];if(!this.marks[c.type.name]){l++;continue}if(!c.eq(s[a][0])||c.type.spec.spanning===!1)break;a++,l++}for(;a<s.length;)i=s.pop()[1];for(;l<o.marks.length;){let c=o.marks[l++],u=this.serializeMark(c,o.isInline,n);u&&(s.push([c,i]),i.appendChild(u.dom),i=u.contentDOM||u.dom)}}i.appendChild(this.serializeNodeInner(o,n))}),r}serializeNodeInner(e,n){let{dom:r,contentDOM:i}=Jx(WT(n),this.nodes[e.type.name](e),null,e.attrs);if(i){if(e.isLeaf)throw new RangeError("Content hole not allowed in a leaf node spec");this.serializeFragment(e.content,n,i)}return r}serializeNode(e,n={}){let r=this.serializeNodeInner(e,n);for(let i=e.marks.length-1;i>=0;i--){let s=this.serializeMark(e.marks[i],e.isInline,n);s&&((s.contentDOM||s.dom).appendChild(r),r=s.dom)}return r}serializeMark(e,n,r={}){let i=this.marks[e.type.name];return i&&Jx(WT(r),i(e,n),null,e.attrs)}static renderSpec(e,n,r=null,i){return Jx(e,n,r,i)}static fromSchema(e){return e.cached.domSerializer||(e.cached.domSerializer=new dd(this.nodesFromSchema(e),this.marksFromSchema(e)))}static nodesFromSchema(e){let n=nF(e.nodes);return n.text||(n.text=r=>r.text),n}static marksFromSchema(e){return nF(e.marks)}}function nF(t){let e={};for(let n in t){let r=t[n].spec.toDOM;r&&(e[n]=r)}return e}function WT(t){return t.document||window.document}const rF=new WeakMap;function Qwe(t){let e=rF.get(t);return e===void 0&&rF.set(t,e=Ywe(t)),e}function Ywe(t){let e=null;function n(r){if(r&&typeof r=="object")if(Array.isArray(r))if(typeof r[0]=="string")e||(e=[]),e.push(r);else for(let i=0;i<r.length;i++)n(r[i]);else for(let i in r)n(r[i])}return n(t),e}function Jx(t,e,n,r){if(typeof e=="string")return{dom:t.createTextNode(e)};if(e.nodeType!=null)return{dom:e};if(e.dom&&e.dom.nodeType!=null)return e;let i=e[0],s;if(typeof i!="string")throw new RangeError("Invalid array passed to renderSpec");if(r&&(s=Qwe(r))&&s.indexOf(e)>-1)throw new RangeError("Using an array from an attribute object as a DOM spec. This may be an attempted cross site scripting attack.");let o=i.indexOf(" ");o>0&&(n=i.slice(0,o),i=i.slice(o+1));let a,l=n?t.createElementNS(n,i):t.createElement(i),c=e[1],u=1;if(c&&typeof c=="object"&&c.nodeType==null&&!Array.isArray(c)){u=2;for(let d in c)if(c[d]!=null){let f=d.indexOf(" ");f>0?l.setAttributeNS(d.slice(0,f),d.slice(f+1),c[d]):l.setAttribute(d,c[d])}}for(let d=u;d<e.length;d++){let f=e[d];if(f===0){if(d<e.length-1||d>u)throw new RangeError("Content hole must be the only child of its parent node");return{dom:l,contentDOM:l}}else{let{dom:p,contentDOM:m}=Jx(t,f,n,r);if(l.appendChild(p),m){if(a)throw new RangeError("Multiple content holes");a=m}}}return{dom:l,contentDOM:a}}const kG=65535,PG=Math.pow(2,16);function Xwe(t,e){return t+e*PG}function iF(t){return t&kG}function Jwe(t){return(t-(t&kG))/PG}const CG=1,IG=2,Zx=4,OG=8;class pC{constructor(e,n,r){this.pos=e,this.delInfo=n,this.recover=r}get deleted(){return(this.delInfo&OG)>0}get deletedBefore(){return(this.delInfo&(CG|Zx))>0}get deletedAfter(){return(this.delInfo&(IG|Zx))>0}get deletedAcross(){return(this.delInfo&Zx)>0}}class _i{constructor(e,n=!1){if(this.ranges=e,this.inverted=n,!e.length&&_i.empty)return _i.empty}recover(e){let n=0,r=iF(e);if(!this.inverted)for(let i=0;i<r;i++)n+=this.ranges[i*3+2]-this.ranges[i*3+1];return this.ranges[r*3]+n+Jwe(e)}mapResult(e,n=1){return this._map(e,n,!1)}map(e,n=1){return this._map(e,n,!0)}_map(e,n,r){let i=0,s=this.inverted?2:1,o=this.inverted?1:2;for(let a=0;a<this.ranges.length;a+=3){let l=this.ranges[a]-(this.inverted?i:0);if(l>e)break;let c=this.ranges[a+s],u=this.ranges[a+o],d=l+c;if(e<=d){let f=c?e==l?-1:e==d?1:n:n,p=l+i+(f<0?0:u);if(r)return p;let m=e==(n<0?l:d)?null:Xwe(a/3,e-l),g=e==l?IG:e==d?CG:Zx;return(n<0?e!=l:e!=d)&&(g|=OG),new pC(p,g,m)}i+=u-c}return r?e+i:new pC(e+i,0,null)}touches(e,n){let r=0,i=iF(n),s=this.inverted?2:1,o=this.inverted?1:2;for(let a=0;a<this.ranges.length;a+=3){let l=this.ranges[a]-(this.inverted?r:0);if(l>e)break;let c=this.ranges[a+s],u=l+c;if(e<=u&&a==i*3)return!0;r+=this.ranges[a+o]-c}return!1}forEach(e){let n=this.inverted?2:1,r=this.inverted?1:2;for(let i=0,s=0;i<this.ranges.length;i+=3){let o=this.ranges[i],a=o-(this.inverted?s:0),l=o+(this.inverted?0:s),c=this.ranges[i+n],u=this.ranges[i+r];e(a,a+c,l,l+u),s+=u-c}}invert(){return new _i(this.ranges,!this.inverted)}toString(){return(this.inverted?"-":"")+JSON.stringify(this.ranges)}static offset(e){return e==0?_i.empty:new _i(e<0?[0,-e,0]:[0,0,e])}}_i.empty=new _i([]);class Pf{constructor(e=[],n,r=0,i=e.length){this.maps=e,this.mirror=n,this.from=r,this.to=i}slice(e=0,n=this.maps.length){return new Pf(this.maps,this.mirror,e,n)}copy(){return new Pf(this.maps.slice(),this.mirror&&this.mirror.slice(),this.from,this.to)}appendMap(e,n){this.to=this.maps.push(e),n!=null&&this.setMirror(this.maps.length-1,n)}appendMapping(e){for(let n=0,r=this.maps.length;n<e.maps.length;n++){let i=e.getMirror(n);this.appendMap(e.maps[n],i!=null&&i<n?r+i:void 0)}}getMirror(e){if(this.mirror){for(let n=0;n<this.mirror.length;n++)if(this.mirror[n]==e)return this.mirror[n+(n%2?-1:1)]}}setMirror(e,n){this.mirror||(this.mirror=[]),this.mirror.push(e,n)}appendMappingInverted(e){for(let n=e.maps.length-1,r=this.maps.length+e.maps.length;n>=0;n--){let i=e.getMirror(n);this.appendMap(e.maps[n].invert(),i!=null&&i>n?r-i-1:void 0)}}invert(){let e=new Pf;return e.appendMappingInverted(this),e}map(e,n=1){if(this.mirror)return this._map(e,n,!0);for(let r=this.from;r<this.to;r++)e=this.maps[r].map(e,n);return e}mapResult(e,n=1){return this._map(e,n,!1)}_map(e,n,r){let i=0;for(let s=this.from;s<this.to;s++){let o=this.maps[s],a=o.mapResult(e,n);if(a.recover!=null){let l=this.getMirror(s);if(l!=null&&l>s&&l<this.to){s=l,e=this.maps[l].recover(a.recover);continue}}i|=a.delInfo,e=a.pos}return r?e:new pC(e,i,null)}}const KT=Object.create(null);let Cr=class{getMap(){return _i.empty}merge(e){return null}static fromJSON(e,n){if(!n||!n.stepType)throw new RangeError("Invalid input for Step.fromJSON");let r=KT[n.stepType];if(!r)throw new RangeError(`No step type ${n.stepType} defined`);return r.fromJSON(e,n)}static jsonID(e,n){if(e in KT)throw new RangeError("Duplicate use of step JSON ID "+e);return KT[e]=n,n.prototype.jsonID=e,n}};class Tn{constructor(e,n){this.doc=e,this.failed=n}static ok(e){return new Tn(e,null)}static fail(e){return new Tn(null,e)}static fromReplace(e,n,r,i){try{return Tn.ok(e.replace(n,r,i))}catch(s){if(s instanceof mw)return Tn.fail(s.message);throw s}}}function cj(t,e,n){let r=[];for(let i=0;i<t.childCount;i++){let s=t.child(i);s.content.size&&(s=s.copy(cj(s.content,e,s))),s.isInline&&(s=e(s,n,i)),r.push(s)}return ne.fromArray(r)}class xl extends Cr{constructor(e,n,r){super(),this.from=e,this.to=n,this.mark=r}apply(e){let n=e.slice(this.from,this.to),r=e.resolve(this.from),i=r.node(r.sharedDepth(this.to)),s=new ye(cj(n.content,(o,a)=>!o.isAtom||!a.type.allowsMarkType(this.mark.type)?o:o.mark(this.mark.addToSet(o.marks)),i),n.openStart,n.openEnd);return Tn.fromReplace(e,this.from,this.to,s)}invert(){return new Qs(this.from,this.to,this.mark)}map(e){let n=e.mapResult(this.from,1),r=e.mapResult(this.to,-1);return n.deleted&&r.deleted||n.pos>=r.pos?null:new xl(n.pos,r.pos,this.mark)}merge(e){return e instanceof xl&&e.mark.eq(this.mark)&&this.from<=e.to&&this.to>=e.from?new xl(Math.min(this.from,e.from),Math.max(this.to,e.to),this.mark):null}toJSON(){return{stepType:"addMark",mark:this.mark.toJSON(),from:this.from,to:this.to}}static fromJSON(e,n){if(typeof n.from!="number"||typeof n.to!="number")throw new RangeError("Invalid input for AddMarkStep.fromJSON");return new xl(n.from,n.to,e.markFromJSON(n.mark))}}Cr.jsonID("addMark",xl);class Qs extends Cr{constructor(e,n,r){super(),this.from=e,this.to=n,this.mark=r}apply(e){let n=e.slice(this.from,this.to),r=new ye(cj(n.content,i=>i.mark(this.mark.removeFromSet(i.marks)),e),n.openStart,n.openEnd);return Tn.fromReplace(e,this.from,this.to,r)}invert(){return new xl(this.from,this.to,this.mark)}map(e){let n=e.mapResult(this.from,1),r=e.mapResult(this.to,-1);return n.deleted&&r.deleted||n.pos>=r.pos?null:new Qs(n.pos,r.pos,this.mark)}merge(e){return e instanceof Qs&&e.mark.eq(this.mark)&&this.from<=e.to&&this.to>=e.from?new Qs(Math.min(this.from,e.from),Math.max(this.to,e.to),this.mark):null}toJSON(){return{stepType:"removeMark",mark:this.mark.toJSON(),from:this.from,to:this.to}}static fromJSON(e,n){if(typeof n.from!="number"||typeof n.to!="number")throw new RangeError("Invalid input for RemoveMarkStep.fromJSON");return new Qs(n.from,n.to,e.markFromJSON(n.mark))}}Cr.jsonID("removeMark",Qs);class bl extends Cr{constructor(e,n){super(),this.pos=e,this.mark=n}apply(e){let n=e.nodeAt(this.pos);if(!n)return Tn.fail("No node at mark step's position");let r=n.type.create(n.attrs,null,this.mark.addToSet(n.marks));return Tn.fromReplace(e,this.pos,this.pos+1,new ye(ne.from(r),0,n.isLeaf?0:1))}invert(e){let n=e.nodeAt(this.pos);if(n){let r=this.mark.addToSet(n.marks);if(r.length==n.marks.length){for(let i=0;i<n.marks.length;i++)if(!n.marks[i].isInSet(r))return new bl(this.pos,n.marks[i]);return new bl(this.pos,this.mark)}}return new bh(this.pos,this.mark)}map(e){let n=e.mapResult(this.pos,1);return n.deletedAfter?null:new bl(n.pos,this.mark)}toJSON(){return{stepType:"addNodeMark",pos:this.pos,mark:this.mark.toJSON()}}static fromJSON(e,n){if(typeof n.pos!="number")throw new RangeError("Invalid input for AddNodeMarkStep.fromJSON");return new bl(n.pos,e.markFromJSON(n.mark))}}Cr.jsonID("addNodeMark",bl);class bh extends Cr{constructor(e,n){super(),this.pos=e,this.mark=n}apply(e){let n=e.nodeAt(this.pos);if(!n)return Tn.fail("No node at mark step's position");let r=n.type.create(n.attrs,null,this.mark.removeFromSet(n.marks));return Tn.fromReplace(e,this.pos,this.pos+1,new ye(ne.from(r),0,n.isLeaf?0:1))}invert(e){let n=e.nodeAt(this.pos);return!n||!this.mark.isInSet(n.marks)?this:new bl(this.pos,this.mark)}map(e){let n=e.mapResult(this.pos,1);return n.deletedAfter?null:new bh(n.pos,this.mark)}toJSON(){return{stepType:"removeNodeMark",pos:this.pos,mark:this.mark.toJSON()}}static fromJSON(e,n){if(typeof n.pos!="number")throw new RangeError("Invalid input for RemoveNodeMarkStep.fromJSON");return new bh(n.pos,e.markFromJSON(n.mark))}}Cr.jsonID("removeNodeMark",bh);class zn extends Cr{constructor(e,n,r,i=!1){super(),this.from=e,this.to=n,this.slice=r,this.structure=i}apply(e){return this.structure&&mC(e,this.from,this.to)?Tn.fail("Structure replace would overwrite content"):Tn.fromReplace(e,this.from,this.to,this.slice)}getMap(){return new _i([this.from,this.to-this.from,this.slice.size])}invert(e){return new zn(this.from,this.from+this.slice.size,e.slice(this.from,this.to))}map(e){let n=e.mapResult(this.from,1),r=e.mapResult(this.to,-1);return n.deletedAcross&&r.deletedAcross?null:new zn(n.pos,Math.max(n.pos,r.pos),this.slice)}merge(e){if(!(e instanceof zn)||e.structure||this.structure)return null;if(this.from+this.slice.size==e.from&&!this.slice.openEnd&&!e.slice.openStart){let n=this.slice.size+e.slice.size==0?ye.empty:new ye(this.slice.content.append(e.slice.content),this.slice.openStart,e.slice.openEnd);return new zn(this.from,this.to+(e.to-e.from),n,this.structure)}else if(e.to==this.from&&!this.slice.openStart&&!e.slice.openEnd){let n=this.slice.size+e.slice.size==0?ye.empty:new ye(e.slice.content.append(this.slice.content),e.slice.openStart,this.slice.openEnd);return new zn(e.from,this.to,n,this.structure)}else return null}toJSON(){let e={stepType:"replace",from:this.from,to:this.to};return this.slice.size&&(e.slice=this.slice.toJSON()),this.structure&&(e.structure=!0),e}static fromJSON(e,n){if(typeof n.from!="number"||typeof n.to!="number")throw new RangeError("Invalid input for ReplaceStep.fromJSON");return new zn(n.from,n.to,ye.fromJSON(e,n.slice),!!n.structure)}}Cr.jsonID("replace",zn);class Wn extends Cr{constructor(e,n,r,i,s,o,a=!1){super(),this.from=e,this.to=n,this.gapFrom=r,this.gapTo=i,this.slice=s,this.insert=o,this.structure=a}apply(e){if(this.structure&&(mC(e,this.from,this.gapFrom)||mC(e,this.gapTo,this.to)))return Tn.fail("Structure gap-replace would overwrite content");let n=e.slice(this.gapFrom,this.gapTo);if(n.openStart||n.openEnd)return Tn.fail("Gap is not a flat range");let r=this.slice.insertAt(this.insert,n.content);return r?Tn.fromReplace(e,this.from,this.to,r):Tn.fail("Content does not fit in gap")}getMap(){return new _i([this.from,this.gapFrom-this.from,this.insert,this.gapTo,this.to-this.gapTo,this.slice.size-this.insert])}invert(e){let n=this.gapTo-this.gapFrom;return new Wn(this.from,this.from+this.slice.size+n,this.from+this.insert,this.from+this.insert+n,e.slice(this.from,this.to).removeBetween(this.gapFrom-this.from,this.gapTo-this.from),this.gapFrom-this.from,this.structure)}map(e){let n=e.mapResult(this.from,1),r=e.mapResult(this.to,-1),i=this.from==this.gapFrom?n.pos:e.map(this.gapFrom,-1),s=this.to==this.gapTo?r.pos:e.map(this.gapTo,1);return n.deletedAcross&&r.deletedAcross||i<n.pos||s>r.pos?null:new Wn(n.pos,r.pos,i,s,this.slice,this.insert,this.structure)}toJSON(){let e={stepType:"replaceAround",from:this.from,to:this.to,gapFrom:this.gapFrom,gapTo:this.gapTo,insert:this.insert};return this.slice.size&&(e.slice=this.slice.toJSON()),this.structure&&(e.structure=!0),e}static fromJSON(e,n){if(typeof n.from!="number"||typeof n.to!="number"||typeof n.gapFrom!="number"||typeof n.gapTo!="number"||typeof n.insert!="number")throw new RangeError("Invalid input for ReplaceAroundStep.fromJSON");return new Wn(n.from,n.to,n.gapFrom,n.gapTo,ye.fromJSON(e,n.slice),n.insert,!!n.structure)}}Cr.jsonID("replaceAround",Wn);function mC(t,e,n){let r=t.resolve(e),i=n-e,s=r.depth;for(;i>0&&s>0&&r.indexAfter(s)==r.node(s).childCount;)s--,i--;if(i>0){let o=r.node(s).maybeChild(r.indexAfter(s));for(;i>0;){if(!o||o.isLeaf)return!0;o=o.firstChild,i--}}return!1}function Zwe(t,e,n,r){let i=[],s=[],o,a;t.doc.nodesBetween(e,n,(l,c,u)=>{if(!l.isInline)return;let d=l.marks;if(!r.isInSet(d)&&u.type.allowsMarkType(r.type)){let f=Math.max(c,e),p=Math.min(c+l.nodeSize,n),m=r.addToSet(d);for(let g=0;g<d.length;g++)d[g].isInSet(m)||(o&&o.to==f&&o.mark.eq(d[g])?o.to=p:i.push(o=new Qs(f,p,d[g])));a&&a.to==f?a.to=p:s.push(a=new xl(f,p,r))}}),i.forEach(l=>t.step(l)),s.forEach(l=>t.step(l))}function e1e(t,e,n,r){let i=[],s=0;t.doc.nodesBetween(e,n,(o,a)=>{if(!o.isInline)return;s++;let l=null;if(r instanceof mS){let c=o.marks,u;for(;u=r.isInSet(c);)(l||(l=[])).push(u),c=u.removeFromSet(c)}else r?r.isInSet(o.marks)&&(l=[r]):l=o.marks;if(l&&l.length){let c=Math.min(a+o.nodeSize,n);for(let u=0;u<l.length;u++){let d=l[u],f;for(let p=0;p<i.length;p++){let m=i[p];m.step==s-1&&d.eq(i[p].style)&&(f=m)}f?(f.to=c,f.step=s):i.push({style:d,from:Math.max(a,e),to:c,step:s})}}}),i.forEach(o=>t.step(new Qs(o.from,o.to,o.style)))}function uj(t,e,n,r=n.contentMatch,i=!0){let s=t.doc.nodeAt(e),o=[],a=e+1;for(let l=0;l<s.childCount;l++){let c=s.child(l),u=a+c.nodeSize,d=r.matchType(c.type);if(!d)o.push(new zn(a,u,ye.empty));else{r=d;for(let f=0;f<c.marks.length;f++)n.allowsMarkType(c.marks[f].type)||t.step(new Qs(a,u,c.marks[f]));if(i&&c.isText&&n.whitespace!="pre"){let f,p=/\r?\n|\r/g,m;for(;f=p.exec(c.text);)m||(m=new ye(ne.from(n.schema.text(" ",n.allowedMarks(c.marks))),0,0)),o.push(new zn(a+f.index,a+f.index+f[0].length,m))}}a=u}if(!r.validEnd){let l=r.fillBefore(ne.empty,!0);t.replace(a,a,new ye(l,0,0))}for(let l=o.length-1;l>=0;l--)t.step(o[l])}function t1e(t,e,n){return(e==0||t.canReplace(e,t.childCount))&&(n==t.childCount||t.canReplace(0,n))}function pp(t){let n=t.parent.content.cutByIndex(t.startIndex,t.endIndex);for(let r=t.depth;;--r){let i=t.$from.node(r),s=t.$from.index(r),o=t.$to.indexAfter(r);if(r<t.depth&&i.canReplace(s,o,n))return r;if(r==0||i.type.spec.isolating||!t1e(i,s,o))break}return null}function n1e(t,e,n){let{$from:r,$to:i,depth:s}=e,o=r.before(s+1),a=i.after(s+1),l=o,c=a,u=ne.empty,d=0;for(let m=s,g=!1;m>n;m--)g||r.index(m)>0?(g=!0,u=ne.from(r.node(m).copy(u)),d++):l--;let f=ne.empty,p=0;for(let m=s,g=!1;m>n;m--)g||i.after(m+1)<i.end(m)?(g=!0,f=ne.from(i.node(m).copy(f)),p++):c++;t.step(new Wn(l,c,o,a,new ye(u.append(f),d,p),u.size-d,!0))}function dj(t,e,n=null,r=t){let i=r1e(t,e),s=i&&i1e(r,e);return s?i.map(sF).concat({type:e,attrs:n}).concat(s.map(sF)):null}function sF(t){return{type:t,attrs:null}}function r1e(t,e){let{parent:n,startIndex:r,endIndex:i}=t,s=n.contentMatchAt(r).findWrapping(e);if(!s)return null;let o=s.length?s[0]:e;return n.canReplaceWith(r,i,o)?s:null}function i1e(t,e){let{parent:n,startIndex:r,endIndex:i}=t,s=n.child(r),o=e.contentMatch.findWrapping(s.type);if(!o)return null;let l=(o.length?o[o.length-1]:e).contentMatch;for(let c=r;l&&c<i;c++)l=l.matchType(n.child(c).type);return!l||!l.validEnd?null:o}function s1e(t,e,n){let r=ne.empty;for(let o=n.length-1;o>=0;o--){if(r.size){let a=n[o].type.contentMatch.matchFragment(r);if(!a||!a.validEnd)throw new RangeError("Wrapper type given to Transform.wrap does not form valid content of its parent wrapper")}r=ne.from(n[o].type.create(n[o].attrs,r))}let i=e.start,s=e.end;t.step(new Wn(i,s,i,s,new ye(r,0,0),n.length,!0))}function o1e(t,e,n,r,i){if(!r.isTextblock)throw new RangeError("Type given to setBlockType should be a textblock");let s=t.steps.length;t.doc.nodesBetween(e,n,(o,a)=>{let l=typeof i=="function"?i(o):i;if(o.isTextblock&&!o.hasMarkup(r,l)&&a1e(t.doc,t.mapping.slice(s).map(a),r)){let c=null;if(r.schema.linebreakReplacement){let p=r.whitespace=="pre",m=!!r.contentMatch.matchType(r.schema.linebreakReplacement);p&&!m?c=!1:!p&&m&&(c=!0)}c===!1&&jG(t,o,a,s),uj(t,t.mapping.slice(s).map(a,1),r,void 0,c===null);let u=t.mapping.slice(s),d=u.map(a,1),f=u.map(a+o.nodeSize,1);return t.step(new Wn(d,f,d+1,f-1,new ye(ne.from(r.create(l,null,o.marks)),0,0),1,!0)),c===!0&&NG(t,o,a,s),!1}})}function NG(t,e,n,r){e.forEach((i,s)=>{if(i.isText){let o,a=/\r?\n|\r/g;for(;o=a.exec(i.text);){let l=t.mapping.slice(r).map(n+1+s+o.index);t.replaceWith(l,l+1,e.type.schema.linebreakReplacement.create())}}})}function jG(t,e,n,r){e.forEach((i,s)=>{if(i.type==i.type.schema.linebreakReplacement){let o=t.mapping.slice(r).map(n+1+s);t.replaceWith(o,o+1,e.type.schema.text(`
`))}})}function a1e(t,e,n){let r=t.resolve(e),i=r.index();return r.parent.canReplaceWith(i,i+1,n)}function l1e(t,e,n,r,i){let s=t.doc.nodeAt(e);if(!s)throw new RangeError("No node at given position");n||(n=s.type);let o=n.create(r,null,i||s.marks);if(s.isLeaf)return t.replaceWith(e,e+s.nodeSize,o);if(!n.validContent(s.content))throw new RangeError("Invalid content for node type "+n.name);t.step(new Wn(e,e+s.nodeSize,e+1,e+s.nodeSize-1,new ye(ne.from(o),0,0),1,!0))}function Cf(t,e,n=1,r){let i=t.resolve(e),s=i.depth-n,o=r&&r[r.length-1]||i.parent;if(s<0||i.parent.type.spec.isolating||!i.parent.canReplace(i.index(),i.parent.childCount)||!o.type.validContent(i.parent.content.cutByIndex(i.index(),i.parent.childCount)))return!1;for(let c=i.depth-1,u=n-2;c>s;c--,u--){let d=i.node(c),f=i.index(c);if(d.type.spec.isolating)return!1;let p=d.content.cutByIndex(f,d.childCount),m=r&&r[u+1];m&&(p=p.replaceChild(0,m.type.create(m.attrs)));let g=r&&r[u]||d;if(!d.canReplace(f+1,d.childCount)||!g.type.validContent(p))return!1}let a=i.indexAfter(s),l=r&&r[0];return i.node(s).canReplaceWith(a,a,l?l.type:i.node(s+1).type)}function c1e(t,e,n=1,r){let i=t.doc.resolve(e),s=ne.empty,o=ne.empty;for(let a=i.depth,l=i.depth-n,c=n-1;a>l;a--,c--){s=ne.from(i.node(a).copy(s));let u=r&&r[c];o=ne.from(u?u.type.create(u.attrs,o):i.node(a).copy(o))}t.step(new zn(e,e,new ye(s.append(o),n,n),!0))}function lc(t,e){let n=t.resolve(e),r=n.index();return RG(n.nodeBefore,n.nodeAfter)&&n.parent.canReplace(r,r+1)}function u1e(t,e){e.content.size||t.type.compatibleContent(e.type);let n=t.contentMatchAt(t.childCount),{linebreakReplacement:r}=t.type.schema;for(let i=0;i<e.childCount;i++){let s=e.child(i),o=s.type==r?t.type.schema.nodes.text:s.type;if(n=n.matchType(o),!n||!t.type.allowsMarks(s.marks))return!1}return n.validEnd}function RG(t,e){return!!(t&&e&&!t.isLeaf&&u1e(t,e))}function gS(t,e,n=-1){let r=t.resolve(e);for(let i=r.depth;;i--){let s,o,a=r.index(i);if(i==r.depth?(s=r.nodeBefore,o=r.nodeAfter):n>0?(s=r.node(i+1),a++,o=r.node(i).maybeChild(a)):(s=r.node(i).maybeChild(a-1),o=r.node(i+1)),s&&!s.isTextblock&&RG(s,o)&&r.node(i).canReplace(a,a+1))return e;if(i==0)break;e=n<0?r.before(i):r.after(i)}}function d1e(t,e,n){let r=null,{linebreakReplacement:i}=t.doc.type.schema,s=t.doc.resolve(e-n),o=s.node().type;if(i&&o.inlineContent){let u=o.whitespace=="pre",d=!!o.contentMatch.matchType(i);u&&!d?r=!1:!u&&d&&(r=!0)}let a=t.steps.length;if(r===!1){let u=t.doc.resolve(e+n);jG(t,u.node(),u.before(),a)}o.inlineContent&&uj(t,e+n-1,o,s.node().contentMatchAt(s.index()),r==null);let l=t.mapping.slice(a),c=l.map(e-n);if(t.step(new zn(c,l.map(e+n,-1),ye.empty,!0)),r===!0){let u=t.doc.resolve(c);NG(t,u.node(),u.before(),t.steps.length)}return t}function f1e(t,e,n){let r=t.resolve(e);if(r.parent.canReplaceWith(r.index(),r.index(),n))return e;if(r.parentOffset==0)for(let i=r.depth-1;i>=0;i--){let s=r.index(i);if(r.node(i).canReplaceWith(s,s,n))return r.before(i+1);if(s>0)return null}if(r.parentOffset==r.parent.content.size)for(let i=r.depth-1;i>=0;i--){let s=r.indexAfter(i);if(r.node(i).canReplaceWith(s,s,n))return r.after(i+1);if(s<r.node(i).childCount)return null}return null}function DG(t,e,n){let r=t.resolve(e);if(!n.content.size)return e;let i=n.content;for(let s=0;s<n.openStart;s++)i=i.firstChild.content;for(let s=1;s<=(n.openStart==0&&n.size?2:1);s++)for(let o=r.depth;o>=0;o--){let a=o==r.depth?0:r.pos<=(r.start(o+1)+r.end(o+1))/2?-1:1,l=r.index(o)+(a>0?1:0),c=r.node(o),u=!1;if(s==1)u=c.canReplace(l,l,i);else{let d=c.contentMatchAt(l).findWrapping(i.firstChild.type);u=d&&c.canReplaceWith(l,l,d[0])}if(u)return a==0?r.pos:a<0?r.before(o+1):r.after(o+1)}return null}function yS(t,e,n=e,r=ye.empty){if(e==n&&!r.size)return null;let i=t.resolve(e),s=t.resolve(n);return MG(i,s,r)?new zn(e,n,r):new h1e(i,s,r).fit()}function MG(t,e,n){return!n.openStart&&!n.openEnd&&t.start()==e.start()&&t.parent.canReplace(t.index(),e.index(),n.content)}class h1e{constructor(e,n,r){this.$from=e,this.$to=n,this.unplaced=r,this.frontier=[],this.placed=ne.empty;for(let i=0;i<=e.depth;i++){let s=e.node(i);this.frontier.push({type:s.type,match:s.contentMatchAt(e.indexAfter(i))})}for(let i=e.depth;i>0;i--)this.placed=ne.from(e.node(i).copy(this.placed))}get depth(){return this.frontier.length-1}fit(){for(;this.unplaced.size;){let c=this.findFittable();c?this.placeNodes(c):this.openMore()||this.dropNode()}let e=this.mustMoveInline(),n=this.placed.size-this.depth-this.$from.depth,r=this.$from,i=this.close(e<0?this.$to:r.doc.resolve(e));if(!i)return null;let s=this.placed,o=r.depth,a=i.depth;for(;o&&a&&s.childCount==1;)s=s.firstChild.content,o--,a--;let l=new ye(s,o,a);return e>-1?new Wn(r.pos,e,this.$to.pos,this.$to.end(),l,n):l.size||r.pos!=this.$to.pos?new zn(r.pos,i.pos,l):null}findFittable(){let e=this.unplaced.openStart;for(let n=this.unplaced.content,r=0,i=this.unplaced.openEnd;r<e;r++){let s=n.firstChild;if(n.childCount>1&&(i=0),s.type.spec.isolating&&i<=r){e=r;break}n=s.content}for(let n=1;n<=2;n++)for(let r=n==1?e:this.unplaced.openStart;r>=0;r--){let i,s=null;r?(s=GT(this.unplaced.content,r-1).firstChild,i=s.content):i=this.unplaced.content;let o=i.firstChild;for(let a=this.depth;a>=0;a--){let{type:l,match:c}=this.frontier[a],u,d=null;if(n==1&&(o?c.matchType(o.type)||(d=c.fillBefore(ne.from(o),!1)):s&&l.compatibleContent(s.type)))return{sliceDepth:r,frontierDepth:a,parent:s,inject:d};if(n==2&&o&&(u=c.findWrapping(o.type)))return{sliceDepth:r,frontierDepth:a,parent:s,wrap:u};if(s&&c.matchType(s.type))break}}}openMore(){let{content:e,openStart:n,openEnd:r}=this.unplaced,i=GT(e,n);return!i.childCount||i.firstChild.isLeaf?!1:(this.unplaced=new ye(e,n+1,Math.max(r,i.size+n>=e.size-r?n+1:0)),!0)}dropNode(){let{content:e,openStart:n,openEnd:r}=this.unplaced,i=GT(e,n);if(i.childCount<=1&&n>0){let s=e.size-n<=n+i.size;this.unplaced=new ye(Lm(e,n-1,1),n-1,s?n-1:r)}else this.unplaced=new ye(Lm(e,n,1),n,r)}placeNodes({sliceDepth:e,frontierDepth:n,parent:r,inject:i,wrap:s}){for(;this.depth>n;)this.closeFrontierNode();if(s)for(let g=0;g<s.length;g++)this.openFrontierNode(s[g]);let o=this.unplaced,a=r?r.content:o.content,l=o.openStart-e,c=0,u=[],{match:d,type:f}=this.frontier[n];if(i){for(let g=0;g<i.childCount;g++)u.push(i.child(g));d=d.matchFragment(i)}let p=a.size+e-(o.content.size-o.openEnd);for(;c<a.childCount;){let g=a.child(c),v=d.matchType(g.type);if(!v)break;c++,(c>1||l==0||g.content.size)&&(d=v,u.push(LG(g.mark(f.allowedMarks(g.marks)),c==1?l:0,c==a.childCount?p:-1)))}let m=c==a.childCount;m||(p=-1),this.placed=$m(this.placed,n,ne.from(u)),this.frontier[n].match=d,m&&p<0&&r&&r.type==this.frontier[this.depth].type&&this.frontier.length>1&&this.closeFrontierNode();for(let g=0,v=a;g<p;g++){let x=v.lastChild;this.frontier.push({type:x.type,match:x.contentMatchAt(x.childCount)}),v=x.content}this.unplaced=m?e==0?ye.empty:new ye(Lm(o.content,e-1,1),e-1,p<0?o.openEnd:e-1):new ye(Lm(o.content,e,c),o.openStart,o.openEnd)}mustMoveInline(){if(!this.$to.parent.isTextblock)return-1;let e=this.frontier[this.depth],n;if(!e.type.isTextblock||!QT(this.$to,this.$to.depth,e.type,e.match,!1)||this.$to.depth==this.depth&&(n=this.findCloseLevel(this.$to))&&n.depth==this.depth)return-1;let{depth:r}=this.$to,i=this.$to.after(r);for(;r>1&&i==this.$to.end(--r);)++i;return i}findCloseLevel(e){e:for(let n=Math.min(this.depth,e.depth);n>=0;n--){let{match:r,type:i}=this.frontier[n],s=n<e.depth&&e.end(n+1)==e.pos+(e.depth-(n+1)),o=QT(e,n,i,r,s);if(o){for(let a=n-1;a>=0;a--){let{match:l,type:c}=this.frontier[a],u=QT(e,a,c,l,!0);if(!u||u.childCount)continue e}return{depth:n,fit:o,move:s?e.doc.resolve(e.after(n+1)):e}}}}close(e){let n=this.findCloseLevel(e);if(!n)return null;for(;this.depth>n.depth;)this.closeFrontierNode();n.fit.childCount&&(this.placed=$m(this.placed,n.depth,n.fit)),e=n.move;for(let r=n.depth+1;r<=e.depth;r++){let i=e.node(r),s=i.type.contentMatch.fillBefore(i.content,!0,e.index(r));this.openFrontierNode(i.type,i.attrs,s)}return e}openFrontierNode(e,n=null,r){let i=this.frontier[this.depth];i.match=i.match.matchType(e),this.placed=$m(this.placed,this.depth,ne.from(e.create(n,r))),this.frontier.push({type:e,match:e.contentMatch})}closeFrontierNode(){let n=this.frontier.pop().match.fillBefore(ne.empty,!0);n.childCount&&(this.placed=$m(this.placed,this.frontier.length,n))}}function Lm(t,e,n){return e==0?t.cutByIndex(n,t.childCount):t.replaceChild(0,t.firstChild.copy(Lm(t.firstChild.content,e-1,n)))}function $m(t,e,n){return e==0?t.append(n):t.replaceChild(t.childCount-1,t.lastChild.copy($m(t.lastChild.content,e-1,n)))}function GT(t,e){for(let n=0;n<e;n++)t=t.firstChild.content;return t}function LG(t,e,n){if(e<=0)return t;let r=t.content;return e>1&&(r=r.replaceChild(0,LG(r.firstChild,e-1,r.childCount==1?n-1:0))),e>0&&(r=t.type.contentMatch.fillBefore(r).append(r),n<=0&&(r=r.append(t.type.contentMatch.matchFragment(r).fillBefore(ne.empty,!0)))),t.copy(r)}function QT(t,e,n,r,i){let s=t.node(e),o=i?t.indexAfter(e):t.index(e);if(o==s.childCount&&!n.compatibleContent(s.type))return null;let a=r.fillBefore(s.content,!0,o);return a&&!p1e(n,s.content,o)?a:null}function p1e(t,e,n){for(let r=n;r<e.childCount;r++)if(!t.allowsMarks(e.child(r).marks))return!0;return!1}function m1e(t){return t.spec.defining||t.spec.definingForContent}function g1e(t,e,n,r){if(!r.size)return t.deleteRange(e,n);let i=t.doc.resolve(e),s=t.doc.resolve(n);if(MG(i,s,r))return t.step(new zn(e,n,r));let o=VG(i,t.doc.resolve(n));o[o.length-1]==0&&o.pop();let a=-(i.depth+1);o.unshift(a);for(let f=i.depth,p=i.pos-1;f>0;f--,p--){let m=i.node(f).type.spec;if(m.defining||m.definingAsContext||m.isolating)break;o.indexOf(f)>-1?a=f:i.before(f)==p&&o.splice(1,0,-f)}let l=o.indexOf(a),c=[],u=r.openStart;for(let f=r.content,p=0;;p++){let m=f.firstChild;if(c.push(m),p==r.openStart)break;f=m.content}for(let f=u-1;f>=0;f--){let p=c[f],m=m1e(p.type);if(m&&!p.sameMarkup(i.node(Math.abs(a)-1)))u=f;else if(m||!p.type.isTextblock)break}for(let f=r.openStart;f>=0;f--){let p=(f+u+1)%(r.openStart+1),m=c[p];if(m)for(let g=0;g<o.length;g++){let v=o[(g+l)%o.length],x=!0;v<0&&(x=!1,v=-v);let b=i.node(v-1),w=i.index(v-1);if(b.canReplaceWith(w,w,m.type,m.marks))return t.replace(i.before(v),x?s.after(v):n,new ye($G(r.content,0,r.openStart,p),p,r.openEnd))}}let d=t.steps.length;for(let f=o.length-1;f>=0&&(t.replace(e,n,r),!(t.steps.length>d));f--){let p=o[f];p<0||(e=i.before(p),n=s.after(p))}}function $G(t,e,n,r,i){if(e<n){let s=t.firstChild;t=t.replaceChild(0,s.copy($G(s.content,e+1,n,r,s)))}if(e>r){let s=i.contentMatchAt(0),o=s.fillBefore(t).append(t);t=o.append(s.matchFragment(o).fillBefore(ne.empty,!0))}return t}function y1e(t,e,n,r){if(!r.isInline&&e==n&&t.doc.resolve(e).parent.content.size){let i=f1e(t.doc,e,r.type);i!=null&&(e=n=i)}t.replaceRange(e,n,new ye(ne.from(r),0,0))}function v1e(t,e,n){let r=t.doc.resolve(e),i=t.doc.resolve(n),s=VG(r,i);for(let o=0;o<s.length;o++){let a=s[o],l=o==s.length-1;if(l&&a==0||r.node(a).type.contentMatch.validEnd)return t.delete(r.start(a),i.end(a));if(a>0&&(l||r.node(a-1).canReplace(r.index(a-1),i.indexAfter(a-1))))return t.delete(r.before(a),i.after(a))}for(let o=1;o<=r.depth&&o<=i.depth;o++)if(e-r.start(o)==r.depth-o&&n>r.end(o)&&i.end(o)-n!=i.depth-o&&r.start(o-1)==i.start(o-1)&&r.node(o-1).canReplace(r.index(o-1),i.index(o-1)))return t.delete(r.before(o),n);t.delete(e,n)}function VG(t,e){let n=[],r=Math.min(t.depth,e.depth);for(let i=r;i>=0;i--){let s=t.start(i);if(s<t.pos-(t.depth-i)||e.end(i)>e.pos+(e.depth-i)||t.node(i).type.spec.isolating||e.node(i).type.spec.isolating)break;(s==e.start(i)||i==t.depth&&i==e.depth&&t.parent.inlineContent&&e.parent.inlineContent&&i&&e.start(i-1)==s-1)&&n.push(i)}return n}class If extends Cr{constructor(e,n,r){super(),this.pos=e,this.attr=n,this.value=r}apply(e){let n=e.nodeAt(this.pos);if(!n)return Tn.fail("No node at attribute step's position");let r=Object.create(null);for(let s in n.attrs)r[s]=n.attrs[s];r[this.attr]=this.value;let i=n.type.create(r,null,n.marks);return Tn.fromReplace(e,this.pos,this.pos+1,new ye(ne.from(i),0,n.isLeaf?0:1))}getMap(){return _i.empty}invert(e){return new If(this.pos,this.attr,e.nodeAt(this.pos).attrs[this.attr])}map(e){let n=e.mapResult(this.pos,1);return n.deletedAfter?null:new If(n.pos,this.attr,this.value)}toJSON(){return{stepType:"attr",pos:this.pos,attr:this.attr,value:this.value}}static fromJSON(e,n){if(typeof n.pos!="number"||typeof n.attr!="string")throw new RangeError("Invalid input for AttrStep.fromJSON");return new If(n.pos,n.attr,n.value)}}Cr.jsonID("attr",If);class dy extends Cr{constructor(e,n){super(),this.attr=e,this.value=n}apply(e){let n=Object.create(null);for(let i in e.attrs)n[i]=e.attrs[i];n[this.attr]=this.value;let r=e.type.create(n,e.content,e.marks);return Tn.ok(r)}getMap(){return _i.empty}invert(e){return new dy(this.attr,e.attrs[this.attr])}map(e){return this}toJSON(){return{stepType:"docAttr",attr:this.attr,value:this.value}}static fromJSON(e,n){if(typeof n.attr!="string")throw new RangeError("Invalid input for DocAttrStep.fromJSON");return new dy(n.attr,n.value)}}Cr.jsonID("docAttr",dy);let wh=class extends Error{};wh=function t(e){let n=Error.call(this,e);return n.__proto__=t.prototype,n};wh.prototype=Object.create(Error.prototype);wh.prototype.constructor=wh;wh.prototype.name="TransformError";class FG{constructor(e){this.doc=e,this.steps=[],this.docs=[],this.mapping=new Pf}get before(){return this.docs.length?this.docs[0]:this.doc}step(e){let n=this.maybeStep(e);if(n.failed)throw new wh(n.failed);return this}maybeStep(e){let n=e.apply(this.doc);return n.failed||this.addStep(e,n.doc),n}get docChanged(){return this.steps.length>0}addStep(e,n){this.docs.push(this.doc),this.steps.push(e),this.mapping.appendMap(e.getMap()),this.doc=n}replace(e,n=e,r=ye.empty){let i=yS(this.doc,e,n,r);return i&&this.step(i),this}replaceWith(e,n,r){return this.replace(e,n,new ye(ne.from(r),0,0))}delete(e,n){return this.replace(e,n,ye.empty)}insert(e,n){return this.replaceWith(e,e,n)}replaceRange(e,n,r){return g1e(this,e,n,r),this}replaceRangeWith(e,n,r){return y1e(this,e,n,r),this}deleteRange(e,n){return v1e(this,e,n),this}lift(e,n){return n1e(this,e,n),this}join(e,n=1){return d1e(this,e,n),this}wrap(e,n){return s1e(this,e,n),this}setBlockType(e,n=e,r,i=null){return o1e(this,e,n,r,i),this}setNodeMarkup(e,n,r=null,i){return l1e(this,e,n,r,i),this}setNodeAttribute(e,n,r){return this.step(new If(e,n,r)),this}setDocAttribute(e,n){return this.step(new dy(e,n)),this}addNodeMark(e,n){return this.step(new bl(e,n)),this}removeNodeMark(e,n){if(!(n instanceof Rt)){let r=this.doc.nodeAt(e);if(!r)throw new RangeError("No node at position "+e);if(n=n.isInSet(r.marks),!n)return this}return this.step(new bh(e,n)),this}split(e,n=1,r){return c1e(this,e,n,r),this}addMark(e,n,r){return Zwe(this,e,n,r),this}removeMark(e,n,r){return e1e(this,e,n,r),this}clearIncompatible(e,n,r){return uj(this,e,n,r),this}}const YT=Object.create(null);class Ke{constructor(e,n,r){this.$anchor=e,this.$head=n,this.ranges=r||[new x1e(e.min(n),e.max(n))]}get anchor(){return this.$anchor.pos}get head(){return this.$head.pos}get from(){return this.$from.pos}get to(){return this.$to.pos}get $from(){return this.ranges[0].$from}get $to(){return this.ranges[0].$to}get empty(){let e=this.ranges;for(let n=0;n<e.length;n++)if(e[n].$from.pos!=e[n].$to.pos)return!1;return!0}content(){return this.$from.doc.slice(this.from,this.to,!0)}replace(e,n=ye.empty){let r=n.content.lastChild,i=null;for(let a=0;a<n.openEnd;a++)i=r,r=r.lastChild;let s=e.steps.length,o=this.ranges;for(let a=0;a<o.length;a++){let{$from:l,$to:c}=o[a],u=e.mapping.slice(s);e.replaceRange(u.map(l.pos),u.map(c.pos),a?ye.empty:n),a==0&&lF(e,s,(r?r.isInline:i&&i.isTextblock)?-1:1)}}replaceWith(e,n){let r=e.steps.length,i=this.ranges;for(let s=0;s<i.length;s++){let{$from:o,$to:a}=i[s],l=e.mapping.slice(r),c=l.map(o.pos),u=l.map(a.pos);s?e.deleteRange(c,u):(e.replaceRangeWith(c,u,n),lF(e,r,n.isInline?-1:1))}}static findFrom(e,n,r=!1){let i=e.parent.inlineContent?new Ue(e):Fd(e.node(0),e.parent,e.pos,e.index(),n,r);if(i)return i;for(let s=e.depth-1;s>=0;s--){let o=n<0?Fd(e.node(0),e.node(s),e.before(s+1),e.index(s),n,r):Fd(e.node(0),e.node(s),e.after(s+1),e.index(s)+1,n,r);if(o)return o}return null}static near(e,n=1){return this.findFrom(e,n)||this.findFrom(e,-n)||new As(e.node(0))}static atStart(e){return Fd(e,e,0,0,1)||new As(e)}static atEnd(e){return Fd(e,e,e.content.size,e.childCount,-1)||new As(e)}static fromJSON(e,n){if(!n||!n.type)throw new RangeError("Invalid input for Selection.fromJSON");let r=YT[n.type];if(!r)throw new RangeError(`No selection type ${n.type} defined`);return r.fromJSON(e,n)}static jsonID(e,n){if(e in YT)throw new RangeError("Duplicate use of selection JSON ID "+e);return YT[e]=n,n.prototype.jsonID=e,n}getBookmark(){return Ue.between(this.$anchor,this.$head).getBookmark()}}Ke.prototype.visible=!0;class x1e{constructor(e,n){this.$from=e,this.$to=n}}let oF=!1;function aF(t){!oF&&!t.parent.inlineContent&&(oF=!0,console.warn("TextSelection endpoint not pointing into a node with inline content ("+t.parent.type.name+")"))}class Ue extends Ke{constructor(e,n=e){aF(e),aF(n),super(e,n)}get $cursor(){return this.$anchor.pos==this.$head.pos?this.$head:null}map(e,n){let r=e.resolve(n.map(this.head));if(!r.parent.inlineContent)return Ke.near(r);let i=e.resolve(n.map(this.anchor));return new Ue(i.parent.inlineContent?i:r,r)}replace(e,n=ye.empty){if(super.replace(e,n),n==ye.empty){let r=this.$from.marksAcross(this.$to);r&&e.ensureMarks(r)}}eq(e){return e instanceof Ue&&e.anchor==this.anchor&&e.head==this.head}getBookmark(){return new vS(this.anchor,this.head)}toJSON(){return{type:"text",anchor:this.anchor,head:this.head}}static fromJSON(e,n){if(typeof n.anchor!="number"||typeof n.head!="number")throw new RangeError("Invalid input for TextSelection.fromJSON");return new Ue(e.resolve(n.anchor),e.resolve(n.head))}static create(e,n,r=n){let i=e.resolve(n);return new this(i,r==n?i:e.resolve(r))}static between(e,n,r){let i=e.pos-n.pos;if((!r||i)&&(r=i>=0?1:-1),!n.parent.inlineContent){let s=Ke.findFrom(n,r,!0)||Ke.findFrom(n,-r,!0);if(s)n=s.$head;else return Ke.near(n,r)}return e.parent.inlineContent||(i==0?e=n:(e=(Ke.findFrom(e,-r,!0)||Ke.findFrom(e,r,!0)).$anchor,e.pos<n.pos!=i<0&&(e=n))),new Ue(e,n)}}Ke.jsonID("text",Ue);class vS{constructor(e,n){this.anchor=e,this.head=n}map(e){return new vS(e.map(this.anchor),e.map(this.head))}resolve(e){return Ue.between(e.resolve(this.anchor),e.resolve(this.head))}}class Oe extends Ke{constructor(e){let n=e.nodeAfter,r=e.node(0).resolve(e.pos+n.nodeSize);super(e,r),this.node=n}map(e,n){let{deleted:r,pos:i}=n.mapResult(this.anchor),s=e.resolve(i);return r?Ke.near(s):new Oe(s)}content(){return new ye(ne.from(this.node),0,0)}eq(e){return e instanceof Oe&&e.anchor==this.anchor}toJSON(){return{type:"node",anchor:this.anchor}}getBookmark(){return new fj(this.anchor)}static fromJSON(e,n){if(typeof n.anchor!="number")throw new RangeError("Invalid input for NodeSelection.fromJSON");return new Oe(e.resolve(n.anchor))}static create(e,n){return new Oe(e.resolve(n))}static isSelectable(e){return!e.isText&&e.type.spec.selectable!==!1}}Oe.prototype.visible=!1;Ke.jsonID("node",Oe);class fj{constructor(e){this.anchor=e}map(e){let{deleted:n,pos:r}=e.mapResult(this.anchor);return n?new vS(r,r):new fj(r)}resolve(e){let n=e.resolve(this.anchor),r=n.nodeAfter;return r&&Oe.isSelectable(r)?new Oe(n):Ke.near(n)}}class As extends Ke{constructor(e){super(e.resolve(0),e.resolve(e.content.size))}replace(e,n=ye.empty){if(n==ye.empty){e.delete(0,e.doc.content.size);let r=Ke.atStart(e.doc);r.eq(e.selection)||e.setSelection(r)}else super.replace(e,n)}toJSON(){return{type:"all"}}static fromJSON(e){return new As(e)}map(e){return new As(e)}eq(e){return e instanceof As}getBookmark(){return b1e}}Ke.jsonID("all",As);const b1e={map(){return this},resolve(t){return new As(t)}};function Fd(t,e,n,r,i,s=!1){if(e.inlineContent)return Ue.create(t,n);for(let o=r-(i>0?0:1);i>0?o<e.childCount:o>=0;o+=i){let a=e.child(o);if(a.isAtom){if(!s&&Oe.isSelectable(a))return Oe.create(t,n-(i<0?a.nodeSize:0))}else{let l=Fd(t,a,n+i,i<0?a.childCount:0,i,s);if(l)return l}n+=a.nodeSize*i}return null}function lF(t,e,n){let r=t.steps.length-1;if(r<e)return;let i=t.steps[r];if(!(i instanceof zn||i instanceof Wn))return;let s=t.mapping.maps[r],o;s.forEach((a,l,c,u)=>{o==null&&(o=u)}),t.setSelection(Ke.near(t.doc.resolve(o),n))}const cF=1,K0=2,uF=4;class w1e extends FG{constructor(e){super(e.doc),this.curSelectionFor=0,this.updated=0,this.meta=Object.create(null),this.time=Date.now(),this.curSelection=e.selection,this.storedMarks=e.storedMarks}get selection(){return this.curSelectionFor<this.steps.length&&(this.curSelection=this.curSelection.map(this.doc,this.mapping.slice(this.curSelectionFor)),this.curSelectionFor=this.steps.length),this.curSelection}setSelection(e){if(e.$from.doc!=this.doc)throw new RangeError("Selection passed to setSelection must point at the current document");return this.curSelection=e,this.curSelectionFor=this.steps.length,this.updated=(this.updated|cF)&~K0,this.storedMarks=null,this}get selectionSet(){return(this.updated&cF)>0}setStoredMarks(e){return this.storedMarks=e,this.updated|=K0,this}ensureMarks(e){return Rt.sameSet(this.storedMarks||this.selection.$from.marks(),e)||this.setStoredMarks(e),this}addStoredMark(e){return this.ensureMarks(e.addToSet(this.storedMarks||this.selection.$head.marks()))}removeStoredMark(e){return this.ensureMarks(e.removeFromSet(this.storedMarks||this.selection.$head.marks()))}get storedMarksSet(){return(this.updated&K0)>0}addStep(e,n){super.addStep(e,n),this.updated=this.updated&~K0,this.storedMarks=null}setTime(e){return this.time=e,this}replaceSelection(e){return this.selection.replace(this,e),this}replaceSelectionWith(e,n=!0){let r=this.selection;return n&&(e=e.mark(this.storedMarks||(r.empty?r.$from.marks():r.$from.marksAcross(r.$to)||Rt.none))),r.replaceWith(this,e),this}deleteSelection(){return this.selection.replace(this),this}insertText(e,n,r){let i=this.doc.type.schema;if(n==null)return e?this.replaceSelectionWith(i.text(e),!0):this.deleteSelection();{if(r==null&&(r=n),r=r??n,!e)return this.deleteRange(n,r);let s=this.storedMarks;if(!s){let o=this.doc.resolve(n);s=r==n?o.marks():o.marksAcross(this.doc.resolve(r))}return this.replaceRangeWith(n,r,i.text(e,s)),this.selection.empty||this.setSelection(Ke.near(this.selection.$to)),this}}setMeta(e,n){return this.meta[typeof e=="string"?e:e.key]=n,this}getMeta(e){return this.meta[typeof e=="string"?e:e.key]}get isGeneric(){for(let e in this.meta)return!1;return!0}scrollIntoView(){return this.updated|=uF,this}get scrolledIntoView(){return(this.updated&uF)>0}}function dF(t,e){return!e||!t?t:t.bind(e)}class Vm{constructor(e,n,r){this.name=e,this.init=dF(n.init,r),this.apply=dF(n.apply,r)}}const _1e=[new Vm("doc",{init(t){return t.doc||t.schema.topNodeType.createAndFill()},apply(t){return t.doc}}),new Vm("selection",{init(t,e){return t.selection||Ke.atStart(e.doc)},apply(t){return t.selection}}),new Vm("storedMarks",{init(t){return t.storedMarks||null},apply(t,e,n,r){return r.selection.$cursor?t.storedMarks:null}}),new Vm("scrollToSelection",{init(){return 0},apply(t,e){return t.scrolledIntoView?e+1:e}})];class XT{constructor(e,n){this.schema=e,this.plugins=[],this.pluginsByKey=Object.create(null),this.fields=_1e.slice(),n&&n.forEach(r=>{if(this.pluginsByKey[r.key])throw new RangeError("Adding different instances of a keyed plugin ("+r.key+")");this.plugins.push(r),this.pluginsByKey[r.key]=r,r.spec.state&&this.fields.push(new Vm(r.key,r.spec.state,r))})}}class lf{constructor(e){this.config=e}get schema(){return this.config.schema}get plugins(){return this.config.plugins}apply(e){return this.applyTransaction(e).state}filterTransaction(e,n=-1){for(let r=0;r<this.config.plugins.length;r++)if(r!=n){let i=this.config.plugins[r];if(i.spec.filterTransaction&&!i.spec.filterTransaction.call(i,e,this))return!1}return!0}applyTransaction(e){if(!this.filterTransaction(e))return{state:this,transactions:[]};let n=[e],r=this.applyInner(e),i=null;for(;;){let s=!1;for(let o=0;o<this.config.plugins.length;o++){let a=this.config.plugins[o];if(a.spec.appendTransaction){let l=i?i[o].n:0,c=i?i[o].state:this,u=l<n.length&&a.spec.appendTransaction.call(a,l?n.slice(l):n,c,r);if(u&&r.filterTransaction(u,o)){if(u.setMeta("appendedTransaction",e),!i){i=[];for(let d=0;d<this.config.plugins.length;d++)i.push(d<o?{state:r,n:n.length}:{state:this,n:0})}n.push(u),r=r.applyInner(u),s=!0}i&&(i[o]={state:r,n:n.length})}}if(!s)return{state:r,transactions:n}}}applyInner(e){if(!e.before.eq(this.doc))throw new RangeError("Applying a mismatched transaction");let n=new lf(this.config),r=this.config.fields;for(let i=0;i<r.length;i++){let s=r[i];n[s.name]=s.apply(e,this[s.name],this,n)}return n}get tr(){return new w1e(this)}static create(e){let n=new XT(e.doc?e.doc.type.schema:e.schema,e.plugins),r=new lf(n);for(let i=0;i<n.fields.length;i++)r[n.fields[i].name]=n.fields[i].init(e,r);return r}reconfigure(e){let n=new XT(this.schema,e.plugins),r=n.fields,i=new lf(n);for(let s=0;s<r.length;s++){let o=r[s].name;i[o]=this.hasOwnProperty(o)?this[o]:r[s].init(e,i)}return i}toJSON(e){let n={doc:this.doc.toJSON(),selection:this.selection.toJSON()};if(this.storedMarks&&(n.storedMarks=this.storedMarks.map(r=>r.toJSON())),e&&typeof e=="object")for(let r in e){if(r=="doc"||r=="selection")throw new RangeError("The JSON fields `doc` and `selection` are reserved");let i=e[r],s=i.spec.state;s&&s.toJSON&&(n[r]=s.toJSON.call(i,this[i.key]))}return n}static fromJSON(e,n,r){if(!n)throw new RangeError("Invalid input for EditorState.fromJSON");if(!e.schema)throw new RangeError("Required config field 'schema' missing");let i=new XT(e.schema,e.plugins),s=new lf(i);return i.fields.forEach(o=>{if(o.name=="doc")s.doc=bu.fromJSON(e.schema,n.doc);else if(o.name=="selection")s.selection=Ke.fromJSON(s.doc,n.selection);else if(o.name=="storedMarks")n.storedMarks&&(s.storedMarks=n.storedMarks.map(e.schema.markFromJSON));else{if(r)for(let a in r){let l=r[a],c=l.spec.state;if(l.key==o.name&&c&&c.fromJSON&&Object.prototype.hasOwnProperty.call(n,a)){s[o.name]=c.fromJSON.call(l,e,n[a],s);return}}s[o.name]=o.init(e,s)}}),s}}function BG(t,e,n){for(let r in t){let i=t[r];i instanceof Function?i=i.bind(e):r=="handleDOMEvents"&&(i=BG(i,e,{})),n[r]=i}return n}class Qn{constructor(e){this.spec=e,this.props={},e.props&&BG(e.props,this,this.props),this.key=e.key?e.key.key:UG("plugin")}getState(e){return e[this.key]}}const JT=Object.create(null);function UG(t){return t in JT?t+"$"+ ++JT[t]:(JT[t]=0,t+"$")}class hi{constructor(e="key"){this.key=UG(e)}get(e){return e.config.pluginsByKey[this.key]}getState(e){return e[this.key]}}const rr=function(t){for(var e=0;;e++)if(t=t.previousSibling,!t)return e},fy=function(t){let e=t.assignedSlot||t.parentNode;return e&&e.nodeType==11?e.host:e};let gC=null;const jo=function(t,e,n){let r=gC||(gC=document.createRange());return r.setEnd(t,n??t.nodeValue.length),r.setStart(t,e||0),r},S1e=function(){gC=null},Hu=function(t,e,n,r){return n&&(fF(t,e,n,r,-1)||fF(t,e,n,r,1))},E1e=/^(img|br|input|textarea|hr)$/i;function fF(t,e,n,r,i){for(;;){if(t==n&&e==r)return!0;if(e==(i<0?0:Yi(t))){let s=t.parentNode;if(!s||s.nodeType!=1||Dv(t)||E1e.test(t.nodeName)||t.contentEditable=="false")return!1;e=rr(t)+(i<0?0:1),t=s}else if(t.nodeType==1){if(t=t.childNodes[e+(i<0?-1:0)],t.contentEditable=="false")return!1;e=i<0?Yi(t):0}else return!1}}function Yi(t){return t.nodeType==3?t.nodeValue.length:t.childNodes.length}function T1e(t,e){for(;;){if(t.nodeType==3&&e)return t;if(t.nodeType==1&&e>0){if(t.contentEditable=="false")return null;t=t.childNodes[e-1],e=Yi(t)}else if(t.parentNode&&!Dv(t))e=rr(t),t=t.parentNode;else return null}}function A1e(t,e){for(;;){if(t.nodeType==3&&e<t.nodeValue.length)return t;if(t.nodeType==1&&e<t.childNodes.length){if(t.contentEditable=="false")return null;t=t.childNodes[e],e=0}else if(t.parentNode&&!Dv(t))e=rr(t)+1,t=t.parentNode;else return null}}function k1e(t,e,n){for(let r=e==0,i=e==Yi(t);r||i;){if(t==n)return!0;let s=rr(t);if(t=t.parentNode,!t)return!1;r=r&&s==0,i=i&&s==Yi(t)}}function Dv(t){let e;for(let n=t;n&&!(e=n.pmViewDesc);n=n.parentNode);return e&&e.node&&e.node.isBlock&&(e.dom==t||e.contentDOM==t)}const xS=function(t){return t.focusNode&&Hu(t.focusNode,t.focusOffset,t.anchorNode,t.anchorOffset)};function zc(t,e){let n=document.createEvent("Event");return n.initEvent("keydown",!0,!0),n.keyCode=t,n.key=n.code=e,n}function P1e(t){let e=t.activeElement;for(;e&&e.shadowRoot;)e=e.shadowRoot.activeElement;return e}function C1e(t,e,n){if(t.caretPositionFromPoint)try{let r=t.caretPositionFromPoint(e,n);if(r)return{node:r.offsetNode,offset:Math.min(Yi(r.offsetNode),r.offset)}}catch{}if(t.caretRangeFromPoint){let r=t.caretRangeFromPoint(e,n);if(r)return{node:r.startContainer,offset:Math.min(Yi(r.startContainer),r.startOffset)}}}const ho=typeof navigator<"u"?navigator:null,hF=typeof document<"u"?document:null,cc=ho&&ho.userAgent||"",yC=/Edge\/(\d+)/.exec(cc),zG=/MSIE \d/.exec(cc),vC=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(cc),di=!!(zG||vC||yC),Ll=zG?document.documentMode:vC?+vC[1]:yC?+yC[1]:0,Is=!di&&/gecko\/(\d+)/i.test(cc);Is&&+(/Firefox\/(\d+)/.exec(cc)||[0,0])[1];const xC=!di&&/Chrome\/(\d+)/.exec(cc),Er=!!xC,qG=xC?+xC[1]:0,Wr=!di&&!!ho&&/Apple Computer/.test(ho.vendor),_h=Wr&&(/Mobile\/\w+/.test(cc)||!!ho&&ho.maxTouchPoints>2),Ki=_h||(ho?/Mac/.test(ho.platform):!1),I1e=ho?/Win/.test(ho.platform):!1,ws=/Android \d/.test(cc),Mv=!!hF&&"webkitFontSmoothing"in hF.documentElement.style,O1e=Mv?+(/\bAppleWebKit\/(\d+)/.exec(navigator.userAgent)||[0,0])[1]:0;function N1e(t){let e=t.defaultView&&t.defaultView.visualViewport;return e?{left:0,right:e.width,top:0,bottom:e.height}:{left:0,right:t.documentElement.clientWidth,top:0,bottom:t.documentElement.clientHeight}}function Po(t,e){return typeof t=="number"?t:t[e]}function j1e(t){let e=t.getBoundingClientRect(),n=e.width/t.offsetWidth||1,r=e.height/t.offsetHeight||1;return{left:e.left,right:e.left+t.clientWidth*n,top:e.top,bottom:e.top+t.clientHeight*r}}function pF(t,e,n){let r=t.someProp("scrollThreshold")||0,i=t.someProp("scrollMargin")||5,s=t.dom.ownerDocument;for(let o=n||t.dom;o;o=fy(o)){if(o.nodeType!=1)continue;let a=o,l=a==s.body,c=l?N1e(s):j1e(a),u=0,d=0;if(e.top<c.top+Po(r,"top")?d=-(c.top-e.top+Po(i,"top")):e.bottom>c.bottom-Po(r,"bottom")&&(d=e.bottom-e.top>c.bottom-c.top?e.top+Po(i,"top")-c.top:e.bottom-c.bottom+Po(i,"bottom")),e.left<c.left+Po(r,"left")?u=-(c.left-e.left+Po(i,"left")):e.right>c.right-Po(r,"right")&&(u=e.right-c.right+Po(i,"right")),u||d)if(l)s.defaultView.scrollBy(u,d);else{let f=a.scrollLeft,p=a.scrollTop;d&&(a.scrollTop+=d),u&&(a.scrollLeft+=u);let m=a.scrollLeft-f,g=a.scrollTop-p;e={left:e.left-m,top:e.top-g,right:e.right-m,bottom:e.bottom-g}}if(l||/^(fixed|sticky)$/.test(getComputedStyle(o).position))break}}function R1e(t){let e=t.dom.getBoundingClientRect(),n=Math.max(0,e.top),r,i;for(let s=(e.left+e.right)/2,o=n+1;o<Math.min(innerHeight,e.bottom);o+=5){let a=t.root.elementFromPoint(s,o);if(!a||a==t.dom||!t.dom.contains(a))continue;let l=a.getBoundingClientRect();if(l.top>=n-20){r=a,i=l.top;break}}return{refDOM:r,refTop:i,stack:HG(t.dom)}}function HG(t){let e=[],n=t.ownerDocument;for(let r=t;r&&(e.push({dom:r,top:r.scrollTop,left:r.scrollLeft}),t!=n);r=fy(r));return e}function D1e({refDOM:t,refTop:e,stack:n}){let r=t?t.getBoundingClientRect().top:0;WG(n,r==0?0:r-e)}function WG(t,e){for(let n=0;n<t.length;n++){let{dom:r,top:i,left:s}=t[n];r.scrollTop!=i+e&&(r.scrollTop=i+e),r.scrollLeft!=s&&(r.scrollLeft=s)}}let Ad=null;function M1e(t){if(t.setActive)return t.setActive();if(Ad)return t.focus(Ad);let e=HG(t);t.focus(Ad==null?{get preventScroll(){return Ad={preventScroll:!0},!0}}:void 0),Ad||(Ad=!1,WG(e,0))}function KG(t,e){let n,r=2e8,i,s=0,o=e.top,a=e.top,l,c;for(let u=t.firstChild,d=0;u;u=u.nextSibling,d++){let f;if(u.nodeType==1)f=u.getClientRects();else if(u.nodeType==3)f=jo(u).getClientRects();else continue;for(let p=0;p<f.length;p++){let m=f[p];if(m.top<=o&&m.bottom>=a){o=Math.max(m.bottom,o),a=Math.min(m.top,a);let g=m.left>e.left?m.left-e.left:m.right<e.left?e.left-m.right:0;if(g<r){n=u,r=g,i=g&&n.nodeType==3?{left:m.right<e.left?m.right:m.left,top:e.top}:e,u.nodeType==1&&g&&(s=d+(e.left>=(m.left+m.right)/2?1:0));continue}}else m.top>e.top&&!l&&m.left<=e.left&&m.right>=e.left&&(l=u,c={left:Math.max(m.left,Math.min(m.right,e.left)),top:m.top});!n&&(e.left>=m.right&&e.top>=m.top||e.left>=m.left&&e.top>=m.bottom)&&(s=d+1)}}return!n&&l&&(n=l,i=c,r=0),n&&n.nodeType==3?L1e(n,i):!n||r&&n.nodeType==1?{node:t,offset:s}:KG(n,i)}function L1e(t,e){let n=t.nodeValue.length,r=document.createRange();for(let i=0;i<n;i++){r.setEnd(t,i+1),r.setStart(t,i);let s=Fa(r,1);if(s.top!=s.bottom&&hj(e,s))return{node:t,offset:i+(e.left>=(s.left+s.right)/2?1:0)}}return{node:t,offset:0}}function hj(t,e){return t.left>=e.left-1&&t.left<=e.right+1&&t.top>=e.top-1&&t.top<=e.bottom+1}function $1e(t,e){let n=t.parentNode;return n&&/^li$/i.test(n.nodeName)&&e.left<t.getBoundingClientRect().left?n:t}function V1e(t,e,n){let{node:r,offset:i}=KG(e,n),s=-1;if(r.nodeType==1&&!r.firstChild){let o=r.getBoundingClientRect();s=o.left!=o.right&&n.left>(o.left+o.right)/2?1:-1}return t.docView.posFromDOM(r,i,s)}function F1e(t,e,n,r){let i=-1;for(let s=e,o=!1;s!=t.dom;){let a=t.docView.nearestDesc(s,!0);if(!a)return null;if(a.dom.nodeType==1&&(a.node.isBlock&&a.parent||!a.contentDOM)){let l=a.dom.getBoundingClientRect();if(a.node.isBlock&&a.parent&&(!o&&l.left>r.left||l.top>r.top?i=a.posBefore:(!o&&l.right<r.left||l.bottom<r.top)&&(i=a.posAfter),o=!0),!a.contentDOM&&i<0&&!a.node.isText)return(a.node.isBlock?r.top<(l.top+l.bottom)/2:r.left<(l.left+l.right)/2)?a.posBefore:a.posAfter}s=a.dom.parentNode}return i>-1?i:t.docView.posFromDOM(e,n,-1)}function GG(t,e,n){let r=t.childNodes.length;if(r&&n.top<n.bottom)for(let i=Math.max(0,Math.min(r-1,Math.floor(r*(e.top-n.top)/(n.bottom-n.top))-2)),s=i;;){let o=t.childNodes[s];if(o.nodeType==1){let a=o.getClientRects();for(let l=0;l<a.length;l++){let c=a[l];if(hj(e,c))return GG(o,e,c)}}if((s=(s+1)%r)==i)break}return t}function B1e(t,e){let n=t.dom.ownerDocument,r,i=0,s=C1e(n,e.left,e.top);s&&({node:r,offset:i}=s);let o=(t.root.elementFromPoint?t.root:n).elementFromPoint(e.left,e.top),a;if(!o||!t.dom.contains(o.nodeType!=1?o.parentNode:o)){let c=t.dom.getBoundingClientRect();if(!hj(e,c)||(o=GG(t.dom,e,c),!o))return null}if(Wr)for(let c=o;r&&c;c=fy(c))c.draggable&&(r=void 0);if(o=$1e(o,e),r){if(Is&&r.nodeType==1&&(i=Math.min(i,r.childNodes.length),i<r.childNodes.length)){let u=r.childNodes[i],d;u.nodeName=="IMG"&&(d=u.getBoundingClientRect()).right<=e.left&&d.bottom>e.top&&i++}let c;Mv&&i&&r.nodeType==1&&(c=r.childNodes[i-1]).nodeType==1&&c.contentEditable=="false"&&c.getBoundingClientRect().top>=e.top&&i--,r==t.dom&&i==r.childNodes.length-1&&r.lastChild.nodeType==1&&e.top>r.lastChild.getBoundingClientRect().bottom?a=t.state.doc.content.size:(i==0||r.nodeType!=1||r.childNodes[i-1].nodeName!="BR")&&(a=F1e(t,r,i,e))}a==null&&(a=V1e(t,o,e));let l=t.docView.nearestDesc(o,!0);return{pos:a,inside:l?l.posAtStart-l.border:-1}}function mF(t){return t.top<t.bottom||t.left<t.right}function Fa(t,e){let n=t.getClientRects();if(n.length){let r=n[e<0?0:n.length-1];if(mF(r))return r}return Array.prototype.find.call(n,mF)||t.getBoundingClientRect()}const U1e=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac]/;function QG(t,e,n){let{node:r,offset:i,atom:s}=t.docView.domFromPos(e,n<0?-1:1),o=Mv||Is;if(r.nodeType==3)if(o&&(U1e.test(r.nodeValue)||(n<0?!i:i==r.nodeValue.length))){let l=Fa(jo(r,i,i),n);if(Is&&i&&/\s/.test(r.nodeValue[i-1])&&i<r.nodeValue.length){let c=Fa(jo(r,i-1,i-1),-1);if(c.top==l.top){let u=Fa(jo(r,i,i+1),-1);if(u.top!=l.top)return am(u,u.left<c.left)}}return l}else{let l=i,c=i,u=n<0?1:-1;return n<0&&!i?(c++,u=-1):n>=0&&i==r.nodeValue.length?(l--,u=1):n<0?l--:c++,am(Fa(jo(r,l,c),u),u<0)}if(!t.state.doc.resolve(e-(s||0)).parent.inlineContent){if(s==null&&i&&(n<0||i==Yi(r))){let l=r.childNodes[i-1];if(l.nodeType==1)return ZT(l.getBoundingClientRect(),!1)}if(s==null&&i<Yi(r)){let l=r.childNodes[i];if(l.nodeType==1)return ZT(l.getBoundingClientRect(),!0)}return ZT(r.getBoundingClientRect(),n>=0)}if(s==null&&i&&(n<0||i==Yi(r))){let l=r.childNodes[i-1],c=l.nodeType==3?jo(l,Yi(l)-(o?0:1)):l.nodeType==1&&(l.nodeName!="BR"||!l.nextSibling)?l:null;if(c)return am(Fa(c,1),!1)}if(s==null&&i<Yi(r)){let l=r.childNodes[i];for(;l.pmViewDesc&&l.pmViewDesc.ignoreForCoords;)l=l.nextSibling;let c=l?l.nodeType==3?jo(l,0,o?0:1):l.nodeType==1?l:null:null;if(c)return am(Fa(c,-1),!0)}return am(Fa(r.nodeType==3?jo(r):r,-n),n>=0)}function am(t,e){if(t.width==0)return t;let n=e?t.left:t.right;return{top:t.top,bottom:t.bottom,left:n,right:n}}function ZT(t,e){if(t.height==0)return t;let n=e?t.top:t.bottom;return{top:n,bottom:n,left:t.left,right:t.right}}function YG(t,e,n){let r=t.state,i=t.root.activeElement;r!=e&&t.updateState(e),i!=t.dom&&t.focus();try{return n()}finally{r!=e&&t.updateState(r),i!=t.dom&&i&&i.focus()}}function z1e(t,e,n){let r=e.selection,i=n=="up"?r.$from:r.$to;return YG(t,e,()=>{let{node:s}=t.docView.domFromPos(i.pos,n=="up"?-1:1);for(;;){let a=t.docView.nearestDesc(s,!0);if(!a)break;if(a.node.isBlock){s=a.contentDOM||a.dom;break}s=a.dom.parentNode}let o=QG(t,i.pos,1);for(let a=s.firstChild;a;a=a.nextSibling){let l;if(a.nodeType==1)l=a.getClientRects();else if(a.nodeType==3)l=jo(a,0,a.nodeValue.length).getClientRects();else continue;for(let c=0;c<l.length;c++){let u=l[c];if(u.bottom>u.top+1&&(n=="up"?o.top-u.top>(u.bottom-o.top)*2:u.bottom-o.bottom>(o.bottom-u.top)*2))return!1}}return!0})}const q1e=/[\u0590-\u08ac]/;function H1e(t,e,n){let{$head:r}=e.selection;if(!r.parent.isTextblock)return!1;let i=r.parentOffset,s=!i,o=i==r.parent.content.size,a=t.domSelection();return a?!q1e.test(r.parent.textContent)||!a.modify?n=="left"||n=="backward"?s:o:YG(t,e,()=>{let{focusNode:l,focusOffset:c,anchorNode:u,anchorOffset:d}=t.domSelectionRange(),f=a.caretBidiLevel;a.modify("move",n,"character");let p=r.depth?t.docView.domAfterPos(r.before()):t.dom,{focusNode:m,focusOffset:g}=t.domSelectionRange(),v=m&&!p.contains(m.nodeType==1?m:m.parentNode)||l==m&&c==g;try{a.collapse(u,d),l&&(l!=u||c!=d)&&a.extend&&a.extend(l,c)}catch{}return f!=null&&(a.caretBidiLevel=f),v}):r.pos==r.start()||r.pos==r.end()}let gF=null,yF=null,vF=!1;function W1e(t,e,n){return gF==e&&yF==n?vF:(gF=e,yF=n,vF=n=="up"||n=="down"?z1e(t,e,n):H1e(t,e,n))}const rs=0,xF=1,Yc=2,po=3;class Lv{constructor(e,n,r,i){this.parent=e,this.children=n,this.dom=r,this.contentDOM=i,this.dirty=rs,r.pmViewDesc=this}matchesWidget(e){return!1}matchesMark(e){return!1}matchesNode(e,n,r){return!1}matchesHack(e){return!1}parseRule(){return null}stopEvent(e){return!1}get size(){let e=0;for(let n=0;n<this.children.length;n++)e+=this.children[n].size;return e}get border(){return 0}destroy(){this.parent=void 0,this.dom.pmViewDesc==this&&(this.dom.pmViewDesc=void 0);for(let e=0;e<this.children.length;e++)this.children[e].destroy()}posBeforeChild(e){for(let n=0,r=this.posAtStart;;n++){let i=this.children[n];if(i==e)return r;r+=i.size}}get posBefore(){return this.parent.posBeforeChild(this)}get posAtStart(){return this.parent?this.parent.posBeforeChild(this)+this.border:0}get posAfter(){return this.posBefore+this.size}get posAtEnd(){return this.posAtStart+this.size-2*this.border}localPosFromDOM(e,n,r){if(this.contentDOM&&this.contentDOM.contains(e.nodeType==1?e:e.parentNode))if(r<0){let s,o;if(e==this.contentDOM)s=e.childNodes[n-1];else{for(;e.parentNode!=this.contentDOM;)e=e.parentNode;s=e.previousSibling}for(;s&&!((o=s.pmViewDesc)&&o.parent==this);)s=s.previousSibling;return s?this.posBeforeChild(o)+o.size:this.posAtStart}else{let s,o;if(e==this.contentDOM)s=e.childNodes[n];else{for(;e.parentNode!=this.contentDOM;)e=e.parentNode;s=e.nextSibling}for(;s&&!((o=s.pmViewDesc)&&o.parent==this);)s=s.nextSibling;return s?this.posBeforeChild(o):this.posAtEnd}let i;if(e==this.dom&&this.contentDOM)i=n>rr(this.contentDOM);else if(this.contentDOM&&this.contentDOM!=this.dom&&this.dom.contains(this.contentDOM))i=e.compareDocumentPosition(this.contentDOM)&2;else if(this.dom.firstChild){if(n==0)for(let s=e;;s=s.parentNode){if(s==this.dom){i=!1;break}if(s.previousSibling)break}if(i==null&&n==e.childNodes.length)for(let s=e;;s=s.parentNode){if(s==this.dom){i=!0;break}if(s.nextSibling)break}}return i??r>0?this.posAtEnd:this.posAtStart}nearestDesc(e,n=!1){for(let r=!0,i=e;i;i=i.parentNode){let s=this.getDesc(i),o;if(s&&(!n||s.node))if(r&&(o=s.nodeDOM)&&!(o.nodeType==1?o.contains(e.nodeType==1?e:e.parentNode):o==e))r=!1;else return s}}getDesc(e){let n=e.pmViewDesc;for(let r=n;r;r=r.parent)if(r==this)return n}posFromDOM(e,n,r){for(let i=e;i;i=i.parentNode){let s=this.getDesc(i);if(s)return s.localPosFromDOM(e,n,r)}return-1}descAt(e){for(let n=0,r=0;n<this.children.length;n++){let i=this.children[n],s=r+i.size;if(r==e&&s!=r){for(;!i.border&&i.children.length;)i=i.children[0];return i}if(e<s)return i.descAt(e-r-i.border);r=s}}domFromPos(e,n){if(!this.contentDOM)return{node:this.dom,offset:0,atom:e+1};let r=0,i=0;for(let s=0;r<this.children.length;r++){let o=this.children[r],a=s+o.size;if(a>e||o instanceof JG){i=e-s;break}s=a}if(i)return this.children[r].domFromPos(i-this.children[r].border,n);for(let s;r&&!(s=this.children[r-1]).size&&s instanceof XG&&s.side>=0;r--);if(n<=0){let s,o=!0;for(;s=r?this.children[r-1]:null,!(!s||s.dom.parentNode==this.contentDOM);r--,o=!1);return s&&n&&o&&!s.border&&!s.domAtom?s.domFromPos(s.size,n):{node:this.contentDOM,offset:s?rr(s.dom)+1:0}}else{let s,o=!0;for(;s=r<this.children.length?this.children[r]:null,!(!s||s.dom.parentNode==this.contentDOM);r++,o=!1);return s&&o&&!s.border&&!s.domAtom?s.domFromPos(0,n):{node:this.contentDOM,offset:s?rr(s.dom):this.contentDOM.childNodes.length}}}parseRange(e,n,r=0){if(this.children.length==0)return{node:this.contentDOM,from:e,to:n,fromOffset:0,toOffset:this.contentDOM.childNodes.length};let i=-1,s=-1;for(let o=r,a=0;;a++){let l=this.children[a],c=o+l.size;if(i==-1&&e<=c){let u=o+l.border;if(e>=u&&n<=c-l.border&&l.node&&l.contentDOM&&this.contentDOM.contains(l.contentDOM))return l.parseRange(e,n,u);e=o;for(let d=a;d>0;d--){let f=this.children[d-1];if(f.size&&f.dom.parentNode==this.contentDOM&&!f.emptyChildAt(1)){i=rr(f.dom)+1;break}e-=f.size}i==-1&&(i=0)}if(i>-1&&(c>n||a==this.children.length-1)){n=c;for(let u=a+1;u<this.children.length;u++){let d=this.children[u];if(d.size&&d.dom.parentNode==this.contentDOM&&!d.emptyChildAt(-1)){s=rr(d.dom);break}n+=d.size}s==-1&&(s=this.contentDOM.childNodes.length);break}o=c}return{node:this.contentDOM,from:e,to:n,fromOffset:i,toOffset:s}}emptyChildAt(e){if(this.border||!this.contentDOM||!this.children.length)return!1;let n=this.children[e<0?0:this.children.length-1];return n.size==0||n.emptyChildAt(e)}domAfterPos(e){let{node:n,offset:r}=this.domFromPos(e,0);if(n.nodeType!=1||r==n.childNodes.length)throw new RangeError("No node after pos "+e);return n.childNodes[r]}setSelection(e,n,r,i=!1){let s=Math.min(e,n),o=Math.max(e,n);for(let f=0,p=0;f<this.children.length;f++){let m=this.children[f],g=p+m.size;if(s>p&&o<g)return m.setSelection(e-p-m.border,n-p-m.border,r,i);p=g}let a=this.domFromPos(e,e?-1:1),l=n==e?a:this.domFromPos(n,n?-1:1),c=r.getSelection(),u=!1;if((Is||Wr)&&e==n){let{node:f,offset:p}=a;if(f.nodeType==3){if(u=!!(p&&f.nodeValue[p-1]==`
`),u&&p==f.nodeValue.length)for(let m=f,g;m;m=m.parentNode){if(g=m.nextSibling){g.nodeName=="BR"&&(a=l={node:g.parentNode,offset:rr(g)+1});break}let v=m.pmViewDesc;if(v&&v.node&&v.node.isBlock)break}}else{let m=f.childNodes[p-1];u=m&&(m.nodeName=="BR"||m.contentEditable=="false")}}if(Is&&c.focusNode&&c.focusNode!=l.node&&c.focusNode.nodeType==1){let f=c.focusNode.childNodes[c.focusOffset];f&&f.contentEditable=="false"&&(i=!0)}if(!(i||u&&Wr)&&Hu(a.node,a.offset,c.anchorNode,c.anchorOffset)&&Hu(l.node,l.offset,c.focusNode,c.focusOffset))return;let d=!1;if((c.extend||e==n)&&!u){c.collapse(a.node,a.offset);try{e!=n&&c.extend(l.node,l.offset),d=!0}catch{}}if(!d){if(e>n){let p=a;a=l,l=p}let f=document.createRange();f.setEnd(l.node,l.offset),f.setStart(a.node,a.offset),c.removeAllRanges(),c.addRange(f)}}ignoreMutation(e){return!this.contentDOM&&e.type!="selection"}get contentLost(){return this.contentDOM&&this.contentDOM!=this.dom&&!this.dom.contains(this.contentDOM)}markDirty(e,n){for(let r=0,i=0;i<this.children.length;i++){let s=this.children[i],o=r+s.size;if(r==o?e<=o&&n>=r:e<o&&n>r){let a=r+s.border,l=o-s.border;if(e>=a&&n<=l){this.dirty=e==r||n==o?Yc:xF,e==a&&n==l&&(s.contentLost||s.dom.parentNode!=this.contentDOM)?s.dirty=po:s.markDirty(e-a,n-a);return}else s.dirty=s.dom==s.contentDOM&&s.dom.parentNode==this.contentDOM&&!s.children.length?Yc:po}r=o}this.dirty=Yc}markParentsDirty(){let e=1;for(let n=this.parent;n;n=n.parent,e++){let r=e==1?Yc:xF;n.dirty<r&&(n.dirty=r)}}get domAtom(){return!1}get ignoreForCoords(){return!1}isText(e){return!1}}class XG extends Lv{constructor(e,n,r,i){let s,o=n.type.toDOM;if(typeof o=="function"&&(o=o(r,()=>{if(!s)return i;if(s.parent)return s.parent.posBeforeChild(s)})),!n.type.spec.raw){if(o.nodeType!=1){let a=document.createElement("span");a.appendChild(o),o=a}o.contentEditable="false",o.classList.add("ProseMirror-widget")}super(e,[],o,null),this.widget=n,this.widget=n,s=this}matchesWidget(e){return this.dirty==rs&&e.type.eq(this.widget.type)}parseRule(){return{ignore:!0}}stopEvent(e){let n=this.widget.spec.stopEvent;return n?n(e):!1}ignoreMutation(e){return e.type!="selection"||this.widget.spec.ignoreSelection}destroy(){this.widget.type.destroy(this.dom),super.destroy()}get domAtom(){return!0}get side(){return this.widget.type.side}}class K1e extends Lv{constructor(e,n,r,i){super(e,[],n,null),this.textDOM=r,this.text=i}get size(){return this.text.length}localPosFromDOM(e,n){return e!=this.textDOM?this.posAtStart+(n?this.size:0):this.posAtStart+n}domFromPos(e){return{node:this.textDOM,offset:e}}ignoreMutation(e){return e.type==="characterData"&&e.target.nodeValue==e.oldValue}}class Wu extends Lv{constructor(e,n,r,i,s){super(e,[],r,i),this.mark=n,this.spec=s}static create(e,n,r,i){let s=i.nodeViews[n.type.name],o=s&&s(n,i,r);return(!o||!o.dom)&&(o=dd.renderSpec(document,n.type.spec.toDOM(n,r),null,n.attrs)),new Wu(e,n,o.dom,o.contentDOM||o.dom,o)}parseRule(){return this.dirty&po||this.mark.type.spec.reparseInView?null:{mark:this.mark.type.name,attrs:this.mark.attrs,contentElement:this.contentDOM}}matchesMark(e){return this.dirty!=po&&this.mark.eq(e)}markDirty(e,n){if(super.markDirty(e,n),this.dirty!=rs){let r=this.parent;for(;!r.node;)r=r.parent;r.dirty<this.dirty&&(r.dirty=this.dirty),this.dirty=rs}}slice(e,n,r){let i=Wu.create(this.parent,this.mark,!0,r),s=this.children,o=this.size;n<o&&(s=wC(s,n,o,r)),e>0&&(s=wC(s,0,e,r));for(let a=0;a<s.length;a++)s[a].parent=i;return i.children=s,i}destroy(){this.spec.destroy&&this.spec.destroy(),super.destroy()}}class $l extends Lv{constructor(e,n,r,i,s,o,a,l,c){super(e,[],s,o),this.node=n,this.outerDeco=r,this.innerDeco=i,this.nodeDOM=a}static create(e,n,r,i,s,o){let a=s.nodeViews[n.type.name],l,c=a&&a(n,s,()=>{if(!l)return o;if(l.parent)return l.parent.posBeforeChild(l)},r,i),u=c&&c.dom,d=c&&c.contentDOM;if(n.isText){if(!u)u=document.createTextNode(n.text);else if(u.nodeType!=3)throw new RangeError("Text must be rendered as a DOM text node")}else u||({dom:u,contentDOM:d}=dd.renderSpec(document,n.type.spec.toDOM(n),null,n.attrs));!d&&!n.isText&&u.nodeName!="BR"&&(u.hasAttribute("contenteditable")||(u.contentEditable="false"),n.type.spec.draggable&&(u.draggable=!0));let f=u;return u=tQ(u,r,n),c?l=new G1e(e,n,r,i,u,d||null,f,c,s,o+1):n.isText?new bS(e,n,r,i,u,f,s):new $l(e,n,r,i,u,d||null,f,s,o+1)}parseRule(){if(this.node.type.spec.reparseInView)return null;let e={node:this.node.type.name,attrs:this.node.attrs};if(this.node.type.whitespace=="pre"&&(e.preserveWhitespace="full"),!this.contentDOM)e.getContent=()=>this.node.content;else if(!this.contentLost)e.contentElement=this.contentDOM;else{for(let n=this.children.length-1;n>=0;n--){let r=this.children[n];if(this.dom.contains(r.dom.parentNode)){e.contentElement=r.dom.parentNode;break}}e.contentElement||(e.getContent=()=>ne.empty)}return e}matchesNode(e,n,r){return this.dirty==rs&&e.eq(this.node)&&ww(n,this.outerDeco)&&r.eq(this.innerDeco)}get size(){return this.node.nodeSize}get border(){return this.node.isLeaf?0:1}updateChildren(e,n){let r=this.node.inlineContent,i=n,s=e.composing?this.localCompositionInfo(e,n):null,o=s&&s.pos>-1?s:null,a=s&&s.pos<0,l=new Y1e(this,o&&o.node,e);Z1e(this.node,this.innerDeco,(c,u,d)=>{c.spec.marks?l.syncToMarks(c.spec.marks,r,e):c.type.side>=0&&!d&&l.syncToMarks(u==this.node.childCount?Rt.none:this.node.child(u).marks,r,e),l.placeWidget(c,e,i)},(c,u,d,f)=>{l.syncToMarks(c.marks,r,e);let p;l.findNodeMatch(c,u,d,f)||a&&e.state.selection.from>i&&e.state.selection.to<i+c.nodeSize&&(p=l.findIndexWithChild(s.node))>-1&&l.updateNodeAt(c,u,d,p,e)||l.updateNextNode(c,u,d,e,f,i)||l.addNode(c,u,d,e,i),i+=c.nodeSize}),l.syncToMarks([],r,e),this.node.isTextblock&&l.addTextblockHacks(),l.destroyRest(),(l.changed||this.dirty==Yc)&&(o&&this.protectLocalComposition(e,o),ZG(this.contentDOM,this.children,e),_h&&e_e(this.dom))}localCompositionInfo(e,n){let{from:r,to:i}=e.state.selection;if(!(e.state.selection instanceof Ue)||r<n||i>n+this.node.content.size)return null;let s=e.input.compositionNode;if(!s||!this.dom.contains(s.parentNode))return null;if(this.node.inlineContent){let o=s.nodeValue,a=t_e(this.node.content,o,r-n,i-n);return a<0?null:{node:s,pos:a,text:o}}else return{node:s,pos:-1,text:""}}protectLocalComposition(e,{node:n,pos:r,text:i}){if(this.getDesc(n))return;let s=n;for(;s.parentNode!=this.contentDOM;s=s.parentNode){for(;s.previousSibling;)s.parentNode.removeChild(s.previousSibling);for(;s.nextSibling;)s.parentNode.removeChild(s.nextSibling);s.pmViewDesc&&(s.pmViewDesc=void 0)}let o=new K1e(this,s,n,i);e.input.compositionNodes.push(o),this.children=wC(this.children,r,r+i.length,e,o)}update(e,n,r,i){return this.dirty==po||!e.sameMarkup(this.node)?!1:(this.updateInner(e,n,r,i),!0)}updateInner(e,n,r,i){this.updateOuterDeco(n),this.node=e,this.innerDeco=r,this.contentDOM&&this.updateChildren(i,this.posAtStart),this.dirty=rs}updateOuterDeco(e){if(ww(e,this.outerDeco))return;let n=this.nodeDOM.nodeType!=1,r=this.dom;this.dom=eQ(this.dom,this.nodeDOM,bC(this.outerDeco,this.node,n),bC(e,this.node,n)),this.dom!=r&&(r.pmViewDesc=void 0,this.dom.pmViewDesc=this),this.outerDeco=e}selectNode(){this.nodeDOM.nodeType==1&&this.nodeDOM.classList.add("ProseMirror-selectednode"),(this.contentDOM||!this.node.type.spec.draggable)&&(this.dom.draggable=!0)}deselectNode(){this.nodeDOM.nodeType==1&&(this.nodeDOM.classList.remove("ProseMirror-selectednode"),(this.contentDOM||!this.node.type.spec.draggable)&&this.dom.removeAttribute("draggable"))}get domAtom(){return this.node.isAtom}}function bF(t,e,n,r,i){tQ(r,e,t);let s=new $l(void 0,t,e,n,r,r,r,i,0);return s.contentDOM&&s.updateChildren(i,0),s}class bS extends $l{constructor(e,n,r,i,s,o,a){super(e,n,r,i,s,null,o,a,0)}parseRule(){let e=this.nodeDOM.parentNode;for(;e&&e!=this.dom&&!e.pmIsDeco;)e=e.parentNode;return{skip:e||!0}}update(e,n,r,i){return this.dirty==po||this.dirty!=rs&&!this.inParent()||!e.sameMarkup(this.node)?!1:(this.updateOuterDeco(n),(this.dirty!=rs||e.text!=this.node.text)&&e.text!=this.nodeDOM.nodeValue&&(this.nodeDOM.nodeValue=e.text,i.trackWrites==this.nodeDOM&&(i.trackWrites=null)),this.node=e,this.dirty=rs,!0)}inParent(){let e=this.parent.contentDOM;for(let n=this.nodeDOM;n;n=n.parentNode)if(n==e)return!0;return!1}domFromPos(e){return{node:this.nodeDOM,offset:e}}localPosFromDOM(e,n,r){return e==this.nodeDOM?this.posAtStart+Math.min(n,this.node.text.length):super.localPosFromDOM(e,n,r)}ignoreMutation(e){return e.type!="characterData"&&e.type!="selection"}slice(e,n,r){let i=this.node.cut(e,n),s=document.createTextNode(i.text);return new bS(this.parent,i,this.outerDeco,this.innerDeco,s,s,r)}markDirty(e,n){super.markDirty(e,n),this.dom!=this.nodeDOM&&(e==0||n==this.nodeDOM.nodeValue.length)&&(this.dirty=po)}get domAtom(){return!1}isText(e){return this.node.text==e}}class JG extends Lv{parseRule(){return{ignore:!0}}matchesHack(e){return this.dirty==rs&&this.dom.nodeName==e}get domAtom(){return!0}get ignoreForCoords(){return this.dom.nodeName=="IMG"}}class G1e extends $l{constructor(e,n,r,i,s,o,a,l,c,u){super(e,n,r,i,s,o,a,c,u),this.spec=l}update(e,n,r,i){if(this.dirty==po)return!1;if(this.spec.update&&(this.node.type==e.type||this.spec.multiType)){let s=this.spec.update(e,n,r);return s&&this.updateInner(e,n,r,i),s}else return!this.contentDOM&&!e.isLeaf?!1:super.update(e,n,r,i)}selectNode(){this.spec.selectNode?this.spec.selectNode():super.selectNode()}deselectNode(){this.spec.deselectNode?this.spec.deselectNode():super.deselectNode()}setSelection(e,n,r,i){this.spec.setSelection?this.spec.setSelection(e,n,r):super.setSelection(e,n,r,i)}destroy(){this.spec.destroy&&this.spec.destroy(),super.destroy()}stopEvent(e){return this.spec.stopEvent?this.spec.stopEvent(e):!1}ignoreMutation(e){return this.spec.ignoreMutation?this.spec.ignoreMutation(e):super.ignoreMutation(e)}}function ZG(t,e,n){let r=t.firstChild,i=!1;for(let s=0;s<e.length;s++){let o=e[s],a=o.dom;if(a.parentNode==t){for(;a!=r;)r=wF(r),i=!0;r=r.nextSibling}else i=!0,t.insertBefore(a,r);if(o instanceof Wu){let l=r?r.previousSibling:t.lastChild;ZG(o.contentDOM,o.children,n),r=l?l.nextSibling:t.firstChild}}for(;r;)r=wF(r),i=!0;i&&n.trackWrites==t&&(n.trackWrites=null)}const lg=function(t){t&&(this.nodeName=t)};lg.prototype=Object.create(null);const Xc=[new lg];function bC(t,e,n){if(t.length==0)return Xc;let r=n?Xc[0]:new lg,i=[r];for(let s=0;s<t.length;s++){let o=t[s].type.attrs;if(o){o.nodeName&&i.push(r=new lg(o.nodeName));for(let a in o){let l=o[a];l!=null&&(n&&i.length==1&&i.push(r=new lg(e.isInline?"span":"div")),a=="class"?r.class=(r.class?r.class+" ":"")+l:a=="style"?r.style=(r.style?r.style+";":"")+l:a!="nodeName"&&(r[a]=l))}}}return i}function eQ(t,e,n,r){if(n==Xc&&r==Xc)return e;let i=e;for(let s=0;s<r.length;s++){let o=r[s],a=n[s];if(s){let l;a&&a.nodeName==o.nodeName&&i!=t&&(l=i.parentNode)&&l.nodeName.toLowerCase()==o.nodeName||(l=document.createElement(o.nodeName),l.pmIsDeco=!0,l.appendChild(i),a=Xc[0]),i=l}Q1e(i,a||Xc[0],o)}return i}function Q1e(t,e,n){for(let r in e)r!="class"&&r!="style"&&r!="nodeName"&&!(r in n)&&t.removeAttribute(r);for(let r in n)r!="class"&&r!="style"&&r!="nodeName"&&n[r]!=e[r]&&t.setAttribute(r,n[r]);if(e.class!=n.class){let r=e.class?e.class.split(" ").filter(Boolean):[],i=n.class?n.class.split(" ").filter(Boolean):[];for(let s=0;s<r.length;s++)i.indexOf(r[s])==-1&&t.classList.remove(r[s]);for(let s=0;s<i.length;s++)r.indexOf(i[s])==-1&&t.classList.add(i[s]);t.classList.length==0&&t.removeAttribute("class")}if(e.style!=n.style){if(e.style){let r=/\s*([\w\-\xa1-\uffff]+)\s*:(?:"(?:\\.|[^"])*"|'(?:\\.|[^'])*'|\(.*?\)|[^;])*/g,i;for(;i=r.exec(e.style);)t.style.removeProperty(i[1])}n.style&&(t.style.cssText+=n.style)}}function tQ(t,e,n){return eQ(t,t,Xc,bC(e,n,t.nodeType!=1))}function ww(t,e){if(t.length!=e.length)return!1;for(let n=0;n<t.length;n++)if(!t[n].type.eq(e[n].type))return!1;return!0}function wF(t){let e=t.nextSibling;return t.parentNode.removeChild(t),e}class Y1e{constructor(e,n,r){this.lock=n,this.view=r,this.index=0,this.stack=[],this.changed=!1,this.top=e,this.preMatch=X1e(e.node.content,e)}destroyBetween(e,n){if(e!=n){for(let r=e;r<n;r++)this.top.children[r].destroy();this.top.children.splice(e,n-e),this.changed=!0}}destroyRest(){this.destroyBetween(this.index,this.top.children.length)}syncToMarks(e,n,r){let i=0,s=this.stack.length>>1,o=Math.min(s,e.length);for(;i<o&&(i==s-1?this.top:this.stack[i+1<<1]).matchesMark(e[i])&&e[i].type.spec.spanning!==!1;)i++;for(;i<s;)this.destroyRest(),this.top.dirty=rs,this.index=this.stack.pop(),this.top=this.stack.pop(),s--;for(;s<e.length;){this.stack.push(this.top,this.index+1);let a=-1;for(let l=this.index;l<Math.min(this.index+3,this.top.children.length);l++){let c=this.top.children[l];if(c.matchesMark(e[s])&&!this.isLocked(c.dom)){a=l;break}}if(a>-1)a>this.index&&(this.changed=!0,this.destroyBetween(this.index,a)),this.top=this.top.children[this.index];else{let l=Wu.create(this.top,e[s],n,r);this.top.children.splice(this.index,0,l),this.top=l,this.changed=!0}this.index=0,s++}}findNodeMatch(e,n,r,i){let s=-1,o;if(i>=this.preMatch.index&&(o=this.preMatch.matches[i-this.preMatch.index]).parent==this.top&&o.matchesNode(e,n,r))s=this.top.children.indexOf(o,this.index);else for(let a=this.index,l=Math.min(this.top.children.length,a+5);a<l;a++){let c=this.top.children[a];if(c.matchesNode(e,n,r)&&!this.preMatch.matched.has(c)){s=a;break}}return s<0?!1:(this.destroyBetween(this.index,s),this.index++,!0)}updateNodeAt(e,n,r,i,s){let o=this.top.children[i];return o.dirty==po&&o.dom==o.contentDOM&&(o.dirty=Yc),o.update(e,n,r,s)?(this.destroyBetween(this.index,i),this.index++,!0):!1}findIndexWithChild(e){for(;;){let n=e.parentNode;if(!n)return-1;if(n==this.top.contentDOM){let r=e.pmViewDesc;if(r){for(let i=this.index;i<this.top.children.length;i++)if(this.top.children[i]==r)return i}return-1}e=n}}updateNextNode(e,n,r,i,s,o){for(let a=this.index;a<this.top.children.length;a++){let l=this.top.children[a];if(l instanceof $l){let c=this.preMatch.matched.get(l);if(c!=null&&c!=s)return!1;let u=l.dom,d,f=this.isLocked(u)&&!(e.isText&&l.node&&l.node.isText&&l.nodeDOM.nodeValue==e.text&&l.dirty!=po&&ww(n,l.outerDeco));if(!f&&l.update(e,n,r,i))return this.destroyBetween(this.index,a),l.dom!=u&&(this.changed=!0),this.index++,!0;if(!f&&(d=this.recreateWrapper(l,e,n,r,i,o)))return this.destroyBetween(this.index,a),this.top.children[this.index]=d,d.contentDOM&&(d.dirty=Yc,d.updateChildren(i,o+1),d.dirty=rs),this.changed=!0,this.index++,!0;break}}return!1}recreateWrapper(e,n,r,i,s,o){if(e.dirty||n.isAtom||!e.children.length||!e.node.content.eq(n.content)||!ww(r,e.outerDeco)||!i.eq(e.innerDeco))return null;let a=$l.create(this.top,n,r,i,s,o);if(a.contentDOM){a.children=e.children,e.children=[];for(let l of a.children)l.parent=a}return e.destroy(),a}addNode(e,n,r,i,s){let o=$l.create(this.top,e,n,r,i,s);o.contentDOM&&o.updateChildren(i,s+1),this.top.children.splice(this.index++,0,o),this.changed=!0}placeWidget(e,n,r){let i=this.index<this.top.children.length?this.top.children[this.index]:null;if(i&&i.matchesWidget(e)&&(e==i.widget||!i.widget.type.toDOM.parentNode))this.index++;else{let s=new XG(this.top,e,n,r);this.top.children.splice(this.index++,0,s),this.changed=!0}}addTextblockHacks(){let e=this.top.children[this.index-1],n=this.top;for(;e instanceof Wu;)n=e,e=n.children[n.children.length-1];(!e||!(e instanceof bS)||/\n$/.test(e.node.text)||this.view.requiresGeckoHackNode&&/\s$/.test(e.node.text))&&((Wr||Er)&&e&&e.dom.contentEditable=="false"&&this.addHackNode("IMG",n),this.addHackNode("BR",this.top))}addHackNode(e,n){if(n==this.top&&this.index<n.children.length&&n.children[this.index].matchesHack(e))this.index++;else{let r=document.createElement(e);e=="IMG"&&(r.className="ProseMirror-separator",r.alt=""),e=="BR"&&(r.className="ProseMirror-trailingBreak");let i=new JG(this.top,[],r,null);n!=this.top?n.children.push(i):n.children.splice(this.index++,0,i),this.changed=!0}}isLocked(e){return this.lock&&(e==this.lock||e.nodeType==1&&e.contains(this.lock.parentNode))}}function X1e(t,e){let n=e,r=n.children.length,i=t.childCount,s=new Map,o=[];e:for(;i>0;){let a;for(;;)if(r){let c=n.children[r-1];if(c instanceof Wu)n=c,r=c.children.length;else{a=c,r--;break}}else{if(n==e)break e;r=n.parent.children.indexOf(n),n=n.parent}let l=a.node;if(l){if(l!=t.child(i-1))break;--i,s.set(a,i),o.push(a)}}return{index:i,matched:s,matches:o.reverse()}}function J1e(t,e){return t.type.side-e.type.side}function Z1e(t,e,n,r){let i=e.locals(t),s=0;if(i.length==0){for(let c=0;c<t.childCount;c++){let u=t.child(c);r(u,i,e.forChild(s,u),c),s+=u.nodeSize}return}let o=0,a=[],l=null;for(let c=0;;){let u,d;for(;o<i.length&&i[o].to==s;){let v=i[o++];v.widget&&(u?(d||(d=[u])).push(v):u=v)}if(u)if(d){d.sort(J1e);for(let v=0;v<d.length;v++)n(d[v],c,!!l)}else n(u,c,!!l);let f,p;if(l)p=-1,f=l,l=null;else if(c<t.childCount)p=c,f=t.child(c++);else break;for(let v=0;v<a.length;v++)a[v].to<=s&&a.splice(v--,1);for(;o<i.length&&i[o].from<=s&&i[o].to>s;)a.push(i[o++]);let m=s+f.nodeSize;if(f.isText){let v=m;o<i.length&&i[o].from<v&&(v=i[o].from);for(let x=0;x<a.length;x++)a[x].to<v&&(v=a[x].to);v<m&&(l=f.cut(v-s),f=f.cut(0,v-s),m=v,p=-1)}else for(;o<i.length&&i[o].to<m;)o++;let g=f.isInline&&!f.isLeaf?a.filter(v=>!v.inline):a.slice();r(f,g,e.forChild(s,f),p),s=m}}function e_e(t){if(t.nodeName=="UL"||t.nodeName=="OL"){let e=t.style.cssText;t.style.cssText=e+"; list-style: square !important",window.getComputedStyle(t).listStyle,t.style.cssText=e}}function t_e(t,e,n,r){for(let i=0,s=0;i<t.childCount&&s<=r;){let o=t.child(i++),a=s;if(s+=o.nodeSize,!o.isText)continue;let l=o.text;for(;i<t.childCount;){let c=t.child(i++);if(s+=c.nodeSize,!c.isText)break;l+=c.text}if(s>=n){if(s>=r&&l.slice(r-e.length-a,r-a)==e)return r-e.length;let c=a<r?l.lastIndexOf(e,r-a-1):-1;if(c>=0&&c+e.length+a>=n)return a+c;if(n==r&&l.length>=r+e.length-a&&l.slice(r-a,r-a+e.length)==e)return r}}return-1}function wC(t,e,n,r,i){let s=[];for(let o=0,a=0;o<t.length;o++){let l=t[o],c=a,u=a+=l.size;c>=n||u<=e?s.push(l):(c<e&&s.push(l.slice(0,e-c,r)),i&&(s.push(i),i=void 0),u>n&&s.push(l.slice(n-c,l.size,r)))}return s}function pj(t,e=null){let n=t.domSelectionRange(),r=t.state.doc;if(!n.focusNode)return null;let i=t.docView.nearestDesc(n.focusNode),s=i&&i.size==0,o=t.docView.posFromDOM(n.focusNode,n.focusOffset,1);if(o<0)return null;let a=r.resolve(o),l,c;if(xS(n)){for(l=o;i&&!i.node;)i=i.parent;let d=i.node;if(i&&d.isAtom&&Oe.isSelectable(d)&&i.parent&&!(d.isInline&&k1e(n.focusNode,n.focusOffset,i.dom))){let f=i.posBefore;c=new Oe(o==f?a:r.resolve(f))}}else{if(n instanceof t.dom.ownerDocument.defaultView.Selection&&n.rangeCount>1){let d=o,f=o;for(let p=0;p<n.rangeCount;p++){let m=n.getRangeAt(p);d=Math.min(d,t.docView.posFromDOM(m.startContainer,m.startOffset,1)),f=Math.max(f,t.docView.posFromDOM(m.endContainer,m.endOffset,-1))}if(d<0)return null;[l,o]=f==t.state.selection.anchor?[f,d]:[d,f],a=r.resolve(o)}else l=t.docView.posFromDOM(n.anchorNode,n.anchorOffset,1);if(l<0)return null}let u=r.resolve(l);if(!c){let d=e=="pointer"||t.state.selection.head<a.pos&&!s?1:-1;c=mj(t,u,a,d)}return c}function nQ(t){return t.editable?t.hasFocus():iQ(t)&&document.activeElement&&document.activeElement.contains(t.dom)}function Zo(t,e=!1){let n=t.state.selection;if(rQ(t,n),!!nQ(t)){if(!e&&t.input.mouseDown&&t.input.mouseDown.allowDefault&&Er){let r=t.domSelectionRange(),i=t.domObserver.currentSelection;if(r.anchorNode&&i.anchorNode&&Hu(r.anchorNode,r.anchorOffset,i.anchorNode,i.anchorOffset)){t.input.mouseDown.delayedSelectionSync=!0,t.domObserver.setCurSelection();return}}if(t.domObserver.disconnectSelection(),t.cursorWrapper)r_e(t);else{let{anchor:r,head:i}=n,s,o;_F&&!(n instanceof Ue)&&(n.$from.parent.inlineContent||(s=SF(t,n.from)),!n.empty&&!n.$from.parent.inlineContent&&(o=SF(t,n.to))),t.docView.setSelection(r,i,t.root,e),_F&&(s&&EF(s),o&&EF(o)),n.visible?t.dom.classList.remove("ProseMirror-hideselection"):(t.dom.classList.add("ProseMirror-hideselection"),"onselectionchange"in document&&n_e(t))}t.domObserver.setCurSelection(),t.domObserver.connectSelection()}}const _F=Wr||Er&&qG<63;function SF(t,e){let{node:n,offset:r}=t.docView.domFromPos(e,0),i=r<n.childNodes.length?n.childNodes[r]:null,s=r?n.childNodes[r-1]:null;if(Wr&&i&&i.contentEditable=="false")return eA(i);if((!i||i.contentEditable=="false")&&(!s||s.contentEditable=="false")){if(i)return eA(i);if(s)return eA(s)}}function eA(t){return t.contentEditable="true",Wr&&t.draggable&&(t.draggable=!1,t.wasDraggable=!0),t}function EF(t){t.contentEditable="false",t.wasDraggable&&(t.draggable=!0,t.wasDraggable=null)}function n_e(t){let e=t.dom.ownerDocument;e.removeEventListener("selectionchange",t.input.hideSelectionGuard);let n=t.domSelectionRange(),r=n.anchorNode,i=n.anchorOffset;e.addEventListener("selectionchange",t.input.hideSelectionGuard=()=>{(n.anchorNode!=r||n.anchorOffset!=i)&&(e.removeEventListener("selectionchange",t.input.hideSelectionGuard),setTimeout(()=>{(!nQ(t)||t.state.selection.visible)&&t.dom.classList.remove("ProseMirror-hideselection")},20))})}function r_e(t){let e=t.domSelection(),n=document.createRange();if(!e)return;let r=t.cursorWrapper.dom,i=r.nodeName=="IMG";i?n.setStart(r.parentNode,rr(r)+1):n.setStart(r,0),n.collapse(!0),e.removeAllRanges(),e.addRange(n),!i&&!t.state.selection.visible&&di&&Ll<=11&&(r.disabled=!0,r.disabled=!1)}function rQ(t,e){if(e instanceof Oe){let n=t.docView.descAt(e.from);n!=t.lastSelectedViewDesc&&(TF(t),n&&n.selectNode(),t.lastSelectedViewDesc=n)}else TF(t)}function TF(t){t.lastSelectedViewDesc&&(t.lastSelectedViewDesc.parent&&t.lastSelectedViewDesc.deselectNode(),t.lastSelectedViewDesc=void 0)}function mj(t,e,n,r){return t.someProp("createSelectionBetween",i=>i(t,e,n))||Ue.between(e,n,r)}function AF(t){return t.editable&&!t.hasFocus()?!1:iQ(t)}function iQ(t){let e=t.domSelectionRange();if(!e.anchorNode)return!1;try{return t.dom.contains(e.anchorNode.nodeType==3?e.anchorNode.parentNode:e.anchorNode)&&(t.editable||t.dom.contains(e.focusNode.nodeType==3?e.focusNode.parentNode:e.focusNode))}catch{return!1}}function i_e(t){let e=t.docView.domFromPos(t.state.selection.anchor,0),n=t.domSelectionRange();return Hu(e.node,e.offset,n.anchorNode,n.anchorOffset)}function _C(t,e){let{$anchor:n,$head:r}=t.selection,i=e>0?n.max(r):n.min(r),s=i.parent.inlineContent?i.depth?t.doc.resolve(e>0?i.after():i.before()):null:i;return s&&Ke.findFrom(s,e)}function za(t,e){return t.dispatch(t.state.tr.setSelection(e).scrollIntoView()),!0}function kF(t,e,n){let r=t.state.selection;if(r instanceof Ue)if(n.indexOf("s")>-1){let{$head:i}=r,s=i.textOffset?null:e<0?i.nodeBefore:i.nodeAfter;if(!s||s.isText||!s.isLeaf)return!1;let o=t.state.doc.resolve(i.pos+s.nodeSize*(e<0?-1:1));return za(t,new Ue(r.$anchor,o))}else if(r.empty){if(t.endOfTextblock(e>0?"forward":"backward")){let i=_C(t.state,e);return i&&i instanceof Oe?za(t,i):!1}else if(!(Ki&&n.indexOf("m")>-1)){let i=r.$head,s=i.textOffset?null:e<0?i.nodeBefore:i.nodeAfter,o;if(!s||s.isText)return!1;let a=e<0?i.pos-s.nodeSize:i.pos;return s.isAtom||(o=t.docView.descAt(a))&&!o.contentDOM?Oe.isSelectable(s)?za(t,new Oe(e<0?t.state.doc.resolve(i.pos-s.nodeSize):i)):Mv?za(t,new Ue(t.state.doc.resolve(e<0?a:a+s.nodeSize))):!1:!1}}else return!1;else{if(r instanceof Oe&&r.node.isInline)return za(t,new Ue(e>0?r.$to:r.$from));{let i=_C(t.state,e);return i?za(t,i):!1}}}function _w(t){return t.nodeType==3?t.nodeValue.length:t.childNodes.length}function cg(t,e){let n=t.pmViewDesc;return n&&n.size==0&&(e<0||t.nextSibling||t.nodeName!="BR")}function kd(t,e){return e<0?s_e(t):o_e(t)}function s_e(t){let e=t.domSelectionRange(),n=e.focusNode,r=e.focusOffset;if(!n)return;let i,s,o=!1;for(Is&&n.nodeType==1&&r<_w(n)&&cg(n.childNodes[r],-1)&&(o=!0);;)if(r>0){if(n.nodeType!=1)break;{let a=n.childNodes[r-1];if(cg(a,-1))i=n,s=--r;else if(a.nodeType==3)n=a,r=n.nodeValue.length;else break}}else{if(sQ(n))break;{let a=n.previousSibling;for(;a&&cg(a,-1);)i=n.parentNode,s=rr(a),a=a.previousSibling;if(a)n=a,r=_w(n);else{if(n=n.parentNode,n==t.dom)break;r=0}}}o?SC(t,n,r):i&&SC(t,i,s)}function o_e(t){let e=t.domSelectionRange(),n=e.focusNode,r=e.focusOffset;if(!n)return;let i=_w(n),s,o;for(;;)if(r<i){if(n.nodeType!=1)break;let a=n.childNodes[r];if(cg(a,1))s=n,o=++r;else break}else{if(sQ(n))break;{let a=n.nextSibling;for(;a&&cg(a,1);)s=a.parentNode,o=rr(a)+1,a=a.nextSibling;if(a)n=a,r=0,i=_w(n);else{if(n=n.parentNode,n==t.dom)break;r=i=0}}}s&&SC(t,s,o)}function sQ(t){let e=t.pmViewDesc;return e&&e.node&&e.node.isBlock}function a_e(t,e){for(;t&&e==t.childNodes.length&&!Dv(t);)e=rr(t)+1,t=t.parentNode;for(;t&&e<t.childNodes.length;){let n=t.childNodes[e];if(n.nodeType==3)return n;if(n.nodeType==1&&n.contentEditable=="false")break;t=n,e=0}}function l_e(t,e){for(;t&&!e&&!Dv(t);)e=rr(t),t=t.parentNode;for(;t&&e;){let n=t.childNodes[e-1];if(n.nodeType==3)return n;if(n.nodeType==1&&n.contentEditable=="false")break;t=n,e=t.childNodes.length}}function SC(t,e,n){if(e.nodeType!=3){let s,o;(o=a_e(e,n))?(e=o,n=0):(s=l_e(e,n))&&(e=s,n=s.nodeValue.length)}let r=t.domSelection();if(!r)return;if(xS(r)){let s=document.createRange();s.setEnd(e,n),s.setStart(e,n),r.removeAllRanges(),r.addRange(s)}else r.extend&&r.extend(e,n);t.domObserver.setCurSelection();let{state:i}=t;setTimeout(()=>{t.state==i&&Zo(t)},50)}function PF(t,e){let n=t.state.doc.resolve(e);if(!(Er||I1e)&&n.parent.inlineContent){let i=t.coordsAtPos(e);if(e>n.start()){let s=t.coordsAtPos(e-1),o=(s.top+s.bottom)/2;if(o>i.top&&o<i.bottom&&Math.abs(s.left-i.left)>1)return s.left<i.left?"ltr":"rtl"}if(e<n.end()){let s=t.coordsAtPos(e+1),o=(s.top+s.bottom)/2;if(o>i.top&&o<i.bottom&&Math.abs(s.left-i.left)>1)return s.left>i.left?"ltr":"rtl"}}return getComputedStyle(t.dom).direction=="rtl"?"rtl":"ltr"}function CF(t,e,n){let r=t.state.selection;if(r instanceof Ue&&!r.empty||n.indexOf("s")>-1||Ki&&n.indexOf("m")>-1)return!1;let{$from:i,$to:s}=r;if(!i.parent.inlineContent||t.endOfTextblock(e<0?"up":"down")){let o=_C(t.state,e);if(o&&o instanceof Oe)return za(t,o)}if(!i.parent.inlineContent){let o=e<0?i:s,a=r instanceof As?Ke.near(o,e):Ke.findFrom(o,e);return a?za(t,a):!1}return!1}function IF(t,e){if(!(t.state.selection instanceof Ue))return!0;let{$head:n,$anchor:r,empty:i}=t.state.selection;if(!n.sameParent(r))return!0;if(!i)return!1;if(t.endOfTextblock(e>0?"forward":"backward"))return!0;let s=!n.textOffset&&(e<0?n.nodeBefore:n.nodeAfter);if(s&&!s.isText){let o=t.state.tr;return e<0?o.delete(n.pos-s.nodeSize,n.pos):o.delete(n.pos,n.pos+s.nodeSize),t.dispatch(o),!0}return!1}function OF(t,e,n){t.domObserver.stop(),e.contentEditable=n,t.domObserver.start()}function c_e(t){if(!Wr||t.state.selection.$head.parentOffset>0)return!1;let{focusNode:e,focusOffset:n}=t.domSelectionRange();if(e&&e.nodeType==1&&n==0&&e.firstChild&&e.firstChild.contentEditable=="false"){let r=e.firstChild;OF(t,r,"true"),setTimeout(()=>OF(t,r,"false"),20)}return!1}function u_e(t){let e="";return t.ctrlKey&&(e+="c"),t.metaKey&&(e+="m"),t.altKey&&(e+="a"),t.shiftKey&&(e+="s"),e}function d_e(t,e){let n=e.keyCode,r=u_e(e);if(n==8||Ki&&n==72&&r=="c")return IF(t,-1)||kd(t,-1);if(n==46&&!e.shiftKey||Ki&&n==68&&r=="c")return IF(t,1)||kd(t,1);if(n==13||n==27)return!0;if(n==37||Ki&&n==66&&r=="c"){let i=n==37?PF(t,t.state.selection.from)=="ltr"?-1:1:-1;return kF(t,i,r)||kd(t,i)}else if(n==39||Ki&&n==70&&r=="c"){let i=n==39?PF(t,t.state.selection.from)=="ltr"?1:-1:1;return kF(t,i,r)||kd(t,i)}else{if(n==38||Ki&&n==80&&r=="c")return CF(t,-1,r)||kd(t,-1);if(n==40||Ki&&n==78&&r=="c")return c_e(t)||CF(t,1,r)||kd(t,1);if(r==(Ki?"m":"c")&&(n==66||n==73||n==89||n==90))return!0}return!1}function oQ(t,e){t.someProp("transformCopied",p=>{e=p(e,t)});let n=[],{content:r,openStart:i,openEnd:s}=e;for(;i>1&&s>1&&r.childCount==1&&r.firstChild.childCount==1;){i--,s--;let p=r.firstChild;n.push(p.type.name,p.attrs!=p.type.defaultAttrs?p.attrs:null),r=p.content}let o=t.someProp("clipboardSerializer")||dd.fromSchema(t.state.schema),a=fQ(),l=a.createElement("div");l.appendChild(o.serializeFragment(r,{document:a}));let c=l.firstChild,u,d=0;for(;c&&c.nodeType==1&&(u=dQ[c.nodeName.toLowerCase()]);){for(let p=u.length-1;p>=0;p--){let m=a.createElement(u[p]);for(;l.firstChild;)m.appendChild(l.firstChild);l.appendChild(m),d++}c=l.firstChild}c&&c.nodeType==1&&c.setAttribute("data-pm-slice",`${i} ${s}${d?` -${d}`:""} ${JSON.stringify(n)}`);let f=t.someProp("clipboardTextSerializer",p=>p(e,t))||e.content.textBetween(0,e.content.size,`

`);return{dom:l,text:f,slice:e}}function aQ(t,e,n,r,i){let s=i.parent.type.spec.code,o,a;if(!n&&!e)return null;let l=e&&(r||s||!n);if(l){if(t.someProp("transformPastedText",f=>{e=f(e,s||r,t)}),s)return e?new ye(ne.from(t.state.schema.text(e.replace(/\r\n?/g,`
`))),0,0):ye.empty;let d=t.someProp("clipboardTextParser",f=>f(e,i,r,t));if(d)a=d;else{let f=i.marks(),{schema:p}=t.state,m=dd.fromSchema(p);o=document.createElement("div"),e.split(/(?:\r\n?|\n)+/).forEach(g=>{let v=o.appendChild(document.createElement("p"));g&&v.appendChild(m.serializeNode(p.text(g,f)))})}}else t.someProp("transformPastedHTML",d=>{n=d(n,t)}),o=m_e(n),Mv&&g_e(o);let c=o&&o.querySelector("[data-pm-slice]"),u=c&&/^(\d+) (\d+)(?: -(\d+))? (.*)/.exec(c.getAttribute("data-pm-slice")||"");if(u&&u[3])for(let d=+u[3];d>0;d--){let f=o.firstChild;for(;f&&f.nodeType!=1;)f=f.nextSibling;if(!f)break;o=f}if(a||(a=(t.someProp("clipboardParser")||t.someProp("domParser")||Ml.fromSchema(t.state.schema)).parseSlice(o,{preserveWhitespace:!!(l||u),context:i,ruleFromNode(f){return f.nodeName=="BR"&&!f.nextSibling&&f.parentNode&&!f_e.test(f.parentNode.nodeName)?{ignore:!0}:null}})),u)a=y_e(NF(a,+u[1],+u[2]),u[4]);else if(a=ye.maxOpen(h_e(a.content,i),!0),a.openStart||a.openEnd){let d=0,f=0;for(let p=a.content.firstChild;d<a.openStart&&!p.type.spec.isolating;d++,p=p.firstChild);for(let p=a.content.lastChild;f<a.openEnd&&!p.type.spec.isolating;f++,p=p.lastChild);a=NF(a,d,f)}return t.someProp("transformPasted",d=>{a=d(a,t)}),a}const f_e=/^(a|abbr|acronym|b|cite|code|del|em|i|ins|kbd|label|output|q|ruby|s|samp|span|strong|sub|sup|time|u|tt|var)$/i;function h_e(t,e){if(t.childCount<2)return t;for(let n=e.depth;n>=0;n--){let i=e.node(n).contentMatchAt(e.index(n)),s,o=[];if(t.forEach(a=>{if(!o)return;let l=i.findWrapping(a.type),c;if(!l)return o=null;if(c=o.length&&s.length&&cQ(l,s,a,o[o.length-1],0))o[o.length-1]=c;else{o.length&&(o[o.length-1]=uQ(o[o.length-1],s.length));let u=lQ(a,l);o.push(u),i=i.matchType(u.type),s=l}}),o)return ne.from(o)}return t}function lQ(t,e,n=0){for(let r=e.length-1;r>=n;r--)t=e[r].create(null,ne.from(t));return t}function cQ(t,e,n,r,i){if(i<t.length&&i<e.length&&t[i]==e[i]){let s=cQ(t,e,n,r.lastChild,i+1);if(s)return r.copy(r.content.replaceChild(r.childCount-1,s));if(r.contentMatchAt(r.childCount).matchType(i==t.length-1?n.type:t[i+1]))return r.copy(r.content.append(ne.from(lQ(n,t,i+1))))}}function uQ(t,e){if(e==0)return t;let n=t.content.replaceChild(t.childCount-1,uQ(t.lastChild,e-1)),r=t.contentMatchAt(t.childCount).fillBefore(ne.empty,!0);return t.copy(n.append(r))}function EC(t,e,n,r,i,s){let o=e<0?t.firstChild:t.lastChild,a=o.content;return t.childCount>1&&(s=0),i<r-1&&(a=EC(a,e,n,r,i+1,s)),i>=n&&(a=e<0?o.contentMatchAt(0).fillBefore(a,s<=i).append(a):a.append(o.contentMatchAt(o.childCount).fillBefore(ne.empty,!0))),t.replaceChild(e<0?0:t.childCount-1,o.copy(a))}function NF(t,e,n){return e<t.openStart&&(t=new ye(EC(t.content,-1,e,t.openStart,0,t.openEnd),e,t.openEnd)),n<t.openEnd&&(t=new ye(EC(t.content,1,n,t.openEnd,0,0),t.openStart,n)),t}const dQ={thead:["table"],tbody:["table"],tfoot:["table"],caption:["table"],colgroup:["table"],col:["table","colgroup"],tr:["table","tbody"],td:["table","tbody","tr"],th:["table","tbody","tr"]};let jF=null;function fQ(){return jF||(jF=document.implementation.createHTMLDocument("title"))}let tA=null;function p_e(t){let e=window.trustedTypes;return e?(tA||(tA=e.createPolicy("ProseMirrorClipboard",{createHTML:n=>n})),tA.createHTML(t)):t}function m_e(t){let e=/^(\s*<meta [^>]*>)*/.exec(t);e&&(t=t.slice(e[0].length));let n=fQ().createElement("div"),r=/<([a-z][^>\s]+)/i.exec(t),i;if((i=r&&dQ[r[1].toLowerCase()])&&(t=i.map(s=>"<"+s+">").join("")+t+i.map(s=>"</"+s+">").reverse().join("")),n.innerHTML=p_e(t),i)for(let s=0;s<i.length;s++)n=n.querySelector(i[s])||n;return n}function g_e(t){let e=t.querySelectorAll(Er?"span:not([class]):not([style])":"span.Apple-converted-space");for(let n=0;n<e.length;n++){let r=e[n];r.childNodes.length==1&&r.textContent==""&&r.parentNode&&r.parentNode.replaceChild(t.ownerDocument.createTextNode(" "),r)}}function y_e(t,e){if(!t.size)return t;let n=t.content.firstChild.type.schema,r;try{r=JSON.parse(e)}catch{return t}let{content:i,openStart:s,openEnd:o}=t;for(let a=r.length-2;a>=0;a-=2){let l=n.nodes[r[a]];if(!l||l.hasRequiredAttrs())break;i=ne.from(l.create(r[a+1],i)),s++,o++}return new ye(i,s,o)}const Kr={},Gr={},v_e={touchstart:!0,touchmove:!0};class x_e{constructor(){this.shiftKey=!1,this.mouseDown=null,this.lastKeyCode=null,this.lastKeyCodeTime=0,this.lastClick={time:0,x:0,y:0,type:""},this.lastSelectionOrigin=null,this.lastSelectionTime=0,this.lastIOSEnter=0,this.lastIOSEnterFallbackTimeout=-1,this.lastFocus=0,this.lastTouch=0,this.lastAndroidDelete=0,this.composing=!1,this.compositionNode=null,this.composingTimeout=-1,this.compositionNodes=[],this.compositionEndedAt=-2e8,this.compositionID=1,this.compositionPendingChanges=0,this.domChangeCount=0,this.eventHandlers=Object.create(null),this.hideSelectionGuard=null}}function b_e(t){for(let e in Kr){let n=Kr[e];t.dom.addEventListener(e,t.input.eventHandlers[e]=r=>{__e(t,r)&&!gj(t,r)&&(t.editable||!(r.type in Gr))&&n(t,r)},v_e[e]?{passive:!0}:void 0)}Wr&&t.dom.addEventListener("input",()=>null),TC(t)}function wl(t,e){t.input.lastSelectionOrigin=e,t.input.lastSelectionTime=Date.now()}function w_e(t){t.domObserver.stop();for(let e in t.input.eventHandlers)t.dom.removeEventListener(e,t.input.eventHandlers[e]);clearTimeout(t.input.composingTimeout),clearTimeout(t.input.lastIOSEnterFallbackTimeout)}function TC(t){t.someProp("handleDOMEvents",e=>{for(let n in e)t.input.eventHandlers[n]||t.dom.addEventListener(n,t.input.eventHandlers[n]=r=>gj(t,r))})}function gj(t,e){return t.someProp("handleDOMEvents",n=>{let r=n[e.type];return r?r(t,e)||e.defaultPrevented:!1})}function __e(t,e){if(!e.bubbles)return!0;if(e.defaultPrevented)return!1;for(let n=e.target;n!=t.dom;n=n.parentNode)if(!n||n.nodeType==11||n.pmViewDesc&&n.pmViewDesc.stopEvent(e))return!1;return!0}function S_e(t,e){!gj(t,e)&&Kr[e.type]&&(t.editable||!(e.type in Gr))&&Kr[e.type](t,e)}Gr.keydown=(t,e)=>{let n=e;if(t.input.shiftKey=n.keyCode==16||n.shiftKey,!pQ(t,n)&&(t.input.lastKeyCode=n.keyCode,t.input.lastKeyCodeTime=Date.now(),!(ws&&Er&&n.keyCode==13)))if(n.keyCode!=229&&t.domObserver.forceFlush(),_h&&n.keyCode==13&&!n.ctrlKey&&!n.altKey&&!n.metaKey){let r=Date.now();t.input.lastIOSEnter=r,t.input.lastIOSEnterFallbackTimeout=setTimeout(()=>{t.input.lastIOSEnter==r&&(t.someProp("handleKeyDown",i=>i(t,zc(13,"Enter"))),t.input.lastIOSEnter=0)},200)}else t.someProp("handleKeyDown",r=>r(t,n))||d_e(t,n)?n.preventDefault():wl(t,"key")};Gr.keyup=(t,e)=>{e.keyCode==16&&(t.input.shiftKey=!1)};Gr.keypress=(t,e)=>{let n=e;if(pQ(t,n)||!n.charCode||n.ctrlKey&&!n.altKey||Ki&&n.metaKey)return;if(t.someProp("handleKeyPress",i=>i(t,n))){n.preventDefault();return}let r=t.state.selection;if(!(r instanceof Ue)||!r.$from.sameParent(r.$to)){let i=String.fromCharCode(n.charCode);!/[\r\n]/.test(i)&&!t.someProp("handleTextInput",s=>s(t,r.$from.pos,r.$to.pos,i))&&t.dispatch(t.state.tr.insertText(i).scrollIntoView()),n.preventDefault()}};function wS(t){return{left:t.clientX,top:t.clientY}}function E_e(t,e){let n=e.x-t.clientX,r=e.y-t.clientY;return n*n+r*r<100}function yj(t,e,n,r,i){if(r==-1)return!1;let s=t.state.doc.resolve(r);for(let o=s.depth+1;o>0;o--)if(t.someProp(e,a=>o>s.depth?a(t,n,s.nodeAfter,s.before(o),i,!0):a(t,n,s.node(o),s.before(o),i,!1)))return!0;return!1}function Of(t,e,n){if(t.focused||t.focus(),t.state.selection.eq(e))return;let r=t.state.tr.setSelection(e);r.setMeta("pointer",!0),t.dispatch(r)}function T_e(t,e){if(e==-1)return!1;let n=t.state.doc.resolve(e),r=n.nodeAfter;return r&&r.isAtom&&Oe.isSelectable(r)?(Of(t,new Oe(n)),!0):!1}function A_e(t,e){if(e==-1)return!1;let n=t.state.selection,r,i;n instanceof Oe&&(r=n.node);let s=t.state.doc.resolve(e);for(let o=s.depth+1;o>0;o--){let a=o>s.depth?s.nodeAfter:s.node(o);if(Oe.isSelectable(a)){r&&n.$from.depth>0&&o>=n.$from.depth&&s.before(n.$from.depth+1)==n.$from.pos?i=s.before(n.$from.depth):i=s.before(o);break}}return i!=null?(Of(t,Oe.create(t.state.doc,i)),!0):!1}function k_e(t,e,n,r,i){return yj(t,"handleClickOn",e,n,r)||t.someProp("handleClick",s=>s(t,e,r))||(i?A_e(t,n):T_e(t,n))}function P_e(t,e,n,r){return yj(t,"handleDoubleClickOn",e,n,r)||t.someProp("handleDoubleClick",i=>i(t,e,r))}function C_e(t,e,n,r){return yj(t,"handleTripleClickOn",e,n,r)||t.someProp("handleTripleClick",i=>i(t,e,r))||I_e(t,n,r)}function I_e(t,e,n){if(n.button!=0)return!1;let r=t.state.doc;if(e==-1)return r.inlineContent?(Of(t,Ue.create(r,0,r.content.size)),!0):!1;let i=r.resolve(e);for(let s=i.depth+1;s>0;s--){let o=s>i.depth?i.nodeAfter:i.node(s),a=i.before(s);if(o.inlineContent)Of(t,Ue.create(r,a+1,a+1+o.content.size));else if(Oe.isSelectable(o))Of(t,Oe.create(r,a));else continue;return!0}}function vj(t){return Sw(t)}const hQ=Ki?"metaKey":"ctrlKey";Kr.mousedown=(t,e)=>{let n=e;t.input.shiftKey=n.shiftKey;let r=vj(t),i=Date.now(),s="singleClick";i-t.input.lastClick.time<500&&E_e(n,t.input.lastClick)&&!n[hQ]&&(t.input.lastClick.type=="singleClick"?s="doubleClick":t.input.lastClick.type=="doubleClick"&&(s="tripleClick")),t.input.lastClick={time:i,x:n.clientX,y:n.clientY,type:s};let o=t.posAtCoords(wS(n));o&&(s=="singleClick"?(t.input.mouseDown&&t.input.mouseDown.done(),t.input.mouseDown=new O_e(t,o,n,!!r)):(s=="doubleClick"?P_e:C_e)(t,o.pos,o.inside,n)?n.preventDefault():wl(t,"pointer"))};class O_e{constructor(e,n,r,i){this.view=e,this.pos=n,this.event=r,this.flushed=i,this.delayedSelectionSync=!1,this.mightDrag=null,this.startDoc=e.state.doc,this.selectNode=!!r[hQ],this.allowDefault=r.shiftKey;let s,o;if(n.inside>-1)s=e.state.doc.nodeAt(n.inside),o=n.inside;else{let u=e.state.doc.resolve(n.pos);s=u.parent,o=u.depth?u.before():0}const a=i?null:r.target,l=a?e.docView.nearestDesc(a,!0):null;this.target=l&&l.dom.nodeType==1?l.dom:null;let{selection:c}=e.state;(r.button==0&&s.type.spec.draggable&&s.type.spec.selectable!==!1||c instanceof Oe&&c.from<=o&&c.to>o)&&(this.mightDrag={node:s,pos:o,addAttr:!!(this.target&&!this.target.draggable),setUneditable:!!(this.target&&Is&&!this.target.hasAttribute("contentEditable"))}),this.target&&this.mightDrag&&(this.mightDrag.addAttr||this.mightDrag.setUneditable)&&(this.view.domObserver.stop(),this.mightDrag.addAttr&&(this.target.draggable=!0),this.mightDrag.setUneditable&&setTimeout(()=>{this.view.input.mouseDown==this&&this.target.setAttribute("contentEditable","false")},20),this.view.domObserver.start()),e.root.addEventListener("mouseup",this.up=this.up.bind(this)),e.root.addEventListener("mousemove",this.move=this.move.bind(this)),wl(e,"pointer")}done(){this.view.root.removeEventListener("mouseup",this.up),this.view.root.removeEventListener("mousemove",this.move),this.mightDrag&&this.target&&(this.view.domObserver.stop(),this.mightDrag.addAttr&&this.target.removeAttribute("draggable"),this.mightDrag.setUneditable&&this.target.removeAttribute("contentEditable"),this.view.domObserver.start()),this.delayedSelectionSync&&setTimeout(()=>Zo(this.view)),this.view.input.mouseDown=null}up(e){if(this.done(),!this.view.dom.contains(e.target))return;let n=this.pos;this.view.state.doc!=this.startDoc&&(n=this.view.posAtCoords(wS(e))),this.updateAllowDefault(e),this.allowDefault||!n?wl(this.view,"pointer"):k_e(this.view,n.pos,n.inside,e,this.selectNode)?e.preventDefault():e.button==0&&(this.flushed||Wr&&this.mightDrag&&!this.mightDrag.node.isAtom||Er&&!this.view.state.selection.visible&&Math.min(Math.abs(n.pos-this.view.state.selection.from),Math.abs(n.pos-this.view.state.selection.to))<=2)?(Of(this.view,Ke.near(this.view.state.doc.resolve(n.pos))),e.preventDefault()):wl(this.view,"pointer")}move(e){this.updateAllowDefault(e),wl(this.view,"pointer"),e.buttons==0&&this.done()}updateAllowDefault(e){!this.allowDefault&&(Math.abs(this.event.x-e.clientX)>4||Math.abs(this.event.y-e.clientY)>4)&&(this.allowDefault=!0)}}Kr.touchstart=t=>{t.input.lastTouch=Date.now(),vj(t),wl(t,"pointer")};Kr.touchmove=t=>{t.input.lastTouch=Date.now(),wl(t,"pointer")};Kr.contextmenu=t=>vj(t);function pQ(t,e){return t.composing?!0:Wr&&Math.abs(e.timeStamp-t.input.compositionEndedAt)<500?(t.input.compositionEndedAt=-2e8,!0):!1}const N_e=ws?5e3:-1;Gr.compositionstart=Gr.compositionupdate=t=>{if(!t.composing){t.domObserver.flush();let{state:e}=t,n=e.selection.$to;if(e.selection instanceof Ue&&(e.storedMarks||!n.textOffset&&n.parentOffset&&n.nodeBefore.marks.some(r=>r.type.spec.inclusive===!1)))t.markCursor=t.state.storedMarks||n.marks(),Sw(t,!0),t.markCursor=null;else if(Sw(t,!e.selection.empty),Is&&e.selection.empty&&n.parentOffset&&!n.textOffset&&n.nodeBefore.marks.length){let r=t.domSelectionRange();for(let i=r.focusNode,s=r.focusOffset;i&&i.nodeType==1&&s!=0;){let o=s<0?i.lastChild:i.childNodes[s-1];if(!o)break;if(o.nodeType==3){let a=t.domSelection();a&&a.collapse(o,o.nodeValue.length);break}else i=o,s=-1}}t.input.composing=!0}mQ(t,N_e)};Gr.compositionend=(t,e)=>{t.composing&&(t.input.composing=!1,t.input.compositionEndedAt=e.timeStamp,t.input.compositionPendingChanges=t.domObserver.pendingRecords().length?t.input.compositionID:0,t.input.compositionNode=null,t.input.compositionPendingChanges&&Promise.resolve().then(()=>t.domObserver.flush()),t.input.compositionID++,mQ(t,20))};function mQ(t,e){clearTimeout(t.input.composingTimeout),e>-1&&(t.input.composingTimeout=setTimeout(()=>Sw(t),e))}function gQ(t){for(t.composing&&(t.input.composing=!1,t.input.compositionEndedAt=R_e());t.input.compositionNodes.length>0;)t.input.compositionNodes.pop().markParentsDirty()}function j_e(t){let e=t.domSelectionRange();if(!e.focusNode)return null;let n=T1e(e.focusNode,e.focusOffset),r=A1e(e.focusNode,e.focusOffset);if(n&&r&&n!=r){let i=r.pmViewDesc,s=t.domObserver.lastChangedTextNode;if(n==s||r==s)return s;if(!i||!i.isText(r.nodeValue))return r;if(t.input.compositionNode==r){let o=n.pmViewDesc;if(!(!o||!o.isText(n.nodeValue)))return r}}return n||r}function R_e(){let t=document.createEvent("Event");return t.initEvent("event",!0,!0),t.timeStamp}function Sw(t,e=!1){if(!(ws&&t.domObserver.flushingSoon>=0)){if(t.domObserver.forceFlush(),gQ(t),e||t.docView&&t.docView.dirty){let n=pj(t);return n&&!n.eq(t.state.selection)?t.dispatch(t.state.tr.setSelection(n)):(t.markCursor||e)&&!t.state.selection.empty?t.dispatch(t.state.tr.deleteSelection()):t.updateState(t.state),!0}return!1}}function D_e(t,e){if(!t.dom.parentNode)return;let n=t.dom.parentNode.appendChild(document.createElement("div"));n.appendChild(e),n.style.cssText="position: fixed; left: -10000px; top: 10px";let r=getSelection(),i=document.createRange();i.selectNodeContents(e),t.dom.blur(),r.removeAllRanges(),r.addRange(i),setTimeout(()=>{n.parentNode&&n.parentNode.removeChild(n),t.focus()},50)}const hy=di&&Ll<15||_h&&O1e<604;Kr.copy=Gr.cut=(t,e)=>{let n=e,r=t.state.selection,i=n.type=="cut";if(r.empty)return;let s=hy?null:n.clipboardData,o=r.content(),{dom:a,text:l}=oQ(t,o);s?(n.preventDefault(),s.clearData(),s.setData("text/html",a.innerHTML),s.setData("text/plain",l)):D_e(t,a),i&&t.dispatch(t.state.tr.deleteSelection().scrollIntoView().setMeta("uiEvent","cut"))};function M_e(t){return t.openStart==0&&t.openEnd==0&&t.content.childCount==1?t.content.firstChild:null}function L_e(t,e){if(!t.dom.parentNode)return;let n=t.input.shiftKey||t.state.selection.$from.parent.type.spec.code,r=t.dom.parentNode.appendChild(document.createElement(n?"textarea":"div"));n||(r.contentEditable="true"),r.style.cssText="position: fixed; left: -10000px; top: 10px",r.focus();let i=t.input.shiftKey&&t.input.lastKeyCode!=45;setTimeout(()=>{t.focus(),r.parentNode&&r.parentNode.removeChild(r),n?py(t,r.value,null,i,e):py(t,r.textContent,r.innerHTML,i,e)},50)}function py(t,e,n,r,i){let s=aQ(t,e,n,r,t.state.selection.$from);if(t.someProp("handlePaste",l=>l(t,i,s||ye.empty)))return!0;if(!s)return!1;let o=M_e(s),a=o?t.state.tr.replaceSelectionWith(o,r):t.state.tr.replaceSelection(s);return t.dispatch(a.scrollIntoView().setMeta("paste",!0).setMeta("uiEvent","paste")),!0}function yQ(t){let e=t.getData("text/plain")||t.getData("Text");if(e)return e;let n=t.getData("text/uri-list");return n?n.replace(/\r?\n/g," "):""}Gr.paste=(t,e)=>{let n=e;if(t.composing&&!ws)return;let r=hy?null:n.clipboardData,i=t.input.shiftKey&&t.input.lastKeyCode!=45;r&&py(t,yQ(r),r.getData("text/html"),i,n)?n.preventDefault():L_e(t,n)};class vQ{constructor(e,n,r){this.slice=e,this.move=n,this.node=r}}const xQ=Ki?"altKey":"ctrlKey";Kr.dragstart=(t,e)=>{let n=e,r=t.input.mouseDown;if(r&&r.done(),!n.dataTransfer)return;let i=t.state.selection,s=i.empty?null:t.posAtCoords(wS(n)),o;if(!(s&&s.pos>=i.from&&s.pos<=(i instanceof Oe?i.to-1:i.to))){if(r&&r.mightDrag)o=Oe.create(t.state.doc,r.mightDrag.pos);else if(n.target&&n.target.nodeType==1){let d=t.docView.nearestDesc(n.target,!0);d&&d.node.type.spec.draggable&&d!=t.docView&&(o=Oe.create(t.state.doc,d.posBefore))}}let a=(o||t.state.selection).content(),{dom:l,text:c,slice:u}=oQ(t,a);(!n.dataTransfer.files.length||!Er||qG>120)&&n.dataTransfer.clearData(),n.dataTransfer.setData(hy?"Text":"text/html",l.innerHTML),n.dataTransfer.effectAllowed="copyMove",hy||n.dataTransfer.setData("text/plain",c),t.dragging=new vQ(u,!n[xQ],o)};Kr.dragend=t=>{let e=t.dragging;window.setTimeout(()=>{t.dragging==e&&(t.dragging=null)},50)};Gr.dragover=Gr.dragenter=(t,e)=>e.preventDefault();Gr.drop=(t,e)=>{let n=e,r=t.dragging;if(t.dragging=null,!n.dataTransfer)return;let i=t.posAtCoords(wS(n));if(!i)return;let s=t.state.doc.resolve(i.pos),o=r&&r.slice;o?t.someProp("transformPasted",m=>{o=m(o,t)}):o=aQ(t,yQ(n.dataTransfer),hy?null:n.dataTransfer.getData("text/html"),!1,s);let a=!!(r&&!n[xQ]);if(t.someProp("handleDrop",m=>m(t,n,o||ye.empty,a))){n.preventDefault();return}if(!o)return;n.preventDefault();let l=o?DG(t.state.doc,s.pos,o):s.pos;l==null&&(l=s.pos);let c=t.state.tr;if(a){let{node:m}=r;m?m.replace(c):c.deleteSelection()}let u=c.mapping.map(l),d=o.openStart==0&&o.openEnd==0&&o.content.childCount==1,f=c.doc;if(d?c.replaceRangeWith(u,u,o.content.firstChild):c.replaceRange(u,u,o),c.doc.eq(f))return;let p=c.doc.resolve(u);if(d&&Oe.isSelectable(o.content.firstChild)&&p.nodeAfter&&p.nodeAfter.sameMarkup(o.content.firstChild))c.setSelection(new Oe(p));else{let m=c.mapping.map(l);c.mapping.maps[c.mapping.maps.length-1].forEach((g,v,x,b)=>m=b),c.setSelection(mj(t,p,c.doc.resolve(m)))}t.focus(),t.dispatch(c.setMeta("uiEvent","drop"))};Kr.focus=t=>{t.input.lastFocus=Date.now(),t.focused||(t.domObserver.stop(),t.dom.classList.add("ProseMirror-focused"),t.domObserver.start(),t.focused=!0,setTimeout(()=>{t.docView&&t.hasFocus()&&!t.domObserver.currentSelection.eq(t.domSelectionRange())&&Zo(t)},20))};Kr.blur=(t,e)=>{let n=e;t.focused&&(t.domObserver.stop(),t.dom.classList.remove("ProseMirror-focused"),t.domObserver.start(),n.relatedTarget&&t.dom.contains(n.relatedTarget)&&t.domObserver.currentSelection.clear(),t.focused=!1)};Kr.beforeinput=(t,e)=>{if(Er&&ws&&e.inputType=="deleteContentBackward"){t.domObserver.flushSoon();let{domChangeCount:r}=t.input;setTimeout(()=>{if(t.input.domChangeCount!=r||(t.dom.blur(),t.focus(),t.someProp("handleKeyDown",s=>s(t,zc(8,"Backspace")))))return;let{$cursor:i}=t.state.selection;i&&i.pos>0&&t.dispatch(t.state.tr.delete(i.pos-1,i.pos).scrollIntoView())},50)}};for(let t in Gr)Kr[t]=Gr[t];function my(t,e){if(t==e)return!0;for(let n in t)if(t[n]!==e[n])return!1;for(let n in e)if(!(n in t))return!1;return!0}class Ew{constructor(e,n){this.toDOM=e,this.spec=n||wu,this.side=this.spec.side||0}map(e,n,r,i){let{pos:s,deleted:o}=e.mapResult(n.from+i,this.side<0?-1:1);return o?null:new ki(s-r,s-r,this)}valid(){return!0}eq(e){return this==e||e instanceof Ew&&(this.spec.key&&this.spec.key==e.spec.key||this.toDOM==e.toDOM&&my(this.spec,e.spec))}destroy(e){this.spec.destroy&&this.spec.destroy(e)}}class Vl{constructor(e,n){this.attrs=e,this.spec=n||wu}map(e,n,r,i){let s=e.map(n.from+i,this.spec.inclusiveStart?-1:1)-r,o=e.map(n.to+i,this.spec.inclusiveEnd?1:-1)-r;return s>=o?null:new ki(s,o,this)}valid(e,n){return n.from<n.to}eq(e){return this==e||e instanceof Vl&&my(this.attrs,e.attrs)&&my(this.spec,e.spec)}static is(e){return e.type instanceof Vl}destroy(){}}class xj{constructor(e,n){this.attrs=e,this.spec=n||wu}map(e,n,r,i){let s=e.mapResult(n.from+i,1);if(s.deleted)return null;let o=e.mapResult(n.to+i,-1);return o.deleted||o.pos<=s.pos?null:new ki(s.pos-r,o.pos-r,this)}valid(e,n){let{index:r,offset:i}=e.content.findIndex(n.from),s;return i==n.from&&!(s=e.child(r)).isText&&i+s.nodeSize==n.to}eq(e){return this==e||e instanceof xj&&my(this.attrs,e.attrs)&&my(this.spec,e.spec)}destroy(){}}class ki{constructor(e,n,r){this.from=e,this.to=n,this.type=r}copy(e,n){return new ki(e,n,this.type)}eq(e,n=0){return this.type.eq(e.type)&&this.from+n==e.from&&this.to+n==e.to}map(e,n,r){return this.type.map(e,this,n,r)}static widget(e,n,r){return new ki(e,e,new Ew(n,r))}static inline(e,n,r,i){return new ki(e,n,new Vl(r,i))}static node(e,n,r,i){return new ki(e,n,new xj(r,i))}get spec(){return this.type.spec}get inline(){return this.type instanceof Vl}get widget(){return this.type instanceof Ew}}const Bd=[],wu={};class Sn{constructor(e,n){this.local=e.length?e:Bd,this.children=n.length?n:Bd}static create(e,n){return n.length?Tw(n,e,0,wu):yr}find(e,n,r){let i=[];return this.findInner(e??0,n??1e9,i,0,r),i}findInner(e,n,r,i,s){for(let o=0;o<this.local.length;o++){let a=this.local[o];a.from<=n&&a.to>=e&&(!s||s(a.spec))&&r.push(a.copy(a.from+i,a.to+i))}for(let o=0;o<this.children.length;o+=3)if(this.children[o]<n&&this.children[o+1]>e){let a=this.children[o]+1;this.children[o+2].findInner(e-a,n-a,r,i+a,s)}}map(e,n,r){return this==yr||e.maps.length==0?this:this.mapInner(e,n,0,0,r||wu)}mapInner(e,n,r,i,s){let o;for(let a=0;a<this.local.length;a++){let l=this.local[a].map(e,r,i);l&&l.type.valid(n,l)?(o||(o=[])).push(l):s.onRemove&&s.onRemove(this.local[a].spec)}return this.children.length?$_e(this.children,o||[],e,n,r,i,s):o?new Sn(o.sort(_u),Bd):yr}add(e,n){return n.length?this==yr?Sn.create(e,n):this.addInner(e,n,0):this}addInner(e,n,r){let i,s=0;e.forEach((a,l)=>{let c=l+r,u;if(u=wQ(n,a,c)){for(i||(i=this.children.slice());s<i.length&&i[s]<l;)s+=3;i[s]==l?i[s+2]=i[s+2].addInner(a,u,c+1):i.splice(s,0,l,l+a.nodeSize,Tw(u,a,c+1,wu)),s+=3}});let o=bQ(s?_Q(n):n,-r);for(let a=0;a<o.length;a++)o[a].type.valid(e,o[a])||o.splice(a--,1);return new Sn(o.length?this.local.concat(o).sort(_u):this.local,i||this.children)}remove(e){return e.length==0||this==yr?this:this.removeInner(e,0)}removeInner(e,n){let r=this.children,i=this.local;for(let s=0;s<r.length;s+=3){let o,a=r[s]+n,l=r[s+1]+n;for(let u=0,d;u<e.length;u++)(d=e[u])&&d.from>a&&d.to<l&&(e[u]=null,(o||(o=[])).push(d));if(!o)continue;r==this.children&&(r=this.children.slice());let c=r[s+2].removeInner(o,a+1);c!=yr?r[s+2]=c:(r.splice(s,3),s-=3)}if(i.length){for(let s=0,o;s<e.length;s++)if(o=e[s])for(let a=0;a<i.length;a++)i[a].eq(o,n)&&(i==this.local&&(i=this.local.slice()),i.splice(a--,1))}return r==this.children&&i==this.local?this:i.length||r.length?new Sn(i,r):yr}forChild(e,n){if(this==yr)return this;if(n.isLeaf)return Sn.empty;let r,i;for(let a=0;a<this.children.length;a+=3)if(this.children[a]>=e){this.children[a]==e&&(r=this.children[a+2]);break}let s=e+1,o=s+n.content.size;for(let a=0;a<this.local.length;a++){let l=this.local[a];if(l.from<o&&l.to>s&&l.type instanceof Vl){let c=Math.max(s,l.from)-s,u=Math.min(o,l.to)-s;c<u&&(i||(i=[])).push(l.copy(c,u))}}if(i){let a=new Sn(i.sort(_u),Bd);return r?new rl([a,r]):a}return r||yr}eq(e){if(this==e)return!0;if(!(e instanceof Sn)||this.local.length!=e.local.length||this.children.length!=e.children.length)return!1;for(let n=0;n<this.local.length;n++)if(!this.local[n].eq(e.local[n]))return!1;for(let n=0;n<this.children.length;n+=3)if(this.children[n]!=e.children[n]||this.children[n+1]!=e.children[n+1]||!this.children[n+2].eq(e.children[n+2]))return!1;return!0}locals(e){return bj(this.localsInner(e))}localsInner(e){if(this==yr)return Bd;if(e.inlineContent||!this.local.some(Vl.is))return this.local;let n=[];for(let r=0;r<this.local.length;r++)this.local[r].type instanceof Vl||n.push(this.local[r]);return n}forEachSet(e){e(this)}}Sn.empty=new Sn([],[]);Sn.removeOverlap=bj;const yr=Sn.empty;class rl{constructor(e){this.members=e}map(e,n){const r=this.members.map(i=>i.map(e,n,wu));return rl.from(r)}forChild(e,n){if(n.isLeaf)return Sn.empty;let r=[];for(let i=0;i<this.members.length;i++){let s=this.members[i].forChild(e,n);s!=yr&&(s instanceof rl?r=r.concat(s.members):r.push(s))}return rl.from(r)}eq(e){if(!(e instanceof rl)||e.members.length!=this.members.length)return!1;for(let n=0;n<this.members.length;n++)if(!this.members[n].eq(e.members[n]))return!1;return!0}locals(e){let n,r=!0;for(let i=0;i<this.members.length;i++){let s=this.members[i].localsInner(e);if(s.length)if(!n)n=s;else{r&&(n=n.slice(),r=!1);for(let o=0;o<s.length;o++)n.push(s[o])}}return n?bj(r?n:n.sort(_u)):Bd}static from(e){switch(e.length){case 0:return yr;case 1:return e[0];default:return new rl(e.every(n=>n instanceof Sn)?e:e.reduce((n,r)=>n.concat(r instanceof Sn?r:r.members),[]))}}forEachSet(e){for(let n=0;n<this.members.length;n++)this.members[n].forEachSet(e)}}function $_e(t,e,n,r,i,s,o){let a=t.slice();for(let c=0,u=s;c<n.maps.length;c++){let d=0;n.maps[c].forEach((f,p,m,g)=>{let v=g-m-(p-f);for(let x=0;x<a.length;x+=3){let b=a[x+1];if(b<0||f>b+u-d)continue;let w=a[x]+u-d;p>=w?a[x+1]=f<=w?-2:-1:f>=u&&v&&(a[x]+=v,a[x+1]+=v)}d+=v}),u=n.maps[c].map(u,-1)}let l=!1;for(let c=0;c<a.length;c+=3)if(a[c+1]<0){if(a[c+1]==-2){l=!0,a[c+1]=-1;continue}let u=n.map(t[c]+s),d=u-i;if(d<0||d>=r.content.size){l=!0;continue}let f=n.map(t[c+1]+s,-1),p=f-i,{index:m,offset:g}=r.content.findIndex(d),v=r.maybeChild(m);if(v&&g==d&&g+v.nodeSize==p){let x=a[c+2].mapInner(n,v,u+1,t[c]+s+1,o);x!=yr?(a[c]=d,a[c+1]=p,a[c+2]=x):(a[c+1]=-2,l=!0)}else l=!0}if(l){let c=V_e(a,t,e,n,i,s,o),u=Tw(c,r,0,o);e=u.local;for(let d=0;d<a.length;d+=3)a[d+1]<0&&(a.splice(d,3),d-=3);for(let d=0,f=0;d<u.children.length;d+=3){let p=u.children[d];for(;f<a.length&&a[f]<p;)f+=3;a.splice(f,0,u.children[d],u.children[d+1],u.children[d+2])}}return new Sn(e.sort(_u),a)}function bQ(t,e){if(!e||!t.length)return t;let n=[];for(let r=0;r<t.length;r++){let i=t[r];n.push(new ki(i.from+e,i.to+e,i.type))}return n}function V_e(t,e,n,r,i,s,o){function a(l,c){for(let u=0;u<l.local.length;u++){let d=l.local[u].map(r,i,c);d?n.push(d):o.onRemove&&o.onRemove(l.local[u].spec)}for(let u=0;u<l.children.length;u+=3)a(l.children[u+2],l.children[u]+c+1)}for(let l=0;l<t.length;l+=3)t[l+1]==-1&&a(t[l+2],e[l]+s+1);return n}function wQ(t,e,n){if(e.isLeaf)return null;let r=n+e.nodeSize,i=null;for(let s=0,o;s<t.length;s++)(o=t[s])&&o.from>n&&o.to<r&&((i||(i=[])).push(o),t[s]=null);return i}function _Q(t){let e=[];for(let n=0;n<t.length;n++)t[n]!=null&&e.push(t[n]);return e}function Tw(t,e,n,r){let i=[],s=!1;e.forEach((a,l)=>{let c=wQ(t,a,l+n);if(c){s=!0;let u=Tw(c,a,n+l+1,r);u!=yr&&i.push(l,l+a.nodeSize,u)}});let o=bQ(s?_Q(t):t,-n).sort(_u);for(let a=0;a<o.length;a++)o[a].type.valid(e,o[a])||(r.onRemove&&r.onRemove(o[a].spec),o.splice(a--,1));return o.length||i.length?new Sn(o,i):yr}function _u(t,e){return t.from-e.from||t.to-e.to}function bj(t){let e=t;for(let n=0;n<e.length-1;n++){let r=e[n];if(r.from!=r.to)for(let i=n+1;i<e.length;i++){let s=e[i];if(s.from==r.from){s.to!=r.to&&(e==t&&(e=t.slice()),e[i]=s.copy(s.from,r.to),RF(e,i+1,s.copy(r.to,s.to)));continue}else{s.from<r.to&&(e==t&&(e=t.slice()),e[n]=r.copy(r.from,s.from),RF(e,i,r.copy(s.from,r.to)));break}}}return e}function RF(t,e,n){for(;e<t.length&&_u(n,t[e])>0;)e++;t.splice(e,0,n)}function nA(t){let e=[];return t.someProp("decorations",n=>{let r=n(t.state);r&&r!=yr&&e.push(r)}),t.cursorWrapper&&e.push(Sn.create(t.state.doc,[t.cursorWrapper.deco])),rl.from(e)}const F_e={childList:!0,characterData:!0,characterDataOldValue:!0,attributes:!0,attributeOldValue:!0,subtree:!0},B_e=di&&Ll<=11;class U_e{constructor(){this.anchorNode=null,this.anchorOffset=0,this.focusNode=null,this.focusOffset=0}set(e){this.anchorNode=e.anchorNode,this.anchorOffset=e.anchorOffset,this.focusNode=e.focusNode,this.focusOffset=e.focusOffset}clear(){this.anchorNode=this.focusNode=null}eq(e){return e.anchorNode==this.anchorNode&&e.anchorOffset==this.anchorOffset&&e.focusNode==this.focusNode&&e.focusOffset==this.focusOffset}}class z_e{constructor(e,n){this.view=e,this.handleDOMChange=n,this.queue=[],this.flushingSoon=-1,this.observer=null,this.currentSelection=new U_e,this.onCharData=null,this.suppressingSelectionUpdates=!1,this.lastChangedTextNode=null,this.observer=window.MutationObserver&&new window.MutationObserver(r=>{for(let i=0;i<r.length;i++)this.queue.push(r[i]);di&&Ll<=11&&r.some(i=>i.type=="childList"&&i.removedNodes.length||i.type=="characterData"&&i.oldValue.length>i.target.nodeValue.length)?this.flushSoon():this.flush()}),B_e&&(this.onCharData=r=>{this.queue.push({target:r.target,type:"characterData",oldValue:r.prevValue}),this.flushSoon()}),this.onSelectionChange=this.onSelectionChange.bind(this)}flushSoon(){this.flushingSoon<0&&(this.flushingSoon=window.setTimeout(()=>{this.flushingSoon=-1,this.flush()},20))}forceFlush(){this.flushingSoon>-1&&(window.clearTimeout(this.flushingSoon),this.flushingSoon=-1,this.flush())}start(){this.observer&&(this.observer.takeRecords(),this.observer.observe(this.view.dom,F_e)),this.onCharData&&this.view.dom.addEventListener("DOMCharacterDataModified",this.onCharData),this.connectSelection()}stop(){if(this.observer){let e=this.observer.takeRecords();if(e.length){for(let n=0;n<e.length;n++)this.queue.push(e[n]);window.setTimeout(()=>this.flush(),20)}this.observer.disconnect()}this.onCharData&&this.view.dom.removeEventListener("DOMCharacterDataModified",this.onCharData),this.disconnectSelection()}connectSelection(){this.view.dom.ownerDocument.addEventListener("selectionchange",this.onSelectionChange)}disconnectSelection(){this.view.dom.ownerDocument.removeEventListener("selectionchange",this.onSelectionChange)}suppressSelectionUpdates(){this.suppressingSelectionUpdates=!0,setTimeout(()=>this.suppressingSelectionUpdates=!1,50)}onSelectionChange(){if(AF(this.view)){if(this.suppressingSelectionUpdates)return Zo(this.view);if(di&&Ll<=11&&!this.view.state.selection.empty){let e=this.view.domSelectionRange();if(e.focusNode&&Hu(e.focusNode,e.focusOffset,e.anchorNode,e.anchorOffset))return this.flushSoon()}this.flush()}}setCurSelection(){this.currentSelection.set(this.view.domSelectionRange())}ignoreSelectionChange(e){if(!e.focusNode)return!0;let n=new Set,r;for(let s=e.focusNode;s;s=fy(s))n.add(s);for(let s=e.anchorNode;s;s=fy(s))if(n.has(s)){r=s;break}let i=r&&this.view.docView.nearestDesc(r);if(i&&i.ignoreMutation({type:"selection",target:r.nodeType==3?r.parentNode:r}))return this.setCurSelection(),!0}pendingRecords(){if(this.observer)for(let e of this.observer.takeRecords())this.queue.push(e);return this.queue}flush(){let{view:e}=this;if(!e.docView||this.flushingSoon>-1)return;let n=this.pendingRecords();n.length&&(this.queue=[]);let r=e.domSelectionRange(),i=!this.suppressingSelectionUpdates&&!this.currentSelection.eq(r)&&AF(e)&&!this.ignoreSelectionChange(r),s=-1,o=-1,a=!1,l=[];if(e.editable)for(let u=0;u<n.length;u++){let d=this.registerMutation(n[u],l);d&&(s=s<0?d.from:Math.min(d.from,s),o=o<0?d.to:Math.max(d.to,o),d.typeOver&&(a=!0))}if(Is&&l.length){let u=l.filter(d=>d.nodeName=="BR");if(u.length==2){let[d,f]=u;d.parentNode&&d.parentNode.parentNode==f.parentNode?f.remove():d.remove()}else{let{focusNode:d}=this.currentSelection;for(let f of u){let p=f.parentNode;p&&p.nodeName=="LI"&&(!d||W_e(e,d)!=p)&&f.remove()}}}let c=null;s<0&&i&&e.input.lastFocus>Date.now()-200&&Math.max(e.input.lastTouch,e.input.lastClick.time)<Date.now()-300&&xS(r)&&(c=pj(e))&&c.eq(Ke.near(e.state.doc.resolve(0),1))?(e.input.lastFocus=0,Zo(e),this.currentSelection.set(r),e.scrollToSelection()):(s>-1||i)&&(s>-1&&(e.docView.markDirty(s,o),q_e(e)),this.handleDOMChange(s,o,a,l),e.docView&&e.docView.dirty?e.updateState(e.state):this.currentSelection.eq(r)||Zo(e),this.currentSelection.set(r))}registerMutation(e,n){if(n.indexOf(e.target)>-1)return null;let r=this.view.docView.nearestDesc(e.target);if(e.type=="attributes"&&(r==this.view.docView||e.attributeName=="contenteditable"||e.attributeName=="style"&&!e.oldValue&&!e.target.getAttribute("style"))||!r||r.ignoreMutation(e))return null;if(e.type=="childList"){for(let u=0;u<e.addedNodes.length;u++){let d=e.addedNodes[u];n.push(d),d.nodeType==3&&(this.lastChangedTextNode=d)}if(r.contentDOM&&r.contentDOM!=r.dom&&!r.contentDOM.contains(e.target))return{from:r.posBefore,to:r.posAfter};let i=e.previousSibling,s=e.nextSibling;if(di&&Ll<=11&&e.addedNodes.length)for(let u=0;u<e.addedNodes.length;u++){let{previousSibling:d,nextSibling:f}=e.addedNodes[u];(!d||Array.prototype.indexOf.call(e.addedNodes,d)<0)&&(i=d),(!f||Array.prototype.indexOf.call(e.addedNodes,f)<0)&&(s=f)}let o=i&&i.parentNode==e.target?rr(i)+1:0,a=r.localPosFromDOM(e.target,o,-1),l=s&&s.parentNode==e.target?rr(s):e.target.childNodes.length,c=r.localPosFromDOM(e.target,l,1);return{from:a,to:c}}else return e.type=="attributes"?{from:r.posAtStart-r.border,to:r.posAtEnd+r.border}:(this.lastChangedTextNode=e.target,{from:r.posAtStart,to:r.posAtEnd,typeOver:e.target.nodeValue==e.oldValue})}}let DF=new WeakMap,MF=!1;function q_e(t){if(!DF.has(t)&&(DF.set(t,null),["normal","nowrap","pre-line"].indexOf(getComputedStyle(t.dom).whiteSpace)!==-1)){if(t.requiresGeckoHackNode=Is,MF)return;console.warn("ProseMirror expects the CSS white-space property to be set, preferably to 'pre-wrap'. It is recommended to load style/prosemirror.css from the prosemirror-view package."),MF=!0}}function LF(t,e){let n=e.startContainer,r=e.startOffset,i=e.endContainer,s=e.endOffset,o=t.domAtPos(t.state.selection.anchor);return Hu(o.node,o.offset,i,s)&&([n,r,i,s]=[i,s,n,r]),{anchorNode:n,anchorOffset:r,focusNode:i,focusOffset:s}}function H_e(t,e){if(e.getComposedRanges){let i=e.getComposedRanges(t.root)[0];if(i)return LF(t,i)}let n;function r(i){i.preventDefault(),i.stopImmediatePropagation(),n=i.getTargetRanges()[0]}return t.dom.addEventListener("beforeinput",r,!0),document.execCommand("indent"),t.dom.removeEventListener("beforeinput",r,!0),n?LF(t,n):null}function W_e(t,e){for(let n=e.parentNode;n&&n!=t.dom;n=n.parentNode){let r=t.docView.nearestDesc(n,!0);if(r&&r.node.isBlock)return n}return null}function K_e(t,e,n){let{node:r,fromOffset:i,toOffset:s,from:o,to:a}=t.docView.parseRange(e,n),l=t.domSelectionRange(),c,u=l.anchorNode;if(u&&t.dom.contains(u.nodeType==1?u:u.parentNode)&&(c=[{node:u,offset:l.anchorOffset}],xS(l)||c.push({node:l.focusNode,offset:l.focusOffset})),Er&&t.input.lastKeyCode===8)for(let v=s;v>i;v--){let x=r.childNodes[v-1],b=x.pmViewDesc;if(x.nodeName=="BR"&&!b){s=v;break}if(!b||b.size)break}let d=t.state.doc,f=t.someProp("domParser")||Ml.fromSchema(t.state.schema),p=d.resolve(o),m=null,g=f.parse(r,{topNode:p.parent,topMatch:p.parent.contentMatchAt(p.index()),topOpen:!0,from:i,to:s,preserveWhitespace:p.parent.type.whitespace=="pre"?"full":!0,findPositions:c,ruleFromNode:G_e,context:p});if(c&&c[0].pos!=null){let v=c[0].pos,x=c[1]&&c[1].pos;x==null&&(x=v),m={anchor:v+o,head:x+o}}return{doc:g,sel:m,from:o,to:a}}function G_e(t){let e=t.pmViewDesc;if(e)return e.parseRule();if(t.nodeName=="BR"&&t.parentNode){if(Wr&&/^(ul|ol)$/i.test(t.parentNode.nodeName)){let n=document.createElement("div");return n.appendChild(document.createElement("li")),{skip:n}}else if(t.parentNode.lastChild==t||Wr&&/^(tr|table)$/i.test(t.parentNode.nodeName))return{ignore:!0}}else if(t.nodeName=="IMG"&&t.getAttribute("mark-placeholder"))return{ignore:!0};return null}const Q_e=/^(a|abbr|acronym|b|bd[io]|big|br|button|cite|code|data(list)?|del|dfn|em|i|ins|kbd|label|map|mark|meter|output|q|ruby|s|samp|small|span|strong|su[bp]|time|u|tt|var)$/i;function Y_e(t,e,n,r,i){let s=t.input.compositionPendingChanges||(t.composing?t.input.compositionID:0);if(t.input.compositionPendingChanges=0,e<0){let P=t.input.lastSelectionTime>Date.now()-50?t.input.lastSelectionOrigin:null,O=pj(t,P);if(O&&!t.state.selection.eq(O)){if(Er&&ws&&t.input.lastKeyCode===13&&Date.now()-100<t.input.lastKeyCodeTime&&t.someProp("handleKeyDown",R=>R(t,zc(13,"Enter"))))return;let N=t.state.tr.setSelection(O);P=="pointer"?N.setMeta("pointer",!0):P=="key"&&N.scrollIntoView(),s&&N.setMeta("composition",s),t.dispatch(N)}return}let o=t.state.doc.resolve(e),a=o.sharedDepth(n);e=o.before(a+1),n=t.state.doc.resolve(n).after(a+1);let l=t.state.selection,c=K_e(t,e,n),u=t.state.doc,d=u.slice(c.from,c.to),f,p;t.input.lastKeyCode===8&&Date.now()-100<t.input.lastKeyCodeTime?(f=t.state.selection.to,p="end"):(f=t.state.selection.from,p="start"),t.input.lastKeyCode=null;let m=Z_e(d.content,c.doc.content,c.from,f,p);if(m&&t.input.domChangeCount++,(_h&&t.input.lastIOSEnter>Date.now()-225||ws)&&i.some(P=>P.nodeType==1&&!Q_e.test(P.nodeName))&&(!m||m.endA>=m.endB)&&t.someProp("handleKeyDown",P=>P(t,zc(13,"Enter")))){t.input.lastIOSEnter=0;return}if(!m)if(r&&l instanceof Ue&&!l.empty&&l.$head.sameParent(l.$anchor)&&!t.composing&&!(c.sel&&c.sel.anchor!=c.sel.head))m={start:l.from,endA:l.to,endB:l.to};else{if(c.sel){let P=$F(t,t.state.doc,c.sel);if(P&&!P.eq(t.state.selection)){let O=t.state.tr.setSelection(P);s&&O.setMeta("composition",s),t.dispatch(O)}}return}t.state.selection.from<t.state.selection.to&&m.start==m.endB&&t.state.selection instanceof Ue&&(m.start>t.state.selection.from&&m.start<=t.state.selection.from+2&&t.state.selection.from>=c.from?m.start=t.state.selection.from:m.endA<t.state.selection.to&&m.endA>=t.state.selection.to-2&&t.state.selection.to<=c.to&&(m.endB+=t.state.selection.to-m.endA,m.endA=t.state.selection.to)),di&&Ll<=11&&m.endB==m.start+1&&m.endA==m.start&&m.start>c.from&&c.doc.textBetween(m.start-c.from-1,m.start-c.from+1)==" "&&(m.start--,m.endA--,m.endB--);let g=c.doc.resolveNoCache(m.start-c.from),v=c.doc.resolveNoCache(m.endB-c.from),x=u.resolve(m.start),b=g.sameParent(v)&&g.parent.inlineContent&&x.end()>=m.endA,w;if((_h&&t.input.lastIOSEnter>Date.now()-225&&(!b||i.some(P=>P.nodeName=="DIV"||P.nodeName=="P"))||!b&&g.pos<c.doc.content.size&&!g.sameParent(v)&&(w=Ke.findFrom(c.doc.resolve(g.pos+1),1,!0))&&w.head==v.pos)&&t.someProp("handleKeyDown",P=>P(t,zc(13,"Enter")))){t.input.lastIOSEnter=0;return}if(t.state.selection.anchor>m.start&&J_e(u,m.start,m.endA,g,v)&&t.someProp("handleKeyDown",P=>P(t,zc(8,"Backspace")))){ws&&Er&&t.domObserver.suppressSelectionUpdates();return}Er&&ws&&m.endB==m.start&&(t.input.lastAndroidDelete=Date.now()),ws&&!b&&g.start()!=v.start()&&v.parentOffset==0&&g.depth==v.depth&&c.sel&&c.sel.anchor==c.sel.head&&c.sel.head==m.endA&&(m.endB-=2,v=c.doc.resolveNoCache(m.endB-c.from),setTimeout(()=>{t.someProp("handleKeyDown",function(P){return P(t,zc(13,"Enter"))})},20));let T=m.start,_=m.endA,k,S,E;if(b){if(g.pos==v.pos)di&&Ll<=11&&g.parentOffset==0&&(t.domObserver.suppressSelectionUpdates(),setTimeout(()=>Zo(t),20)),k=t.state.tr.delete(T,_),S=u.resolve(m.start).marksAcross(u.resolve(m.endA));else if(m.endA==m.endB&&(E=X_e(g.parent.content.cut(g.parentOffset,v.parentOffset),x.parent.content.cut(x.parentOffset,m.endA-x.start()))))k=t.state.tr,E.type=="add"?k.addMark(T,_,E.mark):k.removeMark(T,_,E.mark);else if(g.parent.child(g.index()).isText&&g.index()==v.index()-(v.textOffset?0:1)){let P=g.parent.textBetween(g.parentOffset,v.parentOffset);if(t.someProp("handleTextInput",O=>O(t,T,_,P)))return;k=t.state.tr.insertText(P,T,_)}}if(k||(k=t.state.tr.replace(T,_,c.doc.slice(m.start-c.from,m.endB-c.from))),c.sel){let P=$F(t,k.doc,c.sel);P&&!(Er&&ws&&t.composing&&P.empty&&(m.start!=m.endB||t.input.lastAndroidDelete<Date.now()-100)&&(P.head==T||P.head==k.mapping.map(_)-1)||di&&P.empty&&P.head==T)&&k.setSelection(P)}S&&k.ensureMarks(S),s&&k.setMeta("composition",s),t.dispatch(k.scrollIntoView())}function $F(t,e,n){return Math.max(n.anchor,n.head)>e.content.size?null:mj(t,e.resolve(n.anchor),e.resolve(n.head))}function X_e(t,e){let n=t.firstChild.marks,r=e.firstChild.marks,i=n,s=r,o,a,l;for(let u=0;u<r.length;u++)i=r[u].removeFromSet(i);for(let u=0;u<n.length;u++)s=n[u].removeFromSet(s);if(i.length==1&&s.length==0)a=i[0],o="add",l=u=>u.mark(a.addToSet(u.marks));else if(i.length==0&&s.length==1)a=s[0],o="remove",l=u=>u.mark(a.removeFromSet(u.marks));else return null;let c=[];for(let u=0;u<e.childCount;u++)c.push(l(e.child(u)));if(ne.from(c).eq(t))return{mark:a,type:o}}function J_e(t,e,n,r,i){if(n-e<=i.pos-r.pos||rA(r,!0,!1)<i.pos)return!1;let s=t.resolve(e);if(!r.parent.isTextblock){let a=s.nodeAfter;return a!=null&&n==e+a.nodeSize}if(s.parentOffset<s.parent.content.size||!s.parent.isTextblock)return!1;let o=t.resolve(rA(s,!0,!0));return!o.parent.isTextblock||o.pos>n||rA(o,!0,!1)<n?!1:r.parent.content.cut(r.parentOffset).eq(o.parent.content)}function rA(t,e,n){let r=t.depth,i=e?t.end():t.pos;for(;r>0&&(e||t.indexAfter(r)==t.node(r).childCount);)r--,i++,e=!1;if(n){let s=t.node(r).maybeChild(t.indexAfter(r));for(;s&&!s.isLeaf;)s=s.firstChild,i++}return i}function Z_e(t,e,n,r,i){let s=t.findDiffStart(e,n);if(s==null)return null;let{a:o,b:a}=t.findDiffEnd(e,n+t.size,n+e.size);if(i=="end"){let l=Math.max(0,s-Math.min(o,a));r-=o+l-s}if(o<s&&t.size<e.size){let l=r<=s&&r>=o?s-r:0;s-=l,s&&s<e.size&&VF(e.textBetween(s-1,s+1))&&(s+=l?1:-1),a=s+(a-o),o=s}else if(a<s){let l=r<=s&&r>=a?s-r:0;s-=l,s&&s<t.size&&VF(t.textBetween(s-1,s+1))&&(s+=l?1:-1),o=s+(o-a),a=s}return{start:s,endA:o,endB:a}}function VF(t){if(t.length!=2)return!1;let e=t.charCodeAt(0),n=t.charCodeAt(1);return e>=56320&&e<=57343&&n>=55296&&n<=56319}class eSe{constructor(e,n){this._root=null,this.focused=!1,this.trackWrites=null,this.mounted=!1,this.markCursor=null,this.cursorWrapper=null,this.lastSelectedViewDesc=void 0,this.input=new x_e,this.prevDirectPlugins=[],this.pluginViews=[],this.requiresGeckoHackNode=!1,this.dragging=null,this._props=n,this.state=n.state,this.directPlugins=n.plugins||[],this.directPlugins.forEach(qF),this.dispatch=this.dispatch.bind(this),this.dom=e&&e.mount||document.createElement("div"),e&&(e.appendChild?e.appendChild(this.dom):typeof e=="function"?e(this.dom):e.mount&&(this.mounted=!0)),this.editable=UF(this),BF(this),this.nodeViews=zF(this),this.docView=bF(this.state.doc,FF(this),nA(this),this.dom,this),this.domObserver=new z_e(this,(r,i,s,o)=>Y_e(this,r,i,s,o)),this.domObserver.start(),b_e(this),this.updatePluginViews()}get composing(){return this.input.composing}get props(){if(this._props.state!=this.state){let e=this._props;this._props={};for(let n in e)this._props[n]=e[n];this._props.state=this.state}return this._props}update(e){e.handleDOMEvents!=this._props.handleDOMEvents&&TC(this);let n=this._props;this._props=e,e.plugins&&(e.plugins.forEach(qF),this.directPlugins=e.plugins),this.updateStateInner(e.state,n)}setProps(e){let n={};for(let r in this._props)n[r]=this._props[r];n.state=this.state;for(let r in e)n[r]=e[r];this.update(n)}updateState(e){this.updateStateInner(e,this._props)}updateStateInner(e,n){var r;let i=this.state,s=!1,o=!1;e.storedMarks&&this.composing&&(gQ(this),o=!0),this.state=e;let a=i.plugins!=e.plugins||this._props.plugins!=n.plugins;if(a||this._props.plugins!=n.plugins||this._props.nodeViews!=n.nodeViews){let p=zF(this);nSe(p,this.nodeViews)&&(this.nodeViews=p,s=!0)}(a||n.handleDOMEvents!=this._props.handleDOMEvents)&&TC(this),this.editable=UF(this),BF(this);let l=nA(this),c=FF(this),u=i.plugins!=e.plugins&&!i.doc.eq(e.doc)?"reset":e.scrollToSelection>i.scrollToSelection?"to selection":"preserve",d=s||!this.docView.matchesNode(e.doc,c,l);(d||!e.selection.eq(i.selection))&&(o=!0);let f=u=="preserve"&&o&&this.dom.style.overflowAnchor==null&&R1e(this);if(o){this.domObserver.stop();let p=d&&(di||Er)&&!this.composing&&!i.selection.empty&&!e.selection.empty&&tSe(i.selection,e.selection);if(d){let m=Er?this.trackWrites=this.domSelectionRange().focusNode:null;this.composing&&(this.input.compositionNode=j_e(this)),(s||!this.docView.update(e.doc,c,l,this))&&(this.docView.updateOuterDeco(c),this.docView.destroy(),this.docView=bF(e.doc,c,l,this.dom,this)),m&&!this.trackWrites&&(p=!0)}p||!(this.input.mouseDown&&this.domObserver.currentSelection.eq(this.domSelectionRange())&&i_e(this))?Zo(this,p):(rQ(this,e.selection),this.domObserver.setCurSelection()),this.domObserver.start()}this.updatePluginViews(i),!((r=this.dragging)===null||r===void 0)&&r.node&&!i.doc.eq(e.doc)&&this.updateDraggedNode(this.dragging,i),u=="reset"?this.dom.scrollTop=0:u=="to selection"?this.scrollToSelection():f&&D1e(f)}scrollToSelection(){let e=this.domSelectionRange().focusNode;if(!this.someProp("handleScrollToSelection",n=>n(this)))if(this.state.selection instanceof Oe){let n=this.docView.domAfterPos(this.state.selection.from);n.nodeType==1&&pF(this,n.getBoundingClientRect(),e)}else pF(this,this.coordsAtPos(this.state.selection.head,1),e)}destroyPluginViews(){let e;for(;e=this.pluginViews.pop();)e.destroy&&e.destroy()}updatePluginViews(e){if(!e||e.plugins!=this.state.plugins||this.directPlugins!=this.prevDirectPlugins){this.prevDirectPlugins=this.directPlugins,this.destroyPluginViews();for(let n=0;n<this.directPlugins.length;n++){let r=this.directPlugins[n];r.spec.view&&this.pluginViews.push(r.spec.view(this))}for(let n=0;n<this.state.plugins.length;n++){let r=this.state.plugins[n];r.spec.view&&this.pluginViews.push(r.spec.view(this))}}else for(let n=0;n<this.pluginViews.length;n++){let r=this.pluginViews[n];r.update&&r.update(this,e)}}updateDraggedNode(e,n){let r=e.node,i=-1;if(this.state.doc.nodeAt(r.from)==r.node)i=r.from;else{let s=r.from+(this.state.doc.content.size-n.doc.content.size);(s>0&&this.state.doc.nodeAt(s))==r.node&&(i=s)}this.dragging=new vQ(e.slice,e.move,i<0?void 0:Oe.create(this.state.doc,i))}someProp(e,n){let r=this._props&&this._props[e],i;if(r!=null&&(i=n?n(r):r))return i;for(let o=0;o<this.directPlugins.length;o++){let a=this.directPlugins[o].props[e];if(a!=null&&(i=n?n(a):a))return i}let s=this.state.plugins;if(s)for(let o=0;o<s.length;o++){let a=s[o].props[e];if(a!=null&&(i=n?n(a):a))return i}}hasFocus(){if(di){let e=this.root.activeElement;if(e==this.dom)return!0;if(!e||!this.dom.contains(e))return!1;for(;e&&this.dom!=e&&this.dom.contains(e);){if(e.contentEditable=="false")return!1;e=e.parentElement}return!0}return this.root.activeElement==this.dom}focus(){this.domObserver.stop(),this.editable&&M1e(this.dom),Zo(this),this.domObserver.start()}get root(){let e=this._root;if(e==null){for(let n=this.dom.parentNode;n;n=n.parentNode)if(n.nodeType==9||n.nodeType==11&&n.host)return n.getSelection||(Object.getPrototypeOf(n).getSelection=()=>n.ownerDocument.getSelection()),this._root=n}return e||document}updateRoot(){this._root=null}posAtCoords(e){return B1e(this,e)}coordsAtPos(e,n=1){return QG(this,e,n)}domAtPos(e,n=0){return this.docView.domFromPos(e,n)}nodeDOM(e){let n=this.docView.descAt(e);return n?n.nodeDOM:null}posAtDOM(e,n,r=-1){let i=this.docView.posFromDOM(e,n,r);if(i==null)throw new RangeError("DOM position not inside the editor");return i}endOfTextblock(e,n){return W1e(this,n||this.state,e)}pasteHTML(e,n){return py(this,"",e,!1,n||new ClipboardEvent("paste"))}pasteText(e,n){return py(this,e,null,!0,n||new ClipboardEvent("paste"))}destroy(){this.docView&&(w_e(this),this.destroyPluginViews(),this.mounted?(this.docView.update(this.state.doc,[],nA(this),this),this.dom.textContent=""):this.dom.parentNode&&this.dom.parentNode.removeChild(this.dom),this.docView.destroy(),this.docView=null,S1e())}get isDestroyed(){return this.docView==null}dispatchEvent(e){return S_e(this,e)}dispatch(e){let n=this._props.dispatchTransaction;n?n.call(this,e):this.updateState(this.state.apply(e))}domSelectionRange(){let e=this.domSelection();return e?Wr&&this.root.nodeType===11&&P1e(this.dom.ownerDocument)==this.dom&&H_e(this,e)||e:{focusNode:null,focusOffset:0,anchorNode:null,anchorOffset:0}}domSelection(){return this.root.getSelection()}}function FF(t){let e=Object.create(null);return e.class="ProseMirror",e.contenteditable=String(t.editable),t.someProp("attributes",n=>{if(typeof n=="function"&&(n=n(t.state)),n)for(let r in n)r=="class"?e.class+=" "+n[r]:r=="style"?e.style=(e.style?e.style+";":"")+n[r]:!e[r]&&r!="contenteditable"&&r!="nodeName"&&(e[r]=String(n[r]))}),e.translate||(e.translate="no"),[ki.node(0,t.state.doc.content.size,e)]}function BF(t){if(t.markCursor){let e=document.createElement("img");e.className="ProseMirror-separator",e.setAttribute("mark-placeholder","true"),e.setAttribute("alt",""),t.cursorWrapper={dom:e,deco:ki.widget(t.state.selection.from,e,{raw:!0,marks:t.markCursor})}}else t.cursorWrapper=null}function UF(t){return!t.someProp("editable",e=>e(t.state)===!1)}function tSe(t,e){let n=Math.min(t.$anchor.sharedDepth(t.head),e.$anchor.sharedDepth(e.head));return t.$anchor.start(n)!=e.$anchor.start(n)}function zF(t){let e=Object.create(null);function n(r){for(let i in r)Object.prototype.hasOwnProperty.call(e,i)||(e[i]=r[i])}return t.someProp("nodeViews",n),t.someProp("markViews",n),e}function nSe(t,e){let n=0,r=0;for(let i in t){if(t[i]!=e[i])return!0;n++}for(let i in e)r++;return n!=r}function qF(t){if(t.spec.state||t.spec.filterTransaction||t.spec.appendTransaction)throw new RangeError("Plugins passed directly to the view must not have a state component")}var Xl={8:"Backspace",9:"Tab",10:"Enter",12:"NumLock",13:"Enter",16:"Shift",17:"Control",18:"Alt",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",44:"PrintScreen",45:"Insert",46:"Delete",59:";",61:"=",91:"Meta",92:"Meta",106:"*",107:"+",108:",",109:"-",110:".",111:"/",144:"NumLock",145:"ScrollLock",160:"Shift",161:"Shift",162:"Control",163:"Control",164:"Alt",165:"Alt",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"},Aw={48:")",49:"!",50:"@",51:"#",52:"$",53:"%",54:"^",55:"&",56:"*",57:"(",59:":",61:"+",173:"_",186:":",187:"+",188:"<",189:"_",190:">",191:"?",192:"~",219:"{",220:"|",221:"}",222:'"'},rSe=typeof navigator<"u"&&/Mac/.test(navigator.platform),iSe=typeof navigator<"u"&&/MSIE \d|Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(navigator.userAgent);for(var ir=0;ir<10;ir++)Xl[48+ir]=Xl[96+ir]=String(ir);for(var ir=1;ir<=24;ir++)Xl[ir+111]="F"+ir;for(var ir=65;ir<=90;ir++)Xl[ir]=String.fromCharCode(ir+32),Aw[ir]=String.fromCharCode(ir);for(var iA in Xl)Aw.hasOwnProperty(iA)||(Aw[iA]=Xl[iA]);function sSe(t){var e=rSe&&t.metaKey&&t.shiftKey&&!t.ctrlKey&&!t.altKey||iSe&&t.shiftKey&&t.key&&t.key.length==1||t.key=="Unidentified",n=!e&&t.key||(t.shiftKey?Aw:Xl)[t.keyCode]||t.key||"Unidentified";return n=="Esc"&&(n="Escape"),n=="Del"&&(n="Delete"),n=="Left"&&(n="ArrowLeft"),n=="Up"&&(n="ArrowUp"),n=="Right"&&(n="ArrowRight"),n=="Down"&&(n="ArrowDown"),n}const oSe=typeof navigator<"u"?/Mac|iP(hone|[oa]d)/.test(navigator.platform):!1;function aSe(t){let e=t.split(/-(?!$)/),n=e[e.length-1];n=="Space"&&(n=" ");let r,i,s,o;for(let a=0;a<e.length-1;a++){let l=e[a];if(/^(cmd|meta|m)$/i.test(l))o=!0;else if(/^a(lt)?$/i.test(l))r=!0;else if(/^(c|ctrl|control)$/i.test(l))i=!0;else if(/^s(hift)?$/i.test(l))s=!0;else if(/^mod$/i.test(l))oSe?o=!0:i=!0;else throw new Error("Unrecognized modifier name: "+l)}return r&&(n="Alt-"+n),i&&(n="Ctrl-"+n),o&&(n="Meta-"+n),s&&(n="Shift-"+n),n}function lSe(t){let e=Object.create(null);for(let n in t)e[aSe(n)]=t[n];return e}function sA(t,e,n=!0){return e.altKey&&(t="Alt-"+t),e.ctrlKey&&(t="Ctrl-"+t),e.metaKey&&(t="Meta-"+t),n&&e.shiftKey&&(t="Shift-"+t),t}function cSe(t){return new Qn({props:{handleKeyDown:SQ(t)}})}function SQ(t){let e=lSe(t);return function(n,r){let i=sSe(r),s,o=e[sA(i,r)];if(o&&o(n.state,n.dispatch,n))return!0;if(i.length==1&&i!=" "){if(r.shiftKey){let a=e[sA(i,r,!1)];if(a&&a(n.state,n.dispatch,n))return!0}if((r.shiftKey||r.altKey||r.metaKey||i.charCodeAt(0)>127)&&(s=Xl[r.keyCode])&&s!=i){let a=e[sA(s,r)];if(a&&a(n.state,n.dispatch,n))return!0}}return!1}}const uSe=(t,e)=>t.selection.empty?!1:(e&&e(t.tr.deleteSelection().scrollIntoView()),!0);function EQ(t,e){let{$cursor:n}=t.selection;return!n||(e?!e.endOfTextblock("backward",t):n.parentOffset>0)?null:n}const dSe=(t,e,n)=>{let r=EQ(t,n);if(!r)return!1;let i=wj(r);if(!i){let o=r.blockRange(),a=o&&pp(o);return a==null?!1:(e&&e(t.tr.lift(o,a).scrollIntoView()),!0)}let s=i.nodeBefore;if(PQ(t,i,e,-1))return!0;if(r.parent.content.size==0&&(Sh(s,"end")||Oe.isSelectable(s)))for(let o=r.depth;;o--){let a=yS(t.doc,r.before(o),r.after(o),ye.empty);if(a&&a.slice.size<a.to-a.from){if(e){let l=t.tr.step(a);l.setSelection(Sh(s,"end")?Ke.findFrom(l.doc.resolve(l.mapping.map(i.pos,-1)),-1):Oe.create(l.doc,i.pos-s.nodeSize)),e(l.scrollIntoView())}return!0}if(o==1||r.node(o-1).childCount>1)break}return s.isAtom&&i.depth==r.depth-1?(e&&e(t.tr.delete(i.pos-s.nodeSize,i.pos).scrollIntoView()),!0):!1},fSe=(t,e,n)=>{let r=EQ(t,n);if(!r)return!1;let i=wj(r);return i?TQ(t,i,e):!1},hSe=(t,e,n)=>{let r=AQ(t,n);if(!r)return!1;let i=_j(r);return i?TQ(t,i,e):!1};function TQ(t,e,n){let r=e.nodeBefore,i=r,s=e.pos-1;for(;!i.isTextblock;s--){if(i.type.spec.isolating)return!1;let u=i.lastChild;if(!u)return!1;i=u}let o=e.nodeAfter,a=o,l=e.pos+1;for(;!a.isTextblock;l++){if(a.type.spec.isolating)return!1;let u=a.firstChild;if(!u)return!1;a=u}let c=yS(t.doc,s,l,ye.empty);if(!c||c.from!=s||c instanceof zn&&c.slice.size>=l-s)return!1;if(n){let u=t.tr.step(c);u.setSelection(Ue.create(u.doc,s)),n(u.scrollIntoView())}return!0}function Sh(t,e,n=!1){for(let r=t;r;r=e=="start"?r.firstChild:r.lastChild){if(r.isTextblock)return!0;if(n&&r.childCount!=1)return!1}return!1}const pSe=(t,e,n)=>{let{$head:r,empty:i}=t.selection,s=r;if(!i)return!1;if(r.parent.isTextblock){if(n?!n.endOfTextblock("backward",t):r.parentOffset>0)return!1;s=wj(r)}let o=s&&s.nodeBefore;return!o||!Oe.isSelectable(o)?!1:(e&&e(t.tr.setSelection(Oe.create(t.doc,s.pos-o.nodeSize)).scrollIntoView()),!0)};function wj(t){if(!t.parent.type.spec.isolating)for(let e=t.depth-1;e>=0;e--){if(t.index(e)>0)return t.doc.resolve(t.before(e+1));if(t.node(e).type.spec.isolating)break}return null}function AQ(t,e){let{$cursor:n}=t.selection;return!n||(e?!e.endOfTextblock("forward",t):n.parentOffset<n.parent.content.size)?null:n}const mSe=(t,e,n)=>{let r=AQ(t,n);if(!r)return!1;let i=_j(r);if(!i)return!1;let s=i.nodeAfter;if(PQ(t,i,e,1))return!0;if(r.parent.content.size==0&&(Sh(s,"start")||Oe.isSelectable(s))){let o=yS(t.doc,r.before(),r.after(),ye.empty);if(o&&o.slice.size<o.to-o.from){if(e){let a=t.tr.step(o);a.setSelection(Sh(s,"start")?Ke.findFrom(a.doc.resolve(a.mapping.map(i.pos)),1):Oe.create(a.doc,a.mapping.map(i.pos))),e(a.scrollIntoView())}return!0}}return s.isAtom&&i.depth==r.depth-1?(e&&e(t.tr.delete(i.pos,i.pos+s.nodeSize).scrollIntoView()),!0):!1},gSe=(t,e,n)=>{let{$head:r,empty:i}=t.selection,s=r;if(!i)return!1;if(r.parent.isTextblock){if(n?!n.endOfTextblock("forward",t):r.parentOffset<r.parent.content.size)return!1;s=_j(r)}let o=s&&s.nodeAfter;return!o||!Oe.isSelectable(o)?!1:(e&&e(t.tr.setSelection(Oe.create(t.doc,s.pos)).scrollIntoView()),!0)};function _j(t){if(!t.parent.type.spec.isolating)for(let e=t.depth-1;e>=0;e--){let n=t.node(e);if(t.index(e)+1<n.childCount)return t.doc.resolve(t.after(e+1));if(n.type.spec.isolating)break}return null}const ySe=(t,e)=>{let n=t.selection,r=n instanceof Oe,i;if(r){if(n.node.isTextblock||!lc(t.doc,n.from))return!1;i=n.from}else if(i=gS(t.doc,n.from,-1),i==null)return!1;if(e){let s=t.tr.join(i);r&&s.setSelection(Oe.create(s.doc,i-t.doc.resolve(i).nodeBefore.nodeSize)),e(s.scrollIntoView())}return!0},vSe=(t,e)=>{let n=t.selection,r;if(n instanceof Oe){if(n.node.isTextblock||!lc(t.doc,n.to))return!1;r=n.to}else if(r=gS(t.doc,n.to,1),r==null)return!1;return e&&e(t.tr.join(r).scrollIntoView()),!0},xSe=(t,e)=>{let{$from:n,$to:r}=t.selection,i=n.blockRange(r),s=i&&pp(i);return s==null?!1:(e&&e(t.tr.lift(i,s).scrollIntoView()),!0)},bSe=(t,e)=>{let{$head:n,$anchor:r}=t.selection;return!n.parent.type.spec.code||!n.sameParent(r)?!1:(e&&e(t.tr.insertText(`
`).scrollIntoView()),!0)};function kQ(t){for(let e=0;e<t.edgeCount;e++){let{type:n}=t.edge(e);if(n.isTextblock&&!n.hasRequiredAttrs())return n}return null}const wSe=(t,e)=>{let{$head:n,$anchor:r}=t.selection;if(!n.parent.type.spec.code||!n.sameParent(r))return!1;let i=n.node(-1),s=n.indexAfter(-1),o=kQ(i.contentMatchAt(s));if(!o||!i.canReplaceWith(s,s,o))return!1;if(e){let a=n.after(),l=t.tr.replaceWith(a,a,o.createAndFill());l.setSelection(Ke.near(l.doc.resolve(a),1)),e(l.scrollIntoView())}return!0},_Se=(t,e)=>{let n=t.selection,{$from:r,$to:i}=n;if(n instanceof As||r.parent.inlineContent||i.parent.inlineContent)return!1;let s=kQ(i.parent.contentMatchAt(i.indexAfter()));if(!s||!s.isTextblock)return!1;if(e){let o=(!r.parentOffset&&i.index()<i.parent.childCount?r:i).pos,a=t.tr.insert(o,s.createAndFill());a.setSelection(Ue.create(a.doc,o+1)),e(a.scrollIntoView())}return!0},SSe=(t,e)=>{let{$cursor:n}=t.selection;if(!n||n.parent.content.size)return!1;if(n.depth>1&&n.after()!=n.end(-1)){let s=n.before();if(Cf(t.doc,s))return e&&e(t.tr.split(s).scrollIntoView()),!0}let r=n.blockRange(),i=r&&pp(r);return i==null?!1:(e&&e(t.tr.lift(r,i).scrollIntoView()),!0)},ESe=(t,e)=>{let{$from:n,to:r}=t.selection,i,s=n.sharedDepth(r);return s==0?!1:(i=n.before(s),e&&e(t.tr.setSelection(Oe.create(t.doc,i))),!0)};function TSe(t,e,n){let r=e.nodeBefore,i=e.nodeAfter,s=e.index();return!r||!i||!r.type.compatibleContent(i.type)?!1:!r.content.size&&e.parent.canReplace(s-1,s)?(n&&n(t.tr.delete(e.pos-r.nodeSize,e.pos).scrollIntoView()),!0):!e.parent.canReplace(s,s+1)||!(i.isTextblock||lc(t.doc,e.pos))?!1:(n&&n(t.tr.join(e.pos).scrollIntoView()),!0)}function PQ(t,e,n,r){let i=e.nodeBefore,s=e.nodeAfter,o,a,l=i.type.spec.isolating||s.type.spec.isolating;if(!l&&TSe(t,e,n))return!0;let c=!l&&e.parent.canReplace(e.index(),e.index()+1);if(c&&(o=(a=i.contentMatchAt(i.childCount)).findWrapping(s.type))&&a.matchType(o[0]||s.type).validEnd){if(n){let p=e.pos+s.nodeSize,m=ne.empty;for(let x=o.length-1;x>=0;x--)m=ne.from(o[x].create(null,m));m=ne.from(i.copy(m));let g=t.tr.step(new Wn(e.pos-1,p,e.pos,p,new ye(m,1,0),o.length,!0)),v=g.doc.resolve(p+2*o.length);v.nodeAfter&&v.nodeAfter.type==i.type&&lc(g.doc,v.pos)&&g.join(v.pos),n(g.scrollIntoView())}return!0}let u=s.type.spec.isolating||r>0&&l?null:Ke.findFrom(e,1),d=u&&u.$from.blockRange(u.$to),f=d&&pp(d);if(f!=null&&f>=e.depth)return n&&n(t.tr.lift(d,f).scrollIntoView()),!0;if(c&&Sh(s,"start",!0)&&Sh(i,"end")){let p=i,m=[];for(;m.push(p),!p.isTextblock;)p=p.lastChild;let g=s,v=1;for(;!g.isTextblock;g=g.firstChild)v++;if(p.canReplace(p.childCount,p.childCount,g.content)){if(n){let x=ne.empty;for(let w=m.length-1;w>=0;w--)x=ne.from(m[w].copy(x));let b=t.tr.step(new Wn(e.pos-m.length,e.pos+s.nodeSize,e.pos+v,e.pos+s.nodeSize-v,new ye(x,m.length,0),0,!0));n(b.scrollIntoView())}return!0}}return!1}function CQ(t){return function(e,n){let r=e.selection,i=t<0?r.$from:r.$to,s=i.depth;for(;i.node(s).isInline;){if(!s)return!1;s--}return i.node(s).isTextblock?(n&&n(e.tr.setSelection(Ue.create(e.doc,t<0?i.start(s):i.end(s)))),!0):!1}}const ASe=CQ(-1),kSe=CQ(1);function PSe(t,e=null){return function(n,r){let{$from:i,$to:s}=n.selection,o=i.blockRange(s),a=o&&dj(o,t,e);return a?(r&&r(n.tr.wrap(o,a).scrollIntoView()),!0):!1}}function HF(t,e=null){return function(n,r){let i=!1;for(let s=0;s<n.selection.ranges.length&&!i;s++){let{$from:{pos:o},$to:{pos:a}}=n.selection.ranges[s];n.doc.nodesBetween(o,a,(l,c)=>{if(i)return!1;if(!(!l.isTextblock||l.hasMarkup(t,e)))if(l.type==t)i=!0;else{let u=n.doc.resolve(c),d=u.index();i=u.parent.canReplaceWith(d,d+1,t)}})}if(!i)return!1;if(r){let s=n.tr;for(let o=0;o<n.selection.ranges.length;o++){let{$from:{pos:a},$to:{pos:l}}=n.selection.ranges[o];s.setBlockType(a,l,t,e)}r(s.scrollIntoView())}return!0}}typeof navigator<"u"?/Mac|iP(hone|[oa]d)/.test(navigator.platform):typeof os<"u"&&os.platform&&os.platform()=="darwin";function CSe(t,e=null){return function(n,r){let{$from:i,$to:s}=n.selection,o=i.blockRange(s),a=!1,l=o;if(!o)return!1;if(o.depth>=2&&i.node(o.depth-1).type.compatibleContent(t)&&o.startIndex==0){if(i.index(o.depth-1)==0)return!1;let u=n.doc.resolve(o.start-2);l=new yw(u,u,o.depth),o.endIndex<o.parent.childCount&&(o=new yw(i,n.doc.resolve(s.end(o.depth)),o.depth)),a=!0}let c=dj(l,t,e,o);return c?(r&&r(ISe(n.tr,o,c,a,t).scrollIntoView()),!0):!1}}function ISe(t,e,n,r,i){let s=ne.empty;for(let u=n.length-1;u>=0;u--)s=ne.from(n[u].type.create(n[u].attrs,s));t.step(new Wn(e.start-(r?2:0),e.end,e.start,e.end,new ye(s,0,0),n.length,!0));let o=0;for(let u=0;u<n.length;u++)n[u].type==i&&(o=u+1);let a=n.length-o,l=e.start+n.length-(r?2:0),c=e.parent;for(let u=e.startIndex,d=e.endIndex,f=!0;u<d;u++,f=!1)!f&&Cf(t.doc,l,a)&&(t.split(l,a),l+=2*a),l+=c.child(u).nodeSize;return t}function OSe(t){return function(e,n){let{$from:r,$to:i}=e.selection,s=r.blockRange(i,o=>o.childCount>0&&o.firstChild.type==t);return s?n?r.node(s.depth-1).type==t?NSe(e,n,t,s):jSe(e,n,s):!0:!1}}function NSe(t,e,n,r){let i=t.tr,s=r.end,o=r.$to.end(r.depth);s<o&&(i.step(new Wn(s-1,o,s,o,new ye(ne.from(n.create(null,r.parent.copy())),1,0),1,!0)),r=new yw(i.doc.resolve(r.$from.pos),i.doc.resolve(o),r.depth));const a=pp(r);if(a==null)return!1;i.lift(r,a);let l=i.mapping.map(s,-1)-1;return lc(i.doc,l)&&i.join(l),e(i.scrollIntoView()),!0}function jSe(t,e,n){let r=t.tr,i=n.parent;for(let p=n.end,m=n.endIndex-1,g=n.startIndex;m>g;m--)p-=i.child(m).nodeSize,r.delete(p-1,p+1);let s=r.doc.resolve(n.start),o=s.nodeAfter;if(r.mapping.map(n.end)!=n.start+s.nodeAfter.nodeSize)return!1;let a=n.startIndex==0,l=n.endIndex==i.childCount,c=s.node(-1),u=s.index(-1);if(!c.canReplace(u+(a?0:1),u+1,o.content.append(l?ne.empty:ne.from(i))))return!1;let d=s.pos,f=d+o.nodeSize;return r.step(new Wn(d-(a?1:0),f+(l?1:0),d+1,f-1,new ye((a?ne.empty:ne.from(i.copy(ne.empty))).append(l?ne.empty:ne.from(i.copy(ne.empty))),a?0:1,l?0:1),a?0:1)),e(r.scrollIntoView()),!0}function RSe(t){return function(e,n){let{$from:r,$to:i}=e.selection,s=r.blockRange(i,c=>c.childCount>0&&c.firstChild.type==t);if(!s)return!1;let o=s.startIndex;if(o==0)return!1;let a=s.parent,l=a.child(o-1);if(l.type!=t)return!1;if(n){let c=l.lastChild&&l.lastChild.type==a.type,u=ne.from(c?t.create():null),d=new ye(ne.from(t.create(null,ne.from(a.type.create(null,u)))),c?3:1,0),f=s.start,p=s.end;n(e.tr.step(new Wn(f-(c?3:1),p,f,p,d,1,!0)).scrollIntoView())}return!0}}function _S(t){const{state:e,transaction:n}=t;let{selection:r}=n,{doc:i}=n,{storedMarks:s}=n;return{...e,apply:e.apply.bind(e),applyTransaction:e.applyTransaction.bind(e),plugins:e.plugins,schema:e.schema,reconfigure:e.reconfigure.bind(e),toJSON:e.toJSON.bind(e),get storedMarks(){return s},get selection(){return r},get doc(){return i},get tr(){return r=n.selection,i=n.doc,s=n.storedMarks,n}}}class SS{constructor(e){this.editor=e.editor,this.rawCommands=this.editor.extensionManager.commands,this.customState=e.state}get hasCustomState(){return!!this.customState}get state(){return this.customState||this.editor.state}get commands(){const{rawCommands:e,editor:n,state:r}=this,{view:i}=n,{tr:s}=r,o=this.buildProps(s);return Object.fromEntries(Object.entries(e).map(([a,l])=>[a,(...u)=>{const d=l(...u)(o);return!s.getMeta("preventDispatch")&&!this.hasCustomState&&i.dispatch(s),d}]))}get chain(){return()=>this.createChain()}get can(){return()=>this.createCan()}createChain(e,n=!0){const{rawCommands:r,editor:i,state:s}=this,{view:o}=i,a=[],l=!!e,c=e||s.tr,u=()=>(!l&&n&&!c.getMeta("preventDispatch")&&!this.hasCustomState&&o.dispatch(c),a.every(f=>f===!0)),d={...Object.fromEntries(Object.entries(r).map(([f,p])=>[f,(...g)=>{const v=this.buildProps(c,n),x=p(...g)(v);return a.push(x),d}])),run:u};return d}createCan(e){const{rawCommands:n,state:r}=this,i=!1,s=e||r.tr,o=this.buildProps(s,i);return{...Object.fromEntries(Object.entries(n).map(([l,c])=>[l,(...u)=>c(...u)({...o,dispatch:void 0})])),chain:()=>this.createChain(s,i)}}buildProps(e,n=!0){const{rawCommands:r,editor:i,state:s}=this,{view:o}=i,a={tr:e,editor:i,view:o,state:_S({state:s,transaction:e}),dispatch:n?()=>{}:void 0,chain:()=>this.createChain(e,n),can:()=>this.createCan(e),get commands(){return Object.fromEntries(Object.entries(r).map(([l,c])=>[l,(...u)=>c(...u)(a)]))}};return a}}let DSe=class{constructor(){this.callbacks={}}on(e,n){return this.callbacks[e]||(this.callbacks[e]=[]),this.callbacks[e].push(n),this}emit(e,...n){const r=this.callbacks[e];return r&&r.forEach(i=>i.apply(this,n)),this}off(e,n){const r=this.callbacks[e];return r&&(n?this.callbacks[e]=r.filter(i=>i!==n):delete this.callbacks[e]),this}removeAllListeners(){this.callbacks={}}};function Se(t,e,n){return t.config[e]===void 0&&t.parent?Se(t.parent,e,n):typeof t.config[e]=="function"?t.config[e].bind({...n,parent:t.parent?Se(t.parent,e,n):null}):t.config[e]}function ES(t){const e=t.filter(i=>i.type==="extension"),n=t.filter(i=>i.type==="node"),r=t.filter(i=>i.type==="mark");return{baseExtensions:e,nodeExtensions:n,markExtensions:r}}function IQ(t){const e=[],{nodeExtensions:n,markExtensions:r}=ES(t),i=[...n,...r],s={default:null,rendered:!0,renderHTML:null,parseHTML:null,keepOnSplit:!0,isRequired:!1};return t.forEach(o=>{const a={name:o.name,options:o.options,storage:o.storage,extensions:i},l=Se(o,"addGlobalAttributes",a);if(!l)return;l().forEach(u=>{u.types.forEach(d=>{Object.entries(u.attributes).forEach(([f,p])=>{e.push({type:d,name:f,attribute:{...s,...p}})})})})}),i.forEach(o=>{const a={name:o.name,options:o.options,storage:o.storage},l=Se(o,"addAttributes",a);if(!l)return;const c=l();Object.entries(c).forEach(([u,d])=>{const f={...s,...d};typeof(f==null?void 0:f.default)=="function"&&(f.default=f.default()),f!=null&&f.isRequired&&(f==null?void 0:f.default)===void 0&&delete f.default,e.push({type:o.name,name:u,attribute:f})})}),e}function Gn(t,e){if(typeof t=="string"){if(!e.nodes[t])throw Error(`There is no node type named '${t}'. Maybe you forgot to add the extension?`);return e.nodes[t]}return t}function lr(...t){return t.filter(e=>!!e).reduce((e,n)=>{const r={...e};return Object.entries(n).forEach(([i,s])=>{if(!r[i]){r[i]=s;return}if(i==="class"){const a=s?s.split(" "):[],l=r[i]?r[i].split(" "):[],c=a.filter(u=>!l.includes(u));r[i]=[...l,...c].join(" ")}else if(i==="style"){const a=s?s.split(";").map(u=>u.trim()).filter(Boolean):[],l=r[i]?r[i].split(";").map(u=>u.trim()).filter(Boolean):[],c=new Map;l.forEach(u=>{const[d,f]=u.split(":").map(p=>p.trim());c.set(d,f)}),a.forEach(u=>{const[d,f]=u.split(":").map(p=>p.trim());c.set(d,f)}),r[i]=Array.from(c.entries()).map(([u,d])=>`${u}: ${d}`).join("; ")}else r[i]=s}),r},{})}function AC(t,e){return e.filter(n=>n.type===t.type.name).filter(n=>n.attribute.rendered).map(n=>n.attribute.renderHTML?n.attribute.renderHTML(t.attrs)||{}:{[n.name]:t.attrs[n.name]}).reduce((n,r)=>lr(n,r),{})}function OQ(t){return typeof t=="function"}function et(t,e=void 0,...n){return OQ(t)?e?t.bind(e)(...n):t(...n):t}function MSe(t={}){return Object.keys(t).length===0&&t.constructor===Object}function LSe(t){return typeof t!="string"?t:t.match(/^[+-]?(?:\d*\.)?\d+$/)?Number(t):t==="true"?!0:t==="false"?!1:t}function WF(t,e){return"style"in t?t:{...t,getAttrs:n=>{const r=t.getAttrs?t.getAttrs(n):t.attrs;if(r===!1)return!1;const i=e.reduce((s,o)=>{const a=o.attribute.parseHTML?o.attribute.parseHTML(n):LSe(n.getAttribute(o.name));return a==null?s:{...s,[o.name]:a}},{});return{...r,...i}}}}function KF(t){return Object.fromEntries(Object.entries(t).filter(([e,n])=>e==="attrs"&&MSe(n)?!1:n!=null))}function $Se(t,e){var n;const r=IQ(t),{nodeExtensions:i,markExtensions:s}=ES(t),o=(n=i.find(c=>Se(c,"topNode")))===null||n===void 0?void 0:n.name,a=Object.fromEntries(i.map(c=>{const u=r.filter(x=>x.type===c.name),d={name:c.name,options:c.options,storage:c.storage,editor:e},f=t.reduce((x,b)=>{const w=Se(b,"extendNodeSchema",d);return{...x,...w?w(c):{}}},{}),p=KF({...f,content:et(Se(c,"content",d)),marks:et(Se(c,"marks",d)),group:et(Se(c,"group",d)),inline:et(Se(c,"inline",d)),atom:et(Se(c,"atom",d)),selectable:et(Se(c,"selectable",d)),draggable:et(Se(c,"draggable",d)),code:et(Se(c,"code",d)),whitespace:et(Se(c,"whitespace",d)),defining:et(Se(c,"defining",d)),isolating:et(Se(c,"isolating",d)),attrs:Object.fromEntries(u.map(x=>{var b;return[x.name,{default:(b=x==null?void 0:x.attribute)===null||b===void 0?void 0:b.default}]}))}),m=et(Se(c,"parseHTML",d));m&&(p.parseDOM=m.map(x=>WF(x,u)));const g=Se(c,"renderHTML",d);g&&(p.toDOM=x=>g({node:x,HTMLAttributes:AC(x,u)}));const v=Se(c,"renderText",d);return v&&(p.toText=v),[c.name,p]})),l=Object.fromEntries(s.map(c=>{const u=r.filter(v=>v.type===c.name),d={name:c.name,options:c.options,storage:c.storage,editor:e},f=t.reduce((v,x)=>{const b=Se(x,"extendMarkSchema",d);return{...v,...b?b(c):{}}},{}),p=KF({...f,inclusive:et(Se(c,"inclusive",d)),excludes:et(Se(c,"excludes",d)),group:et(Se(c,"group",d)),spanning:et(Se(c,"spanning",d)),code:et(Se(c,"code",d)),attrs:Object.fromEntries(u.map(v=>{var x;return[v.name,{default:(x=v==null?void 0:v.attribute)===null||x===void 0?void 0:x.default}]}))}),m=et(Se(c,"parseHTML",d));m&&(p.parseDOM=m.map(v=>WF(v,u)));const g=Se(c,"renderHTML",d);return g&&(p.toDOM=v=>g({mark:v,HTMLAttributes:AC(v,u)})),[c.name,p]}));return new EG({topNode:o,nodes:a,marks:l})}function oA(t,e){return e.nodes[t]||e.marks[t]||null}function GF(t,e){return Array.isArray(e)?e.some(n=>(typeof n=="string"?n:n.name)===t.name):e}const VSe=(t,e=500)=>{let n="";const r=t.parentOffset;return t.parent.nodesBetween(Math.max(0,r-e),r,(i,s,o,a)=>{var l,c;const u=((c=(l=i.type.spec).toText)===null||c===void 0?void 0:c.call(l,{node:i,pos:s,parent:o,index:a}))||i.textContent||"%leaf%";n+=i.isAtom&&!i.isText?u:u.slice(0,Math.max(0,r-s))}),n};function Sj(t){return Object.prototype.toString.call(t)==="[object RegExp]"}class TS{constructor(e){this.find=e.find,this.handler=e.handler}}const FSe=(t,e)=>{if(Sj(e))return e.exec(t);const n=e(t);if(!n)return null;const r=[n.text];return r.index=n.index,r.input=t,r.data=n.data,n.replaceWith&&(n.text.includes(n.replaceWith)||console.warn('[tiptap warn]: "inputRuleMatch.replaceWith" must be part of "inputRuleMatch.text".'),r.push(n.replaceWith)),r};function G0(t){var e;const{editor:n,from:r,to:i,text:s,rules:o,plugin:a}=t,{view:l}=n;if(l.composing)return!1;const c=l.state.doc.resolve(r);if(c.parent.type.spec.code||!((e=c.nodeBefore||c.nodeAfter)===null||e===void 0)&&e.marks.find(f=>f.type.spec.code))return!1;let u=!1;const d=VSe(c)+s;return o.forEach(f=>{if(u)return;const p=FSe(d,f.find);if(!p)return;const m=l.state.tr,g=_S({state:l.state,transaction:m}),v={from:r-(p[0].length-s.length),to:i},{commands:x,chain:b,can:w}=new SS({editor:n,state:g});f.handler({state:g,range:v,match:p,commands:x,chain:b,can:w})===null||!m.steps.length||(m.setMeta(a,{transform:m,from:r,to:i,text:s}),l.dispatch(m),u=!0)}),u}function BSe(t){const{editor:e,rules:n}=t,r=new Qn({state:{init(){return null},apply(i,s){const o=i.getMeta(r);if(o)return o;const a=i.getMeta("applyInputRules");return!!a&&setTimeout(()=>{const{from:c,text:u}=a,d=c+u.length;G0({editor:e,from:c,to:d,text:u,rules:n,plugin:r})}),i.selectionSet||i.docChanged?null:s}},props:{handleTextInput(i,s,o,a){return G0({editor:e,from:s,to:o,text:a,rules:n,plugin:r})},handleDOMEvents:{compositionend:i=>(setTimeout(()=>{const{$cursor:s}=i.state.selection;s&&G0({editor:e,from:s.pos,to:s.pos,text:"",rules:n,plugin:r})}),!1)},handleKeyDown(i,s){if(s.key!=="Enter")return!1;const{$cursor:o}=i.state.selection;return o?G0({editor:e,from:o.pos,to:o.pos,text:`
`,rules:n,plugin:r}):!1}},isInputRules:!0});return r}function USe(t){return Object.prototype.toString.call(t).slice(8,-1)}function Q0(t){return USe(t)!=="Object"?!1:t.constructor===Object&&Object.getPrototypeOf(t)===Object.prototype}function AS(t,e){const n={...t};return Q0(t)&&Q0(e)&&Object.keys(e).forEach(r=>{Q0(e[r])&&Q0(t[r])?n[r]=AS(t[r],e[r]):n[r]=e[r]}),n}class ha{constructor(e={}){this.type="mark",this.name="mark",this.parent=null,this.child=null,this.config={name:this.name,defaultOptions:{}},this.config={...this.config,...e},this.name=this.config.name,e.defaultOptions&&Object.keys(e.defaultOptions).length>0&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${this.name}".`),this.options=this.config.defaultOptions,this.config.addOptions&&(this.options=et(Se(this,"addOptions",{name:this.name}))),this.storage=et(Se(this,"addStorage",{name:this.name,options:this.options}))||{}}static create(e={}){return new ha(e)}configure(e={}){const n=this.extend({...this.config,addOptions:()=>AS(this.options,e)});return n.name=this.name,n.parent=this.parent,n}extend(e={}){const n=new ha(e);return n.parent=this,this.child=n,n.name=e.name?e.name:n.parent.name,e.defaultOptions&&Object.keys(e.defaultOptions).length>0&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${n.name}".`),n.options=et(Se(n,"addOptions",{name:n.name})),n.storage=et(Se(n,"addStorage",{name:n.name,options:n.options})),n}static handleExit({editor:e,mark:n}){const{tr:r}=e.state,i=e.state.selection.$from;if(i.pos===i.end()){const o=i.marks();if(!!!o.find(c=>(c==null?void 0:c.type.name)===n.name))return!1;const l=o.find(c=>(c==null?void 0:c.type.name)===n.name);return l&&r.removeStoredMark(l),r.insertText(" ",i.pos),e.view.dispatch(r),!0}return!1}}function zSe(t){return typeof t=="number"}class qSe{constructor(e){this.find=e.find,this.handler=e.handler}}const HSe=(t,e,n)=>{if(Sj(e))return[...t.matchAll(e)];const r=e(t,n);return r?r.map(i=>{const s=[i.text];return s.index=i.index,s.input=t,s.data=i.data,i.replaceWith&&(i.text.includes(i.replaceWith)||console.warn('[tiptap warn]: "pasteRuleMatch.replaceWith" must be part of "pasteRuleMatch.text".'),s.push(i.replaceWith)),s}):[]};function WSe(t){const{editor:e,state:n,from:r,to:i,rule:s,pasteEvent:o,dropEvent:a}=t,{commands:l,chain:c,can:u}=new SS({editor:e,state:n}),d=[];return n.doc.nodesBetween(r,i,(p,m)=>{if(!p.isTextblock||p.type.spec.code)return;const g=Math.max(r,m),v=Math.min(i,m+p.content.size),x=p.textBetween(g-m,v-m,void 0,"");HSe(x,s.find,o).forEach(w=>{if(w.index===void 0)return;const T=g+w.index+1,_=T+w[0].length,k={from:n.tr.mapping.map(T),to:n.tr.mapping.map(_)},S=s.handler({state:n,range:k,match:w,commands:l,chain:c,can:u,pasteEvent:o,dropEvent:a});d.push(S)})}),d.every(p=>p!==null)}const KSe=t=>{var e;const n=new ClipboardEvent("paste",{clipboardData:new DataTransfer});return(e=n.clipboardData)===null||e===void 0||e.setData("text/html",t),n};function GSe(t){const{editor:e,rules:n}=t;let r=null,i=!1,s=!1,o=typeof ClipboardEvent<"u"?new ClipboardEvent("paste"):null,a=typeof DragEvent<"u"?new DragEvent("drop"):null;const l=({state:u,from:d,to:f,rule:p,pasteEvt:m})=>{const g=u.tr,v=_S({state:u,transaction:g});if(!(!WSe({editor:e,state:v,from:Math.max(d-1,0),to:f.b-1,rule:p,pasteEvent:m,dropEvent:a})||!g.steps.length))return a=typeof DragEvent<"u"?new DragEvent("drop"):null,o=typeof ClipboardEvent<"u"?new ClipboardEvent("paste"):null,g};return n.map(u=>new Qn({view(d){const f=p=>{var m;r=!((m=d.dom.parentElement)===null||m===void 0)&&m.contains(p.target)?d.dom.parentElement:null};return window.addEventListener("dragstart",f),{destroy(){window.removeEventListener("dragstart",f)}}},props:{handleDOMEvents:{drop:(d,f)=>(s=r===d.dom.parentElement,a=f,!1),paste:(d,f)=>{var p;const m=(p=f.clipboardData)===null||p===void 0?void 0:p.getData("text/html");return o=f,i=!!(m!=null&&m.includes("data-pm-slice")),!1}}},appendTransaction:(d,f,p)=>{const m=d[0],g=m.getMeta("uiEvent")==="paste"&&!i,v=m.getMeta("uiEvent")==="drop"&&!s,x=m.getMeta("applyPasteRules"),b=!!x;if(!g&&!v&&!b)return;if(b){const{from:_,text:k}=x,S=_+k.length,E=KSe(k);return l({rule:u,state:p,from:_,to:{b:S},pasteEvt:E})}const w=f.doc.content.findDiffStart(p.doc.content),T=f.doc.content.findDiffEnd(p.doc.content);if(!(!zSe(w)||!T||w===T.b))return l({rule:u,state:p,from:w,to:T,pasteEvt:o})}}))}function QSe(t){const e=t.filter((n,r)=>t.indexOf(n)!==r);return Array.from(new Set(e))}class cf{constructor(e,n){this.splittableMarks=[],this.editor=n,this.extensions=cf.resolve(e),this.schema=$Se(this.extensions,n),this.setupExtensions()}static resolve(e){const n=cf.sort(cf.flatten(e)),r=QSe(n.map(i=>i.name));return r.length&&console.warn(`[tiptap warn]: Duplicate extension names found: [${r.map(i=>`'${i}'`).join(", ")}]. This can lead to issues.`),n}static flatten(e){return e.map(n=>{const r={name:n.name,options:n.options,storage:n.storage},i=Se(n,"addExtensions",r);return i?[n,...this.flatten(i())]:n}).flat(10)}static sort(e){return e.sort((r,i)=>{const s=Se(r,"priority")||100,o=Se(i,"priority")||100;return s>o?-1:s<o?1:0})}get commands(){return this.extensions.reduce((e,n)=>{const r={name:n.name,options:n.options,storage:n.storage,editor:this.editor,type:oA(n.name,this.schema)},i=Se(n,"addCommands",r);return i?{...e,...i()}:e},{})}get plugins(){const{editor:e}=this,n=cf.sort([...this.extensions].reverse()),r=[],i=[],s=n.map(o=>{const a={name:o.name,options:o.options,storage:o.storage,editor:e,type:oA(o.name,this.schema)},l=[],c=Se(o,"addKeyboardShortcuts",a);let u={};if(o.type==="mark"&&Se(o,"exitable",a)&&(u.ArrowRight=()=>ha.handleExit({editor:e,mark:o})),c){const g=Object.fromEntries(Object.entries(c()).map(([v,x])=>[v,()=>x({editor:e})]));u={...u,...g}}const d=cSe(u);l.push(d);const f=Se(o,"addInputRules",a);GF(o,e.options.enableInputRules)&&f&&r.push(...f());const p=Se(o,"addPasteRules",a);GF(o,e.options.enablePasteRules)&&p&&i.push(...p());const m=Se(o,"addProseMirrorPlugins",a);if(m){const g=m();l.push(...g)}return l}).flat();return[BSe({editor:e,rules:r}),...GSe({editor:e,rules:i}),...s]}get attributes(){return IQ(this.extensions)}get nodeViews(){const{editor:e}=this,{nodeExtensions:n}=ES(this.extensions);return Object.fromEntries(n.filter(r=>!!Se(r,"addNodeView")).map(r=>{const i=this.attributes.filter(l=>l.type===r.name),s={name:r.name,options:r.options,storage:r.storage,editor:e,type:Gn(r.name,this.schema)},o=Se(r,"addNodeView",s);if(!o)return[];const a=(l,c,u,d,f)=>{const p=AC(l,i);return o()({node:l,view:c,getPos:u,decorations:d,innerDecorations:f,editor:e,extension:r,HTMLAttributes:p})};return[r.name,a]}))}setupExtensions(){this.extensions.forEach(e=>{var n;this.editor.extensionStorage[e.name]=e.storage;const r={name:e.name,options:e.options,storage:e.storage,editor:this.editor,type:oA(e.name,this.schema)};e.type==="mark"&&(!((n=et(Se(e,"keepOnSplit",r)))!==null&&n!==void 0)||n)&&this.splittableMarks.push(e.name);const i=Se(e,"onBeforeCreate",r),s=Se(e,"onCreate",r),o=Se(e,"onUpdate",r),a=Se(e,"onSelectionUpdate",r),l=Se(e,"onTransaction",r),c=Se(e,"onFocus",r),u=Se(e,"onBlur",r),d=Se(e,"onDestroy",r);i&&this.editor.on("beforeCreate",i),s&&this.editor.on("create",s),o&&this.editor.on("update",o),a&&this.editor.on("selectionUpdate",a),l&&this.editor.on("transaction",l),c&&this.editor.on("focus",c),u&&this.editor.on("blur",u),d&&this.editor.on("destroy",d)})}}class Pr{constructor(e={}){this.type="extension",this.name="extension",this.parent=null,this.child=null,this.config={name:this.name,defaultOptions:{}},this.config={...this.config,...e},this.name=this.config.name,e.defaultOptions&&Object.keys(e.defaultOptions).length>0&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${this.name}".`),this.options=this.config.defaultOptions,this.config.addOptions&&(this.options=et(Se(this,"addOptions",{name:this.name}))),this.storage=et(Se(this,"addStorage",{name:this.name,options:this.options}))||{}}static create(e={}){return new Pr(e)}configure(e={}){const n=this.extend({...this.config,addOptions:()=>AS(this.options,e)});return n.name=this.name,n.parent=this.parent,n}extend(e={}){const n=new Pr({...this.config,...e});return n.parent=this,this.child=n,n.name=e.name?e.name:n.parent.name,e.defaultOptions&&Object.keys(e.defaultOptions).length>0&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${n.name}".`),n.options=et(Se(n,"addOptions",{name:n.name})),n.storage=et(Se(n,"addStorage",{name:n.name,options:n.options})),n}}function NQ(t,e,n){const{from:r,to:i}=e,{blockSeparator:s=`

`,textSerializers:o={}}=n||{};let a="";return t.nodesBetween(r,i,(l,c,u,d)=>{var f;l.isBlock&&c>r&&(a+=s);const p=o==null?void 0:o[l.type.name];if(p)return u&&(a+=p({node:l,pos:c,parent:u,index:d,range:e})),!1;l.isText&&(a+=(f=l==null?void 0:l.text)===null||f===void 0?void 0:f.slice(Math.max(r,c)-c,i-c))}),a}function jQ(t){return Object.fromEntries(Object.entries(t.nodes).filter(([,e])=>e.spec.toText).map(([e,n])=>[e,n.spec.toText]))}const YSe=Pr.create({name:"clipboardTextSerializer",addOptions(){return{blockSeparator:void 0}},addProseMirrorPlugins(){return[new Qn({key:new hi("clipboardTextSerializer"),props:{clipboardTextSerializer:()=>{const{editor:t}=this,{state:e,schema:n}=t,{doc:r,selection:i}=e,{ranges:s}=i,o=Math.min(...s.map(u=>u.$from.pos)),a=Math.max(...s.map(u=>u.$to.pos)),l=jQ(n);return NQ(r,{from:o,to:a},{...this.options.blockSeparator!==void 0?{blockSeparator:this.options.blockSeparator}:{},textSerializers:l})}}})]}}),XSe=()=>({editor:t,view:e})=>(requestAnimationFrame(()=>{var n;t.isDestroyed||(e.dom.blur(),(n=window==null?void 0:window.getSelection())===null||n===void 0||n.removeAllRanges())}),!0),JSe=(t=!1)=>({commands:e})=>e.setContent("",t),ZSe=()=>({state:t,tr:e,dispatch:n})=>{const{selection:r}=e,{ranges:i}=r;return n&&i.forEach(({$from:s,$to:o})=>{t.doc.nodesBetween(s.pos,o.pos,(a,l)=>{if(a.type.isText)return;const{doc:c,mapping:u}=e,d=c.resolve(u.map(l)),f=c.resolve(u.map(l+a.nodeSize)),p=d.blockRange(f);if(!p)return;const m=pp(p);if(a.type.isTextblock){const{defaultType:g}=d.parent.contentMatchAt(d.index());e.setNodeMarkup(p.start,g)}(m||m===0)&&e.lift(p,m)})}),!0},eEe=t=>e=>t(e),tEe=()=>({state:t,dispatch:e})=>_Se(t,e),nEe=(t,e)=>({editor:n,tr:r})=>{const{state:i}=n,s=i.doc.slice(t.from,t.to);r.deleteRange(t.from,t.to);const o=r.mapping.map(e);return r.insert(o,s.content),r.setSelection(new Ue(r.doc.resolve(o-1))),!0},rEe=()=>({tr:t,dispatch:e})=>{const{selection:n}=t,r=n.$anchor.node();if(r.content.size>0)return!1;const i=t.selection.$anchor;for(let s=i.depth;s>0;s-=1)if(i.node(s).type===r.type){if(e){const a=i.before(s),l=i.after(s);t.delete(a,l).scrollIntoView()}return!0}return!1},iEe=t=>({tr:e,state:n,dispatch:r})=>{const i=Gn(t,n.schema),s=e.selection.$anchor;for(let o=s.depth;o>0;o-=1)if(s.node(o).type===i){if(r){const l=s.before(o),c=s.after(o);e.delete(l,c).scrollIntoView()}return!0}return!1},sEe=t=>({tr:e,dispatch:n})=>{const{from:r,to:i}=t;return n&&e.delete(r,i),!0},oEe=()=>({state:t,dispatch:e})=>uSe(t,e),aEe=()=>({commands:t})=>t.keyboardShortcut("Enter"),lEe=()=>({state:t,dispatch:e})=>wSe(t,e);function kw(t,e,n={strict:!0}){const r=Object.keys(e);return r.length?r.every(i=>n.strict?e[i]===t[i]:Sj(e[i])?e[i].test(t[i]):e[i]===t[i]):!0}function kC(t,e,n={}){return t.find(r=>r.type===e&&kw(r.attrs,n))}function cEe(t,e,n={}){return!!kC(t,e,n)}function Ej(t,e,n={}){if(!t||!e)return;let r=t.parent.childAfter(t.parentOffset);if((!r.node||!r.node.marks.some(c=>c.type===e))&&(r=t.parent.childBefore(t.parentOffset)),!r.node||!r.node.marks.some(c=>c.type===e))return;const i=kC([...r.node.marks],e,n);if(!i)return;let s=r.index,o=t.start()+r.offset,a=s+1,l=o+r.node.nodeSize;for(kC([...r.node.marks],e,n);s>0&&i.isInSet(t.parent.child(s-1).marks);)s-=1,o-=t.parent.child(s).nodeSize;for(;a<t.parent.childCount&&cEe([...t.parent.child(a).marks],e,n);)l+=t.parent.child(a).nodeSize,a+=1;return{from:o,to:l}}function uc(t,e){if(typeof t=="string"){if(!e.marks[t])throw Error(`There is no mark type named '${t}'. Maybe you forgot to add the extension?`);return e.marks[t]}return t}const uEe=(t,e={})=>({tr:n,state:r,dispatch:i})=>{const s=uc(t,r.schema),{doc:o,selection:a}=n,{$from:l,from:c,to:u}=a;if(i){const d=Ej(l,s,e);if(d&&d.from<=c&&d.to>=u){const f=Ue.create(o,d.from,d.to);n.setSelection(f)}}return!0},dEe=t=>e=>{const n=typeof t=="function"?t(e):t;for(let r=0;r<n.length;r+=1)if(n[r](e))return!0;return!1};function RQ(t){return t instanceof Ue}function Jc(t=0,e=0,n=0){return Math.min(Math.max(t,e),n)}function DQ(t,e=null){if(!e)return null;const n=Ke.atStart(t),r=Ke.atEnd(t);if(e==="start"||e===!0)return n;if(e==="end")return r;const i=n.from,s=r.to;return e==="all"?Ue.create(t,Jc(0,i,s),Jc(t.content.size,i,s)):Ue.create(t,Jc(e,i,s),Jc(e,i,s))}function Tj(){return["iPad Simulator","iPhone Simulator","iPod Simulator","iPad","iPhone","iPod"].includes(navigator.platform)||navigator.userAgent.includes("Mac")&&"ontouchend"in document}const fEe=(t=null,e={})=>({editor:n,view:r,tr:i,dispatch:s})=>{e={scrollIntoView:!0,...e};const o=()=>{Tj()&&r.dom.focus(),requestAnimationFrame(()=>{n.isDestroyed||(r.focus(),e!=null&&e.scrollIntoView&&n.commands.scrollIntoView())})};if(r.hasFocus()&&t===null||t===!1)return!0;if(s&&t===null&&!RQ(n.state.selection))return o(),!0;const a=DQ(i.doc,t)||n.state.selection,l=n.state.selection.eq(a);return s&&(l||i.setSelection(a),l&&i.storedMarks&&i.setStoredMarks(i.storedMarks),o()),!0},hEe=(t,e)=>n=>t.every((r,i)=>e(r,{...n,index:i})),pEe=(t,e)=>({tr:n,commands:r})=>r.insertContentAt({from:n.selection.from,to:n.selection.to},t,e),MQ=t=>{const e=t.childNodes;for(let n=e.length-1;n>=0;n-=1){const r=e[n];r.nodeType===3&&r.nodeValue&&/^(\n\s\s|\n)$/.test(r.nodeValue)?t.removeChild(r):r.nodeType===1&&MQ(r)}return t};function Y0(t){const e=`<body>${t}</body>`,n=new window.DOMParser().parseFromString(e,"text/html").body;return MQ(n)}function Pw(t,e,n){n={slice:!0,parseOptions:{},...n};const r=typeof t=="object"&&t!==null,i=typeof t=="string";if(r)try{if(Array.isArray(t)&&t.length>0)return ne.fromArray(t.map(a=>e.nodeFromJSON(a)));const o=e.nodeFromJSON(t);return n.errorOnInvalidContent&&o.check(),o}catch(s){if(n.errorOnInvalidContent)throw new Error("[tiptap error]: Invalid JSON content",{cause:s});return console.warn("[tiptap warn]: Invalid content.","Passed value:",t,"Error:",s),Pw("",e,n)}if(i){if(n.errorOnInvalidContent){let o=!1,a="";const l=new EG({topNode:e.spec.topNode,marks:e.spec.marks,nodes:e.spec.nodes.append({__tiptap__private__unknown__catch__all__node:{content:"inline*",group:"block",parseDOM:[{tag:"*",getAttrs:c=>(o=!0,a=typeof c=="string"?c:c.outerHTML,null)}]}})});if(n.slice?Ml.fromSchema(l).parseSlice(Y0(t),n.parseOptions):Ml.fromSchema(l).parse(Y0(t),n.parseOptions),n.errorOnInvalidContent&&o)throw new Error("[tiptap error]: Invalid HTML content",{cause:new Error(`Invalid element found: ${a}`)})}const s=Ml.fromSchema(e);return n.slice?s.parseSlice(Y0(t),n.parseOptions).content:s.parse(Y0(t),n.parseOptions)}return Pw("",e,n)}function mEe(t,e,n){const r=t.steps.length-1;if(r<e)return;const i=t.steps[r];if(!(i instanceof zn||i instanceof Wn))return;const s=t.mapping.maps[r];let o=0;s.forEach((a,l,c,u)=>{o===0&&(o=u)}),t.setSelection(Ke.near(t.doc.resolve(o),n))}const gEe=t=>!("type"in t),yEe=(t,e,n)=>({tr:r,dispatch:i,editor:s})=>{var o;if(i){n={parseOptions:s.options.parseOptions,updateSelection:!0,applyInputRules:!1,applyPasteRules:!1,...n};let a;try{a=Pw(e,s.schema,{parseOptions:{preserveWhitespace:"full",...n.parseOptions},errorOnInvalidContent:(o=n.errorOnInvalidContent)!==null&&o!==void 0?o:s.options.enableContentCheck})}catch(m){return s.emit("contentError",{editor:s,error:m,disableCollaboration:()=>{s.storage.collaboration&&(s.storage.collaboration.isDisabled=!0)}}),!1}let{from:l,to:c}=typeof t=="number"?{from:t,to:t}:{from:t.from,to:t.to},u=!0,d=!0;if((gEe(a)?a:[a]).forEach(m=>{m.check(),u=u?m.isText&&m.marks.length===0:!1,d=d?m.isBlock:!1}),l===c&&d){const{parent:m}=r.doc.resolve(l);m.isTextblock&&!m.type.spec.code&&!m.childCount&&(l-=1,c+=1)}let p;u?(Array.isArray(e)?p=e.map(m=>m.text||"").join(""):typeof e=="object"&&e&&e.text?p=e.text:p=e,r.insertText(p,l,c)):(p=a,r.replaceWith(l,c,p)),n.updateSelection&&mEe(r,r.steps.length-1,-1),n.applyInputRules&&r.setMeta("applyInputRules",{from:l,text:p}),n.applyPasteRules&&r.setMeta("applyPasteRules",{from:l,text:p})}return!0},vEe=()=>({state:t,dispatch:e})=>ySe(t,e),xEe=()=>({state:t,dispatch:e})=>vSe(t,e),bEe=()=>({state:t,dispatch:e})=>dSe(t,e),wEe=()=>({state:t,dispatch:e})=>mSe(t,e),_Ee=()=>({state:t,dispatch:e,tr:n})=>{try{const r=gS(t.doc,t.selection.$from.pos,-1);return r==null?!1:(n.join(r,2),e&&e(n),!0)}catch{return!1}},SEe=()=>({state:t,dispatch:e,tr:n})=>{try{const r=gS(t.doc,t.selection.$from.pos,1);return r==null?!1:(n.join(r,2),e&&e(n),!0)}catch{return!1}},EEe=()=>({state:t,dispatch:e})=>fSe(t,e),TEe=()=>({state:t,dispatch:e})=>hSe(t,e);function LQ(){return typeof navigator<"u"?/Mac/.test(navigator.platform):!1}function AEe(t){const e=t.split(/-(?!$)/);let n=e[e.length-1];n==="Space"&&(n=" ");let r,i,s,o;for(let a=0;a<e.length-1;a+=1){const l=e[a];if(/^(cmd|meta|m)$/i.test(l))o=!0;else if(/^a(lt)?$/i.test(l))r=!0;else if(/^(c|ctrl|control)$/i.test(l))i=!0;else if(/^s(hift)?$/i.test(l))s=!0;else if(/^mod$/i.test(l))Tj()||LQ()?o=!0:i=!0;else throw new Error(`Unrecognized modifier name: ${l}`)}return r&&(n=`Alt-${n}`),i&&(n=`Ctrl-${n}`),o&&(n=`Meta-${n}`),s&&(n=`Shift-${n}`),n}const kEe=t=>({editor:e,view:n,tr:r,dispatch:i})=>{const s=AEe(t).split(/-(?!$)/),o=s.find(c=>!["Alt","Ctrl","Meta","Shift"].includes(c)),a=new KeyboardEvent("keydown",{key:o==="Space"?" ":o,altKey:s.includes("Alt"),ctrlKey:s.includes("Ctrl"),metaKey:s.includes("Meta"),shiftKey:s.includes("Shift"),bubbles:!0,cancelable:!0}),l=e.captureTransaction(()=>{n.someProp("handleKeyDown",c=>c(n,a))});return l==null||l.steps.forEach(c=>{const u=c.map(r.mapping);u&&i&&r.maybeStep(u)}),!0};function gy(t,e,n={}){const{from:r,to:i,empty:s}=t.selection,o=e?Gn(e,t.schema):null,a=[];t.doc.nodesBetween(r,i,(d,f)=>{if(d.isText)return;const p=Math.max(r,f),m=Math.min(i,f+d.nodeSize);a.push({node:d,from:p,to:m})});const l=i-r,c=a.filter(d=>o?o.name===d.node.type.name:!0).filter(d=>kw(d.node.attrs,n,{strict:!1}));return s?!!c.length:c.reduce((d,f)=>d+f.to-f.from,0)>=l}const PEe=(t,e={})=>({state:n,dispatch:r})=>{const i=Gn(t,n.schema);return gy(n,i,e)?xSe(n,r):!1},CEe=()=>({state:t,dispatch:e})=>SSe(t,e),IEe=t=>({state:e,dispatch:n})=>{const r=Gn(t,e.schema);return OSe(r)(e,n)},OEe=()=>({state:t,dispatch:e})=>bSe(t,e);function kS(t,e){return e.nodes[t]?"node":e.marks[t]?"mark":null}function QF(t,e){const n=typeof e=="string"?[e]:e;return Object.keys(t).reduce((r,i)=>(n.includes(i)||(r[i]=t[i]),r),{})}const NEe=(t,e)=>({tr:n,state:r,dispatch:i})=>{let s=null,o=null;const a=kS(typeof t=="string"?t:t.name,r.schema);return a?(a==="node"&&(s=Gn(t,r.schema)),a==="mark"&&(o=uc(t,r.schema)),i&&n.selection.ranges.forEach(l=>{r.doc.nodesBetween(l.$from.pos,l.$to.pos,(c,u)=>{s&&s===c.type&&n.setNodeMarkup(u,void 0,QF(c.attrs,e)),o&&c.marks.length&&c.marks.forEach(d=>{o===d.type&&n.addMark(u,u+c.nodeSize,o.create(QF(d.attrs,e)))})})}),!0):!1},jEe=()=>({tr:t,dispatch:e})=>(e&&t.scrollIntoView(),!0),REe=()=>({tr:t,commands:e})=>e.setTextSelection({from:0,to:t.doc.content.size}),DEe=()=>({state:t,dispatch:e})=>pSe(t,e),MEe=()=>({state:t,dispatch:e})=>gSe(t,e),LEe=()=>({state:t,dispatch:e})=>ESe(t,e),$Ee=()=>({state:t,dispatch:e})=>kSe(t,e),VEe=()=>({state:t,dispatch:e})=>ASe(t,e);function PC(t,e,n={},r={}){return Pw(t,e,{slice:!1,parseOptions:n,errorOnInvalidContent:r.errorOnInvalidContent})}const FEe=(t,e=!1,n={},r={})=>({editor:i,tr:s,dispatch:o,commands:a})=>{var l,c;const{doc:u}=s;if(n.preserveWhitespace!=="full"){const d=PC(t,i.schema,n,{errorOnInvalidContent:(l=r.errorOnInvalidContent)!==null&&l!==void 0?l:i.options.enableContentCheck});return o&&s.replaceWith(0,u.content.size,d).setMeta("preventUpdate",!e),!0}return o&&s.setMeta("preventUpdate",!e),a.insertContentAt({from:0,to:u.content.size},t,{parseOptions:n,errorOnInvalidContent:(c=r.errorOnInvalidContent)!==null&&c!==void 0?c:i.options.enableContentCheck})};function $Q(t,e){const n=uc(e,t.schema),{from:r,to:i,empty:s}=t.selection,o=[];s?(t.storedMarks&&o.push(...t.storedMarks),o.push(...t.selection.$head.marks())):t.doc.nodesBetween(r,i,l=>{o.push(...l.marks)});const a=o.find(l=>l.type.name===n.name);return a?{...a.attrs}:{}}function BEe(t,e){const n=new FG(t);return e.forEach(r=>{r.steps.forEach(i=>{n.step(i)})}),n}function UEe(t){for(let e=0;e<t.edgeCount;e+=1){const{type:n}=t.edge(e);if(n.isTextblock&&!n.hasRequiredAttrs())return n}return null}function zEe(t,e,n){const r=[];return t.nodesBetween(e.from,e.to,(i,s)=>{n(i)&&r.push({node:i,pos:s})}),r}function qEe(t,e){for(let n=t.depth;n>0;n-=1){const r=t.node(n);if(e(r))return{pos:n>0?t.before(n):0,start:t.start(n),depth:n,node:r}}}function Aj(t){return e=>qEe(e.$from,t)}function HEe(t,e){const n=dd.fromSchema(e).serializeFragment(t),i=document.implementation.createHTMLDocument().createElement("div");return i.appendChild(n),i.innerHTML}function WEe(t,e){const n={from:0,to:t.content.size};return NQ(t,n,e)}function KEe(t,e){const n=Gn(e,t.schema),{from:r,to:i}=t.selection,s=[];t.doc.nodesBetween(r,i,a=>{s.push(a)});const o=s.reverse().find(a=>a.type.name===n.name);return o?{...o.attrs}:{}}function VQ(t,e){const n=kS(typeof e=="string"?e:e.name,t.schema);return n==="node"?KEe(t,e):n==="mark"?$Q(t,e):{}}function GEe(t,e=JSON.stringify){const n={};return t.filter(r=>{const i=e(r);return Object.prototype.hasOwnProperty.call(n,i)?!1:n[i]=!0})}function QEe(t){const e=GEe(t);return e.length===1?e:e.filter((n,r)=>!e.filter((s,o)=>o!==r).some(s=>n.oldRange.from>=s.oldRange.from&&n.oldRange.to<=s.oldRange.to&&n.newRange.from>=s.newRange.from&&n.newRange.to<=s.newRange.to))}function YEe(t){const{mapping:e,steps:n}=t,r=[];return e.maps.forEach((i,s)=>{const o=[];if(i.ranges.length)i.forEach((a,l)=>{o.push({from:a,to:l})});else{const{from:a,to:l}=n[s];if(a===void 0||l===void 0)return;o.push({from:a,to:l})}o.forEach(({from:a,to:l})=>{const c=e.slice(s).map(a,-1),u=e.slice(s).map(l),d=e.invert().map(c,-1),f=e.invert().map(u);r.push({oldRange:{from:d,to:f},newRange:{from:c,to:u}})})}),QEe(r)}function kj(t,e,n){const r=[];return t===e?n.resolve(t).marks().forEach(i=>{const s=n.resolve(t),o=Ej(s,i.type);o&&r.push({mark:i,...o})}):n.nodesBetween(t,e,(i,s)=>{!i||(i==null?void 0:i.nodeSize)===void 0||r.push(...i.marks.map(o=>({from:s,to:s+i.nodeSize,mark:o})))}),r}function eb(t,e,n){return Object.fromEntries(Object.entries(n).filter(([r])=>{const i=t.find(s=>s.type===e&&s.name===r);return i?i.attribute.keepOnSplit:!1}))}function CC(t,e,n={}){const{empty:r,ranges:i}=t.selection,s=e?uc(e,t.schema):null;if(r)return!!(t.storedMarks||t.selection.$from.marks()).filter(d=>s?s.name===d.type.name:!0).find(d=>kw(d.attrs,n,{strict:!1}));let o=0;const a=[];if(i.forEach(({$from:d,$to:f})=>{const p=d.pos,m=f.pos;t.doc.nodesBetween(p,m,(g,v)=>{if(!g.isText&&!g.marks.length)return;const x=Math.max(p,v),b=Math.min(m,v+g.nodeSize),w=b-x;o+=w,a.push(...g.marks.map(T=>({mark:T,from:x,to:b})))})}),o===0)return!1;const l=a.filter(d=>s?s.name===d.mark.type.name:!0).filter(d=>kw(d.mark.attrs,n,{strict:!1})).reduce((d,f)=>d+f.to-f.from,0),c=a.filter(d=>s?d.mark.type!==s&&d.mark.type.excludes(s):!0).reduce((d,f)=>d+f.to-f.from,0);return(l>0?l+c:l)>=o}function XEe(t,e,n={}){if(!e)return gy(t,null,n)||CC(t,null,n);const r=kS(e,t.schema);return r==="node"?gy(t,e,n):r==="mark"?CC(t,e,n):!1}function YF(t,e){const{nodeExtensions:n}=ES(e),r=n.find(o=>o.name===t);if(!r)return!1;const i={name:r.name,options:r.options,storage:r.storage},s=et(Se(r,"group",i));return typeof s!="string"?!1:s.split(" ").includes("list")}function PS(t,{checkChildren:e=!0,ignoreWhitespace:n=!1}={}){var r;if(n){if(t.type.name==="hardBreak")return!0;if(t.isText)return/^\s*$/m.test((r=t.text)!==null&&r!==void 0?r:"")}if(t.isText)return!t.text;if(t.isAtom||t.isLeaf)return!1;if(t.content.childCount===0)return!0;if(e){let i=!0;return t.content.forEach(s=>{i!==!1&&(PS(s,{ignoreWhitespace:n,checkChildren:e})||(i=!1))}),i}return!1}function JEe(t){return t instanceof Oe}function ZEe(t,e,n){var r;const{selection:i}=e;let s=null;if(RQ(i)&&(s=i.$cursor),s){const a=(r=t.storedMarks)!==null&&r!==void 0?r:s.marks();return!!n.isInSet(a)||!a.some(l=>l.type.excludes(n))}const{ranges:o}=i;return o.some(({$from:a,$to:l})=>{let c=a.depth===0?t.doc.inlineContent&&t.doc.type.allowsMarkType(n):!1;return t.doc.nodesBetween(a.pos,l.pos,(u,d,f)=>{if(c)return!1;if(u.isInline){const p=!f||f.type.allowsMarkType(n),m=!!n.isInSet(u.marks)||!u.marks.some(g=>g.type.excludes(n));c=p&&m}return!c}),c})}const eTe=(t,e={})=>({tr:n,state:r,dispatch:i})=>{const{selection:s}=n,{empty:o,ranges:a}=s,l=uc(t,r.schema);if(i)if(o){const c=$Q(r,l);n.addStoredMark(l.create({...c,...e}))}else a.forEach(c=>{const u=c.$from.pos,d=c.$to.pos;r.doc.nodesBetween(u,d,(f,p)=>{const m=Math.max(p,u),g=Math.min(p+f.nodeSize,d);f.marks.find(x=>x.type===l)?f.marks.forEach(x=>{l===x.type&&n.addMark(m,g,l.create({...x.attrs,...e}))}):n.addMark(m,g,l.create(e))})});return ZEe(r,n,l)},tTe=(t,e)=>({tr:n})=>(n.setMeta(t,e),!0),nTe=(t,e={})=>({state:n,dispatch:r,chain:i})=>{const s=Gn(t,n.schema);return s.isTextblock?i().command(({commands:o})=>HF(s,e)(n)?!0:o.clearNodes()).command(({state:o})=>HF(s,e)(o,r)).run():(console.warn('[tiptap warn]: Currently "setNode()" only supports text block nodes.'),!1)},rTe=t=>({tr:e,dispatch:n})=>{if(n){const{doc:r}=e,i=Jc(t,0,r.content.size),s=Oe.create(r,i);e.setSelection(s)}return!0},iTe=t=>({tr:e,dispatch:n})=>{if(n){const{doc:r}=e,{from:i,to:s}=typeof t=="number"?{from:t,to:t}:t,o=Ue.atStart(r).from,a=Ue.atEnd(r).to,l=Jc(i,o,a),c=Jc(s,o,a),u=Ue.create(r,l,c);e.setSelection(u)}return!0},sTe=t=>({state:e,dispatch:n})=>{const r=Gn(t,e.schema);return RSe(r)(e,n)};function XF(t,e){const n=t.storedMarks||t.selection.$to.parentOffset&&t.selection.$from.marks();if(n){const r=n.filter(i=>e==null?void 0:e.includes(i.type.name));t.tr.ensureMarks(r)}}const oTe=({keepMarks:t=!0}={})=>({tr:e,state:n,dispatch:r,editor:i})=>{const{selection:s,doc:o}=e,{$from:a,$to:l}=s,c=i.extensionManager.attributes,u=eb(c,a.node().type.name,a.node().attrs);if(s instanceof Oe&&s.node.isBlock)return!a.parentOffset||!Cf(o,a.pos)?!1:(r&&(t&&XF(n,i.extensionManager.splittableMarks),e.split(a.pos).scrollIntoView()),!0);if(!a.parent.isBlock)return!1;const d=l.parentOffset===l.parent.content.size,f=a.depth===0?void 0:UEe(a.node(-1).contentMatchAt(a.indexAfter(-1)));let p=d&&f?[{type:f,attrs:u}]:void 0,m=Cf(e.doc,e.mapping.map(a.pos),1,p);if(!p&&!m&&Cf(e.doc,e.mapping.map(a.pos),1,f?[{type:f}]:void 0)&&(m=!0,p=f?[{type:f,attrs:u}]:void 0),r){if(m&&(s instanceof Ue&&e.deleteSelection(),e.split(e.mapping.map(a.pos),1,p),f&&!d&&!a.parentOffset&&a.parent.type!==f)){const g=e.mapping.map(a.before()),v=e.doc.resolve(g);a.node(-1).canReplaceWith(v.index(),v.index()+1,f)&&e.setNodeMarkup(e.mapping.map(a.before()),f)}t&&XF(n,i.extensionManager.splittableMarks),e.scrollIntoView()}return m},aTe=(t,e={})=>({tr:n,state:r,dispatch:i,editor:s})=>{var o;const a=Gn(t,r.schema),{$from:l,$to:c}=r.selection,u=r.selection.node;if(u&&u.isBlock||l.depth<2||!l.sameParent(c))return!1;const d=l.node(-1);if(d.type!==a)return!1;const f=s.extensionManager.attributes;if(l.parent.content.size===0&&l.node(-1).childCount===l.indexAfter(-1)){if(l.depth===2||l.node(-3).type!==a||l.index(-2)!==l.node(-2).childCount-1)return!1;if(i){let x=ne.empty;const b=l.index(-1)?1:l.index(-2)?2:3;for(let E=l.depth-b;E>=l.depth-3;E-=1)x=ne.from(l.node(E).copy(x));const w=l.indexAfter(-1)<l.node(-2).childCount?1:l.indexAfter(-2)<l.node(-3).childCount?2:3,T={...eb(f,l.node().type.name,l.node().attrs),...e},_=((o=a.contentMatch.defaultType)===null||o===void 0?void 0:o.createAndFill(T))||void 0;x=x.append(ne.from(a.createAndFill(null,_)||void 0));const k=l.before(l.depth-(b-1));n.replace(k,l.after(-w),new ye(x,4-b,0));let S=-1;n.doc.nodesBetween(k,n.doc.content.size,(E,P)=>{if(S>-1)return!1;E.isTextblock&&E.content.size===0&&(S=P+1)}),S>-1&&n.setSelection(Ue.near(n.doc.resolve(S))),n.scrollIntoView()}return!0}const p=c.pos===l.end()?d.contentMatchAt(0).defaultType:null,m={...eb(f,d.type.name,d.attrs),...e},g={...eb(f,l.node().type.name,l.node().attrs),...e};n.delete(l.pos,c.pos);const v=p?[{type:a,attrs:m},{type:p,attrs:g}]:[{type:a,attrs:m}];if(!Cf(n.doc,l.pos,2))return!1;if(i){const{selection:x,storedMarks:b}=r,{splittableMarks:w}=s.extensionManager,T=b||x.$to.parentOffset&&x.$from.marks();if(n.split(l.pos,2,v).scrollIntoView(),!T||!i)return!0;const _=T.filter(k=>w.includes(k.type.name));n.ensureMarks(_)}return!0},aA=(t,e)=>{const n=Aj(o=>o.type===e)(t.selection);if(!n)return!0;const r=t.doc.resolve(Math.max(0,n.pos-1)).before(n.depth);if(r===void 0)return!0;const i=t.doc.nodeAt(r);return n.node.type===(i==null?void 0:i.type)&&lc(t.doc,n.pos)&&t.join(n.pos),!0},lA=(t,e)=>{const n=Aj(o=>o.type===e)(t.selection);if(!n)return!0;const r=t.doc.resolve(n.start).after(n.depth);if(r===void 0)return!0;const i=t.doc.nodeAt(r);return n.node.type===(i==null?void 0:i.type)&&lc(t.doc,r)&&t.join(r),!0},lTe=(t,e,n,r={})=>({editor:i,tr:s,state:o,dispatch:a,chain:l,commands:c,can:u})=>{const{extensions:d,splittableMarks:f}=i.extensionManager,p=Gn(t,o.schema),m=Gn(e,o.schema),{selection:g,storedMarks:v}=o,{$from:x,$to:b}=g,w=x.blockRange(b),T=v||g.$to.parentOffset&&g.$from.marks();if(!w)return!1;const _=Aj(k=>YF(k.type.name,d))(g);if(w.depth>=1&&_&&w.depth-_.depth<=1){if(_.node.type===p)return c.liftListItem(m);if(YF(_.node.type.name,d)&&p.validContent(_.node.content)&&a)return l().command(()=>(s.setNodeMarkup(_.pos,p),!0)).command(()=>aA(s,p)).command(()=>lA(s,p)).run()}return!n||!T||!a?l().command(()=>u().wrapInList(p,r)?!0:c.clearNodes()).wrapInList(p,r).command(()=>aA(s,p)).command(()=>lA(s,p)).run():l().command(()=>{const k=u().wrapInList(p,r),S=T.filter(E=>f.includes(E.type.name));return s.ensureMarks(S),k?!0:c.clearNodes()}).wrapInList(p,r).command(()=>aA(s,p)).command(()=>lA(s,p)).run()},cTe=(t,e={},n={})=>({state:r,commands:i})=>{const{extendEmptyMarkRange:s=!1}=n,o=uc(t,r.schema);return CC(r,o,e)?i.unsetMark(o,{extendEmptyMarkRange:s}):i.setMark(o,e)},uTe=(t,e,n={})=>({state:r,commands:i})=>{const s=Gn(t,r.schema),o=Gn(e,r.schema),a=gy(r,s,n);let l;return r.selection.$anchor.sameParent(r.selection.$head)&&(l=r.selection.$anchor.parent.attrs),a?i.setNode(o,l):i.setNode(s,{...l,...n})},dTe=(t,e={})=>({state:n,commands:r})=>{const i=Gn(t,n.schema);return gy(n,i,e)?r.lift(i):r.wrapIn(i,e)},fTe=()=>({state:t,dispatch:e})=>{const n=t.plugins;for(let r=0;r<n.length;r+=1){const i=n[r];let s;if(i.spec.isInputRules&&(s=i.getState(t))){if(e){const o=t.tr,a=s.transform;for(let l=a.steps.length-1;l>=0;l-=1)o.step(a.steps[l].invert(a.docs[l]));if(s.text){const l=o.doc.resolve(s.from).marks();o.replaceWith(s.from,s.to,t.schema.text(s.text,l))}else o.delete(s.from,s.to)}return!0}}return!1},hTe=()=>({tr:t,dispatch:e})=>{const{selection:n}=t,{empty:r,ranges:i}=n;return r||e&&i.forEach(s=>{t.removeMark(s.$from.pos,s.$to.pos)}),!0},pTe=(t,e={})=>({tr:n,state:r,dispatch:i})=>{var s;const{extendEmptyMarkRange:o=!1}=e,{selection:a}=n,l=uc(t,r.schema),{$from:c,empty:u,ranges:d}=a;if(!i)return!0;if(u&&o){let{from:f,to:p}=a;const m=(s=c.marks().find(v=>v.type===l))===null||s===void 0?void 0:s.attrs,g=Ej(c,l,m);g&&(f=g.from,p=g.to),n.removeMark(f,p,l)}else d.forEach(f=>{n.removeMark(f.$from.pos,f.$to.pos,l)});return n.removeStoredMark(l),!0},mTe=(t,e={})=>({tr:n,state:r,dispatch:i})=>{let s=null,o=null;const a=kS(typeof t=="string"?t:t.name,r.schema);return a?(a==="node"&&(s=Gn(t,r.schema)),a==="mark"&&(o=uc(t,r.schema)),i&&n.selection.ranges.forEach(l=>{const c=l.$from.pos,u=l.$to.pos;r.doc.nodesBetween(c,u,(d,f)=>{s&&s===d.type&&n.setNodeMarkup(f,void 0,{...d.attrs,...e}),o&&d.marks.length&&d.marks.forEach(p=>{if(o===p.type){const m=Math.max(f,c),g=Math.min(f+d.nodeSize,u);n.addMark(m,g,o.create({...p.attrs,...e}))}})})}),!0):!1},gTe=(t,e={})=>({state:n,dispatch:r})=>{const i=Gn(t,n.schema);return PSe(i,e)(n,r)},yTe=(t,e={})=>({state:n,dispatch:r})=>{const i=Gn(t,n.schema);return CSe(i,e)(n,r)};var vTe=Object.freeze({__proto__:null,blur:XSe,clearContent:JSe,clearNodes:ZSe,command:eEe,createParagraphNear:tEe,cut:nEe,deleteCurrentNode:rEe,deleteNode:iEe,deleteRange:sEe,deleteSelection:oEe,enter:aEe,exitCode:lEe,extendMarkRange:uEe,first:dEe,focus:fEe,forEach:hEe,insertContent:pEe,insertContentAt:yEe,joinBackward:bEe,joinDown:xEe,joinForward:wEe,joinItemBackward:_Ee,joinItemForward:SEe,joinTextblockBackward:EEe,joinTextblockForward:TEe,joinUp:vEe,keyboardShortcut:kEe,lift:PEe,liftEmptyBlock:CEe,liftListItem:IEe,newlineInCode:OEe,resetAttributes:NEe,scrollIntoView:jEe,selectAll:REe,selectNodeBackward:DEe,selectNodeForward:MEe,selectParentNode:LEe,selectTextblockEnd:$Ee,selectTextblockStart:VEe,setContent:FEe,setMark:eTe,setMeta:tTe,setNode:nTe,setNodeSelection:rTe,setTextSelection:iTe,sinkListItem:sTe,splitBlock:oTe,splitListItem:aTe,toggleList:lTe,toggleMark:cTe,toggleNode:uTe,toggleWrap:dTe,undoInputRule:fTe,unsetAllMarks:hTe,unsetMark:pTe,updateAttributes:mTe,wrapIn:gTe,wrapInList:yTe});const xTe=Pr.create({name:"commands",addCommands(){return{...vTe}}}),bTe=Pr.create({name:"drop",addProseMirrorPlugins(){return[new Qn({key:new hi("tiptapDrop"),props:{handleDrop:(t,e,n,r)=>{this.editor.emit("drop",{editor:this.editor,event:e,slice:n,moved:r})}}})]}}),wTe=Pr.create({name:"editable",addProseMirrorPlugins(){return[new Qn({key:new hi("editable"),props:{editable:()=>this.editor.options.editable}})]}}),_Te=Pr.create({name:"focusEvents",addProseMirrorPlugins(){const{editor:t}=this;return[new Qn({key:new hi("focusEvents"),props:{handleDOMEvents:{focus:(e,n)=>{t.isFocused=!0;const r=t.state.tr.setMeta("focus",{event:n}).setMeta("addToHistory",!1);return e.dispatch(r),!1},blur:(e,n)=>{t.isFocused=!1;const r=t.state.tr.setMeta("blur",{event:n}).setMeta("addToHistory",!1);return e.dispatch(r),!1}}}})]}}),STe=Pr.create({name:"keymap",addKeyboardShortcuts(){const t=()=>this.editor.commands.first(({commands:o})=>[()=>o.undoInputRule(),()=>o.command(({tr:a})=>{const{selection:l,doc:c}=a,{empty:u,$anchor:d}=l,{pos:f,parent:p}=d,m=d.parent.isTextblock&&f>0?a.doc.resolve(f-1):d,g=m.parent.type.spec.isolating,v=d.pos-d.parentOffset,x=g&&m.parent.childCount===1?v===d.pos:Ke.atStart(c).from===f;return!u||!p.type.isTextblock||p.textContent.length||!x||x&&d.parent.type.name==="paragraph"?!1:o.clearNodes()}),()=>o.deleteSelection(),()=>o.joinBackward(),()=>o.selectNodeBackward()]),e=()=>this.editor.commands.first(({commands:o})=>[()=>o.deleteSelection(),()=>o.deleteCurrentNode(),()=>o.joinForward(),()=>o.selectNodeForward()]),r={Enter:()=>this.editor.commands.first(({commands:o})=>[()=>o.newlineInCode(),()=>o.createParagraphNear(),()=>o.liftEmptyBlock(),()=>o.splitBlock()]),"Mod-Enter":()=>this.editor.commands.exitCode(),Backspace:t,"Mod-Backspace":t,"Shift-Backspace":t,Delete:e,"Mod-Delete":e,"Mod-a":()=>this.editor.commands.selectAll()},i={...r},s={...r,"Ctrl-h":t,"Alt-Backspace":t,"Ctrl-d":e,"Ctrl-Alt-Backspace":e,"Alt-Delete":e,"Alt-d":e,"Ctrl-a":()=>this.editor.commands.selectTextblockStart(),"Ctrl-e":()=>this.editor.commands.selectTextblockEnd()};return Tj()||LQ()?s:i},addProseMirrorPlugins(){return[new Qn({key:new hi("clearDocument"),appendTransaction:(t,e,n)=>{const r=t.some(g=>g.docChanged)&&!e.doc.eq(n.doc),i=t.some(g=>g.getMeta("preventClearDocument"));if(!r||i)return;const{empty:s,from:o,to:a}=e.selection,l=Ke.atStart(e.doc).from,c=Ke.atEnd(e.doc).to;if(s||!(o===l&&a===c)||!PS(n.doc))return;const f=n.tr,p=_S({state:n,transaction:f}),{commands:m}=new SS({editor:this.editor,state:p});if(m.clearNodes(),!!f.steps.length)return f}})]}}),ETe=Pr.create({name:"paste",addProseMirrorPlugins(){return[new Qn({key:new hi("tiptapPaste"),props:{handlePaste:(t,e,n)=>{this.editor.emit("paste",{editor:this.editor,event:e,slice:n})}}})]}}),TTe=Pr.create({name:"tabindex",addProseMirrorPlugins(){return[new Qn({key:new hi("tabindex"),props:{attributes:()=>this.editor.isEditable?{tabindex:"0"}:{}}})]}});class qc{get name(){return this.node.type.name}constructor(e,n,r=!1,i=null){this.currentNode=null,this.actualDepth=null,this.isBlock=r,this.resolvedPos=e,this.editor=n,this.currentNode=i}get node(){return this.currentNode||this.resolvedPos.node()}get element(){return this.editor.view.domAtPos(this.pos).node}get depth(){var e;return(e=this.actualDepth)!==null&&e!==void 0?e:this.resolvedPos.depth}get pos(){return this.resolvedPos.pos}get content(){return this.node.content}set content(e){let n=this.from,r=this.to;if(this.isBlock){if(this.content.size===0){console.error(`You cant set content on a block node. Tried to set content on ${this.name} at ${this.pos}`);return}n=this.from+1,r=this.to-1}this.editor.commands.insertContentAt({from:n,to:r},e)}get attributes(){return this.node.attrs}get textContent(){return this.node.textContent}get size(){return this.node.nodeSize}get from(){return this.isBlock?this.pos:this.resolvedPos.start(this.resolvedPos.depth)}get range(){return{from:this.from,to:this.to}}get to(){return this.isBlock?this.pos+this.size:this.resolvedPos.end(this.resolvedPos.depth)+(this.node.isText?0:1)}get parent(){if(this.depth===0)return null;const e=this.resolvedPos.start(this.resolvedPos.depth-1),n=this.resolvedPos.doc.resolve(e);return new qc(n,this.editor)}get before(){let e=this.resolvedPos.doc.resolve(this.from-(this.isBlock?1:2));return e.depth!==this.depth&&(e=this.resolvedPos.doc.resolve(this.from-3)),new qc(e,this.editor)}get after(){let e=this.resolvedPos.doc.resolve(this.to+(this.isBlock?2:1));return e.depth!==this.depth&&(e=this.resolvedPos.doc.resolve(this.to+3)),new qc(e,this.editor)}get children(){const e=[];return this.node.content.forEach((n,r)=>{const i=n.isBlock&&!n.isTextblock,s=n.isAtom&&!n.isText,o=this.pos+r+(s?0:1),a=this.resolvedPos.doc.resolve(o);if(!i&&a.depth<=this.depth)return;const l=new qc(a,this.editor,i,i?n:null);i&&(l.actualDepth=this.depth+1),e.push(new qc(a,this.editor,i,i?n:null))}),e}get firstChild(){return this.children[0]||null}get lastChild(){const e=this.children;return e[e.length-1]||null}closest(e,n={}){let r=null,i=this.parent;for(;i&&!r;){if(i.node.type.name===e)if(Object.keys(n).length>0){const s=i.node.attrs,o=Object.keys(n);for(let a=0;a<o.length;a+=1){const l=o[a];if(s[l]!==n[l])break}}else r=i;i=i.parent}return r}querySelector(e,n={}){return this.querySelectorAll(e,n,!0)[0]||null}querySelectorAll(e,n={},r=!1){let i=[];if(!this.children||this.children.length===0)return i;const s=Object.keys(n);return this.children.forEach(o=>{r&&i.length>0||(o.node.type.name===e&&s.every(l=>n[l]===o.node.attrs[l])&&i.push(o),!(r&&i.length>0)&&(i=i.concat(o.querySelectorAll(e,n,r))))}),i}setAttribute(e){const{tr:n}=this.editor.state;n.setNodeMarkup(this.from,void 0,{...this.node.attrs,...e}),this.editor.view.dispatch(n)}}const ATe=`.ProseMirror {
  position: relative;
}

.ProseMirror {
  word-wrap: break-word;
  white-space: pre-wrap;
  white-space: break-spaces;
  -webkit-font-variant-ligatures: none;
  font-variant-ligatures: none;
  font-feature-settings: "liga" 0; /* the above doesn't seem to work in Edge */
}

.ProseMirror [contenteditable="false"] {
  white-space: normal;
}

.ProseMirror [contenteditable="false"] [contenteditable="true"] {
  white-space: pre-wrap;
}

.ProseMirror pre {
  white-space: pre-wrap;
}

img.ProseMirror-separator {
  display: inline !important;
  border: none !important;
  margin: 0 !important;
  width: 0 !important;
  height: 0 !important;
}

.ProseMirror-gapcursor {
  display: none;
  pointer-events: none;
  position: absolute;
  margin: 0;
}

.ProseMirror-gapcursor:after {
  content: "";
  display: block;
  position: absolute;
  top: -2px;
  width: 20px;
  border-top: 1px solid black;
  animation: ProseMirror-cursor-blink 1.1s steps(2, start) infinite;
}

@keyframes ProseMirror-cursor-blink {
  to {
    visibility: hidden;
  }
}

.ProseMirror-hideselection *::selection {
  background: transparent;
}

.ProseMirror-hideselection *::-moz-selection {
  background: transparent;
}

.ProseMirror-hideselection * {
  caret-color: transparent;
}

.ProseMirror-focused .ProseMirror-gapcursor {
  display: block;
}

.tippy-box[data-animation=fade][data-state=hidden] {
  opacity: 0
}`;function kTe(t,e,n){const r=document.querySelector("style[data-tiptap-style]");if(r!==null)return r;const i=document.createElement("style");return e&&i.setAttribute("nonce",e),i.setAttribute("data-tiptap-style",""),i.innerHTML=t,document.getElementsByTagName("head")[0].appendChild(i),i}class PTe extends DSe{constructor(e={}){super(),this.isFocused=!1,this.isInitialized=!1,this.extensionStorage={},this.options={element:document.createElement("div"),content:"",injectCSS:!0,injectNonce:void 0,extensions:[],autofocus:!1,editable:!0,editorProps:{},parseOptions:{},coreExtensionOptions:{},enableInputRules:!0,enablePasteRules:!0,enableCoreExtensions:!0,enableContentCheck:!1,onBeforeCreate:()=>null,onCreate:()=>null,onUpdate:()=>null,onSelectionUpdate:()=>null,onTransaction:()=>null,onFocus:()=>null,onBlur:()=>null,onDestroy:()=>null,onContentError:({error:n})=>{throw n},onPaste:()=>null,onDrop:()=>null},this.isCapturingTransaction=!1,this.capturedTransaction=null,this.setOptions(e),this.createExtensionManager(),this.createCommandManager(),this.createSchema(),this.on("beforeCreate",this.options.onBeforeCreate),this.emit("beforeCreate",{editor:this}),this.on("contentError",this.options.onContentError),this.createView(),this.injectCSS(),this.on("create",this.options.onCreate),this.on("update",this.options.onUpdate),this.on("selectionUpdate",this.options.onSelectionUpdate),this.on("transaction",this.options.onTransaction),this.on("focus",this.options.onFocus),this.on("blur",this.options.onBlur),this.on("destroy",this.options.onDestroy),this.on("drop",({event:n,slice:r,moved:i})=>this.options.onDrop(n,r,i)),this.on("paste",({event:n,slice:r})=>this.options.onPaste(n,r)),window.setTimeout(()=>{this.isDestroyed||(this.commands.focus(this.options.autofocus),this.emit("create",{editor:this}),this.isInitialized=!0)},0)}get storage(){return this.extensionStorage}get commands(){return this.commandManager.commands}chain(){return this.commandManager.chain()}can(){return this.commandManager.can()}injectCSS(){this.options.injectCSS&&document&&(this.css=kTe(ATe,this.options.injectNonce))}setOptions(e={}){this.options={...this.options,...e},!(!this.view||!this.state||this.isDestroyed)&&(this.options.editorProps&&this.view.setProps(this.options.editorProps),this.view.updateState(this.state))}setEditable(e,n=!0){this.setOptions({editable:e}),n&&this.emit("update",{editor:this,transaction:this.state.tr})}get isEditable(){return this.options.editable&&this.view&&this.view.editable}get state(){return this.view.state}registerPlugin(e,n){const r=OQ(n)?n(e,[...this.state.plugins]):[...this.state.plugins,e],i=this.state.reconfigure({plugins:r});return this.view.updateState(i),i}unregisterPlugin(e){if(this.isDestroyed)return;const n=this.state.plugins;let r=n;if([].concat(e).forEach(s=>{const o=typeof s=="string"?`${s}$`:s.key;r=n.filter(a=>!a.key.startsWith(o))}),n.length===r.length)return;const i=this.state.reconfigure({plugins:r});return this.view.updateState(i),i}createExtensionManager(){var e,n;const i=[...this.options.enableCoreExtensions?[wTe,YSe.configure({blockSeparator:(n=(e=this.options.coreExtensionOptions)===null||e===void 0?void 0:e.clipboardTextSerializer)===null||n===void 0?void 0:n.blockSeparator}),xTe,_Te,STe,TTe,bTe,ETe].filter(s=>typeof this.options.enableCoreExtensions=="object"?this.options.enableCoreExtensions[s.name]!==!1:!0):[],...this.options.extensions].filter(s=>["extension","node","mark"].includes(s==null?void 0:s.type));this.extensionManager=new cf(i,this)}createCommandManager(){this.commandManager=new SS({editor:this})}createSchema(){this.schema=this.extensionManager.schema}createView(){let e;try{e=PC(this.options.content,this.schema,this.options.parseOptions,{errorOnInvalidContent:this.options.enableContentCheck})}catch(s){if(!(s instanceof Error)||!["[tiptap error]: Invalid JSON content","[tiptap error]: Invalid HTML content"].includes(s.message))throw s;this.emit("contentError",{editor:this,error:s,disableCollaboration:()=>{this.storage.collaboration&&(this.storage.collaboration.isDisabled=!0),this.options.extensions=this.options.extensions.filter(o=>o.name!=="collaboration"),this.createExtensionManager()}}),e=PC(this.options.content,this.schema,this.options.parseOptions,{errorOnInvalidContent:!1})}const n=DQ(e,this.options.autofocus);this.view=new eSe(this.options.element,{...this.options.editorProps,dispatchTransaction:this.dispatchTransaction.bind(this),state:lf.create({doc:e,selection:n||void 0})}),this.view.dom.setAttribute("role","textbox"),this.view.dom.getAttribute("aria-label")||this.view.dom.setAttribute("aria-label","Rich-Text Editor");const r=this.state.reconfigure({plugins:this.extensionManager.plugins});this.view.updateState(r),this.createNodeViews(),this.prependClass();const i=this.view.dom;i.editor=this}createNodeViews(){this.view.isDestroyed||this.view.setProps({nodeViews:this.extensionManager.nodeViews})}prependClass(){this.view.dom.className=`tiptap ${this.view.dom.className}`}captureTransaction(e){this.isCapturingTransaction=!0,e(),this.isCapturingTransaction=!1;const n=this.capturedTransaction;return this.capturedTransaction=null,n}dispatchTransaction(e){if(this.view.isDestroyed)return;if(this.isCapturingTransaction){if(!this.capturedTransaction){this.capturedTransaction=e;return}e.steps.forEach(o=>{var a;return(a=this.capturedTransaction)===null||a===void 0?void 0:a.step(o)});return}const n=this.state.apply(e),r=!this.state.selection.eq(n.selection);this.emit("beforeTransaction",{editor:this,transaction:e,nextState:n}),this.view.updateState(n),this.emit("transaction",{editor:this,transaction:e}),r&&this.emit("selectionUpdate",{editor:this,transaction:e});const i=e.getMeta("focus"),s=e.getMeta("blur");i&&this.emit("focus",{editor:this,event:i.event,transaction:e}),s&&this.emit("blur",{editor:this,event:s.event,transaction:e}),!(!e.docChanged||e.getMeta("preventUpdate"))&&this.emit("update",{editor:this,transaction:e})}getAttributes(e){return VQ(this.state,e)}isActive(e,n){const r=typeof e=="string"?e:null,i=typeof e=="string"?n:e;return XEe(this.state,r,i)}getJSON(){return this.state.doc.toJSON()}getHTML(){return HEe(this.state.doc.content,this.schema)}getText(e){const{blockSeparator:n=`

`,textSerializers:r={}}=e||{};return WEe(this.state.doc,{blockSeparator:n,textSerializers:{...jQ(this.schema),...r}})}get isEmpty(){return PS(this.state.doc)}getCharacterCount(){return console.warn('[tiptap warn]: "editor.getCharacterCount()" is deprecated. Please use "editor.storage.characterCount.characters()" instead.'),this.state.doc.content.size-2}destroy(){if(this.emit("destroy"),this.view){const e=this.view.dom;e&&e.editor&&delete e.editor,this.view.destroy()}this.removeAllListeners()}get isDestroyed(){var e;return!(!((e=this.view)===null||e===void 0)&&e.docView)}$node(e,n){var r;return((r=this.$doc)===null||r===void 0?void 0:r.querySelector(e,n))||null}$nodes(e,n){var r;return((r=this.$doc)===null||r===void 0?void 0:r.querySelectorAll(e,n))||null}$pos(e){const n=this.state.doc.resolve(e);return new qc(n,this)}get $doc(){return this.$pos(0)}}function Eh(t){return new TS({find:t.find,handler:({state:e,range:n,match:r})=>{const i=et(t.getAttributes,void 0,r);if(i===!1||i===null)return null;const{tr:s}=e,o=r[r.length-1],a=r[0];if(o){const l=a.search(/\S/),c=n.from+a.indexOf(o),u=c+o.length;if(kj(n.from,n.to,e.doc).filter(p=>p.mark.type.excluded.find(g=>g===t.type&&g!==p.mark.type)).filter(p=>p.to>c).length)return null;u<n.to&&s.delete(u,n.to),c>n.from&&s.delete(n.from+l,c);const f=n.from+l+o.length;s.addMark(n.from+l,f,t.type.create(i||{})),s.removeStoredMark(t.type)}}})}function CTe(t){return new TS({find:t.find,handler:({state:e,range:n,match:r})=>{const i=et(t.getAttributes,void 0,r)||{},{tr:s}=e,o=n.from;let a=n.to;const l=t.type.create(i);if(r[1]){const c=r[0].lastIndexOf(r[1]);let u=o+c;u>a?u=a:a=u+r[1].length;const d=r[0][r[0].length-1];s.insertText(d,o+r[0].length-1),s.replaceWith(u,a,l)}else if(r[0]){const c=t.type.isInline?o:o-1;s.insert(c,t.type.create(i)).delete(s.mapping.map(o),s.mapping.map(a))}s.scrollIntoView()}})}function IC(t){return new TS({find:t.find,handler:({state:e,range:n,match:r})=>{const i=e.doc.resolve(n.from),s=et(t.getAttributes,void 0,r)||{};if(!i.node(-1).canReplaceWith(i.index(-1),i.indexAfter(-1),t.type))return null;e.tr.delete(n.from,n.to).setBlockType(n.from,n.from,t.type,s)}})}function yy(t){return new TS({find:t.find,handler:({state:e,range:n,match:r,chain:i})=>{const s=et(t.getAttributes,void 0,r)||{},o=e.tr.delete(n.from,n.to),l=o.doc.resolve(n.from).blockRange(),c=l&&dj(l,t.type,s);if(!c)return null;if(o.wrap(l,c),t.keepMarks&&t.editor){const{selection:d,storedMarks:f}=e,{splittableMarks:p}=t.editor.extensionManager,m=f||d.$to.parentOffset&&d.$from.marks();if(m){const g=m.filter(v=>p.includes(v.type.name));o.ensureMarks(g)}}if(t.keepAttributes){const d=t.type.name==="bulletList"||t.type.name==="orderedList"?"listItem":"taskList";i().updateAttributes(d,s).run()}const u=o.doc.resolve(n.from-1).nodeBefore;u&&u.type===t.type&&lc(o.doc,n.from-1)&&(!t.joinPredicate||t.joinPredicate(r,u))&&o.join(n.from-1)}})}class fi{constructor(e={}){this.type="node",this.name="node",this.parent=null,this.child=null,this.config={name:this.name,defaultOptions:{}},this.config={...this.config,...e},this.name=this.config.name,e.defaultOptions&&Object.keys(e.defaultOptions).length>0&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${this.name}".`),this.options=this.config.defaultOptions,this.config.addOptions&&(this.options=et(Se(this,"addOptions",{name:this.name}))),this.storage=et(Se(this,"addStorage",{name:this.name,options:this.options}))||{}}static create(e={}){return new fi(e)}configure(e={}){const n=this.extend({...this.config,addOptions:()=>AS(this.options,e)});return n.name=this.name,n.parent=this.parent,n}extend(e={}){const n=new fi(e);return n.parent=this,this.child=n,n.name=e.name?e.name:n.parent.name,e.defaultOptions&&Object.keys(e.defaultOptions).length>0&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${n.name}".`),n.options=et(Se(n,"addOptions",{name:n.name})),n.storage=et(Se(n,"addStorage",{name:n.name,options:n.options})),n}}function Ku(t){return new qSe({find:t.find,handler:({state:e,range:n,match:r,pasteEvent:i})=>{const s=et(t.getAttributes,void 0,r,i);if(s===!1||s===null)return null;const{tr:o}=e,a=r[r.length-1],l=r[0];let c=n.to;if(a){const u=l.search(/\S/),d=n.from+l.indexOf(a),f=d+a.length;if(kj(n.from,n.to,e.doc).filter(m=>m.mark.type.excluded.find(v=>v===t.type&&v!==m.mark.type)).filter(m=>m.to>d).length)return null;f<n.to&&o.delete(f,n.to),d>n.from&&o.delete(n.from+u,d),c=n.from+u+a.length,o.addMark(n.from+u,c,t.type.create(s||{})),o.removeStoredMark(t.type)}}})}function ITe(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var FQ={exports:{}},cA={};/**
 * @license React
 * use-sync-external-store-shim.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var JF;function OTe(){if(JF)return cA;JF=1;var t=M;function e(d,f){return d===f&&(d!==0||1/d===1/f)||d!==d&&f!==f}var n=typeof Object.is=="function"?Object.is:e,r=t.useState,i=t.useEffect,s=t.useLayoutEffect,o=t.useDebugValue;function a(d,f){var p=f(),m=r({inst:{value:p,getSnapshot:f}}),g=m[0].inst,v=m[1];return s(function(){g.value=p,g.getSnapshot=f,l(g)&&v({inst:g})},[d,p,f]),i(function(){return l(g)&&v({inst:g}),d(function(){l(g)&&v({inst:g})})},[d]),o(p),p}function l(d){var f=d.getSnapshot;d=d.value;try{var p=f();return!n(d,p)}catch{return!0}}function c(d,f){return f()}var u=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?c:a;return cA.useSyncExternalStore=t.useSyncExternalStore!==void 0?t.useSyncExternalStore:u,cA}FQ.exports=OTe();var Pj=FQ.exports;const NTe=(...t)=>e=>{t.forEach(n=>{typeof n=="function"?n(e):n&&(n.current=e)})},jTe=({contentComponent:t})=>{const e=Pj.useSyncExternalStore(t.subscribe,t.getSnapshot,t.getServerSnapshot);return M.createElement(M.Fragment,null,Object.values(e))};function RTe(){const t=new Set;let e={};return{subscribe(n){return t.add(n),()=>{t.delete(n)}},getSnapshot(){return e},getServerSnapshot(){return e},setRenderer(n,r){e={...e,[n]:tre.createPortal(r.reactElement,r.element,n)},t.forEach(i=>i())},removeRenderer(n){const r={...e};delete r[n],e=r,t.forEach(i=>i())}}}class DTe extends M.Component{constructor(e){var n;super(e),this.editorContentRef=M.createRef(),this.initialized=!1,this.state={hasContentComponentInitialized:!!(!((n=e.editor)===null||n===void 0)&&n.contentComponent)}}componentDidMount(){this.init()}componentDidUpdate(){this.init()}init(){const e=this.props.editor;if(e&&!e.isDestroyed&&e.options.element){if(e.contentComponent)return;const n=this.editorContentRef.current;n.append(...e.options.element.childNodes),e.setOptions({element:n}),e.contentComponent=RTe(),this.state.hasContentComponentInitialized||(this.unsubscribeToContentComponent=e.contentComponent.subscribe(()=>{this.setState(r=>r.hasContentComponentInitialized?r:{hasContentComponentInitialized:!0}),this.unsubscribeToContentComponent&&this.unsubscribeToContentComponent()})),e.createNodeViews(),this.initialized=!0}}componentWillUnmount(){const e=this.props.editor;if(!e||(this.initialized=!1,e.isDestroyed||e.view.setProps({nodeViews:{}}),this.unsubscribeToContentComponent&&this.unsubscribeToContentComponent(),e.contentComponent=null,!e.options.element.firstChild))return;const n=document.createElement("div");n.append(...e.options.element.childNodes),e.setOptions({element:n})}render(){const{editor:e,innerRef:n,...r}=this.props;return M.createElement(M.Fragment,null,M.createElement("div",{ref:NTe(n,this.editorContentRef),...r}),(e==null?void 0:e.contentComponent)&&M.createElement(jTe,{contentComponent:e.contentComponent}))}}const MTe=C.forwardRef((t,e)=>{const n=M.useMemo(()=>Math.floor(Math.random()*4294967295).toString(),[t.editor]);return M.createElement(DTe,{key:n,innerRef:e,...t})}),LTe=M.memo(MTe);var $Te=function t(e,n){if(e===n)return!0;if(e&&n&&typeof e=="object"&&typeof n=="object"){if(e.constructor!==n.constructor)return!1;var r,i,s;if(Array.isArray(e)){if(r=e.length,r!=n.length)return!1;for(i=r;i--!==0;)if(!t(e[i],n[i]))return!1;return!0}if(e instanceof Map&&n instanceof Map){if(e.size!==n.size)return!1;for(i of e.entries())if(!n.has(i[0]))return!1;for(i of e.entries())if(!t(i[1],n.get(i[0])))return!1;return!0}if(e instanceof Set&&n instanceof Set){if(e.size!==n.size)return!1;for(i of e.entries())if(!n.has(i[0]))return!1;return!0}if(ArrayBuffer.isView(e)&&ArrayBuffer.isView(n)){if(r=e.length,r!=n.length)return!1;for(i=r;i--!==0;)if(e[i]!==n[i])return!1;return!0}if(e.constructor===RegExp)return e.source===n.source&&e.flags===n.flags;if(e.valueOf!==Object.prototype.valueOf)return e.valueOf()===n.valueOf();if(e.toString!==Object.prototype.toString)return e.toString()===n.toString();if(s=Object.keys(e),r=s.length,r!==Object.keys(n).length)return!1;for(i=r;i--!==0;)if(!Object.prototype.hasOwnProperty.call(n,s[i]))return!1;for(i=r;i--!==0;){var o=s[i];if(!(o==="_owner"&&e.$$typeof)&&!t(e[o],n[o]))return!1}return!0}return e!==e&&n!==n},VTe=ITe($Te),BQ={exports:{}},uA={};/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ZF;function FTe(){if(ZF)return uA;ZF=1;var t=M,e=Pj;function n(c,u){return c===u&&(c!==0||1/c===1/u)||c!==c&&u!==u}var r=typeof Object.is=="function"?Object.is:n,i=e.useSyncExternalStore,s=t.useRef,o=t.useEffect,a=t.useMemo,l=t.useDebugValue;return uA.useSyncExternalStoreWithSelector=function(c,u,d,f,p){var m=s(null);if(m.current===null){var g={hasValue:!1,value:null};m.current=g}else g=m.current;m=a(function(){function x(k){if(!b){if(b=!0,w=k,k=f(k),p!==void 0&&g.hasValue){var S=g.value;if(p(S,k))return T=S}return T=k}if(S=T,r(w,k))return S;var E=f(k);return p!==void 0&&p(S,E)?S:(w=k,T=E)}var b=!1,w,T,_=d===void 0?null:d;return[function(){return x(u())},_===null?void 0:function(){return x(_())}]},[u,d,f,p]);var v=i(c,m[0],m[1]);return o(function(){g.hasValue=!0,g.value=v},[v]),l(v),v},uA}BQ.exports=FTe();var BTe=BQ.exports;class UTe{constructor(e){this.transactionNumber=0,this.lastTransactionNumber=0,this.subscribers=new Set,this.editor=e,this.lastSnapshot={editor:e,transactionNumber:0},this.getSnapshot=this.getSnapshot.bind(this),this.getServerSnapshot=this.getServerSnapshot.bind(this),this.watch=this.watch.bind(this),this.subscribe=this.subscribe.bind(this)}getSnapshot(){return this.transactionNumber===this.lastTransactionNumber?this.lastSnapshot:(this.lastTransactionNumber=this.transactionNumber,this.lastSnapshot={editor:this.editor,transactionNumber:this.transactionNumber},this.lastSnapshot)}getServerSnapshot(){return{editor:null,transactionNumber:0}}subscribe(e){return this.subscribers.add(e),()=>{this.subscribers.delete(e)}}watch(e){if(this.editor=e,this.editor){const n=()=>{this.transactionNumber+=1,this.subscribers.forEach(i=>i())},r=this.editor;return r.on("transaction",n),()=>{r.off("transaction",n)}}}}function zTe(t){var e;const[n]=C.useState(()=>new UTe(t.editor)),r=BTe.useSyncExternalStoreWithSelector(n.subscribe,n.getSnapshot,n.getServerSnapshot,t.selector,(e=t.equalityFn)!==null&&e!==void 0?e:VTe);return C.useEffect(()=>n.watch(t.editor),[t.editor,n]),C.useDebugValue(r),r}const qTe=!1,OC=typeof window>"u",HTe=OC||!!(typeof window<"u"&&window.next);class WTe{constructor(e){this.editor=null,this.subscriptions=new Set,this.isComponentMounted=!1,this.previousDeps=null,this.instanceId="",this.options=e,this.subscriptions=new Set,this.setEditor(this.getInitialEditor()),this.scheduleDestroy(),this.getEditor=this.getEditor.bind(this),this.getServerSnapshot=this.getServerSnapshot.bind(this),this.subscribe=this.subscribe.bind(this),this.refreshEditorInstance=this.refreshEditorInstance.bind(this),this.scheduleDestroy=this.scheduleDestroy.bind(this),this.onRender=this.onRender.bind(this),this.createEditor=this.createEditor.bind(this)}setEditor(e){this.editor=e,this.instanceId=Math.random().toString(36).slice(2,9),this.subscriptions.forEach(n=>n())}getInitialEditor(){if(this.options.current.immediatelyRender===void 0)return OC||HTe?null:this.createEditor();if(this.options.current.immediatelyRender&&OC&&qTe)throw new Error("Tiptap Error: SSR has been detected, and `immediatelyRender` has been set to `true` this is an unsupported configuration that may result in errors, explicitly set `immediatelyRender` to `false` to avoid hydration mismatches.");return this.options.current.immediatelyRender?this.createEditor():null}createEditor(){const e={...this.options.current,onBeforeCreate:(...r)=>{var i,s;return(s=(i=this.options.current).onBeforeCreate)===null||s===void 0?void 0:s.call(i,...r)},onBlur:(...r)=>{var i,s;return(s=(i=this.options.current).onBlur)===null||s===void 0?void 0:s.call(i,...r)},onCreate:(...r)=>{var i,s;return(s=(i=this.options.current).onCreate)===null||s===void 0?void 0:s.call(i,...r)},onDestroy:(...r)=>{var i,s;return(s=(i=this.options.current).onDestroy)===null||s===void 0?void 0:s.call(i,...r)},onFocus:(...r)=>{var i,s;return(s=(i=this.options.current).onFocus)===null||s===void 0?void 0:s.call(i,...r)},onSelectionUpdate:(...r)=>{var i,s;return(s=(i=this.options.current).onSelectionUpdate)===null||s===void 0?void 0:s.call(i,...r)},onTransaction:(...r)=>{var i,s;return(s=(i=this.options.current).onTransaction)===null||s===void 0?void 0:s.call(i,...r)},onUpdate:(...r)=>{var i,s;return(s=(i=this.options.current).onUpdate)===null||s===void 0?void 0:s.call(i,...r)},onContentError:(...r)=>{var i,s;return(s=(i=this.options.current).onContentError)===null||s===void 0?void 0:s.call(i,...r)},onDrop:(...r)=>{var i,s;return(s=(i=this.options.current).onDrop)===null||s===void 0?void 0:s.call(i,...r)},onPaste:(...r)=>{var i,s;return(s=(i=this.options.current).onPaste)===null||s===void 0?void 0:s.call(i,...r)}};return new PTe(e)}getEditor(){return this.editor}getServerSnapshot(){return null}subscribe(e){return this.subscriptions.add(e),()=>{this.subscriptions.delete(e)}}onRender(e){return()=>(this.isComponentMounted=!0,clearTimeout(this.scheduledDestructionTimeout),this.editor&&!this.editor.isDestroyed&&e.length===0?this.editor.setOptions({...this.options.current,editable:this.editor.isEditable}):this.refreshEditorInstance(e),()=>{this.isComponentMounted=!1,this.scheduleDestroy()})}refreshEditorInstance(e){if(this.editor&&!this.editor.isDestroyed){if(this.previousDeps===null){this.previousDeps=e;return}if(this.previousDeps.length===e.length&&this.previousDeps.every((r,i)=>r===e[i]))return}this.editor&&!this.editor.isDestroyed&&this.editor.destroy(),this.setEditor(this.createEditor()),this.previousDeps=e}scheduleDestroy(){const e=this.instanceId,n=this.editor;this.scheduledDestructionTimeout=setTimeout(()=>{if(this.isComponentMounted&&this.instanceId===e){n&&n.setOptions(this.options.current);return}n&&!n.isDestroyed&&(n.destroy(),this.instanceId===e&&this.setEditor(null))},1)}}function KTe(t={},e=[]){const n=C.useRef(t);n.current=t;const[r]=C.useState(()=>new WTe(n)),i=Pj.useSyncExternalStore(r.subscribe,r.getEditor,r.getServerSnapshot);return C.useDebugValue(i),C.useEffect(r.onRender(e)),zTe({editor:i,selector:({transactionNumber:s})=>t.shouldRerenderOnTransaction===!1?null:t.immediatelyRender&&s===0?0:s+1}),i}const GTe=C.createContext({editor:null});GTe.Consumer;const QTe=C.createContext({onDragStart:void 0}),YTe=()=>C.useContext(QTe);M.forwardRef((t,e)=>{const{onDragStart:n}=YTe(),r=t.as||"div";return M.createElement(r,{...t,ref:e,"data-node-view-wrapper":"",onDragStart:n,style:{whiteSpace:"normal",...t.style}})});const XTe=/^\s*>\s$/,JTe=fi.create({name:"blockquote",addOptions(){return{HTMLAttributes:{}}},content:"block+",group:"block",defining:!0,parseHTML(){return[{tag:"blockquote"}]},renderHTML({HTMLAttributes:t}){return["blockquote",lr(this.options.HTMLAttributes,t),0]},addCommands(){return{setBlockquote:()=>({commands:t})=>t.wrapIn(this.name),toggleBlockquote:()=>({commands:t})=>t.toggleWrap(this.name),unsetBlockquote:()=>({commands:t})=>t.lift(this.name)}},addKeyboardShortcuts(){return{"Mod-Shift-b":()=>this.editor.commands.toggleBlockquote()}},addInputRules(){return[yy({find:XTe,type:this.type})]}}),ZTe=/(?:^|\s)(\*\*(?!\s+\*\*)((?:[^*]+))\*\*(?!\s+\*\*))$/,eAe=/(?:^|\s)(\*\*(?!\s+\*\*)((?:[^*]+))\*\*(?!\s+\*\*))/g,tAe=/(?:^|\s)(__(?!\s+__)((?:[^_]+))__(?!\s+__))$/,nAe=/(?:^|\s)(__(?!\s+__)((?:[^_]+))__(?!\s+__))/g,rAe=ha.create({name:"bold",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"strong"},{tag:"b",getAttrs:t=>t.style.fontWeight!=="normal"&&null},{style:"font-weight=400",clearMark:t=>t.type.name===this.name},{style:"font-weight",getAttrs:t=>/^(bold(er)?|[5-9]\d{2,})$/.test(t)&&null}]},renderHTML({HTMLAttributes:t}){return["strong",lr(this.options.HTMLAttributes,t),0]},addCommands(){return{setBold:()=>({commands:t})=>t.setMark(this.name),toggleBold:()=>({commands:t})=>t.toggleMark(this.name),unsetBold:()=>({commands:t})=>t.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-b":()=>this.editor.commands.toggleBold(),"Mod-B":()=>this.editor.commands.toggleBold()}},addInputRules(){return[Eh({find:ZTe,type:this.type}),Eh({find:tAe,type:this.type})]},addPasteRules(){return[Ku({find:eAe,type:this.type}),Ku({find:nAe,type:this.type})]}}),iAe="listItem",e3="textStyle",t3=/^\s*([-+*])\s$/,sAe=fi.create({name:"bulletList",addOptions(){return{itemTypeName:"listItem",HTMLAttributes:{},keepMarks:!1,keepAttributes:!1}},group:"block list",content(){return`${this.options.itemTypeName}+`},parseHTML(){return[{tag:"ul"}]},renderHTML({HTMLAttributes:t}){return["ul",lr(this.options.HTMLAttributes,t),0]},addCommands(){return{toggleBulletList:()=>({commands:t,chain:e})=>this.options.keepAttributes?e().toggleList(this.name,this.options.itemTypeName,this.options.keepMarks).updateAttributes(iAe,this.editor.getAttributes(e3)).run():t.toggleList(this.name,this.options.itemTypeName,this.options.keepMarks)}},addKeyboardShortcuts(){return{"Mod-Shift-8":()=>this.editor.commands.toggleBulletList()}},addInputRules(){let t=yy({find:t3,type:this.type});return(this.options.keepMarks||this.options.keepAttributes)&&(t=yy({find:t3,type:this.type,keepMarks:this.options.keepMarks,keepAttributes:this.options.keepAttributes,getAttributes:()=>this.editor.getAttributes(e3),editor:this.editor})),[t]}}),oAe=/(?:^|\s)(`(?!\s+`)((?:[^`]+))`(?!\s+`))$/,aAe=/(?:^|\s)(`(?!\s+`)((?:[^`]+))`(?!\s+`))/g,lAe=ha.create({name:"code",addOptions(){return{HTMLAttributes:{}}},excludes:"_",code:!0,exitable:!0,parseHTML(){return[{tag:"code"}]},renderHTML({HTMLAttributes:t}){return["code",lr(this.options.HTMLAttributes,t),0]},addCommands(){return{setCode:()=>({commands:t})=>t.setMark(this.name),toggleCode:()=>({commands:t})=>t.toggleMark(this.name),unsetCode:()=>({commands:t})=>t.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-e":()=>this.editor.commands.toggleCode()}},addInputRules(){return[Eh({find:oAe,type:this.type})]},addPasteRules(){return[Ku({find:aAe,type:this.type})]}}),cAe=/^```([a-z]+)?[\s\n]$/,uAe=/^~~~([a-z]+)?[\s\n]$/,dAe=fi.create({name:"codeBlock",addOptions(){return{languageClassPrefix:"language-",exitOnTripleEnter:!0,exitOnArrowDown:!0,defaultLanguage:null,HTMLAttributes:{}}},content:"text*",marks:"",group:"block",code:!0,defining:!0,addAttributes(){return{language:{default:this.options.defaultLanguage,parseHTML:t=>{var e;const{languageClassPrefix:n}=this.options,s=[...((e=t.firstElementChild)===null||e===void 0?void 0:e.classList)||[]].filter(o=>o.startsWith(n)).map(o=>o.replace(n,""))[0];return s||null},rendered:!1}}},parseHTML(){return[{tag:"pre",preserveWhitespace:"full"}]},renderHTML({node:t,HTMLAttributes:e}){return["pre",lr(this.options.HTMLAttributes,e),["code",{class:t.attrs.language?this.options.languageClassPrefix+t.attrs.language:null},0]]},addCommands(){return{setCodeBlock:t=>({commands:e})=>e.setNode(this.name,t),toggleCodeBlock:t=>({commands:e})=>e.toggleNode(this.name,"paragraph",t)}},addKeyboardShortcuts(){return{"Mod-Alt-c":()=>this.editor.commands.toggleCodeBlock(),Backspace:()=>{const{empty:t,$anchor:e}=this.editor.state.selection,n=e.pos===1;return!t||e.parent.type.name!==this.name?!1:n||!e.parent.textContent.length?this.editor.commands.clearNodes():!1},Enter:({editor:t})=>{if(!this.options.exitOnTripleEnter)return!1;const{state:e}=t,{selection:n}=e,{$from:r,empty:i}=n;if(!i||r.parent.type!==this.type)return!1;const s=r.parentOffset===r.parent.nodeSize-2,o=r.parent.textContent.endsWith(`

`);return!s||!o?!1:t.chain().command(({tr:a})=>(a.delete(r.pos-2,r.pos),!0)).exitCode().run()},ArrowDown:({editor:t})=>{if(!this.options.exitOnArrowDown)return!1;const{state:e}=t,{selection:n,doc:r}=e,{$from:i,empty:s}=n;if(!s||i.parent.type!==this.type||!(i.parentOffset===i.parent.nodeSize-2))return!1;const a=i.after();return a===void 0?!1:r.nodeAt(a)?t.commands.command(({tr:c})=>(c.setSelection(Ke.near(r.resolve(a))),!0)):t.commands.exitCode()}}},addInputRules(){return[IC({find:cAe,type:this.type,getAttributes:t=>({language:t[1]})}),IC({find:uAe,type:this.type,getAttributes:t=>({language:t[1]})})]},addProseMirrorPlugins(){return[new Qn({key:new hi("codeBlockVSCodeHandler"),props:{handlePaste:(t,e)=>{if(!e.clipboardData||this.editor.isActive(this.type.name))return!1;const n=e.clipboardData.getData("text/plain"),r=e.clipboardData.getData("vscode-editor-data"),i=r?JSON.parse(r):void 0,s=i==null?void 0:i.mode;if(!n||!s)return!1;const{tr:o,schema:a}=t.state,l=a.text(n.replace(/\r\n?/g,`
`));return o.replaceSelectionWith(this.type.create({language:s},l)),o.selection.$from.parent.type!==this.type&&o.setSelection(Ue.near(o.doc.resolve(Math.max(0,o.selection.from-2)))),o.setMeta("paste",!0),t.dispatch(o),!0}}})]}}),fAe=fi.create({name:"doc",topNode:!0,content:"block+"});function hAe(t={}){return new Qn({view(e){return new pAe(e,t)}})}class pAe{constructor(e,n){var r;this.editorView=e,this.cursorPos=null,this.element=null,this.timeout=-1,this.width=(r=n.width)!==null&&r!==void 0?r:1,this.color=n.color===!1?void 0:n.color||"black",this.class=n.class,this.handlers=["dragover","dragend","drop","dragleave"].map(i=>{let s=o=>{this[i](o)};return e.dom.addEventListener(i,s),{name:i,handler:s}})}destroy(){this.handlers.forEach(({name:e,handler:n})=>this.editorView.dom.removeEventListener(e,n))}update(e,n){this.cursorPos!=null&&n.doc!=e.state.doc&&(this.cursorPos>e.state.doc.content.size?this.setCursor(null):this.updateOverlay())}setCursor(e){e!=this.cursorPos&&(this.cursorPos=e,e==null?(this.element.parentNode.removeChild(this.element),this.element=null):this.updateOverlay())}updateOverlay(){let e=this.editorView.state.doc.resolve(this.cursorPos),n=!e.parent.inlineContent,r;if(n){let a=e.nodeBefore,l=e.nodeAfter;if(a||l){let c=this.editorView.nodeDOM(this.cursorPos-(a?a.nodeSize:0));if(c){let u=c.getBoundingClientRect(),d=a?u.bottom:u.top;a&&l&&(d=(d+this.editorView.nodeDOM(this.cursorPos).getBoundingClientRect().top)/2),r={left:u.left,right:u.right,top:d-this.width/2,bottom:d+this.width/2}}}}if(!r){let a=this.editorView.coordsAtPos(this.cursorPos);r={left:a.left-this.width/2,right:a.left+this.width/2,top:a.top,bottom:a.bottom}}let i=this.editorView.dom.offsetParent;this.element||(this.element=i.appendChild(document.createElement("div")),this.class&&(this.element.className=this.class),this.element.style.cssText="position: absolute; z-index: 50; pointer-events: none;",this.color&&(this.element.style.backgroundColor=this.color)),this.element.classList.toggle("prosemirror-dropcursor-block",n),this.element.classList.toggle("prosemirror-dropcursor-inline",!n);let s,o;if(!i||i==document.body&&getComputedStyle(i).position=="static")s=-pageXOffset,o=-pageYOffset;else{let a=i.getBoundingClientRect();s=a.left-i.scrollLeft,o=a.top-i.scrollTop}this.element.style.left=r.left-s+"px",this.element.style.top=r.top-o+"px",this.element.style.width=r.right-r.left+"px",this.element.style.height=r.bottom-r.top+"px"}scheduleRemoval(e){clearTimeout(this.timeout),this.timeout=setTimeout(()=>this.setCursor(null),e)}dragover(e){if(!this.editorView.editable)return;let n=this.editorView.posAtCoords({left:e.clientX,top:e.clientY}),r=n&&n.inside>=0&&this.editorView.state.doc.nodeAt(n.inside),i=r&&r.type.spec.disableDropCursor,s=typeof i=="function"?i(this.editorView,n,e):i;if(n&&!s){let o=n.pos;if(this.editorView.dragging&&this.editorView.dragging.slice){let a=DG(this.editorView.state.doc,o,this.editorView.dragging.slice);a!=null&&(o=a)}this.setCursor(o),this.scheduleRemoval(5e3)}}dragend(){this.scheduleRemoval(20)}drop(){this.scheduleRemoval(20)}dragleave(e){(e.target==this.editorView.dom||!this.editorView.dom.contains(e.relatedTarget))&&this.setCursor(null)}}const mAe=Pr.create({name:"dropCursor",addOptions(){return{color:"currentColor",width:1,class:void 0}},addProseMirrorPlugins(){return[hAe(this.options)]}});class hn extends Ke{constructor(e){super(e,e)}map(e,n){let r=e.resolve(n.map(this.head));return hn.valid(r)?new hn(r):Ke.near(r)}content(){return ye.empty}eq(e){return e instanceof hn&&e.head==this.head}toJSON(){return{type:"gapcursor",pos:this.head}}static fromJSON(e,n){if(typeof n.pos!="number")throw new RangeError("Invalid input for GapCursor.fromJSON");return new hn(e.resolve(n.pos))}getBookmark(){return new Cj(this.anchor)}static valid(e){let n=e.parent;if(n.isTextblock||!gAe(e)||!yAe(e))return!1;let r=n.type.spec.allowGapCursor;if(r!=null)return r;let i=n.contentMatchAt(e.index()).defaultType;return i&&i.isTextblock}static findGapCursorFrom(e,n,r=!1){e:for(;;){if(!r&&hn.valid(e))return e;let i=e.pos,s=null;for(let o=e.depth;;o--){let a=e.node(o);if(n>0?e.indexAfter(o)<a.childCount:e.index(o)>0){s=a.child(n>0?e.indexAfter(o):e.index(o)-1);break}else if(o==0)return null;i+=n;let l=e.doc.resolve(i);if(hn.valid(l))return l}for(;;){let o=n>0?s.firstChild:s.lastChild;if(!o){if(s.isAtom&&!s.isText&&!Oe.isSelectable(s)){e=e.doc.resolve(i+s.nodeSize*n),r=!1;continue e}break}s=o,i+=n;let a=e.doc.resolve(i);if(hn.valid(a))return a}return null}}}hn.prototype.visible=!1;hn.findFrom=hn.findGapCursorFrom;Ke.jsonID("gapcursor",hn);class Cj{constructor(e){this.pos=e}map(e){return new Cj(e.map(this.pos))}resolve(e){let n=e.resolve(this.pos);return hn.valid(n)?new hn(n):Ke.near(n)}}function gAe(t){for(let e=t.depth;e>=0;e--){let n=t.index(e),r=t.node(e);if(n==0){if(r.type.spec.isolating)return!0;continue}for(let i=r.child(n-1);;i=i.lastChild){if(i.childCount==0&&!i.inlineContent||i.isAtom||i.type.spec.isolating)return!0;if(i.inlineContent)return!1}}return!0}function yAe(t){for(let e=t.depth;e>=0;e--){let n=t.indexAfter(e),r=t.node(e);if(n==r.childCount){if(r.type.spec.isolating)return!0;continue}for(let i=r.child(n);;i=i.firstChild){if(i.childCount==0&&!i.inlineContent||i.isAtom||i.type.spec.isolating)return!0;if(i.inlineContent)return!1}}return!0}function vAe(){return new Qn({props:{decorations:_Ae,createSelectionBetween(t,e,n){return e.pos==n.pos&&hn.valid(n)?new hn(n):null},handleClick:bAe,handleKeyDown:xAe,handleDOMEvents:{beforeinput:wAe}}})}const xAe=SQ({ArrowLeft:X0("horiz",-1),ArrowRight:X0("horiz",1),ArrowUp:X0("vert",-1),ArrowDown:X0("vert",1)});function X0(t,e){const n=t=="vert"?e>0?"down":"up":e>0?"right":"left";return function(r,i,s){let o=r.selection,a=e>0?o.$to:o.$from,l=o.empty;if(o instanceof Ue){if(!s.endOfTextblock(n)||a.depth==0)return!1;l=!1,a=r.doc.resolve(e>0?a.after():a.before())}let c=hn.findGapCursorFrom(a,e,l);return c?(i&&i(r.tr.setSelection(new hn(c))),!0):!1}}function bAe(t,e,n){if(!t||!t.editable)return!1;let r=t.state.doc.resolve(e);if(!hn.valid(r))return!1;let i=t.posAtCoords({left:n.clientX,top:n.clientY});return i&&i.inside>-1&&Oe.isSelectable(t.state.doc.nodeAt(i.inside))?!1:(t.dispatch(t.state.tr.setSelection(new hn(r))),!0)}function wAe(t,e){if(e.inputType!="insertCompositionText"||!(t.state.selection instanceof hn))return!1;let{$from:n}=t.state.selection,r=n.parent.contentMatchAt(n.index()).findWrapping(t.state.schema.nodes.text);if(!r)return!1;let i=ne.empty;for(let o=r.length-1;o>=0;o--)i=ne.from(r[o].createAndFill(null,i));let s=t.state.tr.replace(n.pos,n.pos,new ye(i,0,0));return s.setSelection(Ue.near(s.doc.resolve(n.pos+1))),t.dispatch(s),!1}function _Ae(t){if(!(t.selection instanceof hn))return null;let e=document.createElement("div");return e.className="ProseMirror-gapcursor",Sn.create(t.doc,[ki.widget(t.selection.head,e,{key:"gapcursor"})])}const SAe=Pr.create({name:"gapCursor",addProseMirrorPlugins(){return[vAe()]},extendNodeSchema(t){var e;const n={name:t.name,options:t.options,storage:t.storage};return{allowGapCursor:(e=et(Se(t,"allowGapCursor",n)))!==null&&e!==void 0?e:null}}}),EAe=fi.create({name:"hardBreak",addOptions(){return{keepMarks:!0,HTMLAttributes:{}}},inline:!0,group:"inline",selectable:!1,parseHTML(){return[{tag:"br"}]},renderHTML({HTMLAttributes:t}){return["br",lr(this.options.HTMLAttributes,t)]},renderText(){return`
`},addCommands(){return{setHardBreak:()=>({commands:t,chain:e,state:n,editor:r})=>t.first([()=>t.exitCode(),()=>t.command(()=>{const{selection:i,storedMarks:s}=n;if(i.$from.parent.type.spec.isolating)return!1;const{keepMarks:o}=this.options,{splittableMarks:a}=r.extensionManager,l=s||i.$to.parentOffset&&i.$from.marks();return e().insertContent({type:this.name}).command(({tr:c,dispatch:u})=>{if(u&&l&&o){const d=l.filter(f=>a.includes(f.type.name));c.ensureMarks(d)}return!0}).run()})])}},addKeyboardShortcuts(){return{"Mod-Enter":()=>this.editor.commands.setHardBreak(),"Shift-Enter":()=>this.editor.commands.setHardBreak()}}}),TAe=fi.create({name:"heading",addOptions(){return{levels:[1,2,3,4,5,6],HTMLAttributes:{}}},content:"inline*",group:"block",defining:!0,addAttributes(){return{level:{default:1,rendered:!1}}},parseHTML(){return this.options.levels.map(t=>({tag:`h${t}`,attrs:{level:t}}))},renderHTML({node:t,HTMLAttributes:e}){return[`h${this.options.levels.includes(t.attrs.level)?t.attrs.level:this.options.levels[0]}`,lr(this.options.HTMLAttributes,e),0]},addCommands(){return{setHeading:t=>({commands:e})=>this.options.levels.includes(t.level)?e.setNode(this.name,t):!1,toggleHeading:t=>({commands:e})=>this.options.levels.includes(t.level)?e.toggleNode(this.name,"paragraph",t):!1}},addKeyboardShortcuts(){return this.options.levels.reduce((t,e)=>({...t,[`Mod-Alt-${e}`]:()=>this.editor.commands.toggleHeading({level:e})}),{})},addInputRules(){return this.options.levels.map(t=>IC({find:new RegExp(`^(#{1,${t}})\\s$`),type:this.type,getAttributes:{level:t}}))}});var Cw=200,Kn=function(){};Kn.prototype.append=function(e){return e.length?(e=Kn.from(e),!this.length&&e||e.length<Cw&&this.leafAppend(e)||this.length<Cw&&e.leafPrepend(this)||this.appendInner(e)):this};Kn.prototype.prepend=function(e){return e.length?Kn.from(e).append(this):this};Kn.prototype.appendInner=function(e){return new AAe(this,e)};Kn.prototype.slice=function(e,n){return e===void 0&&(e=0),n===void 0&&(n=this.length),e>=n?Kn.empty:this.sliceInner(Math.max(0,e),Math.min(this.length,n))};Kn.prototype.get=function(e){if(!(e<0||e>=this.length))return this.getInner(e)};Kn.prototype.forEach=function(e,n,r){n===void 0&&(n=0),r===void 0&&(r=this.length),n<=r?this.forEachInner(e,n,r,0):this.forEachInvertedInner(e,n,r,0)};Kn.prototype.map=function(e,n,r){n===void 0&&(n=0),r===void 0&&(r=this.length);var i=[];return this.forEach(function(s,o){return i.push(e(s,o))},n,r),i};Kn.from=function(e){return e instanceof Kn?e:e&&e.length?new UQ(e):Kn.empty};var UQ=function(t){function e(r){t.call(this),this.values=r}t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e;var n={length:{configurable:!0},depth:{configurable:!0}};return e.prototype.flatten=function(){return this.values},e.prototype.sliceInner=function(i,s){return i==0&&s==this.length?this:new e(this.values.slice(i,s))},e.prototype.getInner=function(i){return this.values[i]},e.prototype.forEachInner=function(i,s,o,a){for(var l=s;l<o;l++)if(i(this.values[l],a+l)===!1)return!1},e.prototype.forEachInvertedInner=function(i,s,o,a){for(var l=s-1;l>=o;l--)if(i(this.values[l],a+l)===!1)return!1},e.prototype.leafAppend=function(i){if(this.length+i.length<=Cw)return new e(this.values.concat(i.flatten()))},e.prototype.leafPrepend=function(i){if(this.length+i.length<=Cw)return new e(i.flatten().concat(this.values))},n.length.get=function(){return this.values.length},n.depth.get=function(){return 0},Object.defineProperties(e.prototype,n),e}(Kn);Kn.empty=new UQ([]);var AAe=function(t){function e(n,r){t.call(this),this.left=n,this.right=r,this.length=n.length+r.length,this.depth=Math.max(n.depth,r.depth)+1}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.flatten=function(){return this.left.flatten().concat(this.right.flatten())},e.prototype.getInner=function(r){return r<this.left.length?this.left.get(r):this.right.get(r-this.left.length)},e.prototype.forEachInner=function(r,i,s,o){var a=this.left.length;if(i<a&&this.left.forEachInner(r,i,Math.min(s,a),o)===!1||s>a&&this.right.forEachInner(r,Math.max(i-a,0),Math.min(this.length,s)-a,o+a)===!1)return!1},e.prototype.forEachInvertedInner=function(r,i,s,o){var a=this.left.length;if(i>a&&this.right.forEachInvertedInner(r,i-a,Math.max(s,a)-a,o+a)===!1||s<a&&this.left.forEachInvertedInner(r,Math.min(i,a),s,o)===!1)return!1},e.prototype.sliceInner=function(r,i){if(r==0&&i==this.length)return this;var s=this.left.length;return i<=s?this.left.slice(r,i):r>=s?this.right.slice(r-s,i-s):this.left.slice(r,s).append(this.right.slice(0,i-s))},e.prototype.leafAppend=function(r){var i=this.right.leafAppend(r);if(i)return new e(this.left,i)},e.prototype.leafPrepend=function(r){var i=this.left.leafPrepend(r);if(i)return new e(i,this.right)},e.prototype.appendInner=function(r){return this.left.depth>=Math.max(this.right.depth,r.depth)+1?new e(this.left,new e(this.right,r)):new e(this,r)},e}(Kn);const kAe=500;class _s{constructor(e,n){this.items=e,this.eventCount=n}popEvent(e,n){if(this.eventCount==0)return null;let r=this.items.length;for(;;r--)if(this.items.get(r-1).selection){--r;break}let i,s;n&&(i=this.remapping(r,this.items.length),s=i.maps.length);let o=e.tr,a,l,c=[],u=[];return this.items.forEach((d,f)=>{if(!d.step){i||(i=this.remapping(r,f+1),s=i.maps.length),s--,u.push(d);return}if(i){u.push(new Ms(d.map));let p=d.step.map(i.slice(s)),m;p&&o.maybeStep(p).doc&&(m=o.mapping.maps[o.mapping.maps.length-1],c.push(new Ms(m,void 0,void 0,c.length+u.length))),s--,m&&i.appendMap(m,s)}else o.maybeStep(d.step);if(d.selection)return a=i?d.selection.map(i.slice(s)):d.selection,l=new _s(this.items.slice(0,r).append(u.reverse().concat(c)),this.eventCount-1),!1},this.items.length,0),{remaining:l,transform:o,selection:a}}addTransform(e,n,r,i){let s=[],o=this.eventCount,a=this.items,l=!i&&a.length?a.get(a.length-1):null;for(let u=0;u<e.steps.length;u++){let d=e.steps[u].invert(e.docs[u]),f=new Ms(e.mapping.maps[u],d,n),p;(p=l&&l.merge(f))&&(f=p,u?s.pop():a=a.slice(0,a.length-1)),s.push(f),n&&(o++,n=void 0),i||(l=f)}let c=o-r.depth;return c>CAe&&(a=PAe(a,c),o-=c),new _s(a.append(s),o)}remapping(e,n){let r=new Pf;return this.items.forEach((i,s)=>{let o=i.mirrorOffset!=null&&s-i.mirrorOffset>=e?r.maps.length-i.mirrorOffset:void 0;r.appendMap(i.map,o)},e,n),r}addMaps(e){return this.eventCount==0?this:new _s(this.items.append(e.map(n=>new Ms(n))),this.eventCount)}rebased(e,n){if(!this.eventCount)return this;let r=[],i=Math.max(0,this.items.length-n),s=e.mapping,o=e.steps.length,a=this.eventCount;this.items.forEach(f=>{f.selection&&a--},i);let l=n;this.items.forEach(f=>{let p=s.getMirror(--l);if(p==null)return;o=Math.min(o,p);let m=s.maps[p];if(f.step){let g=e.steps[p].invert(e.docs[p]),v=f.selection&&f.selection.map(s.slice(l+1,p));v&&a++,r.push(new Ms(m,g,v))}else r.push(new Ms(m))},i);let c=[];for(let f=n;f<o;f++)c.push(new Ms(s.maps[f]));let u=this.items.slice(0,i).append(c).append(r),d=new _s(u,a);return d.emptyItemCount()>kAe&&(d=d.compress(this.items.length-r.length)),d}emptyItemCount(){let e=0;return this.items.forEach(n=>{n.step||e++}),e}compress(e=this.items.length){let n=this.remapping(0,e),r=n.maps.length,i=[],s=0;return this.items.forEach((o,a)=>{if(a>=e)i.push(o),o.selection&&s++;else if(o.step){let l=o.step.map(n.slice(r)),c=l&&l.getMap();if(r--,c&&n.appendMap(c,r),l){let u=o.selection&&o.selection.map(n.slice(r));u&&s++;let d=new Ms(c.invert(),l,u),f,p=i.length-1;(f=i.length&&i[p].merge(d))?i[p]=f:i.push(d)}}else o.map&&r--},this.items.length,0),new _s(Kn.from(i.reverse()),s)}}_s.empty=new _s(Kn.empty,0);function PAe(t,e){let n;return t.forEach((r,i)=>{if(r.selection&&e--==0)return n=i,!1}),t.slice(n)}class Ms{constructor(e,n,r,i){this.map=e,this.step=n,this.selection=r,this.mirrorOffset=i}merge(e){if(this.step&&e.step&&!e.selection){let n=e.step.merge(this.step);if(n)return new Ms(n.getMap().invert(),n,this.selection)}}}class qa{constructor(e,n,r,i,s){this.done=e,this.undone=n,this.prevRanges=r,this.prevTime=i,this.prevComposition=s}}const CAe=20;function IAe(t,e,n,r){let i=n.getMeta(Su),s;if(i)return i.historyState;n.getMeta(jAe)&&(t=new qa(t.done,t.undone,null,0,-1));let o=n.getMeta("appendedTransaction");if(n.steps.length==0)return t;if(o&&o.getMeta(Su))return o.getMeta(Su).redo?new qa(t.done.addTransform(n,void 0,r,tb(e)),t.undone,n3(n.mapping.maps),t.prevTime,t.prevComposition):new qa(t.done,t.undone.addTransform(n,void 0,r,tb(e)),null,t.prevTime,t.prevComposition);if(n.getMeta("addToHistory")!==!1&&!(o&&o.getMeta("addToHistory")===!1)){let a=n.getMeta("composition"),l=t.prevTime==0||!o&&t.prevComposition!=a&&(t.prevTime<(n.time||0)-r.newGroupDelay||!OAe(n,t.prevRanges)),c=o?dA(t.prevRanges,n.mapping):n3(n.mapping.maps);return new qa(t.done.addTransform(n,l?e.selection.getBookmark():void 0,r,tb(e)),_s.empty,c,n.time,a??t.prevComposition)}else return(s=n.getMeta("rebased"))?new qa(t.done.rebased(n,s),t.undone.rebased(n,s),dA(t.prevRanges,n.mapping),t.prevTime,t.prevComposition):new qa(t.done.addMaps(n.mapping.maps),t.undone.addMaps(n.mapping.maps),dA(t.prevRanges,n.mapping),t.prevTime,t.prevComposition)}function OAe(t,e){if(!e)return!1;if(!t.docChanged)return!0;let n=!1;return t.mapping.maps[0].forEach((r,i)=>{for(let s=0;s<e.length;s+=2)r<=e[s+1]&&i>=e[s]&&(n=!0)}),n}function n3(t){let e=[];for(let n=t.length-1;n>=0&&e.length==0;n--)t[n].forEach((r,i,s,o)=>e.push(s,o));return e}function dA(t,e){if(!t)return null;let n=[];for(let r=0;r<t.length;r+=2){let i=e.map(t[r],1),s=e.map(t[r+1],-1);i<=s&&n.push(i,s)}return n}function NAe(t,e,n){let r=tb(e),i=Su.get(e).spec.config,s=(n?t.undone:t.done).popEvent(e,r);if(!s)return null;let o=s.selection.resolve(s.transform.doc),a=(n?t.done:t.undone).addTransform(s.transform,e.selection.getBookmark(),i,r),l=new qa(n?a:s.remaining,n?s.remaining:a,null,0,-1);return s.transform.setSelection(o).setMeta(Su,{redo:n,historyState:l})}let fA=!1,r3=null;function tb(t){let e=t.plugins;if(r3!=e){fA=!1,r3=e;for(let n=0;n<e.length;n++)if(e[n].spec.historyPreserveItems){fA=!0;break}}return fA}const Su=new hi("history"),jAe=new hi("closeHistory");function RAe(t={}){return t={depth:t.depth||100,newGroupDelay:t.newGroupDelay||500},new Qn({key:Su,state:{init(){return new qa(_s.empty,_s.empty,null,0,-1)},apply(e,n,r){return IAe(n,r,e,t)}},config:t,props:{handleDOMEvents:{beforeinput(e,n){let r=n.inputType,i=r=="historyUndo"?qQ:r=="historyRedo"?HQ:null;return i?(n.preventDefault(),i(e.state,e.dispatch)):!1}}}})}function zQ(t,e){return(n,r)=>{let i=Su.getState(n);if(!i||(t?i.undone:i.done).eventCount==0)return!1;if(r){let s=NAe(i,n,t);s&&r(e?s.scrollIntoView():s)}return!0}}const qQ=zQ(!1,!0),HQ=zQ(!0,!0),DAe=Pr.create({name:"history",addOptions(){return{depth:100,newGroupDelay:500}},addCommands(){return{undo:()=>({state:t,dispatch:e})=>qQ(t,e),redo:()=>({state:t,dispatch:e})=>HQ(t,e)}},addProseMirrorPlugins(){return[RAe(this.options)]},addKeyboardShortcuts(){return{"Mod-z":()=>this.editor.commands.undo(),"Shift-Mod-z":()=>this.editor.commands.redo(),"Mod-y":()=>this.editor.commands.redo(),"Mod-":()=>this.editor.commands.undo(),"Shift-Mod-":()=>this.editor.commands.redo()}}}),MAe=fi.create({name:"horizontalRule",addOptions(){return{HTMLAttributes:{}}},group:"block",parseHTML(){return[{tag:"hr"}]},renderHTML({HTMLAttributes:t}){return["hr",lr(this.options.HTMLAttributes,t)]},addCommands(){return{setHorizontalRule:()=>({chain:t,state:e})=>{const{selection:n}=e,{$from:r,$to:i}=n,s=t();return r.parentOffset===0?s.insertContentAt({from:Math.max(r.pos-1,0),to:i.pos},{type:this.name}):JEe(n)?s.insertContentAt(i.pos,{type:this.name}):s.insertContent({type:this.name}),s.command(({tr:o,dispatch:a})=>{var l;if(a){const{$to:c}=o.selection,u=c.end();if(c.nodeAfter)c.nodeAfter.isTextblock?o.setSelection(Ue.create(o.doc,c.pos+1)):c.nodeAfter.isBlock?o.setSelection(Oe.create(o.doc,c.pos)):o.setSelection(Ue.create(o.doc,c.pos));else{const d=(l=c.parent.type.contentMatch.defaultType)===null||l===void 0?void 0:l.create();d&&(o.insert(u,d),o.setSelection(Ue.create(o.doc,u+1)))}o.scrollIntoView()}return!0}).run()}}},addInputRules(){return[CTe({find:/^(?:---|-|___\s|\*\*\*\s)$/,type:this.type})]}}),LAe=/(?:^|\s)(\*(?!\s+\*)((?:[^*]+))\*(?!\s+\*))$/,$Ae=/(?:^|\s)(\*(?!\s+\*)((?:[^*]+))\*(?!\s+\*))/g,VAe=/(?:^|\s)(_(?!\s+_)((?:[^_]+))_(?!\s+_))$/,FAe=/(?:^|\s)(_(?!\s+_)((?:[^_]+))_(?!\s+_))/g,BAe=ha.create({name:"italic",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"em"},{tag:"i",getAttrs:t=>t.style.fontStyle!=="normal"&&null},{style:"font-style=normal",clearMark:t=>t.type.name===this.name},{style:"font-style=italic"}]},renderHTML({HTMLAttributes:t}){return["em",lr(this.options.HTMLAttributes,t),0]},addCommands(){return{setItalic:()=>({commands:t})=>t.setMark(this.name),toggleItalic:()=>({commands:t})=>t.toggleMark(this.name),unsetItalic:()=>({commands:t})=>t.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-i":()=>this.editor.commands.toggleItalic(),"Mod-I":()=>this.editor.commands.toggleItalic()}},addInputRules(){return[Eh({find:LAe,type:this.type}),Eh({find:VAe,type:this.type})]},addPasteRules(){return[Ku({find:$Ae,type:this.type}),Ku({find:FAe,type:this.type})]}}),UAe=fi.create({name:"listItem",addOptions(){return{HTMLAttributes:{},bulletListTypeName:"bulletList",orderedListTypeName:"orderedList"}},content:"paragraph block*",defining:!0,parseHTML(){return[{tag:"li"}]},renderHTML({HTMLAttributes:t}){return["li",lr(this.options.HTMLAttributes,t),0]},addKeyboardShortcuts(){return{Enter:()=>this.editor.commands.splitListItem(this.name),Tab:()=>this.editor.commands.sinkListItem(this.name),"Shift-Tab":()=>this.editor.commands.liftListItem(this.name)}}}),zAe="listItem",i3="textStyle",s3=/^(\d+)\.\s$/,qAe=fi.create({name:"orderedList",addOptions(){return{itemTypeName:"listItem",HTMLAttributes:{},keepMarks:!1,keepAttributes:!1}},group:"block list",content(){return`${this.options.itemTypeName}+`},addAttributes(){return{start:{default:1,parseHTML:t=>t.hasAttribute("start")?parseInt(t.getAttribute("start")||"",10):1},type:{default:void 0,parseHTML:t=>t.getAttribute("type")}}},parseHTML(){return[{tag:"ol"}]},renderHTML({HTMLAttributes:t}){const{start:e,...n}=t;return e===1?["ol",lr(this.options.HTMLAttributes,n),0]:["ol",lr(this.options.HTMLAttributes,t),0]},addCommands(){return{toggleOrderedList:()=>({commands:t,chain:e})=>this.options.keepAttributes?e().toggleList(this.name,this.options.itemTypeName,this.options.keepMarks).updateAttributes(zAe,this.editor.getAttributes(i3)).run():t.toggleList(this.name,this.options.itemTypeName,this.options.keepMarks)}},addKeyboardShortcuts(){return{"Mod-Shift-7":()=>this.editor.commands.toggleOrderedList()}},addInputRules(){let t=yy({find:s3,type:this.type,getAttributes:e=>({start:+e[1]}),joinPredicate:(e,n)=>n.childCount+n.attrs.start===+e[1]});return(this.options.keepMarks||this.options.keepAttributes)&&(t=yy({find:s3,type:this.type,keepMarks:this.options.keepMarks,keepAttributes:this.options.keepAttributes,getAttributes:e=>({start:+e[1],...this.editor.getAttributes(i3)}),joinPredicate:(e,n)=>n.childCount+n.attrs.start===+e[1],editor:this.editor})),[t]}}),HAe=fi.create({name:"paragraph",priority:1e3,addOptions(){return{HTMLAttributes:{}}},group:"block",content:"inline*",parseHTML(){return[{tag:"p"}]},renderHTML({HTMLAttributes:t}){return["p",lr(this.options.HTMLAttributes,t),0]},addCommands(){return{setParagraph:()=>({commands:t})=>t.setNode(this.name)}},addKeyboardShortcuts(){return{"Mod-Alt-0":()=>this.editor.commands.setParagraph()}}}),WAe=/(?:^|\s)(~~(?!\s+~~)((?:[^~]+))~~(?!\s+~~))$/,KAe=/(?:^|\s)(~~(?!\s+~~)((?:[^~]+))~~(?!\s+~~))/g,GAe=ha.create({name:"strike",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"s"},{tag:"del"},{tag:"strike"},{style:"text-decoration",consuming:!1,getAttrs:t=>t.includes("line-through")?{}:!1}]},renderHTML({HTMLAttributes:t}){return["s",lr(this.options.HTMLAttributes,t),0]},addCommands(){return{setStrike:()=>({commands:t})=>t.setMark(this.name),toggleStrike:()=>({commands:t})=>t.toggleMark(this.name),unsetStrike:()=>({commands:t})=>t.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-Shift-s":()=>this.editor.commands.toggleStrike()}},addInputRules(){return[Eh({find:WAe,type:this.type})]},addPasteRules(){return[Ku({find:KAe,type:this.type})]}}),QAe=fi.create({name:"text",group:"inline"}),YAe=Pr.create({name:"starterKit",addExtensions(){var t,e,n,r,i,s,o,a,l,c,u,d,f,p,m,g,v,x;const b=[];return this.options.bold!==!1&&b.push(rAe.configure((t=this.options)===null||t===void 0?void 0:t.bold)),this.options.blockquote!==!1&&b.push(JTe.configure((e=this.options)===null||e===void 0?void 0:e.blockquote)),this.options.bulletList!==!1&&b.push(sAe.configure((n=this.options)===null||n===void 0?void 0:n.bulletList)),this.options.code!==!1&&b.push(lAe.configure((r=this.options)===null||r===void 0?void 0:r.code)),this.options.codeBlock!==!1&&b.push(dAe.configure((i=this.options)===null||i===void 0?void 0:i.codeBlock)),this.options.document!==!1&&b.push(fAe.configure((s=this.options)===null||s===void 0?void 0:s.document)),this.options.dropcursor!==!1&&b.push(mAe.configure((o=this.options)===null||o===void 0?void 0:o.dropcursor)),this.options.gapcursor!==!1&&b.push(SAe.configure((a=this.options)===null||a===void 0?void 0:a.gapcursor)),this.options.hardBreak!==!1&&b.push(EAe.configure((l=this.options)===null||l===void 0?void 0:l.hardBreak)),this.options.heading!==!1&&b.push(TAe.configure((c=this.options)===null||c===void 0?void 0:c.heading)),this.options.history!==!1&&b.push(DAe.configure((u=this.options)===null||u===void 0?void 0:u.history)),this.options.horizontalRule!==!1&&b.push(MAe.configure((d=this.options)===null||d===void 0?void 0:d.horizontalRule)),this.options.italic!==!1&&b.push(BAe.configure((f=this.options)===null||f===void 0?void 0:f.italic)),this.options.listItem!==!1&&b.push(UAe.configure((p=this.options)===null||p===void 0?void 0:p.listItem)),this.options.orderedList!==!1&&b.push(qAe.configure((m=this.options)===null||m===void 0?void 0:m.orderedList)),this.options.paragraph!==!1&&b.push(HAe.configure((g=this.options)===null||g===void 0?void 0:g.paragraph)),this.options.strike!==!1&&b.push(GAe.configure((v=this.options)===null||v===void 0?void 0:v.strike)),this.options.text!==!1&&b.push(QAe.configure((x=this.options)===null||x===void 0?void 0:x.text)),b}}),XAe=Pr.create({name:"placeholder",addOptions(){return{emptyEditorClass:"is-editor-empty",emptyNodeClass:"is-empty",placeholder:"Write something ",showOnlyWhenEditable:!0,showOnlyCurrent:!0,includeChildren:!1}},addProseMirrorPlugins(){return[new Qn({key:new hi("placeholder"),props:{decorations:({doc:t,selection:e})=>{const n=this.editor.isEditable||!this.options.showOnlyWhenEditable,{anchor:r}=e,i=[];if(!n)return null;const s=this.editor.isEmpty;return t.descendants((o,a)=>{const l=r>=a&&r<=a+o.nodeSize,c=!o.isLeaf&&PS(o);if((l||!this.options.showOnlyCurrent)&&c){const u=[this.options.emptyNodeClass];s&&u.push(this.options.emptyEditorClass);const d=ki.node(a,a+o.nodeSize,{class:u.join(" "),"data-placeholder":typeof this.options.placeholder=="function"?this.options.placeholder({editor:this.editor,node:o,pos:a,hasAnchor:l}):this.options.placeholder});i.push(d)}return this.options.includeChildren}),Sn.create(t,i)}}})]}}),JAe="aaa1rp3bb0ott3vie4c1le2ogado5udhabi7c0ademy5centure6ountant0s9o1tor4d0s1ult4e0g1ro2tna4f0l1rica5g0akhan5ency5i0g1rbus3force5tel5kdn3l0ibaba4pay4lfinanz6state5y2sace3tom5m0azon4ericanexpress7family11x2fam3ica3sterdam8nalytics7droid5quan4z2o0l2partments8p0le4q0uarelle8r0ab1mco4chi3my2pa2t0e3s0da2ia2sociates9t0hleta5torney7u0ction5di0ble3o3spost5thor3o0s4w0s2x0a2z0ure5ba0by2idu3namex4d1k2r0celona5laycard4s5efoot5gains6seball5ketball8uhaus5yern5b0c1t1va3cg1n2d1e0ats2uty4er2ntley5rlin4st0buy5t2f1g1h0arti5i0ble3d1ke2ng0o3o1z2j1lack0friday9ockbuster8g1omberg7ue3m0s1w2n0pparibas9o0ats3ehringer8fa2m1nd2o0k0ing5sch2tik2on4t1utique6x2r0adesco6idgestone9oadway5ker3ther5ussels7s1t1uild0ers6siness6y1zz3v1w1y1z0h3ca0b1fe2l0l1vinklein9m0era3p2non3petown5ital0one8r0avan4ds2e0er0s4s2sa1e1h1ino4t0ering5holic7ba1n1re3c1d1enter4o1rn3f0a1d2g1h0anel2nel4rity4se2t2eap3intai5ristmas6ome4urch5i0priani6rcle4sco3tadel4i0c2y3k1l0aims4eaning6ick2nic1que6othing5ud3ub0med6m1n1o0ach3des3ffee4llege4ogne5m0mbank4unity6pany2re3uter5sec4ndos3struction8ulting7tact3ractors9oking4l1p2rsica5untry4pon0s4rses6pa2r0edit0card4union9icket5own3s1uise0s6u0isinella9v1w1x1y0mru3ou3z2dad1nce3ta1e1ing3sun4y2clk3ds2e0al0er2s3gree4livery5l1oitte5ta3mocrat6ntal2ist5si0gn4v2hl2iamonds6et2gital5rect0ory7scount3ver5h2y2j1k1m1np2o0cs1tor4g1mains5t1wnload7rive4tv2ubai3nlop4pont4rban5vag2r2z2earth3t2c0o2deka3u0cation8e1g1mail3erck5nergy4gineer0ing9terprises10pson4quipment8r0icsson6ni3s0q1tate5t1u0rovision8s2vents5xchange6pert3osed4ress5traspace10fage2il1rwinds6th3mily4n0s2rm0ers5shion4t3edex3edback6rrari3ero6i0delity5o2lm2nal1nce1ial7re0stone6mdale6sh0ing5t0ness6j1k1lickr3ghts4r2orist4wers5y2m1o0o0d1tball6rd1ex2sale4um3undation8x2r0ee1senius7l1ogans4ntier7tr2ujitsu5n0d2rniture7tbol5yi3ga0l0lery3o1up4me0s3p1rden4y2b0iz3d0n2e0a1nt0ing5orge5f1g0ee3h1i0ft0s3ves2ing5l0ass3e1obal2o4m0ail3bh2o1x2n1odaddy5ld0point6f2o0dyear5g0le4p1t1v2p1q1r0ainger5phics5tis4een3ipe3ocery4up4s1t1u0cci3ge2ide2tars5ru3w1y2hair2mburg5ngout5us3bo2dfc0bank7ealth0care8lp1sinki6re1mes5iphop4samitsu7tachi5v2k0t2m1n1ockey4ldings5iday5medepot5goods5s0ense7nda3rse3spital5t0ing5t0els3mail5use3w2r1sbc3t1u0ghes5yatt3undai7ibm2cbc2e1u2d1e0ee3fm2kano4l1m0amat4db2mo0bilien9n0c1dustries8finiti5o2g1k1stitute6urance4e4t0ernational10uit4vestments10o1piranga7q1r0ish4s0maili5t0anbul7t0au2v3jaguar4va3cb2e0ep2tzt3welry6io2ll2m0p2nj2o0bs1urg4t1y2p0morgan6rs3uegos4niper7kaufen5ddi3e0rryhotels6logistics9properties14fh2g1h1i0a1ds2m1ndle4tchen5wi3m1n1oeln3matsu5sher5p0mg2n2r0d1ed3uokgroup8w1y0oto4z2la0caixa5mborghini8er3ncaster6d0rover6xess5salle5t0ino3robe5w0yer5b1c1ds2ease3clerc5frak4gal2o2xus4gbt3i0dl2fe0insurance9style7ghting6ke2lly3mited4o2ncoln4k2psy3ve1ing5k1lc1p2oan0s3cker3us3l1ndon4tte1o3ve3pl0financial11r1s1t0d0a3u0ndbeck6xe1ury5v1y2ma0drid4if1son4keup4n0agement7go3p1rket0ing3s4riott5shalls7ttel5ba2c0kinsey7d1e0d0ia3et2lbourne7me1orial6n0u2rckmsd7g1h1iami3crosoft7l1ni1t2t0subishi9k1l0b1s2m0a2n1o0bi0le4da2e1i1m1nash3ey2ster5rmon3tgage6scow4to0rcycles9v0ie4p1q1r1s0d2t0n1r2u0seum3ic4v1w1x1y1z2na0b1goya4me2vy3ba2c1e0c1t0bank4flix4work5ustar5w0s2xt0direct7us4f0l2g0o2hk2i0co2ke1on3nja3ssan1y5l1o0kia3rton4w0ruz3tv4p1r0a1w2tt2u1yc2z2obi1server7ffice5kinawa6layan0group9lo3m0ega4ne1g1l0ine5oo2pen3racle3nge4g0anic5igins6saka4tsuka4t2vh3pa0ge2nasonic7ris2s1tners4s1y3y2ccw3e0t2f0izer5g1h0armacy6d1ilips5one2to0graphy6s4ysio5ics1tet2ures6d1n0g1k2oneer5zza4k1l0ace2y0station9umbing5s3m1n0c2ohl2ker3litie5rn2st3r0america6xi3ess3ime3o0d0uctions8f1gressive8mo2perties3y5tection8u0dential9s1t1ub2w0c2y2qa1pon3uebec3st5racing4dio4e0ad1lestate6tor2y4cipes5d0stone5umbrella9hab3ise0n3t2liance6n0t0als5pair3ort3ublican8st0aurant8view0s5xroth6ich0ardli6oh3l1o1p2o0cks3deo3gers4om3s0vp3u0gby3hr2n2w0e2yukyu6sa0arland6fe0ty4kura4le1on3msclub4ung5ndvik0coromant12ofi4p1rl2s1ve2xo3b0i1s2c0b1haeffler7midt4olarships8ol3ule3warz5ience5ot3d1e0arch3t2cure1ity6ek2lect4ner3rvices6ven3w1x0y3fr2g1h0angrila6rp3ell3ia1ksha5oes2p0ping5uji3w3i0lk2na1gles5te3j1k0i0n2y0pe4l0ing4m0art3ile4n0cf3o0ccer3ial4ftbank4ware6hu2lar2utions7ng1y2y2pa0ce3ort2t3r0l2s1t0ada2ples4r1tebank4farm7c0group6ockholm6rage3e3ream4udio2y3yle4u0cks3pplies3y2ort5rf1gery5zuki5v1watch4iss4x1y0dney4stems6z2tab1ipei4lk2obao4rget4tamotors6r2too4x0i3c0i2d0k2eam2ch0nology8l1masek5nnis4va3f1g1h0d1eater2re6iaa2ckets5enda4ps2res2ol4j0maxx4x2k0maxx5l1m0all4n1o0day3kyo3ols3p1ray3shiba5tal3urs3wn2yota3s3r0ade1ing4ining5vel0ers0insurance16ust3v2t1ube2i1nes3shu4v0s2w1z2ua1bank3s2g1k1nicom3versity8o2ol2ps2s1y1z2va0cations7na1guard7c1e0gas3ntures6risign5mgensberater2ung14sicherung10t2g1i0ajes4deo3g1king4llas4n1p1rgin4sa1ion4va1o3laanderen9n1odka3lvo3te1ing3o2yage5u2wales2mart4ter4ng0gou5tch0es6eather0channel12bcam3er2site5d0ding5ibo2r3f1hoswho6ien2ki2lliamhill9n0dows4e1ners6me2olterskluwer11odside6rk0s2ld3w2s1tc1f3xbox3erox4ihuan4n2xx2yz3yachts4hoo3maxun5ndex5e1odobashi7ga2kohama6u0tube6t1un3za0ppos4ra3ero3ip2m1one3uerich6w2",ZAe="121342632165322333335355455655552435435422463632574574330355524444661154543332344423364211133222221212112052232222232212222223222241112222224322321222",Th=(t,e)=>{for(const n in e)t[n]=e[n];return t},NC="numeric",jC="ascii",RC="alpha",nb="asciinumeric",J0="alphanumeric",DC="domain",WQ="emoji",eke="scheme",tke="slashscheme",o3="whitespace";function nke(t,e){return t in e||(e[t]=[]),e[t]}function Zc(t,e,n){e[NC]&&(e[nb]=!0,e[J0]=!0),e[jC]&&(e[nb]=!0,e[RC]=!0),e[nb]&&(e[J0]=!0),e[RC]&&(e[J0]=!0),e[J0]&&(e[DC]=!0),e[WQ]&&(e[DC]=!0);for(const r in e){const i=nke(r,n);i.indexOf(t)<0&&i.push(t)}}function rke(t,e){const n={};for(const r in e)e[r].indexOf(t)>=0&&(n[r]=!0);return n}function ti(t=null){this.j={},this.jr=[],this.jd=null,this.t=t}ti.groups={};ti.prototype={accepts(){return!!this.t},go(t){const e=this,n=e.j[t];if(n)return n;for(let r=0;r<e.jr.length;r++){const i=e.jr[r][0],s=e.jr[r][1];if(s&&i.test(t))return s}return e.jd},has(t,e=!1){return e?t in this.j:!!this.go(t)},ta(t,e,n,r){for(let i=0;i<t.length;i++)this.tt(t[i],e,n,r)},tr(t,e,n,r){r=r||ti.groups;let i;return e&&e.j?i=e:(i=new ti(e),n&&r&&Zc(e,n,r)),this.jr.push([t,i]),i},ts(t,e,n,r){let i=this;const s=t.length;if(!s)return i;for(let o=0;o<s-1;o++)i=i.tt(t[o]);return i.tt(t[s-1],e,n,r)},tt(t,e,n,r){r=r||ti.groups;const i=this;if(e&&e.j)return i.j[t]=e,e;const s=e;let o,a=i.go(t);if(a?(o=new ti,Th(o.j,a.j),o.jr.push.apply(o.jr,a.jr),o.jd=a.jd,o.t=a.t):o=new ti,s){if(r)if(o.t&&typeof o.t=="string"){const l=Th(rke(o.t,r),n);Zc(s,l,r)}else n&&Zc(s,n,r);o.t=s}return i.j[t]=o,o}};const Qe=(t,e,n,r,i)=>t.ta(e,n,r,i),Vi=(t,e,n,r,i)=>t.tr(e,n,r,i),a3=(t,e,n,r,i)=>t.ts(e,n,r,i),ce=(t,e,n,r,i)=>t.tt(e,n,r,i),Oo="WORD",MC="UWORD",vy="LOCALHOST",LC="TLD",$C="UTLD",rb="SCHEME",Ud="SLASH_SCHEME",Ij="NUM",KQ="WS",Oj="NL",ug="OPENBRACE",dg="CLOSEBRACE",Iw="OPENBRACKET",Ow="CLOSEBRACKET",Nw="OPENPAREN",jw="CLOSEPAREN",Rw="OPENANGLEBRACKET",Dw="CLOSEANGLEBRACKET",Mw="FULLWIDTHLEFTPAREN",Lw="FULLWIDTHRIGHTPAREN",$w="LEFTCORNERBRACKET",Vw="RIGHTCORNERBRACKET",Fw="LEFTWHITECORNERBRACKET",Bw="RIGHTWHITECORNERBRACKET",Uw="FULLWIDTHLESSTHAN",zw="FULLWIDTHGREATERTHAN",qw="AMPERSAND",Hw="APOSTROPHE",Ww="ASTERISK",Ha="AT",Kw="BACKSLASH",Gw="BACKTICK",Qw="CARET",il="COLON",Nj="COMMA",Yw="DOLLAR",Ls="DOT",Xw="EQUALS",jj="EXCLAMATION",$s="HYPHEN",Jw="PERCENT",Zw="PIPE",e1="PLUS",t1="POUND",n1="QUERY",Rj="QUOTE",GQ="FULLWIDTHMIDDLEDOT",Dj="SEMI",Vs="SLASH",fg="TILDE",r1="UNDERSCORE",QQ="EMOJI",i1="SYM";var YQ=Object.freeze({__proto__:null,WORD:Oo,UWORD:MC,LOCALHOST:vy,TLD:LC,UTLD:$C,SCHEME:rb,SLASH_SCHEME:Ud,NUM:Ij,WS:KQ,NL:Oj,OPENBRACE:ug,CLOSEBRACE:dg,OPENBRACKET:Iw,CLOSEBRACKET:Ow,OPENPAREN:Nw,CLOSEPAREN:jw,OPENANGLEBRACKET:Rw,CLOSEANGLEBRACKET:Dw,FULLWIDTHLEFTPAREN:Mw,FULLWIDTHRIGHTPAREN:Lw,LEFTCORNERBRACKET:$w,RIGHTCORNERBRACKET:Vw,LEFTWHITECORNERBRACKET:Fw,RIGHTWHITECORNERBRACKET:Bw,FULLWIDTHLESSTHAN:Uw,FULLWIDTHGREATERTHAN:zw,AMPERSAND:qw,APOSTROPHE:Hw,ASTERISK:Ww,AT:Ha,BACKSLASH:Kw,BACKTICK:Gw,CARET:Qw,COLON:il,COMMA:Nj,DOLLAR:Yw,DOT:Ls,EQUALS:Xw,EXCLAMATION:jj,HYPHEN:$s,PERCENT:Jw,PIPE:Zw,PLUS:e1,POUND:t1,QUERY:n1,QUOTE:Rj,FULLWIDTHMIDDLEDOT:GQ,SEMI:Dj,SLASH:Vs,TILDE:fg,UNDERSCORE:r1,EMOJI:QQ,SYM:i1});const Pd=/[a-z]/,hA=new RegExp("\\p{L}","u"),pA=new RegExp("\\p{Emoji}","u"),mA=/\d/,l3=/\s/,c3=`
`,ike="",ske="";let Z0=null,ex=null;function oke(t=[]){const e={};ti.groups=e;const n=new ti;Z0==null&&(Z0=u3(JAe)),ex==null&&(ex=u3(ZAe)),ce(n,"'",Hw),ce(n,"{",ug),ce(n,"}",dg),ce(n,"[",Iw),ce(n,"]",Ow),ce(n,"(",Nw),ce(n,")",jw),ce(n,"<",Rw),ce(n,">",Dw),ce(n,"",Mw),ce(n,"",Lw),ce(n,"",$w),ce(n,"",Vw),ce(n,"",Fw),ce(n,"",Bw),ce(n,"",Uw),ce(n,"",zw),ce(n,"&",qw),ce(n,"*",Ww),ce(n,"@",Ha),ce(n,"`",Gw),ce(n,"^",Qw),ce(n,":",il),ce(n,",",Nj),ce(n,"$",Yw),ce(n,".",Ls),ce(n,"=",Xw),ce(n,"!",jj),ce(n,"-",$s),ce(n,"%",Jw),ce(n,"|",Zw),ce(n,"+",e1),ce(n,"#",t1),ce(n,"?",n1),ce(n,'"',Rj),ce(n,"/",Vs),ce(n,";",Dj),ce(n,"~",fg),ce(n,"_",r1),ce(n,"\\",Kw),ce(n,"",GQ);const r=Vi(n,mA,Ij,{[NC]:!0});Vi(r,mA,r);const i=Vi(n,Pd,Oo,{[jC]:!0});Vi(i,Pd,i);const s=Vi(n,hA,MC,{[RC]:!0});Vi(s,Pd),Vi(s,hA,s);const o=Vi(n,l3,KQ,{[o3]:!0});ce(n,c3,Oj,{[o3]:!0}),ce(o,c3),Vi(o,l3,o);const a=Vi(n,pA,QQ,{[WQ]:!0});Vi(a,pA,a),ce(a,ike,a);const l=ce(a,ske);Vi(l,pA,a);const c=[[Pd,i]],u=[[Pd,null],[hA,s]];for(let d=0;d<Z0.length;d++)La(n,Z0[d],LC,Oo,c);for(let d=0;d<ex.length;d++)La(n,ex[d],$C,MC,u);Zc(LC,{tld:!0,ascii:!0},e),Zc($C,{utld:!0,alpha:!0},e),La(n,"file",rb,Oo,c),La(n,"mailto",rb,Oo,c),La(n,"http",Ud,Oo,c),La(n,"https",Ud,Oo,c),La(n,"ftp",Ud,Oo,c),La(n,"ftps",Ud,Oo,c),Zc(rb,{scheme:!0,ascii:!0},e),Zc(Ud,{slashscheme:!0,ascii:!0},e),t=t.sort((d,f)=>d[0]>f[0]?1:-1);for(let d=0;d<t.length;d++){const f=t[d][0],m=t[d][1]?{[eke]:!0}:{[tke]:!0};f.indexOf("-")>=0?m[DC]=!0:Pd.test(f)?mA.test(f)?m[nb]=!0:m[jC]=!0:m[NC]=!0,a3(n,f,f,m)}return a3(n,"localhost",vy,{ascii:!0}),n.jd=new ti(i1),{start:n,tokens:Th({groups:e},YQ)}}function XQ(t,e){const n=ake(e.replace(/[A-Z]/g,a=>a.toLowerCase())),r=n.length,i=[];let s=0,o=0;for(;o<r;){let a=t,l=null,c=0,u=null,d=-1,f=-1;for(;o<r&&(l=a.go(n[o]));)a=l,a.accepts()?(d=0,f=0,u=a):d>=0&&(d+=n[o].length,f++),c+=n[o].length,s+=n[o].length,o++;s-=d,o-=f,c-=d,i.push({t:u.t,v:e.slice(s-c,s),s:s-c,e:s})}return i}function ake(t){const e=[],n=t.length;let r=0;for(;r<n;){let i=t.charCodeAt(r),s,o=i<55296||i>56319||r+1===n||(s=t.charCodeAt(r+1))<56320||s>57343?t[r]:t.slice(r,r+2);e.push(o),r+=o.length}return e}function La(t,e,n,r,i){let s;const o=e.length;for(let a=0;a<o-1;a++){const l=e[a];t.j[l]?s=t.j[l]:(s=new ti(r),s.jr=i.slice(),t.j[l]=s),t=s}return s=new ti(n),s.jr=i.slice(),t.j[e[o-1]]=s,s}function u3(t){const e=[],n=[];let r=0,i="0123456789";for(;r<t.length;){let s=0;for(;i.indexOf(t[r+s])>=0;)s++;if(s>0){e.push(n.join(""));for(let o=parseInt(t.substring(r,r+s),10);o>0;o--)n.pop();r+=s}else n.push(t[r]),r++}return e}const xy={defaultProtocol:"http",events:null,format:d3,formatHref:d3,nl2br:!1,tagName:"a",target:null,rel:null,validate:!0,truncate:1/0,className:null,attributes:null,ignoreTags:[],render:null};function Mj(t,e=null){let n=Th({},xy);t&&(n=Th(n,t instanceof Mj?t.o:t));const r=n.ignoreTags,i=[];for(let s=0;s<r.length;s++)i.push(r[s].toUpperCase());this.o=n,e&&(this.defaultRender=e),this.ignoreTags=i}Mj.prototype={o:xy,ignoreTags:[],defaultRender(t){return t},check(t){return this.get("validate",t.toString(),t)},get(t,e,n){const r=e!=null;let i=this.o[t];return i&&(typeof i=="object"?(i=n.t in i?i[n.t]:xy[t],typeof i=="function"&&r&&(i=i(e,n))):typeof i=="function"&&r&&(i=i(e,n.t,n)),i)},getObj(t,e,n){let r=this.o[t];return typeof r=="function"&&e!=null&&(r=r(e,n.t,n)),r},render(t){const e=t.render(this);return(this.get("render",null,t)||this.defaultRender)(e,t.t,t)}};function d3(t){return t}function JQ(t,e){this.t="token",this.v=t,this.tk=e}JQ.prototype={isLink:!1,toString(){return this.v},toHref(t){return this.toString()},toFormattedString(t){const e=this.toString(),n=t.get("truncate",e,this),r=t.get("format",e,this);return n&&r.length>n?r.substring(0,n)+"":r},toFormattedHref(t){return t.get("formatHref",this.toHref(t.get("defaultProtocol")),this)},startIndex(){return this.tk[0].s},endIndex(){return this.tk[this.tk.length-1].e},toObject(t=xy.defaultProtocol){return{type:this.t,value:this.toString(),isLink:this.isLink,href:this.toHref(t),start:this.startIndex(),end:this.endIndex()}},toFormattedObject(t){return{type:this.t,value:this.toFormattedString(t),isLink:this.isLink,href:this.toFormattedHref(t),start:this.startIndex(),end:this.endIndex()}},validate(t){return t.get("validate",this.toString(),this)},render(t){const e=this,n=this.toHref(t.get("defaultProtocol")),r=t.get("formatHref",n,this),i=t.get("tagName",n,e),s=this.toFormattedString(t),o={},a=t.get("className",n,e),l=t.get("target",n,e),c=t.get("rel",n,e),u=t.getObj("attributes",n,e),d=t.getObj("events",n,e);return o.href=r,a&&(o.class=a),l&&(o.target=l),c&&(o.rel=c),u&&Th(o,u),{tagName:i,attributes:o,content:s,eventListeners:d}}};function CS(t,e){class n extends JQ{constructor(i,s){super(i,s),this.t=t}}for(const r in e)n.prototype[r]=e[r];return n.t=t,n}const f3=CS("email",{isLink:!0,toHref(){return"mailto:"+this.toString()}}),h3=CS("text"),lke=CS("nl"),tx=CS("url",{isLink:!0,toHref(t=xy.defaultProtocol){return this.hasProtocol()?this.v:`${t}://${this.v}`},hasProtocol(){const t=this.tk;return t.length>=2&&t[0].t!==vy&&t[1].t===il}}),Fi=t=>new ti(t);function cke({groups:t}){const e=t.domain.concat([qw,Ww,Ha,Kw,Gw,Qw,Yw,Xw,$s,Ij,Jw,Zw,e1,t1,Vs,i1,fg,r1]),n=[Hw,il,Nj,Ls,jj,n1,Rj,Dj,Rw,Dw,ug,dg,Ow,Iw,Nw,jw,Mw,Lw,$w,Vw,Fw,Bw,Uw,zw],r=[qw,Hw,Ww,Kw,Gw,Qw,Yw,Xw,$s,ug,dg,Jw,Zw,e1,t1,n1,Vs,i1,fg,r1],i=Fi(),s=ce(i,fg);Qe(s,r,s),Qe(s,t.domain,s);const o=Fi(),a=Fi(),l=Fi();Qe(i,t.domain,o),Qe(i,t.scheme,a),Qe(i,t.slashscheme,l),Qe(o,r,s),Qe(o,t.domain,o);const c=ce(o,Ha);ce(s,Ha,c),ce(a,Ha,c),ce(l,Ha,c);const u=ce(s,Ls);Qe(u,r,s),Qe(u,t.domain,s);const d=Fi();Qe(c,t.domain,d),Qe(d,t.domain,d);const f=ce(d,Ls);Qe(f,t.domain,d);const p=Fi(f3);Qe(f,t.tld,p),Qe(f,t.utld,p),ce(c,vy,p);const m=ce(d,$s);Qe(m,t.domain,d),Qe(p,t.domain,d),ce(p,Ls,f),ce(p,$s,m);const g=ce(p,il);Qe(g,t.numeric,f3);const v=ce(o,$s),x=ce(o,Ls);Qe(v,t.domain,o),Qe(x,r,s),Qe(x,t.domain,o);const b=Fi(tx);Qe(x,t.tld,b),Qe(x,t.utld,b),Qe(b,t.domain,o),Qe(b,r,s),ce(b,Ls,x),ce(b,$s,v),ce(b,Ha,c);const w=ce(b,il),T=Fi(tx);Qe(w,t.numeric,T);const _=Fi(tx),k=Fi();Qe(_,e,_),Qe(_,n,k),Qe(k,e,_),Qe(k,n,k),ce(b,Vs,_),ce(T,Vs,_);const S=ce(a,il),E=ce(l,il),P=ce(E,Vs),O=ce(P,Vs);Qe(a,t.domain,o),ce(a,Ls,x),ce(a,$s,v),Qe(l,t.domain,o),ce(l,Ls,x),ce(l,$s,v),Qe(S,t.domain,_),ce(S,Vs,_),Qe(O,t.domain,_),Qe(O,e,_),ce(O,Vs,_);const N=[[ug,dg],[Iw,Ow],[Nw,jw],[Rw,Dw],[Mw,Lw],[$w,Vw],[Fw,Bw],[Uw,zw]];for(let R=0;R<N.length;R++){const[j,z]=N[R],F=ce(_,j);ce(k,j,F),ce(F,z,_);const L=Fi(tx);Qe(F,e,L);const B=Fi();Qe(F,n),Qe(L,e,L),Qe(L,n,B),Qe(B,e,L),Qe(B,n,B),ce(L,z,_),ce(B,z,_)}return ce(i,vy,b),ce(i,Oj,lke),{start:i,tokens:YQ}}function uke(t,e,n){let r=n.length,i=0,s=[],o=[];for(;i<r;){let a=t,l=null,c=null,u=0,d=null,f=-1;for(;i<r&&!(l=a.go(n[i].t));)o.push(n[i++]);for(;i<r&&(c=l||a.go(n[i].t));)l=null,a=c,a.accepts()?(f=0,d=a):f>=0&&f++,i++,u++;if(f<0)i-=u,i<r&&(o.push(n[i]),i++);else{o.length>0&&(s.push(gA(h3,e,o)),o=[]),i-=f,u-=f;const p=d.t,m=n.slice(i-u,i);s.push(gA(p,e,m))}}return o.length>0&&s.push(gA(h3,e,o)),s}function gA(t,e,n){const r=n[0].s,i=n[n.length-1].e,s=e.slice(r,i);return new t(s,n)}const dke=typeof console<"u"&&console&&console.warn||(()=>{}),fke="until manual call of linkify.init(). Register all schemes and plugins before invoking linkify the first time.",qt={scanner:null,parser:null,tokenQueue:[],pluginQueue:[],customSchemes:[],initialized:!1};function hke(){return ti.groups={},qt.scanner=null,qt.parser=null,qt.tokenQueue=[],qt.pluginQueue=[],qt.customSchemes=[],qt.initialized=!1,qt}function p3(t,e=!1){if(qt.initialized&&dke(`linkifyjs: already initialized - will not register custom scheme "${t}" ${fke}`),!/^[0-9a-z]+(-[0-9a-z]+)*$/.test(t))throw new Error(`linkifyjs: incorrect scheme format.
1. Must only contain digits, lowercase ASCII letters or "-"
2. Cannot start or end with "-"
3. "-" cannot repeat`);qt.customSchemes.push([t,e])}function pke(){qt.scanner=oke(qt.customSchemes);for(let t=0;t<qt.tokenQueue.length;t++)qt.tokenQueue[t][1]({scanner:qt.scanner});qt.parser=cke(qt.scanner.tokens);for(let t=0;t<qt.pluginQueue.length;t++)qt.pluginQueue[t][1]({scanner:qt.scanner,parser:qt.parser});return qt.initialized=!0,qt}function Lj(t){return qt.initialized||pke(),uke(qt.parser.start,t,XQ(qt.scanner.start,t))}Lj.scan=XQ;function ZQ(t,e=null,n=null){if(e&&typeof e=="object"){if(n)throw Error(`linkifyjs: Invalid link type ${e}; must be a string`);n=e,e=null}const r=new Mj(n),i=Lj(t),s=[];for(let o=0;o<i.length;o++){const a=i[o];a.isLink&&(!e||a.t===e)&&r.check(a)&&s.push(a.toFormattedObject(r))}return s}function mke(t){return t.length===1?t[0].isLink:t.length===3&&t[1].isLink?["()","[]"].includes(t[0].value+t[2].value):!1}function gke(t){return new Qn({key:new hi("autolink"),appendTransaction:(e,n,r)=>{const i=e.some(c=>c.docChanged)&&!n.doc.eq(r.doc),s=e.some(c=>c.getMeta("preventAutolink"));if(!i||s)return;const{tr:o}=r,a=BEe(n.doc,[...e]);if(YEe(a).forEach(({newRange:c})=>{const u=zEe(r.doc,c,p=>p.isTextblock);let d,f;if(u.length>1?(d=u[0],f=r.doc.textBetween(d.pos,d.pos+d.node.nodeSize,void 0," ")):u.length&&r.doc.textBetween(c.from,c.to," "," ").endsWith(" ")&&(d=u[0],f=r.doc.textBetween(d.pos,c.to,void 0," ")),d&&f){const p=f.split(" ").filter(x=>x!=="");if(p.length<=0)return!1;const m=p[p.length-1],g=d.pos+f.lastIndexOf(m);if(!m)return!1;const v=Lj(m).map(x=>x.toObject(t.defaultProtocol));if(!mke(v))return!1;v.filter(x=>x.isLink).map(x=>({...x,from:g+x.start+1,to:g+x.end+1})).filter(x=>r.schema.marks.code?!r.doc.rangeHasMark(x.from,x.to,r.schema.marks.code):!0).filter(x=>t.validate(x.value)).forEach(x=>{kj(x.from,x.to,r.doc).some(b=>b.mark.type===t.type)||o.addMark(x.from,x.to,t.type.create({href:x.href}))})}}),!!o.steps.length)return o}})}function yke(t){return new Qn({key:new hi("handleClickLink"),props:{handleClick:(e,n,r)=>{var i,s;if(r.button!==0||!e.editable)return!1;let o=r.target;const a=[];for(;o.nodeName!=="DIV";)a.push(o),o=o.parentNode;if(!a.find(f=>f.nodeName==="A"))return!1;const l=VQ(e.state,t.type.name),c=r.target,u=(i=c==null?void 0:c.href)!==null&&i!==void 0?i:l.href,d=(s=c==null?void 0:c.target)!==null&&s!==void 0?s:l.target;return c&&u?(window.open(u,d),!0):!1}}})}function vke(t){return new Qn({key:new hi("handlePasteLink"),props:{handlePaste:(e,n,r)=>{const{state:i}=e,{selection:s}=i,{empty:o}=s;if(o)return!1;let a="";r.content.forEach(c=>{a+=c.textContent});const l=ZQ(a,{defaultProtocol:t.defaultProtocol}).find(c=>c.isLink&&c.value===a);return!a||!l?!1:(t.editor.commands.setMark(t.type,{href:l.href}),!0)}}})}const xke=/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g;function m3(t,e){const n=["http","https","ftp","ftps","mailto","tel","callto","sms","cid","xmpp"];return e&&e.forEach(r=>{const i=typeof r=="string"?r:r.scheme;i&&n.push(i)}),!t||t.replace(xke,"").match(new RegExp(`^(?:(?:${n.join("|")}):|[^a-z]|[a-z+.-]+(?:[^a-z+.-:]|$))`,"i"))}const bke=ha.create({name:"link",priority:1e3,keepOnSplit:!1,exitable:!0,onCreate(){this.options.protocols.forEach(t=>{if(typeof t=="string"){p3(t);return}p3(t.scheme,t.optionalSlashes)})},onDestroy(){hke()},inclusive(){return this.options.autolink},addOptions(){return{openOnClick:!0,linkOnPaste:!0,autolink:!0,protocols:[],defaultProtocol:"http",HTMLAttributes:{target:"_blank",rel:"noopener noreferrer nofollow",class:null},validate:t=>!!t}},addAttributes(){return{href:{default:null,parseHTML(t){return t.getAttribute("href")}},target:{default:this.options.HTMLAttributes.target},rel:{default:this.options.HTMLAttributes.rel},class:{default:this.options.HTMLAttributes.class}}},parseHTML(){return[{tag:"a[href]",getAttrs:t=>{const e=t.getAttribute("href");return!e||!m3(e,this.options.protocols)?!1:null}}]},renderHTML({HTMLAttributes:t}){return m3(t.href,this.options.protocols)?["a",lr(this.options.HTMLAttributes,t),0]:["a",lr(this.options.HTMLAttributes,{...t,href:""}),0]},addCommands(){return{setLink:t=>({chain:e})=>e().setMark(this.name,t).setMeta("preventAutolink",!0).run(),toggleLink:t=>({chain:e})=>e().toggleMark(this.name,t,{extendEmptyMarkRange:!0}).setMeta("preventAutolink",!0).run(),unsetLink:()=>({chain:t})=>t().unsetMark(this.name,{extendEmptyMarkRange:!0}).setMeta("preventAutolink",!0).run()}},addPasteRules(){return[Ku({find:t=>{const e=[];if(t){const{validate:n}=this.options,r=ZQ(t).filter(i=>i.isLink&&n(i.value));r.length&&r.forEach(i=>e.push({text:i.value,data:{href:i.href},index:i.start}))}return e},type:this.type,getAttributes:t=>{var e;return{href:(e=t.data)===null||e===void 0?void 0:e.href}}})]},addProseMirrorPlugins(){const t=[];return this.options.autolink&&t.push(gke({type:this.type,defaultProtocol:this.options.defaultProtocol,validate:this.options.validate})),this.options.openOnClick===!0&&t.push(yke({type:this.type})),this.options.linkOnPaste&&t.push(vke({editor:this.editor,defaultProtocol:this.options.defaultProtocol,type:this.type})),t}});function by({content:t,onChange:e,placeholder:n}){const r=KTe({extensions:[YAe,XAe.configure({placeholder:n||"Write something..."}),bke.configure({openOnClick:!1,HTMLAttributes:{class:"text-primary hover:text-primary/90 underline"}})],content:t,onUpdate:({editor:s})=>{e(s.getHTML())}});if(!r)return null;const i=()=>{const s=r.getAttributes("link").href,o=window.prompt("URL",s);if(o!==null){if(o===""){r.chain().focus().extendMarkRange("link").unsetLink().run();return}r.chain().focus().extendMarkRange("link").setLink({href:o}).run()}};return h.jsxs("div",{className:"border border-surface-light rounded-lg overflow-hidden",children:[h.jsxs("div",{className:"bg-surface-light border-b border-surface-light p-2 flex flex-wrap gap-1",children:[h.jsx("button",{onClick:()=>r.chain().focus().toggleHeading({level:1}).run(),className:`p-2 rounded hover:bg-surface ${r.isActive("heading",{level:1})?"bg-surface":""}`,children:h.jsx(hpe,{className:"h-4 w-4 text-white"})}),h.jsx("button",{onClick:()=>r.chain().focus().toggleHeading({level:2}).run(),className:`p-2 rounded hover:bg-surface ${r.isActive("heading",{level:2})?"bg-surface":""}`,children:h.jsx(ppe,{className:"h-4 w-4 text-white"})}),h.jsx("button",{onClick:()=>r.chain().focus().toggleBold().run(),className:`p-2 rounded hover:bg-surface ${r.isActive("bold")?"bg-surface":""}`,children:h.jsx(spe,{className:"h-4 w-4 text-white"})}),h.jsx("button",{onClick:()=>r.chain().focus().toggleItalic().run(),className:`p-2 rounded hover:bg-surface ${r.isActive("italic")?"bg-surface":""}`,children:h.jsx(ype,{className:"h-4 w-4 text-white"})}),h.jsx("button",{onClick:()=>r.chain().focus().toggleStrike().run(),className:`p-2 rounded hover:bg-surface ${r.isActive("strike")?"bg-surface":""}`,children:h.jsx(jpe,{className:"h-4 w-4 text-white"})}),h.jsx("button",{onClick:()=>r.chain().focus().toggleCode().run(),className:`p-2 rounded hover:bg-surface ${r.isActive("code")?"bg-surface":""}`,children:h.jsx(upe,{className:"h-4 w-4 text-white"})}),h.jsx("button",{onClick:()=>r.chain().focus().toggleBulletList().run(),className:`p-2 rounded hover:bg-surface ${r.isActive("bulletList")?"bg-surface":""}`,children:h.jsx(xpe,{className:"h-4 w-4 text-white"})}),h.jsx("button",{onClick:()=>r.chain().focus().toggleOrderedList().run(),className:`p-2 rounded hover:bg-surface ${r.isActive("orderedList")?"bg-surface":""}`,children:h.jsx(vpe,{className:"h-4 w-4 text-white"})}),h.jsx("button",{onClick:i,className:`p-2 rounded hover:bg-surface ${r.isActive("link")?"bg-surface":""}`,children:h.jsx(rS,{className:"h-4 w-4 text-white"})})]}),h.jsx(LTe,{editor:r,className:"prose prose-invert max-w-none p-4 min-h-[200px] focus:outline-none"})]})}function wke({communityId:t,onPostCreated:e}){const[n,r]=C.useState(""),[i,s]=C.useState(""),[o,a]=C.useState(!1);async function l(c){if(c.preventDefault(),!ee.currentUser){te.error("You must be logged in to create a post");return}try{a(!0);const u=ht(le,"users",ee.currentUser.uid),f=(await ci(u)).data();if(!f)throw new Error("User data not found");const p={id:ee.currentUser.uid,email:ee.currentUser.email,full_name:f.full_name,username:f.username,avatar_url:ee.currentUser.photoURL};await Pn(Ce(le,"posts"),{title:n,content:i,community_id:t,user_id:ee.currentUser.uid,user:p,created_at:lt(),reaction_counts:{like:0,bookmark:0,celebrate:0}}),te.success("Post created successfully"),r(""),s(""),e()}catch(u){console.error("Error creating post:",u),te.error("Failed to create post")}finally{a(!1)}}return h.jsxs("div",{className:"bg-surface border border-surface-light rounded-lg p-6",children:[h.jsx("h2",{className:"text-xl font-semibold text-white mb-4",children:"Create a Post"}),h.jsxs("form",{onSubmit:l,className:"space-y-4",children:[h.jsx("input",{type:"text",placeholder:"Post title",value:n,onChange:c=>r(c.target.value),className:"w-full px-3 py-2 bg-surface-light border border-surface-light rounded-md text-white focus:outline-none focus:ring-primary focus:border-primary",required:!0}),h.jsx(by,{content:i,onChange:s,placeholder:"What's on your mind?"}),h.jsx("div",{className:"flex justify-end",children:h.jsx("button",{type:"submit",disabled:o||!n.trim()||!i.trim(),className:"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md text-white bg-primary hover:bg-primary/90 disabled:opacity-50",children:o?"Posting...":h.jsxs(h.Fragment,{children:[h.jsx(T2,{className:"h-4 w-4 mr-1"}),"Post"]})})})]})]})}function _ke({members:t=[],isAdmin:e,onRemoveMember:n,onUpdateRole:r}){return h.jsxs("div",{className:"bg-surface border border-surface-light rounded-lg",children:[h.jsx("div",{className:"px-4 py-3 border-b border-surface-light",children:h.jsxs("h2",{className:"text-lg font-semibold text-white",children:["Members (",(t==null?void 0:t.length)||0,")"]})}),h.jsx("div",{className:"divide-y divide-surface-light",children:t&&t.length>0?t.map(i=>{var a,l;const s=((l=(a=i.joined_at)==null?void 0:a.toDate)==null?void 0:l.call(a))||new Date,o=i.user||{id:i.user_id,email:"",full_name:"Anonymous",created_at:new Date};return h.jsxs("div",{className:"flex items-center justify-between p-4",children:[h.jsxs("div",{className:"flex items-center space-x-3",children:[o.avatar_url?h.jsx("img",{src:o.avatar_url,alt:o.full_name,className:"h-10 w-10 rounded-full"}):h.jsx("div",{className:"h-10 w-10 rounded-full bg-primary/10 flex items-center justify-center",children:h.jsx(Kl,{className:"h-5 w-5 text-primary"})}),h.jsxs("div",{children:[h.jsxs("div",{className:"flex items-center space-x-2",children:[h.jsx("span",{className:"text-white font-medium",children:o.full_name}),i.role==="admin"&&h.jsx(fpe,{className:"h-4 w-4 text-yellow-500"})]}),h.jsxs("p",{className:"text-sm text-gray-400",children:["Joined ",Sa(s,"PP")]})]})]}),e&&i.role!=="admin"&&h.jsxs("div",{className:"flex items-center space-x-2",children:[h.jsx("button",{onClick:()=>r==null?void 0:r(i.id,"admin"),className:"p-1 text-gray-400 hover:text-yellow-500",title:"Make Admin",children:h.jsx(Ipe,{className:"h-4 w-4"})}),h.jsx("button",{onClick:()=>n==null?void 0:n(i.id),className:"p-1 text-gray-400 hover:text-red-500",title:"Remove Member",children:h.jsx(Bpe,{className:"h-4 w-4"})})]})]},i.id)}):h.jsx("div",{className:"p-4 text-center text-gray-400",children:"No members yet"})})]})}const Ske=["Programming","Design","Business","Marketing","Personal Development"],Eke=[{value:"short",label:"< 1 hour"},{value:"medium",label:"1-3 hours"},{value:"long",label:"> 3 hours"}];function Tke({onSearch:t}){const[e,n]=C.useState(!1),[r,i]=C.useState({search:"",category:void 0,level:void 0,duration:void 0,tags:[]}),s=(a,l)=>{const c={...r,[a]:l};i(c),t(c)},o=()=>{const a={search:"",category:void 0,level:void 0,duration:void 0,tags:[]};i(a),t(a)};return h.jsxs("div",{className:"space-y-4",children:[h.jsxs("div",{className:"flex items-center space-x-4",children:[h.jsxs("div",{className:"flex-1 relative",children:[h.jsx("input",{type:"text",value:r.search,onChange:a=>s("search",a.target.value),placeholder:"Search courses...",className:"w-full pl-10 pr-4 py-2 bg-surface-light border border-surface-light rounded-md text-white focus:outline-none focus:ring-primary focus:border-primary"}),h.jsx(sS,{className:"absolute left-3 top-2.5 h-5 w-5 text-gray-400"})]}),h.jsx("button",{onClick:()=>n(!e),className:`p-2 rounded-md border ${e?"border-primary text-primary":"border-surface-light text-gray-400 hover:text-white"}`,children:h.jsx(E2,{className:"h-5 w-5"})})]}),e&&h.jsxs("div",{className:"bg-surface border border-surface-light rounded-lg p-4",children:[h.jsxs("div",{className:"flex justify-between items-center mb-4",children:[h.jsx("h3",{className:"text-lg font-medium text-white",children:"Filters"}),h.jsx("button",{onClick:o,className:"text-sm text-gray-400 hover:text-white",children:h.jsx(mh,{className:"h-4 w-4"})})]}),h.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Category"}),h.jsxs("select",{value:r.category||"",onChange:a=>s("category",a.target.value||void 0),className:"w-full px-3 py-2 bg-surface-light border border-surface-light rounded-md text-white focus:outline-none focus:ring-primary focus:border-primary",children:[h.jsx("option",{value:"",children:"All Categories"}),Ske.map(a=>h.jsx("option",{value:a,children:a},a))]})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Level"}),h.jsxs("select",{value:r.level||"",onChange:a=>s("level",a.target.value||void 0),className:"w-full px-3 py-2 bg-surface-light border border-surface-light rounded-md text-white focus:outline-none focus:ring-primary focus:border-primary",children:[h.jsx("option",{value:"",children:"All Levels"}),h.jsx("option",{value:"beginner",children:"Beginner"}),h.jsx("option",{value:"intermediate",children:"Intermediate"}),h.jsx("option",{value:"advanced",children:"Advanced"})]})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Duration"}),h.jsxs("select",{value:r.duration||"",onChange:a=>s("duration",a.target.value||void 0),className:"w-full px-3 py-2 bg-surface-light border border-surface-light rounded-md text-white focus:outline-none focus:ring-primary focus:border-primary",children:[h.jsx("option",{value:"",children:"Any Duration"}),Eke.map(a=>h.jsx("option",{value:a.value,children:a.label},a.value))]})]})]})]})]})}function Ake(t,e){return t.filter(n=>{if(e.search){const r=e.search.toLowerCase();if(!(n.title.toLowerCase().includes(r)||n.description.toLowerCase().includes(r)||n.tags&&n.tags.some(s=>s.toLowerCase().includes(r))))return!1}if(e.category&&n.category!==e.category||e.level&&n.level!==e.level)return!1;if(e.duration){const r=n.duration||0;switch(e.duration){case"short":if(r>=60)return!1;break;case"medium":if(r<60||r>180)return!1;break;case"long":if(r<=180)return!1;break}}return!0})}function kke({courses:t=[],communityId:e,isAdmin:n,onCourseCreated:r}){const[i,s]=C.useState({search:""}),o=C.useMemo(()=>Ake(t,i),[t,i]);return h.jsxs("div",{className:"space-y-6",children:[h.jsxs("div",{className:"flex justify-between items-center",children:[h.jsx("h2",{className:"text-xl font-semibold text-white",children:"Courses"}),n&&h.jsxs(yt,{to:`/communities/${e}/courses/new`,className:"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md text-white bg-primary hover:bg-primary/90",children:[h.jsx(Ri,{className:"h-4 w-4 mr-1"}),"Create Course"]})]}),h.jsx(Tke,{onSearch:s}),h.jsxs("div",{className:"grid grid-cols-1 gap-6",children:[o.map(a=>h.jsxs(yt,{to:`/communities/${e}/courses/${a.id}`,className:"block bg-surface border border-surface-light rounded-lg overflow-hidden hover:border-primary/50 transition-colors",children:[a.thumbnail_url?h.jsx("img",{src:a.thumbnail_url,alt:a.title,className:"w-full h-48 object-cover"}):h.jsx("div",{className:"w-full h-48 bg-gradient-to-r from-primary/20 to-primary/10 flex items-center justify-center",children:h.jsx(ls,{className:"h-12 w-12 text-primary"})}),h.jsxs("div",{className:"p-6",children:[h.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[h.jsx("span",{className:"px-2 py-1 text-xs font-medium text-primary bg-primary/10 rounded-full",children:a.category||"Uncategorized"}),h.jsx("span",{className:"px-2 py-1 text-xs font-medium text-gray-400 bg-surface-light rounded-full",children:a.level||"All Levels"})]}),h.jsx("h3",{className:"text-xl font-semibold text-white",children:a.title}),h.jsx("p",{className:"mt-2 text-gray-300 line-clamp-2",children:a.description}),h.jsxs("div",{className:"mt-4 flex items-center space-x-4 text-sm text-gray-400",children:[h.jsxs("div",{className:"flex items-center",children:[h.jsx(fo,{className:"h-4 w-4 mr-1"}),a.duration||0," mins"]}),h.jsxs("div",{className:"flex items-center",children:[h.jsx(Jt,{className:"h-4 w-4 mr-1"}),a.enrollment_count||0," enrolled"]}),h.jsxs("div",{className:"flex items-center",children:[h.jsx(S2,{className:"h-4 w-4 mr-1"}),a.level||"All Levels"]})]}),a.tags&&a.tags.length>0&&h.jsx("div",{className:"mt-4 flex flex-wrap gap-2",children:a.tags.map(l=>h.jsx("span",{className:"px-2 py-1 text-xs font-medium text-gray-400 bg-surface-light rounded-full",children:l},l))})]})]},a.id)),o.length===0&&h.jsxs("div",{className:"text-center text-gray-400 py-8",children:["No courses found matching your criteria.",n&&" Click 'Create Course' to add your first course."]})]})]})}function Pke({community:t,onClose:e,onUpdate:n}){const r=Os(),[i,s]=C.useState({name:t.name,description:t.description,banner_url:t.banner_url||""}),[o,a]=C.useState(!1),[l,c]=C.useState(!1);async function u(f){f.preventDefault();try{const p={name:i.name,description:i.description,banner_url:i.banner_url||null};await ui(ht(le,"communities",t.id),p),te.success("Community settings updated"),n(p)}catch(p){console.error("Error updating community:",p),te.error("Failed to update community settings")}}async function d(){if(t.id)try{c(!0);const f=["posts","comments","courses","community_members","announcements","events"];for(const p of f){const m=wt(Ce(le,p),pt("community_id","==",t.id)),v=(await Ft(m)).docs.map(x=>ty(x.ref));await Promise.all(v)}await ty(ht(le,"communities",t.id)),te.success("Community deleted successfully"),r("/communities")}catch(f){console.error("Error deleting community:",f),te.error("Failed to delete community")}finally{c(!1)}}return h.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50",children:h.jsxs("div",{className:"bg-surface border border-surface-light rounded-lg w-full max-w-lg p-6",children:[h.jsxs("div",{className:"flex justify-between items-center mb-6",children:[h.jsx("h2",{className:"text-xl font-semibold text-white",children:"Community Settings"}),h.jsx("button",{onClick:e,className:"text-gray-400 hover:text-white",children:h.jsx(mh,{className:"h-5 w-5"})})]}),h.jsxs("form",{onSubmit:u,className:"space-y-6",children:[h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-gray-300",children:"Community Name"}),h.jsx("input",{type:"text",value:i.name,onChange:f=>s({...i,name:f.target.value}),className:"mt-1 block w-full px-3 py-2 bg-surface-light border border-surface-light rounded-md text-white focus:outline-none focus:ring-primary focus:border-primary",required:!0})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-gray-300",children:"Description"}),h.jsx("textarea",{value:i.description,onChange:f=>s({...i,description:f.target.value}),rows:4,className:"mt-1 block w-full px-3 py-2 bg-surface-light border border-surface-light rounded-md text-white focus:outline-none focus:ring-primary focus:border-primary",required:!0})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-gray-300",children:"Banner Image URL (optional)"}),h.jsx("input",{type:"url",value:i.banner_url,onChange:f=>s({...i,banner_url:f.target.value}),className:"mt-1 block w-full px-3 py-2 bg-surface-light border border-surface-light rounded-md text-white focus:outline-none focus:ring-primary focus:border-primary",placeholder:"https://example.com/banner.jpg"})]}),h.jsxs("div",{className:"flex justify-end space-x-4",children:[h.jsx("button",{type:"button",onClick:()=>a(!0),className:"px-4 py-2 border border-red-500 text-red-500 rounded-md hover:bg-red-500/10",children:"Delete Community"}),h.jsx("button",{type:"submit",className:"px-4 py-2 bg-primary text-white rounded-md hover:bg-primary/90",children:"Save Changes"})]})]}),o&&h.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50",children:h.jsx("div",{className:"bg-surface border border-surface-light rounded-lg p-6 max-w-md w-full mx-4",children:h.jsxs("div",{className:"text-center",children:[h.jsx(Cv,{className:"h-12 w-12 text-red-500 mx-auto mb-4"}),h.jsx("h3",{className:"text-xl font-bold text-white mb-2",children:"Delete Community?"}),h.jsx("p",{className:"text-gray-400 mb-6",children:"This action cannot be undone. All community data, including posts, courses, and member data will be permanently deleted."}),h.jsxs("div",{className:"flex space-x-4",children:[h.jsx("button",{onClick:()=>a(!1),className:"flex-1 px-4 py-2 border border-surface-light text-white rounded-md hover:bg-surface-light",disabled:l,children:"Cancel"}),h.jsx("button",{onClick:d,className:"flex-1 px-4 py-2 bg-red-500 text-white rounded-md hover:bg-red-600 disabled:opacity-50",disabled:l,children:l?"Deleting...":"Yes, Delete"})]})]})})})]})})}function Cke({communityId:t,isAdmin:e}){const[n,r]=C.useState([]),[i,s]=C.useState(!0),[o,a]=C.useState(!1),[l,c]=C.useState({title:"",description:"",date:"",location:"",duration:60});C.useEffect(()=>{u()},[t]);async function u(){try{const f=wt(Ce(le,"events"),pt("community_id","==",t),mn("date","asc")),p=await Ft(f).catch(g=>(Et(g,"Failed to load events"),null));if(!p){r([]);return}const m=p.docs.map(g=>{var v;return{id:g.id,...g.data(),date:(v=g.data().date)==null?void 0:v.toDate()}});r(m)}catch(f){Et(f,"Failed to load events"),r([])}finally{s(!1)}}async function d(f){if(f.preventDefault(),!!ee.currentUser)try{await Pn(Ce(le,"events"),{...l,date:new Date(l.date),community_id:t,created_by:ee.currentUser.uid,created_at:lt()}),te.success("Event created successfully"),c({title:"",description:"",date:"",location:"",duration:60}),a(!1),u()}catch(p){Et(p,"Failed to create event")}}return i?h.jsx("div",{className:"flex items-center justify-center h-48",children:h.jsx(dp,{className:"h-6 w-6 text-primary animate-spin"})}):h.jsxs("div",{className:"space-y-6",children:[h.jsxs("div",{className:"flex justify-between items-center",children:[h.jsx("h2",{className:"text-xl font-semibold text-white",children:"Upcoming Events"}),e&&h.jsxs("button",{onClick:()=>a(!o),className:"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md text-white bg-primary hover:bg-primary/90",children:[h.jsx(Ri,{className:"h-4 w-4 mr-1"}),"New Event"]})]}),o&&h.jsxs("form",{onSubmit:d,className:"bg-surface border border-surface-light rounded-lg p-6 space-y-4",children:[h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:"Event Title"}),h.jsx("input",{type:"text",value:l.title,onChange:f=>c({...l,title:f.target.value}),className:"w-full px-3 py-2 bg-surface-light border border-surface-light rounded-md text-white focus:outline-none focus:ring-primary focus:border-primary",required:!0})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:"Description"}),h.jsx("textarea",{value:l.description,onChange:f=>c({...l,description:f.target.value}),rows:3,className:"w-full px-3 py-2 bg-surface-light border border-surface-light rounded-md text-white focus:outline-none focus:ring-primary focus:border-primary",required:!0})]}),h.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:"Date & Time"}),h.jsx("input",{type:"datetime-local",value:l.date,onChange:f=>c({...l,date:f.target.value}),className:"w-full px-3 py-2 bg-surface-light border border-surface-light rounded-md text-white focus:outline-none focus:ring-primary focus:border-primary",required:!0})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:"Duration (minutes)"}),h.jsx("input",{type:"number",value:l.duration,onChange:f=>c({...l,duration:parseInt(f.target.value)}),min:"15",step:"15",className:"w-full px-3 py-2 bg-surface-light border border-surface-light rounded-md text-white focus:outline-none focus:ring-primary focus:border-primary",required:!0})]})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:"Location"}),h.jsx("input",{type:"text",value:l.location,onChange:f=>c({...l,location:f.target.value}),placeholder:"Online or physical location",className:"w-full px-3 py-2 bg-surface-light border border-surface-light rounded-md text-white focus:outline-none focus:ring-primary focus:border-primary",required:!0})]}),h.jsxs("div",{className:"flex justify-end space-x-3",children:[h.jsx("button",{type:"button",onClick:()=>a(!1),className:"px-4 py-2 text-sm font-medium text-gray-400 hover:text-white",children:"Cancel"}),h.jsx("button",{type:"submit",className:"px-4 py-2 text-sm font-medium text-white bg-primary rounded-md hover:bg-primary/90",children:"Create Event"})]})]}),h.jsxs("div",{className:"space-y-4",children:[n.map(f=>h.jsx("div",{className:"bg-surface border border-surface-light rounded-lg p-6",children:h.jsxs("div",{className:"flex items-start space-x-3",children:[h.jsx(Gx,{className:"h-5 w-5 text-primary flex-shrink-0 mt-1"}),h.jsxs("div",{children:[h.jsx("h3",{className:"text-lg font-medium text-white",children:f.title}),h.jsx("p",{className:"mt-2 text-gray-300",children:f.description}),h.jsxs("div",{className:"mt-4 flex flex-wrap gap-4 text-sm text-gray-400",children:[h.jsxs("div",{className:"flex items-center",children:[h.jsx(Gx,{className:"h-4 w-4 mr-1"}),Sa(f.date,"PPp")]}),h.jsxs("div",{className:"flex items-center",children:[h.jsx(fo,{className:"h-4 w-4 mr-1"}),f.duration," minutes"]}),h.jsxs("div",{className:"flex items-center",children:[h.jsx(JW,{className:"h-4 w-4 mr-1"}),f.location]})]})]})]})},f.id)),n.length===0&&h.jsxs("div",{className:"text-center py-8 text-gray-400",children:[h.jsx(Gx,{className:"h-8 w-8 mx-auto mb-2"}),h.jsx("p",{children:"No upcoming events"})]})]})]})}function Ike({communityId:t,isAdmin:e}){const[n,r]=C.useState([]),[i,s]=C.useState(!0),[o,a]=C.useState(!1),[l,c]=C.useState({title:"",content:""});C.useEffect(()=>{u()},[t]);async function u(){try{const f=wt(Ce(le,"announcements"),pt("community_id","==",t),mn("created_at","desc")),p=await Ft(f).catch(g=>(Et(g,"Failed to load announcements"),null));if(!p){r([]);return}const m=p.docs.map(g=>({id:g.id,...g.data()}));r(m)}catch(f){Et(f,"Failed to load announcements"),r([])}finally{s(!1)}}async function d(f){if(f.preventDefault(),!!ee.currentUser)try{await Pn(Ce(le,"announcements"),{...l,community_id:t,created_by:ee.currentUser.uid,created_at:lt()}),te.success("Announcement posted successfully"),c({title:"",content:""}),a(!1),u()}catch(p){Et(p,"Failed to post announcement")}}return i?h.jsx("div",{className:"flex items-center justify-center h-48",children:h.jsx(dp,{className:"h-6 w-6 text-primary animate-spin"})}):h.jsxs("div",{className:"space-y-6",children:[h.jsxs("div",{className:"flex justify-between items-center",children:[h.jsx("h2",{className:"text-xl font-semibold text-white",children:"Announcements"}),e&&h.jsxs("button",{onClick:()=>a(!o),className:"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md text-white bg-primary hover:bg-primary/90",children:[h.jsx(Ri,{className:"h-4 w-4 mr-1"}),"New Announcement"]})]}),o&&h.jsxs("form",{onSubmit:d,className:"bg-surface border border-surface-light rounded-lg p-6 space-y-4",children:[h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:"Title"}),h.jsx("input",{type:"text",value:l.title,onChange:f=>c({...l,title:f.target.value}),className:"w-full px-3 py-2 bg-surface-light border border-surface-light rounded-md text-white focus:outline-none focus:ring-primary focus:border-primary",required:!0})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:"Content"}),h.jsx(by,{content:l.content,onChange:f=>c({...l,content:f}),placeholder:"Write your announcement..."})]}),h.jsxs("div",{className:"flex justify-end space-x-3",children:[h.jsx("button",{type:"button",onClick:()=>a(!1),className:"px-4 py-2 text-sm font-medium text-gray-400 hover:text-white",children:"Cancel"}),h.jsx("button",{type:"submit",className:"px-4 py-2 text-sm font-medium text-white bg-primary rounded-md hover:bg-primary/90",children:"Post Announcement"})]})]}),h.jsxs("div",{className:"space-y-4",children:[n.map(f=>{var p,m;return h.jsx("div",{className:"bg-surface border border-surface-light rounded-lg p-6",children:h.jsxs("div",{className:"flex items-start space-x-3",children:[h.jsx(l4,{className:"h-5 w-5 text-primary flex-shrink-0 mt-1"}),h.jsxs("div",{children:[h.jsx("h3",{className:"text-lg font-medium text-white",children:f.title}),h.jsx("div",{className:"mt-2 prose prose-invert max-w-none",dangerouslySetInnerHTML:{__html:f.content}}),h.jsxs("p",{className:"mt-4 text-sm text-gray-400",children:["Posted ",(m=(p=f.created_at)==null?void 0:p.toDate)==null?void 0:m.call(p).toLocaleDateString()]})]})]})},f.id)}),n.length===0&&h.jsxs("div",{className:"text-center py-8 text-gray-400",children:[h.jsx(l4,{className:"h-8 w-8 mx-auto mb-2"}),h.jsx("p",{children:"No announcements yet"})]})]})]})}function Oke({communityId:t,isAdmin:e}){const[n,r]=C.useState([]),[i,s]=C.useState(!0),[o,a]=C.useState(!1),[l,c]=C.useState({title:"",description:"",url:"",type:"link"});C.useEffect(()=>{u()},[t]);async function u(){try{const p=wt(Ce(le,"resources"),pt("community_id","==",t),mn("created_at","desc")),m=await Ft(p).catch(v=>(Et(v,"Failed to load resources"),null));if(!m){r([]);return}const g=m.docs.map(v=>({id:v.id,...v.data()}));r(g)}catch(p){Et(p,"Failed to load resources"),r([])}finally{s(!1)}}async function d(p){if(p.preventDefault(),!!ee.currentUser)try{await Pn(Ce(le,"resources"),{...l,community_id:t,created_by:ee.currentUser.uid,created_at:lt()}),te.success("Resource added successfully"),c({title:"",description:"",url:"",type:"link"}),a(!1),u()}catch(m){Et(m,"Failed to add resource")}}const f=p=>{switch(p){case"document":return h.jsx($P,{className:"h-5 w-5 text-blue-500"});case"link":return h.jsx(rS,{className:"h-5 w-5 text-green-500"});default:return h.jsx(XW,{className:"h-5 w-5 text-primary"})}};return i?h.jsx("div",{className:"flex items-center justify-center h-48",children:h.jsx(dp,{className:"h-6 w-6 text-primary animate-spin"})}):h.jsxs("div",{className:"space-y-6",children:[h.jsxs("div",{className:"flex justify-between items-center",children:[h.jsx("h2",{className:"text-xl font-semibold text-white",children:"Resources"}),e&&h.jsxs("button",{onClick:()=>a(!o),className:"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md text-white bg-primary hover:bg-primary/90",children:[h.jsx(Ri,{className:"h-4 w-4 mr-1"}),"Add Resource"]})]}),o&&h.jsxs("form",{onSubmit:d,className:"bg-surface border border-surface-light rounded-lg p-6 space-y-4",children:[h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:"Title"}),h.jsx("input",{type:"text",value:l.title,onChange:p=>c({...l,title:p.target.value}),className:"w-full px-3 py-2 bg-surface-light border border-surface-light rounded-md text-white focus:outline-none focus:ring-primary focus:border-primary",required:!0})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:"Description"}),h.jsx("textarea",{value:l.description,onChange:p=>c({...l,description:p.target.value}),rows:3,className:"w-full px-3 py-2 bg-surface-light border border-surface-light rounded-md text-white focus:outline-none focus:ring-primary focus:border-primary",required:!0})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:"Type"}),h.jsxs("select",{value:l.type,onChange:p=>c({...l,type:p.target.value}),className:"w-full px-3 py-2 bg-surface-light border border-surface-light rounded-md text-white focus:outline-none focus:ring-primary focus:border-primary",children:[h.jsx("option",{value:"link",children:"External Link"}),h.jsx("option",{value:"document",children:"Document"}),h.jsx("option",{value:"file",children:"File"})]})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:"URL"}),h.jsx("input",{type:"url",value:l.url,onChange:p=>c({...l,url:p.target.value}),className:"w-full px-3 py-2 bg-surface-light border border-surface-light rounded-md text-white focus:outline-none focus:ring-primary focus:border-primary",required:!0})]}),h.jsxs("div",{className:"flex justify-end space-x-3",children:[h.jsx("button",{type:"button",onClick:()=>a(!1),className:"px-4 py-2 text-sm font-medium text-gray-400 hover:text-white",children:"Cancel"}),h.jsx("button",{type:"submit",className:"px-4 py-2 text-sm font-medium text-white bg-primary rounded-md hover:bg-primary/90",children:"Add Resource"})]})]}),h.jsxs("div",{className:"space-y-4",children:[n.map(p=>{var m,g;return h.jsx("a",{href:p.url,target:"_blank",rel:"noopener noreferrer",className:"block bg-surface border border-surface-light rounded-lg p-6 hover:border-primary/50 transition-colors",children:h.jsxs("div",{className:"flex items-start space-x-3",children:[f(p.type),h.jsxs("div",{children:[h.jsx("h3",{className:"text-lg font-medium text-white",children:p.title}),h.jsx("p",{className:"mt-2 text-gray-300",children:p.description}),h.jsxs("p",{className:"mt-4 text-sm text-gray-400",children:["Added ",(g=(m=p.created_at)==null?void 0:m.toDate)==null?void 0:g.call(m).toLocaleDateString()]})]})]})},p.id)}),n.length===0&&h.jsxs("div",{className:"text-center py-8 text-gray-400",children:[h.jsx($P,{className:"h-8 w-8 mx-auto mb-2"}),h.jsx("p",{children:"No resources available"})]})]})]})}function Nke({communityId:t}){const[e,n]=C.useState([]),[r,i]=C.useState({totalComments:0,totalEnrollments:0,activeMembers:0}),[s,o]=C.useState(!0),[a,l]=C.useState(null);C.useEffect(()=>{t&&c()},[t]);async function c(){try{o(!0),l(null);const f=uw(new Date,1),[p,m]=await Promise.all([Ft(wt(Ce(le,"comments"),pt("community_id","==",t),pt("created_at",">=",f),mn("created_at","asc"))),Ft(wt(Ce(le,"enrollments"),pt("community_id","==",t),pt("created_at",">=",f),mn("created_at","asc")))]),g=[];let v=0,x=0;p.docs.forEach(b=>{var _,k;const w=(_=b.data().created_at)==null?void 0:_.toDate();if(!w)return;const T=g.find(S=>Af(S.date,w));T?(T.count++,T.details={...T.details,comments:(((k=T.details)==null?void 0:k.comments)||0)+1}):g.push({date:w,count:1,type:"comment",details:{comments:1}}),v++}),m.docs.forEach(b=>{var _,k;const w=(_=b.data().created_at)==null?void 0:_.toDate();if(!w)return;const T=g.find(S=>Af(S.date,w));T?(T.count++,T.details={...T.details,enrollments:(((k=T.details)==null?void 0:k.enrollments)||0)+1}):g.push({date:w,count:1,type:"enrollment",details:{enrollments:1}}),x++}),i({totalComments:v,totalEnrollments:x,activeMembers:g.length}),n(g.sort((b,w)=>b.date.getTime()-w.date.getTime()))}catch(d){console.error("Error loading activity data:",d),l("Failed to load activity data"),Et(d)}finally{o(!1)}}const u=d=>d===0?"bg-surface-light/70 hover:bg-surface-light/80":d<=3?"bg-primary/25 hover:bg-primary/35":d<=6?"bg-primary/50 hover:bg-primary/60":d<=9?"bg-primary/75 hover:bg-primary/85":"bg-primary hover:bg-primary/90";return s?h.jsx("div",{className:"flex items-center justify-center h-48",children:h.jsx(QW,{className:"h-6 w-6 text-primary animate-spin"})}):a?h.jsxs("div",{className:"flex flex-col items-center justify-center h-48 text-center",children:[h.jsx(Cv,{className:"h-8 w-8 text-red-500 mb-2"}),h.jsx("p",{className:"text-gray-400 mb-4",children:a}),h.jsx("button",{onClick:()=>c(),className:"px-4 py-2 bg-primary text-white rounded-md hover:bg-primary/90",children:"Try Again"})]}):h.jsxs("div",{className:"space-y-6",children:[h.jsx("h2",{className:"text-xl font-semibold text-white",children:"Activity Board"}),h.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[h.jsx("div",{className:"bg-surface-light rounded-lg p-4",children:h.jsxs("div",{className:"flex items-center justify-between",children:[h.jsxs("div",{children:[h.jsx("p",{className:"text-sm text-gray-400",children:"Total Comments"}),h.jsx("p",{className:"text-2xl font-bold text-white",children:r.totalComments})]}),h.jsx(Iv,{className:"h-6 w-6 text-primary"})]})}),h.jsx("div",{className:"bg-surface-light rounded-lg p-4",children:h.jsxs("div",{className:"flex items-center justify-between",children:[h.jsxs("div",{children:[h.jsx("p",{className:"text-sm text-gray-400",children:"Enrollments"}),h.jsx("p",{className:"text-2xl font-bold text-white",children:r.totalEnrollments})]}),h.jsx(ls,{className:"h-6 w-6 text-green-500"})]})}),h.jsx("div",{className:"bg-surface-light rounded-lg p-4",children:h.jsxs("div",{className:"flex items-center justify-between",children:[h.jsxs("div",{children:[h.jsx("p",{className:"text-sm text-gray-400",children:"Active Days"}),h.jsx("p",{className:"text-2xl font-bold text-white",children:r.activeMembers})]}),h.jsx(Jt,{className:"h-6 w-6 text-yellow-500"})]})})]}),h.jsx("div",{className:"activity-grid-container",children:h.jsx("div",{className:"activity-grid",children:I7({start:uw(new Date,1),end:new Date}).map(d=>{const f=e.find(m=>Af(m.date,d)),p=(f==null?void 0:f.count)||0;return h.jsx(sG,{content:h.jsxs("div",{className:"text-white",children:[h.jsx("div",{children:Sa(d,"MMM d, yyyy")}),h.jsxs("div",{children:[p," ",p===1?"activity":"activities"]}),(f==null?void 0:f.details)&&h.jsxs("div",{className:"text-sm text-gray-400",children:[f.details.comments&&h.jsxs("div",{children:["Comments: ",f.details.comments]}),f.details.enrollments&&h.jsxs("div",{children:["Enrollments: ",f.details.enrollments]})]})]}),offset:{x:0,y:-4},children:h.jsx("div",{className:`w-3 h-3 rounded-sm ${u(p)} transition-colors duration-200`})},d.toISOString())})})}),h.jsxs("div",{className:"flex items-center justify-end space-x-2 text-sm",children:[h.jsx("span",{className:"text-gray-400",children:"Less"}),h.jsxs("div",{className:"flex space-x-1",children:[h.jsx("div",{className:"w-3 h-3 rounded-sm bg-surface-light/70"}),h.jsx("div",{className:"w-3 h-3 rounded-sm bg-primary/25"}),h.jsx("div",{className:"w-3 h-3 rounded-sm bg-primary/50"}),h.jsx("div",{className:"w-3 h-3 rounded-sm bg-primary/75"}),h.jsx("div",{className:"w-3 h-3 rounded-sm bg-primary"})]}),h.jsx("span",{className:"text-gray-400",children:"More"})]})]})}function jke({communityId:t,onClose:e}){const[n,r]=C.useState([]),[i,s]=C.useState(""),[o,a]=C.useState(!1),l=C.useRef(null),[c,u]=C.useState(null);C.useEffect(()=>{const p=wt(Ce(le,"chat_messages"),pt("community_id","==",t),mn("created_at","asc"),_W(100)),m=up(p,{next:g=>{const v=g.docs.map(x=>({id:x.id,...x.data()}));r(v),d()},error:g=>{console.error("Chat subscription error:",g),u(g),Et(g,"Failed to load chat messages")}});return()=>m()},[t]);const d=()=>{var p;(p=l.current)==null||p.scrollIntoView({behavior:"smooth"})},f=async p=>{if(p.preventDefault(),!(!ee.currentUser||!i.trim()||o))try{a(!0);const g=(await ci(ht(le,"users",ee.currentUser.uid))).data();if(!g)throw new Error("User data not found");await Pn(Ce(le,"chat_messages"),{content:i.trim(),sender_id:ee.currentUser.uid,sender_name:g.full_name||g.username||"Anonymous",community_id:t,created_at:lt()}),s("")}catch(m){console.error("Error sending message:",m),Et(m,"Failed to send message")}finally{a(!1)}};return h.jsxs(G.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:20},className:"fixed bottom-20 right-4 w-96 bg-surface border border-surface-light rounded-lg shadow-xl flex flex-col",children:[h.jsxs("div",{className:"p-4 border-b border-surface-light flex justify-between items-center",children:[h.jsx("h3",{className:"text-lg font-medium text-white",children:"Community Chat"}),h.jsx("button",{onClick:e,className:"text-gray-400 hover:text-white transition-colors",children:h.jsx(mh,{className:"h-5 w-5"})})]}),h.jsxs("div",{className:"flex-1 overflow-y-auto p-4 space-y-4 max-h-[500px]",children:[c?h.jsx("div",{className:"text-center text-red-400 py-4",children:"Failed to load messages. Please try again."}):n.length>0?n.map(p=>{var m,g,v,x,b;return h.jsx("div",{className:`flex ${p.sender_id===((m=ee.currentUser)==null?void 0:m.uid)?"justify-end":"justify-start"}`,children:h.jsxs("div",{className:`max-w-[80%] rounded-lg p-3 ${p.sender_id===((g=ee.currentUser)==null?void 0:g.uid)?"bg-primary text-white":"bg-surface-light text-white"}`,children:[p.sender_id!==((v=ee.currentUser)==null?void 0:v.uid)&&h.jsx("p",{className:"text-xs text-gray-400 mb-1",children:p.sender_name}),h.jsx("p",{children:p.content}),h.jsx("p",{className:"text-xs opacity-70 mt-1",children:(b=(x=p.created_at)==null?void 0:x.toDate)!=null&&b.call(x)?Sa(p.created_at.toDate(),"p"):"Just now"})]})},p.id)}):h.jsx("div",{className:"text-center text-gray-400 py-4",children:"No messages yet. Start the conversation!"}),h.jsx("div",{ref:l})]}),h.jsx("form",{onSubmit:f,className:"p-4 border-t border-surface-light",children:h.jsxs("div",{className:"flex space-x-2",children:[h.jsx("input",{type:"text",value:i,onChange:p=>s(p.target.value),placeholder:"Type a message...",className:"flex-1 px-3 py-2 bg-surface-light border border-surface-light rounded-md text-white focus:outline-none focus:ring-primary focus:border-primary",disabled:o}),h.jsx("button",{type:"submit",disabled:!i.trim()||o,className:"px-4 py-2 bg-primary text-white rounded-md hover:bg-primary/90 disabled:opacity-50",children:h.jsx(T2,{className:"h-5 w-5"})})]})})]})}let Rke=(t=21)=>crypto.getRandomValues(new Uint8Array(t)).reduce((e,n)=>(n&=63,n<36?e+=n.toString(36):n<62?e+=(n-26).toString(36).toUpperCase():n>62?e+="-":e+="_",e),"");async function Dke(t){if(!ee.currentUser)throw new Error("Must be logged in to create invites");try{const e=Rke(10),n=t.expiresIn?new Date(Date.now()+t.expiresIn*60*60*1e3):null,r={code:e,type:t.type,targetId:t.targetId,createdBy:ee.currentUser.uid,createdAt:lt(),expiresAt:n,maxUses:t.maxUses||null,uses:0,active:!0};return await Pn(Ce(le,"invites"),r),`${window.location.origin}/invite/${e}`}catch(e){throw console.error("Error creating invite:",e),e}}async function eY(t){try{const e=Ce(le,"invites"),n=await ci(ht(e,t));if(!n.exists())throw new Error("Invalid invite code");const r=n.data();if(!r.active)throw new Error("This invite has been deactivated");if(r.expiresAt&&r.expiresAt.toDate()<new Date)throw new Error("This invite has expired");if(r.maxUses&&r.uses>=r.maxUses)throw new Error("This invite has reached its maximum uses");return r}catch(e){throw console.error("Error validating invite:",e),e}}async function Mke(t){if(!ee.currentUser)throw new Error("Must be logged in to use an invite");try{const e=await eY(t),n=ht(le,"invites",t);return await ui(n,{uses:e.uses+1,active:e.maxUses?e.uses+1<e.maxUses:!0}),e.type==="community"?(await Pn(Ce(le,"community_members"),{community_id:e.targetId,user_id:ee.currentUser.uid,role:"member",joined_at:lt()}),te.success("Successfully joined the community!")):te.success("Successfully accepted creator invite!"),e}catch(e){throw console.error("Error using invite:",e),e}}function tY({type:t,targetId:e,onClose:n}){const[r,i]=C.useState(""),[s,o]=C.useState(!1),[a,l]=C.useState({expiresIn:24,maxUses:1}),c=async()=>{try{o(!0);const d=await Dke({type:t,targetId:e,expiresIn:a.expiresIn,maxUses:a.maxUses});i(d)}catch(d){console.error("Error generating invite:",d),te.error("Failed to generate invite link")}finally{o(!1)}},u=()=>{navigator.clipboard.writeText(r),te.success("Invite link copied to clipboard")};return h.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50",children:h.jsxs("div",{className:"bg-surface border border-surface-light rounded-lg p-6 max-w-md w-full mx-4",children:[h.jsxs("div",{className:"flex items-center justify-between mb-6",children:[h.jsxs("div",{className:"flex items-center space-x-2",children:[h.jsx(FP,{className:"h-5 w-5 text-primary"}),h.jsx("h2",{className:"text-lg font-medium text-white",children:"Create Invite Link"})]}),h.jsx("button",{onClick:n,className:"text-gray-400 hover:text-white",children:""})]}),h.jsxs("div",{className:"space-y-4 mb-6",children:[h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Expires After"}),h.jsxs("select",{value:a.expiresIn,onChange:d=>l({...a,expiresIn:Number(d.target.value)}),className:"w-full px-3 py-2 bg-surface-light border border-surface-light rounded-md text-white focus:outline-none focus:ring-primary focus:border-primary",children:[h.jsx("option",{value:24,children:"24 hours"}),h.jsx("option",{value:48,children:"48 hours"}),h.jsx("option",{value:72,children:"72 hours"}),h.jsx("option",{value:168,children:"7 days"}),h.jsx("option",{value:0,children:"Never"})]})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Maximum Uses"}),h.jsxs("select",{value:a.maxUses,onChange:d=>l({...a,maxUses:Number(d.target.value)}),className:"w-full px-3 py-2 bg-surface-light border border-surface-light rounded-md text-white focus:outline-none focus:ring-primary focus:border-primary",children:[h.jsx("option",{value:1,children:"1 use"}),h.jsx("option",{value:5,children:"5 uses"}),h.jsx("option",{value:10,children:"10 uses"}),h.jsx("option",{value:0,children:"Unlimited"})]})]})]}),r?h.jsxs("div",{className:"space-y-4",children:[h.jsxs("div",{className:"flex items-center space-x-2 p-3 bg-surface-light rounded-lg",children:[h.jsx("input",{type:"text",value:r,readOnly:!0,className:"flex-1 bg-transparent border-none text-white focus:outline-none"}),h.jsx("button",{onClick:u,className:"p-2 text-gray-400 hover:text-white",children:h.jsx(dpe,{className:"h-4 w-4"})})]}),h.jsxs("div",{className:"flex items-center justify-between text-sm text-gray-400",children:[h.jsxs("div",{className:"flex items-center",children:[h.jsx(fo,{className:"h-4 w-4 mr-1"}),a.expiresIn?`Expires in ${a.expiresIn}h`:"Never expires"]}),h.jsxs("div",{className:"flex items-center",children:[h.jsx(Jt,{className:"h-4 w-4 mr-1"}),a.maxUses?`${a.maxUses} uses`:"Unlimited uses"]})]}),h.jsx("button",{onClick:c,className:"w-full px-4 py-2 border border-primary text-primary rounded-md hover:bg-primary/10",children:"Generate New Link"})]}):h.jsx("button",{onClick:c,disabled:s,className:"w-full px-4 py-2 bg-primary text-white rounded-md hover:bg-primary/90 disabled:opacity-50",children:s?"Generating...":"Generate Invite Link"})]})})}function Lke(){const{id:t}=nc(),[e,n]=C.useState(null),[r,i]=C.useState([]),[s,o]=C.useState([]),[a,l]=C.useState([]),[c,u]=C.useState(!1),[d,f]=C.useState(!1),[p,m]=C.useState(!1),[g,v]=C.useState(!1),[x,b]=C.useState(!1),[w,T]=C.useState(!0),[_,k]=C.useState(null),[S,E]=C.useState(null);C.useEffect(()=>{t&&ee.currentUser&&j()},[t,ee.currentUser]);async function P(){if(!t)return null;const L=ht(le,"communities",t),B=await ci(L);if(!B.exists())throw new Error("Community not found");return{id:B.id,...B.data()}}async function O(){if(!t)return[];const L=wt(Ce(le,"posts"),pt("community_id","==",t),mn("created_at","desc"));return up(L,$=>{const U=$.docs.map(W=>({id:W.id,...W.data()}));i(U)})}async function N(){if(!t)return[];const L=wt(Ce(le,"community_members"),pt("community_id","==",t),mn("joined_at","desc")),B=await Ft(L);return await Promise.all(B.docs.map(async U=>{const W={id:U.id,...U.data()},Z=await ci(ht(le,"users",W.user_id));let Q;return Z.exists()?Q={id:Z.id,...Z.data()}:Q={id:W.user_id,email:"",full_name:"Anonymous User",created_at:new Date},{...W,user:Q}}))}async function R(){if(!t)return[];const L=wt(Ce(le,"courses"),pt("community_id","==",t),mn("created_at","desc"));return(await Ft(L)).docs.map($=>({id:$.id,...$.data()}))}async function j(){try{T(!0),k(null);const[L,B,$]=await Promise.all([P(),N(),R()]);if(n(L),o(B),l($),ee.currentUser){const W=B.find(Z=>{var Q;return Z.user_id===((Q=ee.currentUser)==null?void 0:Q.uid)});W?(f(!0),u(W.role==="admin"),E(W.id)):(f(!1),u(!1),E(null))}const U=await O();return()=>U()}catch(L){console.error("Error loading community data:",L),k(L instanceof Error?L:new Error("Failed to load community")),te.error("Failed to load community data")}finally{T(!1)}}async function z(){if(!(!ee.currentUser||!t))try{const L=await Pn(Ce(le,"community_members"),{community_id:t,user_id:ee.currentUser.uid,role:"member",joined_at:lt()});f(!0),E(L.id),te.success("Successfully joined community"),j()}catch(L){console.error("Error joining community:",L),te.error("Failed to join community")}}async function F(){if(!(!ee.currentUser||!S||c)&&window.confirm("Are you sure you want to leave this community?"))try{await ty(ht(le,"community_members",S)),f(!1),E(null),te.success("Successfully left community"),j()}catch(L){console.error("Error leaving community:",L),te.error("Failed to leave community")}}return w?h.jsxs("div",{className:"space-y-8",children:[h.jsx(Ci,{type:"banner"}),h.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[h.jsx("div",{className:"lg:col-span-2",children:h.jsx(Ci,{type:"card",count:3})}),h.jsx("div",{children:h.jsx(Ci,{type:"card",count:2})})]})]}):_||!e?h.jsxs(G.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},className:"flex flex-col items-center justify-center min-h-[400px]",children:[h.jsx("p",{className:"text-red-500 mb-4",children:(_==null?void 0:_.message)||"Community not found"}),h.jsx("button",{onClick:()=>j(),className:"px-4 py-2 bg-primary text-white rounded-md hover:bg-primary/90",children:"Try Again"})]}):h.jsxs(G.div,{initial:{opacity:0},animate:{opacity:1},className:"space-y-8",children:[h.jsxs(G.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-surface border border-surface-light rounded-lg",children:[h.jsx("div",{className:"h-48 rounded-t-lg bg-cover bg-center",style:{backgroundImage:e.banner_url?`url(${e.banner_url})`:"none",backgroundColor:e.banner_url?void 0:"#1A1B23"}}),h.jsx("div",{className:"px-6 py-5",children:h.jsxs("div",{className:"flex justify-between items-start",children:[h.jsxs("div",{children:[h.jsx("h1",{className:"text-3xl font-bold text-white",children:e.name}),h.jsx("p",{className:"mt-2 text-gray-300",children:e.description}),!d&&ee.currentUser&&h.jsxs("button",{onClick:z,className:"mt-4 inline-flex items-center px-4 py-2 bg-primary text-white rounded-md hover:bg-primary/90 transition-all duration-200",children:[h.jsx(BP,{className:"h-4 w-4 mr-2"}),"Join Community"]})]}),h.jsxs("div",{className:"flex space-x-4",children:[c&&h.jsxs(h.Fragment,{children:[h.jsxs("button",{onClick:()=>v(!0),className:"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md text-white bg-primary hover:bg-primary/90 transition-all duration-200",children:[h.jsx(BP,{className:"h-4 w-4 mr-1"}),"Invite"]}),h.jsxs(yt,{to:`/communities/${t}/courses/new`,className:"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md text-white bg-primary hover:bg-primary/90 transition-all duration-200",children:[h.jsx(Ri,{className:"h-4 w-4 mr-1"}),"Create Course"]}),h.jsx("button",{onClick:()=>m(!0),className:"p-2 text-gray-400 hover:text-white transition-colors",children:h.jsx(A2,{className:"h-5 w-5"})})]}),d&&!c&&h.jsxs("button",{onClick:F,className:"inline-flex items-center px-4 py-2 border border-red-500 text-red-500 text-sm font-medium rounded-md hover:bg-red-500/10 transition-all duration-200",children:[h.jsx(Fpe,{className:"h-4 w-4 mr-1"}),"Leave Community"]})]})]})})]}),h.jsx(G.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},className:"bg-surface border border-surface-light rounded-lg p-6",children:h.jsx(Nke,{communityId:t})}),h.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[h.jsxs(G.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:.2},className:"lg:col-span-2 space-y-6",children:[d&&h.jsx(wke,{communityId:t,onPostCreated:()=>{}}),h.jsxs(or,{mode:"wait",children:[r.map((L,B)=>h.jsx(G.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{delay:B*.1},children:h.jsx(kwe,{post:L})},L.id)),r.length===0&&h.jsx(G.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},className:"text-center py-8 text-gray-400",children:"No posts yet. Be the first to post!"})]})]}),h.jsxs(G.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},transition:{delay:.3},className:"space-y-6",children:[h.jsx(kke,{courses:a,communityId:t,isAdmin:c,onCourseCreated:R}),h.jsx(_ke,{members:s,isAdmin:c,onRemoveMember:j,onUpdateRole:j}),h.jsx(Cke,{communityId:t,isAdmin:c}),h.jsx(Ike,{communityId:t,isAdmin:c}),h.jsx(Oke,{communityId:t,isAdmin:c})]})]}),p&&h.jsx(Pke,{community:e,onClose:()=>m(!1),onUpdate:L=>{n({...e,...L}),m(!1)}}),g&&h.jsx(tY,{type:"community",targetId:t,onClose:()=>v(!1)}),h.jsx("div",{className:"fixed bottom-4 right-4 space-y-4",children:d&&h.jsxs("button",{onClick:()=>b(!x),className:"flex items-center space-x-2 px-4 py-2 bg-primary text-white rounded-full shadow-lg hover:bg-primary/90 transition-all duration-200",children:[h.jsx(Iv,{className:"h-5 w-5"}),h.jsx("span",{children:"Community Chat"})]})}),h.jsx(or,{children:x&&h.jsx(jke,{communityId:t,onClose:()=>b(!1)})})]})}function $ke(){const t=Os(),[e,n]=C.useState(""),[r,i]=C.useState({name:"",description:""});async function s(o){if(o.preventDefault(),!ee.currentUser){te.error("You must be logged in to create a community");return}try{const a=await Pn(Ce(le,"communities"),{name:r.name,description:r.description,banner_url:e,created_by:ee.currentUser.uid,created_at:lt()});await Pn(Ce(le,"community_members"),{community_id:a.id,user_id:ee.currentUser.uid,role:"admin",joined_at:lt()}),te.success("Community created successfully"),t(`/communities/${a.id}`)}catch(a){te.error("Failed to create community"),console.error("Error creating community:",a)}}return h.jsx("div",{className:"max-w-2xl mx-auto",children:h.jsxs("div",{className:"bg-surface border border-surface-light rounded-lg",children:[h.jsx("div",{className:"h-48",children:h.jsx(Rv,{currentBannerUrl:e,onBannerChange:n})}),h.jsxs("div",{className:"p-6",children:[h.jsxs("div",{className:"flex items-center space-x-2 mb-6",children:[h.jsx(Jt,{className:"h-6 w-6 text-primary"}),h.jsx("h1",{className:"text-2xl font-bold text-white",children:"Create a New Community"})]}),h.jsxs("form",{onSubmit:s,className:"space-y-6",children:[h.jsxs("div",{children:[h.jsx("label",{htmlFor:"name",className:"block text-sm font-medium text-gray-300",children:"Community Name"}),h.jsx("input",{type:"text",id:"name",value:r.name,onChange:o=>i({...r,name:o.target.value}),className:"mt-1 block w-full px-3 py-2 bg-surface-light border border-surface-light rounded-md text-white focus:outline-none focus:ring-primary focus:border-primary",required:!0})]}),h.jsxs("div",{children:[h.jsx("label",{htmlFor:"description",className:"block text-sm font-medium text-gray-300",children:"Description"}),h.jsx("textarea",{id:"description",value:r.description,onChange:o=>i({...r,description:o.target.value}),rows:4,className:"mt-1 block w-full px-3 py-2 bg-surface-light border border-surface-light rounded-md text-white focus:outline-none focus:ring-primary focus:border-primary",required:!0})]}),h.jsx("div",{className:"flex justify-end",children:h.jsx("button",{type:"submit",className:"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md text-white bg-primary hover:bg-primary/90 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary",children:"Create Community"})})]})]})]})})}function Vke(){const t=Os(),{communityId:e}=nc(),[n,r]=C.useState(""),[i,s]=C.useState(""),[o,a]=C.useState(""),[l,c]=C.useState([]),[u,d]=C.useState(!1),f=()=>{c([...l,{id:`temp-${Date.now()}`,title:"",course_id:"",order:l.length,lessons:[]}])},p=w=>{c(l.filter((T,_)=>_!==w))},m=(w,T)=>{c(l.map((_,k)=>k===w?{..._,...T}:_))},g=(w,T="text")=>{const _=[...l];_[w].lessons=[..._[w].lessons,{id:`temp-${Date.now()}`,title:"",content:"",module_id:"",type:T,video_url:"",order:_[w].lessons.length}],c(_)},v=(w,T)=>{const _=[...l];_[w].lessons=_[w].lessons.filter((k,S)=>S!==T),c(_)},x=(w,T,_)=>{const k=[...l];k[w].lessons=k[w].lessons.map((S,E)=>E===T?{...S,..._}:S),c(k)},b=async w=>{if(w.preventDefault(),!(!ee.currentUser||!e||u))try{d(!0);const T={title:n,description:i,banner_url:o,thumbnail_url:o,community_id:e,created_by:ee.currentUser.uid,created_at:lt(),modules:l.map(k=>({...k,lessons:k.lessons})),published:!1,metrics:{total_students:0,total_revenue:0,avg_course_rating:0,total_courses:0,completion_rate:0,engagement_score:0}},_=await Pn(Ce(le,"courses"),T);te.success("Course created successfully"),t(`/communities/${e}/courses/${_.id}`)}catch(T){console.error("Error creating course:",T),te.error("Failed to create course")}finally{d(!1)}};return h.jsx(G.div,{initial:{opacity:0},animate:{opacity:1},className:"max-w-4xl mx-auto",children:h.jsxs(G.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-surface border border-surface-light rounded-lg",children:[h.jsx("div",{className:"h-48",children:h.jsx(Rv,{currentBannerUrl:o,onBannerChange:a})}),h.jsxs("div",{className:"p-6",children:[h.jsxs("div",{className:"flex items-center space-x-2 mb-6",children:[h.jsx(ls,{className:"h-6 w-6 text-primary"}),h.jsx("h1",{className:"text-2xl font-bold text-white",children:"Create New Course"})]}),h.jsxs("form",{onSubmit:b,className:"space-y-6",children:[h.jsxs(G.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},children:[h.jsx("label",{className:"block text-sm font-medium text-gray-300",children:"Course Title"}),h.jsx("input",{type:"text",value:n,onChange:w=>r(w.target.value),className:"mt-1 block w-full px-3 py-2 bg-surface-light border border-surface-light rounded-md text-white focus:outline-none focus:ring-primary focus:border-primary transition-all duration-200",required:!0})]}),h.jsxs(G.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},children:[h.jsx("label",{className:"block text-sm font-medium text-gray-300",children:"Description"}),h.jsx(by,{content:i,onChange:s,placeholder:"Describe your course..."})]}),h.jsxs(G.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3},className:"space-y-4",children:[h.jsxs("div",{className:"flex justify-between items-center",children:[h.jsx("h2",{className:"text-lg font-semibold text-white",children:"Course Modules"}),h.jsxs(G.button,{whileHover:{scale:1.05},whileTap:{scale:.95},type:"button",onClick:f,className:"inline-flex items-center px-3 py-1.5 border border-primary text-sm font-medium rounded-md text-primary hover:bg-primary/10 transition-all duration-200",children:[h.jsx(Ri,{className:"h-4 w-4 mr-1"}),"Add Module"]})]}),h.jsx(or,{mode:"popLayout",children:l.map((w,T)=>h.jsx(G.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,x:-20},className:"bg-surface-light rounded-lg p-4 space-y-4",children:h.jsxs("div",{className:"flex items-start space-x-3",children:[h.jsx(o4,{className:"h-5 w-5 text-gray-500 mt-2 cursor-move"}),h.jsxs("div",{className:"flex-1",children:[h.jsx("input",{type:"text",value:w.title,onChange:_=>m(T,{title:_.target.value}),placeholder:"Module Title",className:"block w-full px-3 py-2 bg-surface border border-surface rounded-md text-white focus:outline-none focus:ring-primary focus:border-primary transition-all duration-200",required:!0}),h.jsx(or,{mode:"popLayout",children:w.lessons.map((_,k)=>h.jsxs(G.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},exit:{opacity:0,x:20},className:"flex items-start space-x-3 mt-4 pl-6",children:[h.jsx(o4,{className:"h-5 w-5 text-gray-500 mt-2 cursor-move"}),h.jsxs("div",{className:"flex-1",children:[h.jsx("input",{type:"text",value:_.title,onChange:S=>x(T,k,{title:S.target.value}),placeholder:"Lesson Title",className:"block w-full px-3 py-2 bg-surface border border-surface rounded-md text-white focus:outline-none focus:ring-primary focus:border-primary transition-all duration-200",required:!0}),_.type==="video"?h.jsx("div",{className:"mt-2",children:h.jsx("input",{type:"url",value:_.video_url||"",onChange:S=>x(T,k,{video_url:S.target.value}),placeholder:"YouTube Video URL",className:"block w-full px-3 py-2 bg-surface border border-surface rounded-md text-white focus:outline-none focus:ring-primary focus:border-primary transition-all duration-200",required:!0})}):h.jsx("div",{className:"mt-2",children:h.jsx(by,{content:_.content,onChange:S=>x(T,k,{content:S}),placeholder:"Lesson content..."})})]}),h.jsx(G.button,{whileHover:{scale:1.1},whileTap:{scale:.9},type:"button",onClick:()=>v(T,k),className:"text-gray-400 hover:text-red-400 transition-colors",children:h.jsx(mh,{className:"h-5 w-5"})})]},_.id))}),h.jsxs("div",{className:"mt-3 flex space-x-2",children:[h.jsxs(G.button,{whileHover:{scale:1.05},whileTap:{scale:.95},type:"button",onClick:()=>g(T,"text"),className:"inline-flex items-center px-3 py-1.5 border border-surface text-sm font-medium rounded-md text-gray-300 hover:text-white hover:bg-surface transition-all duration-200",children:[h.jsx($pe,{className:"h-4 w-4 mr-1"}),"Add Text Lesson"]}),h.jsxs(G.button,{whileHover:{scale:1.05},whileTap:{scale:.95},type:"button",onClick:()=>g(T,"video"),className:"inline-flex items-center px-3 py-1.5 border border-surface text-sm font-medium rounded-md text-gray-300 hover:text-white hover:bg-surface transition-all duration-200",children:[h.jsx(tK,{className:"h-4 w-4 mr-1"}),"Add Video Lesson"]})]})]}),h.jsx(G.button,{whileHover:{scale:1.1},whileTap:{scale:.9},type:"button",onClick:()=>p(T),className:"text-gray-400 hover:text-red-400 transition-colors",children:h.jsx(mh,{className:"h-5 w-5"})})]})},w.id))})]}),h.jsxs(G.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.4},className:"flex justify-end space-x-4",children:[h.jsx(G.button,{whileHover:{scale:1.05},whileTap:{scale:.95},type:"button",onClick:()=>t(-1),className:"px-4 py-2 border border-surface-light text-white rounded-md hover:bg-surface-light transition-all duration-200",disabled:u,children:"Cancel"}),h.jsxs(G.button,{whileHover:{scale:1.05},whileTap:{scale:.95},type:"submit",className:"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md text-white bg-primary hover:bg-primary/90 transition-all duration-200 disabled:opacity-50",disabled:u,children:[h.jsx(eK,{className:"h-4 w-4 mr-2"}),u?"Creating...":"Create Course"]})]})]})]})]})})}function Fke({course:t,isAdmin:e,onBannerChange:n}){const[r,i]=C.useState(!1),[s,o]=C.useState(!1),a=async l=>{if(!(!t.id||s))try{o(!0),await ui(ht(le,"courses",t.id),{banner_url:l,thumbnail_url:l,updated_at:lt()}),n==null||n(l),te.success("Course banner updated")}catch(c){console.error("Error updating banner:",c),te.error("Failed to update banner")}finally{o(!1)}};return h.jsxs(G.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-surface border border-surface-light rounded-lg overflow-hidden",children:[h.jsxs("div",{className:"relative",children:[e?h.jsx(Rv,{currentBannerUrl:t.banner_url,onBannerChange:a,height:"h-64"}):h.jsx("div",{className:"h-64 bg-cover bg-center relative",style:{backgroundImage:t.banner_url?`url(${t.banner_url})`:void 0,backgroundColor:t.banner_url?void 0:"#1A1B23"},children:h.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/50 via-black/25 to-transparent"})}),e&&!r&&h.jsx(G.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>i(!0),className:"absolute top-4 right-4 p-2 bg-black/50 rounded-full text-white hover:bg-black/75 transition-colors",children:h.jsx(iS,{className:"h-5 w-5"})})]}),h.jsxs("div",{className:"relative p-6",children:[h.jsx("h1",{className:"text-3xl font-bold text-white",children:t.title}),h.jsxs("div",{className:"mt-4 flex flex-wrap gap-4 text-sm text-gray-400",children:[h.jsxs("div",{className:"flex items-center",children:[h.jsx(fo,{className:"h-4 w-4 mr-1"}),t.duration||0," mins"]}),h.jsxs("div",{className:"flex items-center",children:[h.jsx(S2,{className:"h-4 w-4 mr-1"}),t.level||"All Levels"]}),h.jsxs("div",{className:"flex items-center",children:[h.jsx(Dpe,{className:"h-4 w-4 mr-1"}),t.category||"Uncategorized"]})]}),t.tags&&t.tags.length>0&&h.jsx("div",{className:"mt-4",children:h.jsx("div",{className:"flex flex-wrap gap-2",children:t.tags.map(l=>h.jsx("span",{className:"px-2 py-1 text-xs font-medium text-primary bg-primary/10 rounded-full",children:l},l))})}),h.jsx("div",{className:"mt-6 text-gray-300 prose prose-invert max-w-none",dangerouslySetInnerHTML:{__html:t.description}})]})]})}function Bke({course:t,progress:e}){var s;const n=t.modules.reduce((o,a)=>o+a.lessons.length,0),r=((s=e==null?void 0:e.completed_lessons)==null?void 0:s.length)||0,i=n>0?Math.round(r/n*100):0;return h.jsxs("div",{className:"bg-surface-light rounded-lg p-4",children:[h.jsxs("div",{className:"flex items-center justify-between mb-2",children:[h.jsx("h3",{className:"text-white font-medium",children:"Course Progress"}),h.jsxs("span",{className:"text-primary font-medium",children:[i,"%"]})]}),h.jsx("div",{className:"w-full bg-surface rounded-full h-2 mb-4",children:h.jsx("div",{className:"bg-primary rounded-full h-2 transition-all duration-300",style:{width:`${i}%`}})}),h.jsxs("div",{className:"text-sm text-gray-400",children:[r," of ",n," lessons completed"]}),h.jsx("div",{className:"mt-4 space-y-2",children:t.modules.map(o=>h.jsxs("div",{children:[h.jsx("h4",{className:"text-white font-medium mb-2",children:o.title}),h.jsx("div",{className:"space-y-1 pl-4",children:o.lessons.map(a=>{var l,c;return h.jsxs("div",{className:"flex items-center text-sm",children:[(l=e==null?void 0:e.completed_lessons)!=null&&l.includes(a.id)?h.jsx(lpe,{className:"h-4 w-4 text-primary mr-2"}):h.jsx(cpe,{className:"h-4 w-4 text-gray-500 mr-2"}),h.jsx("span",{className:(c=e==null?void 0:e.completed_lessons)!=null&&c.includes(a.id)?"text-white":"text-gray-400",children:a.title})]},a.id)})})]},o.id))})]})}function Uke({videoUrl:t,title:e}){const r=(i=>{const s=i.match(/(?:youtu\.be\/|youtube\.com(?:\/embed\/|\/v\/|\/watch\?v=|\/user\/\S+|\/ytscreeningroom\?v=|\/sandalsResorts#\w\/\w\/.*\/))([^\/&\?]{10,12})/);return(s==null?void 0:s[1])||""})(t);return r?h.jsx("div",{className:"aspect-video relative rounded-lg overflow-hidden bg-black",children:h.jsx("iframe",{className:"absolute top-0 left-0 w-full h-full",src:`https://www.youtube.com/embed/${r}`,title:e,allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture",allowFullScreen:!0})}):h.jsx("div",{className:"bg-surface-light rounded-lg p-4",children:h.jsx("p",{className:"text-red-400",children:"Invalid video URL"})})}function zke({quiz:t,onComplete:e}){const[n,r]=C.useState(0),[i,s]=C.useState([]),[o,a]=C.useState(!1),[l,c]=C.useState(!1),u=m=>{const g=[...i];g[n]=m,s(g)},d=()=>{let m=0;return i.forEach((g,v)=>{g===t.questions[v].correct_answer&&m++}),Math.round(m/t.questions.length*100)},f=async()=>{if(ee.currentUser){c(!0);try{const m=d(),g={quiz_id:t.id,user_id:ee.currentUser.uid,score:m,completed_at:lt(),answers:t.questions.map((b,w)=>({question_id:t.questions[w].id,selected_answer:i[w]}))},x={id:(await Pn(Ce(le,"quiz_attempts"),g)).id,...g};e(x),a(!0),m>=t.passing_score?te.success("Congratulations! You passed the quiz!"):te.error("You did not meet the passing score. Try again!")}catch(m){console.error("Error submitting quiz:",m),te.error("Failed to submit quiz")}finally{c(!1)}}},p=t.questions[n];return o?h.jsxs("div",{className:"bg-surface border border-surface-light rounded-lg p-6",children:[h.jsx("h2",{className:"text-2xl font-bold text-white mb-4",children:"Quiz Results"}),h.jsxs("div",{className:"mb-6",children:[h.jsxs("div",{className:"text-4xl font-bold text-primary mb-2",children:[d(),"%"]}),h.jsxs("p",{className:"text-gray-400",children:["Passing score: ",t.passing_score,"%"]})]}),h.jsx("div",{className:"space-y-6",children:t.questions.map((m,g)=>{const v=i[g]===m.correct_answer;return h.jsx("div",{className:"space-y-2",children:h.jsxs("div",{className:"flex items-start space-x-2",children:[v?h.jsx(ape,{className:"h-5 w-5 text-green-500 mt-1"}):h.jsx(Upe,{className:"h-5 w-5 text-red-500 mt-1"}),h.jsxs("div",{children:[h.jsx("p",{className:"text-white font-medium",children:m.question}),h.jsx("div",{className:"mt-2 space-y-1",children:m.options.map((x,b)=>h.jsx("div",{className:`p-2 rounded ${b===m.correct_answer?"bg-green-500/10 text-green-500":b===i[g]?"bg-red-500/10 text-red-500":"text-gray-400"}`,children:x},b))}),m.explanation&&h.jsx("p",{className:"mt-2 text-sm text-gray-400",children:m.explanation})]})]})},m.id)})})]}):h.jsxs("div",{className:"bg-surface border border-surface-light rounded-lg p-6",children:[h.jsxs("div",{className:"flex justify-between items-center mb-6",children:[h.jsxs("h2",{className:"text-xl font-semibold text-white",children:["Question ",n+1," of ",t.questions.length]}),h.jsxs("div",{className:"text-sm text-gray-400",children:["Passing score: ",t.passing_score,"%"]})]}),h.jsxs("div",{className:"space-y-6",children:[h.jsx("p",{className:"text-lg text-white",children:p.question}),h.jsx("div",{className:"space-y-3",children:p.options.map((m,g)=>h.jsx("button",{onClick:()=>u(g),className:`w-full p-3 text-left rounded-lg border ${i[n]===g?"border-primary bg-primary/10 text-white":"border-surface-light text-gray-300 hover:border-primary/50"}`,children:m},g))}),h.jsxs("div",{className:"flex justify-between pt-4",children:[h.jsx("button",{onClick:()=>r(n-1),disabled:n===0,className:"px-4 py-2 text-sm font-medium text-white bg-surface-light rounded-md disabled:opacity-50 disabled:cursor-not-allowed",children:"Previous"}),n===t.questions.length-1?h.jsx("button",{onClick:f,disabled:i.length!==t.questions.length||l,className:"px-4 py-2 text-sm font-medium text-white bg-primary rounded-md hover:bg-primary/90 disabled:opacity-50 disabled:cursor-not-allowed",children:"Submit Quiz"}):h.jsxs("button",{onClick:()=>r(n+1),disabled:i[n]===void 0,className:"inline-flex items-center px-4 py-2 text-sm font-medium text-white bg-primary rounded-md hover:bg-primary/90 disabled:opacity-50 disabled:cursor-not-allowed",children:["Next",h.jsx(ipe,{className:"ml-2 h-4 w-4"})]})]})]})]})}function qke({resources:t}){const e=n=>{switch(n){case"pdf":return h.jsx($P,{className:"h-5 w-5 text-red-400"});case"link":return h.jsx(rS,{className:"h-5 w-5 text-blue-400"});default:return h.jsx(XW,{className:"h-5 w-5 text-gray-400"})}};return t!=null&&t.length?h.jsx("div",{className:"space-y-2",children:t.map(n=>h.jsxs("a",{href:n.url,target:"_blank",rel:"noopener noreferrer",className:"flex items-center p-3 bg-surface rounded-lg hover:bg-surface-light transition-colors",children:[e(n.type),h.jsx("span",{className:"ml-3 text-white",children:n.title}),h.jsx("span",{className:"ml-auto text-gray-400",children:n.type.toUpperCase()})]},n.id))}):h.jsx("div",{className:"text-center text-gray-400 py-4",children:"No resources available for this lesson"})}function Hke({lessonId:t,onResourceAdd:e}){const[n,r]=C.useState(!1),[i,s]=C.useState({title:"",type:"link",url:""}),o=async a=>{a.preventDefault();try{await e({...i,lesson_id:t}),s({title:"",type:"link",url:""}),r(!1)}catch(l){console.error("Error adding resource:",l)}};return h.jsx("div",{className:"space-y-4",children:n?h.jsxs("form",{onSubmit:o,className:"space-y-4",children:[h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:"Resource Type"}),h.jsxs("select",{value:i.type,onChange:a=>s({...i,type:a.target.value}),className:"w-full px-3 py-2 bg-surface-light border border-surface-light rounded-md text-white focus:outline-none focus:ring-primary focus:border-primary",children:[h.jsx("option",{value:"link",children:"External Link"}),h.jsx("option",{value:"pdf",children:"PDF Document"}),h.jsx("option",{value:"file",children:"Other File"})]})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:"Title"}),h.jsx("input",{type:"text",value:i.title,onChange:a=>s({...i,title:a.target.value}),className:"w-full px-3 py-2 bg-surface-light border border-surface-light rounded-md text-white focus:outline-none focus:ring-primary focus:border-primary",required:!0})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:"URL"}),h.jsx("input",{type:"url",value:i.url,onChange:a=>s({...i,url:a.target.value}),className:"w-full px-3 py-2 bg-surface-light border border-surface-light rounded-md text-white focus:outline-none focus:ring-primary focus:border-primary",required:!0})]}),h.jsxs("div",{className:"flex justify-end space-x-3",children:[h.jsx("button",{type:"button",onClick:()=>r(!1),className:"px-4 py-2 text-sm font-medium text-gray-400 hover:text-white",children:"Cancel"}),h.jsxs("button",{type:"submit",className:"inline-flex items-center px-4 py-2 text-sm font-medium text-white bg-primary rounded-md hover:bg-primary/90",children:[h.jsx(Tpe,{className:"h-4 w-4 mr-2"}),"Add Resource"]})]})]}):h.jsxs("button",{onClick:()=>r(!0),className:"inline-flex items-center px-4 py-2 text-sm font-medium text-white bg-primary rounded-md hover:bg-primary/90",children:[h.jsx(Ri,{className:"h-4 w-4 mr-2"}),"Add Resource"]})})}function Wke({lesson:t,isAdmin:e,onQuizComplete:n}){const r=async i=>{try{await Pn(Ce(le,"resources"),{...i,created_at:lt()}),te.success("Resource added successfully")}catch(s){console.error("Error adding resource:",s),te.error("Failed to add resource")}};return h.jsxs("div",{className:"space-y-8",children:[t.type==="video"&&t.video_url&&h.jsx(Uke,{videoUrl:t.video_url,title:t.title}),t.type==="quiz"?h.jsx(zke,{quiz:t.quiz,onComplete:n}):h.jsx("div",{className:"prose prose-invert max-w-none",dangerouslySetInnerHTML:{__html:t.content}}),h.jsxs("div",{className:"mt-8",children:[h.jsx("h3",{className:"text-lg font-medium text-white mb-4",children:"Resources"}),h.jsx(qke,{resources:t.resources||[]}),e&&h.jsx("div",{className:"mt-4",children:h.jsx(Hke,{lessonId:t.id,onResourceAdd:r})})]})]})}function Kke({discussions:t=[],onCreateDiscussion:e}){const[n,r]=C.useState(!1),[i,s]=C.useState(""),[o,a]=C.useState(""),[l,c]=C.useState(!1),u=async d=>{if(d.preventDefault(),!l)try{c(!0),await e(i,o),s(""),a(""),r(!1)}catch(f){console.error("Error creating discussion:",f)}finally{c(!1)}};return h.jsxs("div",{className:"space-y-6",children:[h.jsxs("div",{className:"flex justify-between items-center",children:[h.jsx("h2",{className:"text-xl font-semibold text-white",children:"Discussions"}),h.jsx("button",{onClick:()=>r(!n),className:"px-4 py-2 text-sm font-medium text-white bg-primary rounded-md hover:bg-primary/90",children:"New Discussion"})]}),n&&h.jsxs("form",{onSubmit:u,className:"bg-surface border border-surface-light rounded-lg p-4 space-y-4",children:[h.jsx("input",{type:"text",value:i,onChange:d=>s(d.target.value),placeholder:"Discussion title",className:"w-full px-3 py-2 bg-surface-light border border-surface-light rounded-md text-white focus:outline-none focus:ring-primary focus:border-primary",required:!0}),h.jsx(by,{content:o,onChange:a,placeholder:"What would you like to discuss?"}),h.jsxs("div",{className:"flex justify-end space-x-3",children:[h.jsx("button",{type:"button",onClick:()=>r(!1),className:"px-4 py-2 text-sm font-medium text-gray-400 hover:text-white",disabled:l,children:"Cancel"}),h.jsx("button",{type:"submit",className:"px-4 py-2 text-sm font-medium text-white bg-primary rounded-md hover:bg-primary/90 disabled:opacity-50",disabled:l,children:l?"Posting...":"Post Discussion"})]})]}),h.jsxs("div",{className:"space-y-4",children:[t.map(d=>{var f,p;return h.jsx("div",{className:"bg-surface border border-surface-light rounded-lg p-4",children:h.jsx("div",{className:"flex items-start justify-between",children:h.jsxs("div",{className:"flex-1",children:[h.jsxs("div",{className:"flex items-center space-x-2",children:[d.pinned&&h.jsx(Ppe,{className:"h-4 w-4 text-primary"}),h.jsx("h3",{className:"text-lg font-medium text-white",children:d.title})]}),h.jsx("div",{className:"mt-2 text-gray-300 line-clamp-2",children:d.content}),h.jsxs("div",{className:"mt-4 flex items-center text-sm text-gray-400",children:[h.jsx(Iv,{className:"h-4 w-4 mr-1"}),d.reply_count||0," replies",h.jsx("span",{className:"mx-2",children:""}),(p=(f=d.created_at)==null?void 0:f.toDate)!=null&&p.call(f)?Sa(d.created_at.toDate(),"PP"):"Recently"]})]})})},d.id)}),t.length===0&&h.jsx("div",{className:"text-center py-8 text-gray-400",children:"No discussions yet. Start a new discussion!"})]})]})}var Gke=Array.isArray,pi=Gke,Qke=typeof d0=="object"&&d0&&d0.Object===Object&&d0,nY=Qke,Yke=nY,Xke=typeof self=="object"&&self&&self.Object===Object&&self,Jke=Yke||Xke||Function("return this")(),wo=Jke,Zke=wo,ePe=Zke.Symbol,$v=ePe,g3=$v,rY=Object.prototype,tPe=rY.hasOwnProperty,nPe=rY.toString,lm=g3?g3.toStringTag:void 0;function rPe(t){var e=tPe.call(t,lm),n=t[lm];try{t[lm]=void 0;var r=!0}catch{}var i=nPe.call(t);return r&&(e?t[lm]=n:delete t[lm]),i}var iPe=rPe,sPe=Object.prototype,oPe=sPe.toString;function aPe(t){return oPe.call(t)}var lPe=aPe,y3=$v,cPe=iPe,uPe=lPe,dPe="[object Null]",fPe="[object Undefined]",v3=y3?y3.toStringTag:void 0;function hPe(t){return t==null?t===void 0?fPe:dPe:v3&&v3 in Object(t)?cPe(t):uPe(t)}var Ea=hPe;function pPe(t){return t!=null&&typeof t=="object"}var Ta=pPe,mPe=Ea,gPe=Ta,yPe="[object Symbol]";function vPe(t){return typeof t=="symbol"||gPe(t)&&mPe(t)==yPe}var mp=vPe,xPe=pi,bPe=mp,wPe=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,_Pe=/^\w*$/;function SPe(t,e){if(xPe(t))return!1;var n=typeof t;return n=="number"||n=="symbol"||n=="boolean"||t==null||bPe(t)?!0:_Pe.test(t)||!wPe.test(t)||e!=null&&t in Object(e)}var $j=SPe;function EPe(t){var e=typeof t;return t!=null&&(e=="object"||e=="function")}var dc=EPe;const gp=vt(dc);var TPe=Ea,APe=dc,kPe="[object AsyncFunction]",PPe="[object Function]",CPe="[object GeneratorFunction]",IPe="[object Proxy]";function OPe(t){if(!APe(t))return!1;var e=TPe(t);return e==PPe||e==CPe||e==kPe||e==IPe}var Vj=OPe;const Fe=vt(Vj);var NPe=wo,jPe=NPe["__core-js_shared__"],RPe=jPe,yA=RPe,x3=function(){var t=/[^.]+$/.exec(yA&&yA.keys&&yA.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}();function DPe(t){return!!x3&&x3 in t}var MPe=DPe,LPe=Function.prototype,$Pe=LPe.toString;function VPe(t){if(t!=null){try{return $Pe.call(t)}catch{}try{return t+""}catch{}}return""}var iY=VPe,FPe=Vj,BPe=MPe,UPe=dc,zPe=iY,qPe=/[\\^$.*+?()[\]{}|]/g,HPe=/^\[object .+?Constructor\]$/,WPe=Function.prototype,KPe=Object.prototype,GPe=WPe.toString,QPe=KPe.hasOwnProperty,YPe=RegExp("^"+GPe.call(QPe).replace(qPe,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function XPe(t){if(!UPe(t)||BPe(t))return!1;var e=FPe(t)?YPe:HPe;return e.test(zPe(t))}var JPe=XPe;function ZPe(t,e){return t==null?void 0:t[e]}var eCe=ZPe,tCe=JPe,nCe=eCe;function rCe(t,e){var n=nCe(t,e);return tCe(n)?n:void 0}var fd=rCe,iCe=fd,sCe=iCe(Object,"create"),IS=sCe,b3=IS;function oCe(){this.__data__=b3?b3(null):{},this.size=0}var aCe=oCe;function lCe(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}var cCe=lCe,uCe=IS,dCe="__lodash_hash_undefined__",fCe=Object.prototype,hCe=fCe.hasOwnProperty;function pCe(t){var e=this.__data__;if(uCe){var n=e[t];return n===dCe?void 0:n}return hCe.call(e,t)?e[t]:void 0}var mCe=pCe,gCe=IS,yCe=Object.prototype,vCe=yCe.hasOwnProperty;function xCe(t){var e=this.__data__;return gCe?e[t]!==void 0:vCe.call(e,t)}var bCe=xCe,wCe=IS,_Ce="__lodash_hash_undefined__";function SCe(t,e){var n=this.__data__;return this.size+=this.has(t)?0:1,n[t]=wCe&&e===void 0?_Ce:e,this}var ECe=SCe,TCe=aCe,ACe=cCe,kCe=mCe,PCe=bCe,CCe=ECe;function yp(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}yp.prototype.clear=TCe;yp.prototype.delete=ACe;yp.prototype.get=kCe;yp.prototype.has=PCe;yp.prototype.set=CCe;var ICe=yp;function OCe(){this.__data__=[],this.size=0}var NCe=OCe;function jCe(t,e){return t===e||t!==t&&e!==e}var Fj=jCe,RCe=Fj;function DCe(t,e){for(var n=t.length;n--;)if(RCe(t[n][0],e))return n;return-1}var OS=DCe,MCe=OS,LCe=Array.prototype,$Ce=LCe.splice;function VCe(t){var e=this.__data__,n=MCe(e,t);if(n<0)return!1;var r=e.length-1;return n==r?e.pop():$Ce.call(e,n,1),--this.size,!0}var FCe=VCe,BCe=OS;function UCe(t){var e=this.__data__,n=BCe(e,t);return n<0?void 0:e[n][1]}var zCe=UCe,qCe=OS;function HCe(t){return qCe(this.__data__,t)>-1}var WCe=HCe,KCe=OS;function GCe(t,e){var n=this.__data__,r=KCe(n,t);return r<0?(++this.size,n.push([t,e])):n[r][1]=e,this}var QCe=GCe,YCe=NCe,XCe=FCe,JCe=zCe,ZCe=WCe,eIe=QCe;function vp(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}vp.prototype.clear=YCe;vp.prototype.delete=XCe;vp.prototype.get=JCe;vp.prototype.has=ZCe;vp.prototype.set=eIe;var NS=vp,tIe=fd,nIe=wo,rIe=tIe(nIe,"Map"),Bj=rIe,w3=ICe,iIe=NS,sIe=Bj;function oIe(){this.size=0,this.__data__={hash:new w3,map:new(sIe||iIe),string:new w3}}var aIe=oIe;function lIe(t){var e=typeof t;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?t!=="__proto__":t===null}var cIe=lIe,uIe=cIe;function dIe(t,e){var n=t.__data__;return uIe(e)?n[typeof e=="string"?"string":"hash"]:n.map}var jS=dIe,fIe=jS;function hIe(t){var e=fIe(this,t).delete(t);return this.size-=e?1:0,e}var pIe=hIe,mIe=jS;function gIe(t){return mIe(this,t).get(t)}var yIe=gIe,vIe=jS;function xIe(t){return vIe(this,t).has(t)}var bIe=xIe,wIe=jS;function _Ie(t,e){var n=wIe(this,t),r=n.size;return n.set(t,e),this.size+=n.size==r?0:1,this}var SIe=_Ie,EIe=aIe,TIe=pIe,AIe=yIe,kIe=bIe,PIe=SIe;function xp(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}xp.prototype.clear=EIe;xp.prototype.delete=TIe;xp.prototype.get=AIe;xp.prototype.has=kIe;xp.prototype.set=PIe;var Uj=xp,sY=Uj,CIe="Expected a function";function zj(t,e){if(typeof t!="function"||e!=null&&typeof e!="function")throw new TypeError(CIe);var n=function(){var r=arguments,i=e?e.apply(this,r):r[0],s=n.cache;if(s.has(i))return s.get(i);var o=t.apply(this,r);return n.cache=s.set(i,o)||s,o};return n.cache=new(zj.Cache||sY),n}zj.Cache=sY;var oY=zj;const IIe=vt(oY);var OIe=oY,NIe=500;function jIe(t){var e=OIe(t,function(r){return n.size===NIe&&n.clear(),r}),n=e.cache;return e}var RIe=jIe,DIe=RIe,MIe=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,LIe=/\\(\\)?/g,$Ie=DIe(function(t){var e=[];return t.charCodeAt(0)===46&&e.push(""),t.replace(MIe,function(n,r,i,s){e.push(i?s.replace(LIe,"$1"):r||n)}),e}),VIe=$Ie;function FIe(t,e){for(var n=-1,r=t==null?0:t.length,i=Array(r);++n<r;)i[n]=e(t[n],n,t);return i}var qj=FIe,_3=$v,BIe=qj,UIe=pi,zIe=mp,qIe=1/0,S3=_3?_3.prototype:void 0,E3=S3?S3.toString:void 0;function aY(t){if(typeof t=="string")return t;if(UIe(t))return BIe(t,aY)+"";if(zIe(t))return E3?E3.call(t):"";var e=t+"";return e=="0"&&1/t==-qIe?"-0":e}var HIe=aY,WIe=HIe;function KIe(t){return t==null?"":WIe(t)}var lY=KIe,GIe=pi,QIe=$j,YIe=VIe,XIe=lY;function JIe(t,e){return GIe(t)?t:QIe(t,e)?[t]:YIe(XIe(t))}var cY=JIe,ZIe=mp,eOe=1/0;function tOe(t){if(typeof t=="string"||ZIe(t))return t;var e=t+"";return e=="0"&&1/t==-eOe?"-0":e}var RS=tOe,nOe=cY,rOe=RS;function iOe(t,e){e=nOe(e,t);for(var n=0,r=e.length;t!=null&&n<r;)t=t[rOe(e[n++])];return n&&n==r?t:void 0}var Hj=iOe,sOe=Hj;function oOe(t,e,n){var r=t==null?void 0:sOe(t,e);return r===void 0?n:r}var uY=oOe;const Ii=vt(uY);function aOe(t){return t==null}var lOe=aOe;const qe=vt(lOe);var cOe=Ea,uOe=pi,dOe=Ta,fOe="[object String]";function hOe(t){return typeof t=="string"||!uOe(t)&&dOe(t)&&cOe(t)==fOe}var pOe=hOe;const Vv=vt(pOe);var dY={exports:{}},kt={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Wj=Symbol.for("react.element"),Kj=Symbol.for("react.portal"),DS=Symbol.for("react.fragment"),MS=Symbol.for("react.strict_mode"),LS=Symbol.for("react.profiler"),$S=Symbol.for("react.provider"),VS=Symbol.for("react.context"),mOe=Symbol.for("react.server_context"),FS=Symbol.for("react.forward_ref"),BS=Symbol.for("react.suspense"),US=Symbol.for("react.suspense_list"),zS=Symbol.for("react.memo"),qS=Symbol.for("react.lazy"),gOe=Symbol.for("react.offscreen"),fY;fY=Symbol.for("react.module.reference");function cs(t){if(typeof t=="object"&&t!==null){var e=t.$$typeof;switch(e){case Wj:switch(t=t.type,t){case DS:case LS:case MS:case BS:case US:return t;default:switch(t=t&&t.$$typeof,t){case mOe:case VS:case FS:case qS:case zS:case $S:return t;default:return e}}case Kj:return e}}}kt.ContextConsumer=VS;kt.ContextProvider=$S;kt.Element=Wj;kt.ForwardRef=FS;kt.Fragment=DS;kt.Lazy=qS;kt.Memo=zS;kt.Portal=Kj;kt.Profiler=LS;kt.StrictMode=MS;kt.Suspense=BS;kt.SuspenseList=US;kt.isAsyncMode=function(){return!1};kt.isConcurrentMode=function(){return!1};kt.isContextConsumer=function(t){return cs(t)===VS};kt.isContextProvider=function(t){return cs(t)===$S};kt.isElement=function(t){return typeof t=="object"&&t!==null&&t.$$typeof===Wj};kt.isForwardRef=function(t){return cs(t)===FS};kt.isFragment=function(t){return cs(t)===DS};kt.isLazy=function(t){return cs(t)===qS};kt.isMemo=function(t){return cs(t)===zS};kt.isPortal=function(t){return cs(t)===Kj};kt.isProfiler=function(t){return cs(t)===LS};kt.isStrictMode=function(t){return cs(t)===MS};kt.isSuspense=function(t){return cs(t)===BS};kt.isSuspenseList=function(t){return cs(t)===US};kt.isValidElementType=function(t){return typeof t=="string"||typeof t=="function"||t===DS||t===LS||t===MS||t===BS||t===US||t===gOe||typeof t=="object"&&t!==null&&(t.$$typeof===qS||t.$$typeof===zS||t.$$typeof===$S||t.$$typeof===VS||t.$$typeof===FS||t.$$typeof===fY||t.getModuleId!==void 0)};kt.typeOf=cs;dY.exports=kt;var yOe=dY.exports,vOe=Ea,xOe=Ta,bOe="[object Number]";function wOe(t){return typeof t=="number"||xOe(t)&&vOe(t)==bOe}var hY=wOe;const _Oe=vt(hY);var SOe=hY;function EOe(t){return SOe(t)&&t!=+t}var TOe=EOe;const Fv=vt(TOe);var Vr=function(e){return e===0?0:e>0?1:-1},eu=function(e){return Vv(e)&&e.indexOf("%")===e.length-1},ae=function(e){return _Oe(e)&&!Fv(e)},Dn=function(e){return ae(e)||Vv(e)},AOe=0,bp=function(e){var n=++AOe;return"".concat(e||"").concat(n)},Fr=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!ae(e)&&!Vv(e))return r;var s;if(eu(e)){var o=e.indexOf("%");s=n*parseFloat(e.slice(0,o))/100}else s=+e;return Fv(s)&&(s=r),i&&s>n&&(s=n),s},sl=function(e){if(!e)return null;var n=Object.keys(e);return n&&n.length?e[n[0]]:null},kOe=function(e){if(!Array.isArray(e))return!1;for(var n=e.length,r={},i=0;i<n;i++)if(!r[e[i]])r[e[i]]=!0;else return!0;return!1},wi=function(e,n){return ae(e)&&ae(n)?function(r){return e+r*(n-e)}:function(){return n}};function s1(t,e,n){return!t||!t.length?null:t.find(function(r){return r&&(typeof e=="function"?e(r):Ii(r,e))===n})}function Nf(t,e){for(var n in t)if({}.hasOwnProperty.call(t,n)&&(!{}.hasOwnProperty.call(e,n)||t[n]!==e[n]))return!1;for(var r in e)if({}.hasOwnProperty.call(e,r)&&!{}.hasOwnProperty.call(t,r))return!1;return!0}function VC(t){"@babel/helpers - typeof";return VC=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},VC(t)}var POe=["viewBox","children"],COe=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],T3=["points","pathLength"],vA={svg:POe,polygon:T3,polyline:T3},Gj=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"],o1=function(e,n){if(!e||typeof e=="function"||typeof e=="boolean")return null;var r=e;if(C.isValidElement(e)&&(r=e.props),!gp(r))return null;var i={};return Object.keys(r).forEach(function(s){Gj.includes(s)&&(i[s]=n||function(o){return r[s](r,o)})}),i},IOe=function(e,n,r){return function(i){return e(n,r,i),null}},Gu=function(e,n,r){if(!gp(e)||VC(e)!=="object")return null;var i=null;return Object.keys(e).forEach(function(s){var o=e[s];Gj.includes(s)&&typeof o=="function"&&(i||(i={}),i[s]=IOe(o,n,r))}),i},OOe=["children"],NOe=["children"];function A3(t,e){if(t==null)return{};var n=jOe(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function jOe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function FC(t){"@babel/helpers - typeof";return FC=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},FC(t)}var k3={click:"onClick",mousedown:"onMouseDown",mouseup:"onMouseUp",mouseover:"onMouseOver",mousemove:"onMouseMove",mouseout:"onMouseOut",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",touchcancel:"onTouchCancel",touchend:"onTouchEnd",touchmove:"onTouchMove",touchstart:"onTouchStart"},ea=function(e){return typeof e=="string"?e:e?e.displayName||e.name||"Component":""},P3=null,xA=null,Qj=function t(e){if(e===P3&&Array.isArray(xA))return xA;var n=[];return C.Children.forEach(e,function(r){qe(r)||(yOe.isFragment(r)?n=n.concat(t(r.props.children)):n.push(r))}),xA=n,P3=e,n};function Oi(t,e){var n=[],r=[];return Array.isArray(e)?r=e.map(function(i){return ea(i)}):r=[ea(e)],Qj(t).forEach(function(i){var s=Ii(i,"type.displayName")||Ii(i,"type.name");r.indexOf(s)!==-1&&n.push(i)}),n}function bi(t,e){var n=Oi(t,e);return n&&n[0]}var C3=function(e){if(!e||!e.props)return!1;var n=e.props,r=n.width,i=n.height;return!(!ae(r)||r<=0||!ae(i)||i<=0)},ROe=["a","altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform","circle","clipPath","color-profile","cursor","defs","desc","ellipse","feBlend","feColormatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","font","font-face","font-face-format","font-face-name","font-face-url","foreignObject","g","glyph","glyphRef","hkern","image","line","lineGradient","marker","mask","metadata","missing-glyph","mpath","path","pattern","polygon","polyline","radialGradient","rect","script","set","stop","style","svg","switch","symbol","text","textPath","title","tref","tspan","use","view","vkern"],DOe=function(e){return e&&e.type&&Vv(e.type)&&ROe.indexOf(e.type)>=0},MOe=function(e){return e&&FC(e)==="object"&&"clipDot"in e},LOe=function(e,n,r,i){var s,o=(s=vA==null?void 0:vA[i])!==null&&s!==void 0?s:[];return!Fe(e)&&(i&&o.includes(n)||COe.includes(n))||r&&Gj.includes(n)},Ie=function(e,n,r){if(!e||typeof e=="function"||typeof e=="boolean")return null;var i=e;if(C.isValidElement(e)&&(i=e.props),!gp(i))return null;var s={};return Object.keys(i).forEach(function(o){var a;LOe((a=i)===null||a===void 0?void 0:a[o],o,n,r)&&(s[o]=i[o])}),s},BC=function t(e,n){if(e===n)return!0;var r=C.Children.count(e);if(r!==C.Children.count(n))return!1;if(r===0)return!0;if(r===1)return I3(Array.isArray(e)?e[0]:e,Array.isArray(n)?n[0]:n);for(var i=0;i<r;i++){var s=e[i],o=n[i];if(Array.isArray(s)||Array.isArray(o)){if(!t(s,o))return!1}else if(!I3(s,o))return!1}return!0},I3=function(e,n){if(qe(e)&&qe(n))return!0;if(!qe(e)&&!qe(n)){var r=e.props||{},i=r.children,s=A3(r,OOe),o=n.props||{},a=o.children,l=A3(o,NOe);return i&&a?Nf(s,l)&&BC(i,a):!i&&!a?Nf(s,l):!1}return!1},O3=function(e,n){var r=[],i={};return Qj(e).forEach(function(s,o){if(DOe(s))r.push(s);else if(s){var a=ea(s.type),l=n[a]||{},c=l.handler,u=l.once;if(c&&(!u||!i[a])){var d=c(s,a,o);r.push(d),i[a]=!0}}}),r},$Oe=function(e){var n=e&&e.type;return n&&k3[n]?k3[n]:null},VOe=function(e,n){return Qj(n).indexOf(e)},FOe=["children","width","height","viewBox","className","style","title","desc"];function UC(){return UC=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},UC.apply(this,arguments)}function BOe(t,e){if(t==null)return{};var n=UOe(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function UOe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function zC(t){var e=t.children,n=t.width,r=t.height,i=t.viewBox,s=t.className,o=t.style,a=t.title,l=t.desc,c=BOe(t,FOe),u=i||{width:n,height:r,x:0,y:0},d=He("recharts-surface",s);return M.createElement("svg",UC({},Ie(c,!0,"svg"),{className:d,width:n,height:r,style:o,viewBox:"".concat(u.x," ").concat(u.y," ").concat(u.width," ").concat(u.height)}),M.createElement("title",null,a),M.createElement("desc",null,l),e)}var zOe=["children","className"];function qC(){return qC=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},qC.apply(this,arguments)}function qOe(t,e){if(t==null)return{};var n=HOe(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function HOe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var ft=M.forwardRef(function(t,e){var n=t.children,r=t.className,i=qOe(t,zOe),s=He("recharts-layer",r);return M.createElement("g",qC({className:s},Ie(i,!0),{ref:e}),n)}),ks=function(e,n){for(var r=arguments.length,i=new Array(r>2?r-2:0),s=2;s<r;s++)i[s-2]=arguments[s]};function WOe(t,e,n){var r=-1,i=t.length;e<0&&(e=-e>i?0:i+e),n=n>i?i:n,n<0&&(n+=i),i=e>n?0:n-e>>>0,e>>>=0;for(var s=Array(i);++r<i;)s[r]=t[r+e];return s}var KOe=WOe,GOe=KOe;function QOe(t,e,n){var r=t.length;return n=n===void 0?r:n,!e&&n>=r?t:GOe(t,e,n)}var YOe=QOe,XOe="\\ud800-\\udfff",JOe="\\u0300-\\u036f",ZOe="\\ufe20-\\ufe2f",eNe="\\u20d0-\\u20ff",tNe=JOe+ZOe+eNe,nNe="\\ufe0e\\ufe0f",rNe="\\u200d",iNe=RegExp("["+rNe+XOe+tNe+nNe+"]");function sNe(t){return iNe.test(t)}var pY=sNe;function oNe(t){return t.split("")}var aNe=oNe,mY="\\ud800-\\udfff",lNe="\\u0300-\\u036f",cNe="\\ufe20-\\ufe2f",uNe="\\u20d0-\\u20ff",dNe=lNe+cNe+uNe,fNe="\\ufe0e\\ufe0f",hNe="["+mY+"]",HC="["+dNe+"]",WC="\\ud83c[\\udffb-\\udfff]",pNe="(?:"+HC+"|"+WC+")",gY="[^"+mY+"]",yY="(?:\\ud83c[\\udde6-\\uddff]){2}",vY="[\\ud800-\\udbff][\\udc00-\\udfff]",mNe="\\u200d",xY=pNe+"?",bY="["+fNe+"]?",gNe="(?:"+mNe+"(?:"+[gY,yY,vY].join("|")+")"+bY+xY+")*",yNe=bY+xY+gNe,vNe="(?:"+[gY+HC+"?",HC,yY,vY,hNe].join("|")+")",xNe=RegExp(WC+"(?="+WC+")|"+vNe+yNe,"g");function bNe(t){return t.match(xNe)||[]}var wNe=bNe,_Ne=aNe,SNe=pY,ENe=wNe;function TNe(t){return SNe(t)?ENe(t):_Ne(t)}var ANe=TNe,kNe=YOe,PNe=pY,CNe=ANe,INe=lY;function ONe(t){return function(e){e=INe(e);var n=PNe(e)?CNe(e):void 0,r=n?n[0]:e.charAt(0),i=n?kNe(n,1).join(""):e.slice(1);return r[t]()+i}}var NNe=ONe,jNe=NNe,RNe=jNe("toUpperCase"),DNe=RNe;const HS=vt(DNe);function Lt(t){return function(){return t}}const wY=Math.cos,a1=Math.sin,Ns=Math.sqrt,l1=Math.PI,WS=2*l1,KC=Math.PI,GC=2*KC,Rc=1e-6,MNe=GC-Rc;function _Y(t){this._+=t[0];for(let e=1,n=t.length;e<n;++e)this._+=arguments[e]+t[e]}function LNe(t){let e=Math.floor(t);if(!(e>=0))throw new Error(`invalid digits: ${t}`);if(e>15)return _Y;const n=10**e;return function(r){this._+=r[0];for(let i=1,s=r.length;i<s;++i)this._+=Math.round(arguments[i]*n)/n+r[i]}}class $Ne{constructor(e){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=e==null?_Y:LNe(e)}moveTo(e,n){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(e,n){this._append`L${this._x1=+e},${this._y1=+n}`}quadraticCurveTo(e,n,r,i){this._append`Q${+e},${+n},${this._x1=+r},${this._y1=+i}`}bezierCurveTo(e,n,r,i,s,o){this._append`C${+e},${+n},${+r},${+i},${this._x1=+s},${this._y1=+o}`}arcTo(e,n,r,i,s){if(e=+e,n=+n,r=+r,i=+i,s=+s,s<0)throw new Error(`negative radius: ${s}`);let o=this._x1,a=this._y1,l=r-e,c=i-n,u=o-e,d=a-n,f=u*u+d*d;if(this._x1===null)this._append`M${this._x1=e},${this._y1=n}`;else if(f>Rc)if(!(Math.abs(d*l-c*u)>Rc)||!s)this._append`L${this._x1=e},${this._y1=n}`;else{let p=r-o,m=i-a,g=l*l+c*c,v=p*p+m*m,x=Math.sqrt(g),b=Math.sqrt(f),w=s*Math.tan((KC-Math.acos((g+f-v)/(2*x*b)))/2),T=w/b,_=w/x;Math.abs(T-1)>Rc&&this._append`L${e+T*u},${n+T*d}`,this._append`A${s},${s},0,0,${+(d*p>u*m)},${this._x1=e+_*l},${this._y1=n+_*c}`}}arc(e,n,r,i,s,o){if(e=+e,n=+n,r=+r,o=!!o,r<0)throw new Error(`negative radius: ${r}`);let a=r*Math.cos(i),l=r*Math.sin(i),c=e+a,u=n+l,d=1^o,f=o?i-s:s-i;this._x1===null?this._append`M${c},${u}`:(Math.abs(this._x1-c)>Rc||Math.abs(this._y1-u)>Rc)&&this._append`L${c},${u}`,r&&(f<0&&(f=f%GC+GC),f>MNe?this._append`A${r},${r},0,1,${d},${e-a},${n-l}A${r},${r},0,1,${d},${this._x1=c},${this._y1=u}`:f>Rc&&this._append`A${r},${r},0,${+(f>=KC)},${d},${this._x1=e+r*Math.cos(s)},${this._y1=n+r*Math.sin(s)}`)}rect(e,n,r,i){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}h${r=+r}v${+i}h${-r}Z`}toString(){return this._}}function Yj(t){let e=3;return t.digits=function(n){if(!arguments.length)return e;if(n==null)e=null;else{const r=Math.floor(n);if(!(r>=0))throw new RangeError(`invalid digits: ${n}`);e=r}return t},()=>new $Ne(e)}function Xj(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function SY(t){this._context=t}SY.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._context.lineTo(t,e);break}}};function KS(t){return new SY(t)}function EY(t){return t[0]}function TY(t){return t[1]}function AY(t,e){var n=Lt(!0),r=null,i=KS,s=null,o=Yj(a);t=typeof t=="function"?t:t===void 0?EY:Lt(t),e=typeof e=="function"?e:e===void 0?TY:Lt(e);function a(l){var c,u=(l=Xj(l)).length,d,f=!1,p;for(r==null&&(s=i(p=o())),c=0;c<=u;++c)!(c<u&&n(d=l[c],c,l))===f&&((f=!f)?s.lineStart():s.lineEnd()),f&&s.point(+t(d,c,l),+e(d,c,l));if(p)return s=null,p+""||null}return a.x=function(l){return arguments.length?(t=typeof l=="function"?l:Lt(+l),a):t},a.y=function(l){return arguments.length?(e=typeof l=="function"?l:Lt(+l),a):e},a.defined=function(l){return arguments.length?(n=typeof l=="function"?l:Lt(!!l),a):n},a.curve=function(l){return arguments.length?(i=l,r!=null&&(s=i(r)),a):i},a.context=function(l){return arguments.length?(l==null?r=s=null:s=i(r=l),a):r},a}function nx(t,e,n){var r=null,i=Lt(!0),s=null,o=KS,a=null,l=Yj(c);t=typeof t=="function"?t:t===void 0?EY:Lt(+t),e=typeof e=="function"?e:Lt(e===void 0?0:+e),n=typeof n=="function"?n:n===void 0?TY:Lt(+n);function c(d){var f,p,m,g=(d=Xj(d)).length,v,x=!1,b,w=new Array(g),T=new Array(g);for(s==null&&(a=o(b=l())),f=0;f<=g;++f){if(!(f<g&&i(v=d[f],f,d))===x)if(x=!x)p=f,a.areaStart(),a.lineStart();else{for(a.lineEnd(),a.lineStart(),m=f-1;m>=p;--m)a.point(w[m],T[m]);a.lineEnd(),a.areaEnd()}x&&(w[f]=+t(v,f,d),T[f]=+e(v,f,d),a.point(r?+r(v,f,d):w[f],n?+n(v,f,d):T[f]))}if(b)return a=null,b+""||null}function u(){return AY().defined(i).curve(o).context(s)}return c.x=function(d){return arguments.length?(t=typeof d=="function"?d:Lt(+d),r=null,c):t},c.x0=function(d){return arguments.length?(t=typeof d=="function"?d:Lt(+d),c):t},c.x1=function(d){return arguments.length?(r=d==null?null:typeof d=="function"?d:Lt(+d),c):r},c.y=function(d){return arguments.length?(e=typeof d=="function"?d:Lt(+d),n=null,c):e},c.y0=function(d){return arguments.length?(e=typeof d=="function"?d:Lt(+d),c):e},c.y1=function(d){return arguments.length?(n=d==null?null:typeof d=="function"?d:Lt(+d),c):n},c.lineX0=c.lineY0=function(){return u().x(t).y(e)},c.lineY1=function(){return u().x(t).y(n)},c.lineX1=function(){return u().x(r).y(e)},c.defined=function(d){return arguments.length?(i=typeof d=="function"?d:Lt(!!d),c):i},c.curve=function(d){return arguments.length?(o=d,s!=null&&(a=o(s)),c):o},c.context=function(d){return arguments.length?(d==null?s=a=null:a=o(s=d),c):s},c}class kY{constructor(e,n){this._context=e,this._x=n}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(e,n){switch(e=+e,n=+n,this._point){case 0:{this._point=1,this._line?this._context.lineTo(e,n):this._context.moveTo(e,n);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+e)/2,this._y0,this._x0,n,e,n):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+n)/2,e,this._y0,e,n);break}}this._x0=e,this._y0=n}}function VNe(t){return new kY(t,!0)}function FNe(t){return new kY(t,!1)}const Jj={draw(t,e){const n=Ns(e/l1);t.moveTo(n,0),t.arc(0,0,n,0,WS)}},BNe={draw(t,e){const n=Ns(e/5)/2;t.moveTo(-3*n,-n),t.lineTo(-n,-n),t.lineTo(-n,-3*n),t.lineTo(n,-3*n),t.lineTo(n,-n),t.lineTo(3*n,-n),t.lineTo(3*n,n),t.lineTo(n,n),t.lineTo(n,3*n),t.lineTo(-n,3*n),t.lineTo(-n,n),t.lineTo(-3*n,n),t.closePath()}},PY=Ns(1/3),UNe=PY*2,zNe={draw(t,e){const n=Ns(e/UNe),r=n*PY;t.moveTo(0,-n),t.lineTo(r,0),t.lineTo(0,n),t.lineTo(-r,0),t.closePath()}},qNe={draw(t,e){const n=Ns(e),r=-n/2;t.rect(r,r,n,n)}},HNe=.8908130915292852,CY=a1(l1/10)/a1(7*l1/10),WNe=a1(WS/10)*CY,KNe=-wY(WS/10)*CY,GNe={draw(t,e){const n=Ns(e*HNe),r=WNe*n,i=KNe*n;t.moveTo(0,-n),t.lineTo(r,i);for(let s=1;s<5;++s){const o=WS*s/5,a=wY(o),l=a1(o);t.lineTo(l*n,-a*n),t.lineTo(a*r-l*i,l*r+a*i)}t.closePath()}},bA=Ns(3),QNe={draw(t,e){const n=-Ns(e/(bA*3));t.moveTo(0,n*2),t.lineTo(-bA*n,-n),t.lineTo(bA*n,-n),t.closePath()}},Bi=-.5,Ui=Ns(3)/2,QC=1/Ns(12),YNe=(QC/2+1)*3,XNe={draw(t,e){const n=Ns(e/YNe),r=n/2,i=n*QC,s=r,o=n*QC+n,a=-s,l=o;t.moveTo(r,i),t.lineTo(s,o),t.lineTo(a,l),t.lineTo(Bi*r-Ui*i,Ui*r+Bi*i),t.lineTo(Bi*s-Ui*o,Ui*s+Bi*o),t.lineTo(Bi*a-Ui*l,Ui*a+Bi*l),t.lineTo(Bi*r+Ui*i,Bi*i-Ui*r),t.lineTo(Bi*s+Ui*o,Bi*o-Ui*s),t.lineTo(Bi*a+Ui*l,Bi*l-Ui*a),t.closePath()}};function JNe(t,e){let n=null,r=Yj(i);t=typeof t=="function"?t:Lt(t||Jj),e=typeof e=="function"?e:Lt(e===void 0?64:+e);function i(){let s;if(n||(n=s=r()),t.apply(this,arguments).draw(n,+e.apply(this,arguments)),s)return n=null,s+""||null}return i.type=function(s){return arguments.length?(t=typeof s=="function"?s:Lt(s),i):t},i.size=function(s){return arguments.length?(e=typeof s=="function"?s:Lt(+s),i):e},i.context=function(s){return arguments.length?(n=s??null,i):n},i}function c1(){}function u1(t,e,n){t._context.bezierCurveTo((2*t._x0+t._x1)/3,(2*t._y0+t._y1)/3,(t._x0+2*t._x1)/3,(t._y0+2*t._y1)/3,(t._x0+4*t._x1+e)/6,(t._y0+4*t._y1+n)/6)}function IY(t){this._context=t}IY.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:u1(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:u1(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function ZNe(t){return new IY(t)}function OY(t){this._context=t}OY.prototype={areaStart:c1,areaEnd:c1,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x2=t,this._y2=e;break;case 1:this._point=2,this._x3=t,this._y3=e;break;case 2:this._point=3,this._x4=t,this._y4=e,this._context.moveTo((this._x0+4*this._x1+t)/6,(this._y0+4*this._y1+e)/6);break;default:u1(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function e2e(t){return new OY(t)}function NY(t){this._context=t}NY.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+t)/6,r=(this._y0+4*this._y1+e)/6;this._line?this._context.lineTo(n,r):this._context.moveTo(n,r);break;case 3:this._point=4;default:u1(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function t2e(t){return new NY(t)}function jY(t){this._context=t}jY.prototype={areaStart:c1,areaEnd:c1,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(t,e){t=+t,e=+e,this._point?this._context.lineTo(t,e):(this._point=1,this._context.moveTo(t,e))}};function n2e(t){return new jY(t)}function N3(t){return t<0?-1:1}function j3(t,e,n){var r=t._x1-t._x0,i=e-t._x1,s=(t._y1-t._y0)/(r||i<0&&-0),o=(n-t._y1)/(i||r<0&&-0),a=(s*i+o*r)/(r+i);return(N3(s)+N3(o))*Math.min(Math.abs(s),Math.abs(o),.5*Math.abs(a))||0}function R3(t,e){var n=t._x1-t._x0;return n?(3*(t._y1-t._y0)/n-e)/2:e}function wA(t,e,n){var r=t._x0,i=t._y0,s=t._x1,o=t._y1,a=(s-r)/3;t._context.bezierCurveTo(r+a,i+a*e,s-a,o-a*n,s,o)}function d1(t){this._context=t}d1.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:wA(this,this._t0,R3(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){var n=NaN;if(t=+t,e=+e,!(t===this._x1&&e===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,wA(this,R3(this,n=j3(this,t,e)),n);break;default:wA(this,this._t0,n=j3(this,t,e));break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e,this._t0=n}}};function RY(t){this._context=new DY(t)}(RY.prototype=Object.create(d1.prototype)).point=function(t,e){d1.prototype.point.call(this,e,t)};function DY(t){this._context=t}DY.prototype={moveTo:function(t,e){this._context.moveTo(e,t)},closePath:function(){this._context.closePath()},lineTo:function(t,e){this._context.lineTo(e,t)},bezierCurveTo:function(t,e,n,r,i,s){this._context.bezierCurveTo(e,t,r,n,s,i)}};function r2e(t){return new d1(t)}function i2e(t){return new RY(t)}function MY(t){this._context=t}MY.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var t=this._x,e=this._y,n=t.length;if(n)if(this._line?this._context.lineTo(t[0],e[0]):this._context.moveTo(t[0],e[0]),n===2)this._context.lineTo(t[1],e[1]);else for(var r=D3(t),i=D3(e),s=0,o=1;o<n;++s,++o)this._context.bezierCurveTo(r[0][s],i[0][s],r[1][s],i[1][s],t[o],e[o]);(this._line||this._line!==0&&n===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(t,e){this._x.push(+t),this._y.push(+e)}};function D3(t){var e,n=t.length-1,r,i=new Array(n),s=new Array(n),o=new Array(n);for(i[0]=0,s[0]=2,o[0]=t[0]+2*t[1],e=1;e<n-1;++e)i[e]=1,s[e]=4,o[e]=4*t[e]+2*t[e+1];for(i[n-1]=2,s[n-1]=7,o[n-1]=8*t[n-1]+t[n],e=1;e<n;++e)r=i[e]/s[e-1],s[e]-=r,o[e]-=r*o[e-1];for(i[n-1]=o[n-1]/s[n-1],e=n-2;e>=0;--e)i[e]=(o[e]-i[e+1])/s[e];for(s[n-1]=(t[n]+i[n-1])/2,e=0;e<n-1;++e)s[e]=2*t[e+1]-i[e+1];return[i,s]}function s2e(t){return new MY(t)}function GS(t,e){this._context=t,this._t=e}GS.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,e),this._context.lineTo(t,e);else{var n=this._x*(1-this._t)+t*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,e)}break}}this._x=t,this._y=e}};function o2e(t){return new GS(t,.5)}function a2e(t){return new GS(t,0)}function l2e(t){return new GS(t,1)}function Ah(t,e){if((o=t.length)>1)for(var n=1,r,i,s=t[e[0]],o,a=s.length;n<o;++n)for(i=s,s=t[e[n]],r=0;r<a;++r)s[r][1]+=s[r][0]=isNaN(i[r][1])?i[r][0]:i[r][1]}function YC(t){for(var e=t.length,n=new Array(e);--e>=0;)n[e]=e;return n}function c2e(t,e){return t[e]}function u2e(t){const e=[];return e.key=t,e}function d2e(){var t=Lt([]),e=YC,n=Ah,r=c2e;function i(s){var o=Array.from(t.apply(this,arguments),u2e),a,l=o.length,c=-1,u;for(const d of s)for(a=0,++c;a<l;++a)(o[a][c]=[0,+r(d,o[a].key,c,s)]).data=d;for(a=0,u=Xj(e(o));a<l;++a)o[u[a]].index=a;return n(o,u),o}return i.keys=function(s){return arguments.length?(t=typeof s=="function"?s:Lt(Array.from(s)),i):t},i.value=function(s){return arguments.length?(r=typeof s=="function"?s:Lt(+s),i):r},i.order=function(s){return arguments.length?(e=s==null?YC:typeof s=="function"?s:Lt(Array.from(s)),i):e},i.offset=function(s){return arguments.length?(n=s??Ah,i):n},i}function f2e(t,e){if((r=t.length)>0){for(var n,r,i=0,s=t[0].length,o;i<s;++i){for(o=n=0;n<r;++n)o+=t[n][i][1]||0;if(o)for(n=0;n<r;++n)t[n][i][1]/=o}Ah(t,e)}}function h2e(t,e){if((i=t.length)>0){for(var n=0,r=t[e[0]],i,s=r.length;n<s;++n){for(var o=0,a=0;o<i;++o)a+=t[o][n][1]||0;r[n][1]+=r[n][0]=-a/2}Ah(t,e)}}function p2e(t,e){if(!(!((o=t.length)>0)||!((s=(i=t[e[0]]).length)>0))){for(var n=0,r=1,i,s,o;r<s;++r){for(var a=0,l=0,c=0;a<o;++a){for(var u=t[e[a]],d=u[r][1]||0,f=u[r-1][1]||0,p=(d-f)/2,m=0;m<a;++m){var g=t[e[m]],v=g[r][1]||0,x=g[r-1][1]||0;p+=v-x}l+=d,c+=p*d}i[r-1][1]+=i[r-1][0]=n,l&&(n-=c/l)}i[r-1][1]+=i[r-1][0]=n,Ah(t,e)}}function wy(t){"@babel/helpers - typeof";return wy=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},wy(t)}var m2e=["type","size","sizeType"];function XC(){return XC=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},XC.apply(this,arguments)}function M3(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function L3(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?M3(Object(n),!0).forEach(function(r){g2e(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):M3(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function g2e(t,e,n){return e=y2e(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function y2e(t){var e=v2e(t,"string");return wy(e)=="symbol"?e:e+""}function v2e(t,e){if(wy(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(wy(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function x2e(t,e){if(t==null)return{};var n=b2e(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function b2e(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var LY={symbolCircle:Jj,symbolCross:BNe,symbolDiamond:zNe,symbolSquare:qNe,symbolStar:GNe,symbolTriangle:QNe,symbolWye:XNe},w2e=Math.PI/180,_2e=function(e){var n="symbol".concat(HS(e));return LY[n]||Jj},S2e=function(e,n,r){if(n==="area")return e;switch(r){case"cross":return 5*e*e/9;case"diamond":return .5*e*e/Math.sqrt(3);case"square":return e*e;case"star":{var i=18*w2e;return 1.25*e*e*(Math.tan(i)-Math.tan(i*2)*Math.pow(Math.tan(i),2))}case"triangle":return Math.sqrt(3)*e*e/4;case"wye":return(21-10*Math.sqrt(3))*e*e/8;default:return Math.PI*e*e/4}},E2e=function(e,n){LY["symbol".concat(HS(e))]=n},Zj=function(e){var n=e.type,r=n===void 0?"circle":n,i=e.size,s=i===void 0?64:i,o=e.sizeType,a=o===void 0?"area":o,l=x2e(e,m2e),c=L3(L3({},l),{},{type:r,size:s,sizeType:a}),u=function(){var v=_2e(r),x=JNe().type(v).size(S2e(s,a,r));return x()},d=c.className,f=c.cx,p=c.cy,m=Ie(c,!0);return f===+f&&p===+p&&s===+s?M.createElement("path",XC({},m,{className:He("recharts-symbols",d),transform:"translate(".concat(f,", ").concat(p,")"),d:u()})):null};Zj.registerSymbol=E2e;function kh(t){"@babel/helpers - typeof";return kh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},kh(t)}function JC(){return JC=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},JC.apply(this,arguments)}function $3(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function T2e(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?$3(Object(n),!0).forEach(function(r){_y(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):$3(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function A2e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function k2e(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,VY(r.key),r)}}function P2e(t,e,n){return e&&k2e(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function C2e(t,e,n){return e=f1(e),I2e(t,$Y()?Reflect.construct(e,n||[],f1(t).constructor):e.apply(t,n))}function I2e(t,e){if(e&&(kh(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return O2e(t)}function O2e(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function $Y(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return($Y=function(){return!!t})()}function f1(t){return f1=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},f1(t)}function N2e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&ZC(t,e)}function ZC(t,e){return ZC=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},ZC(t,e)}function _y(t,e,n){return e=VY(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function VY(t){var e=j2e(t,"string");return kh(e)=="symbol"?e:e+""}function j2e(t,e){if(kh(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(kh(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var zi=32,eR=function(t){function e(){return A2e(this,e),C2e(this,e,arguments)}return N2e(e,t),P2e(e,[{key:"renderIcon",value:function(r){var i=this.props.inactiveColor,s=zi/2,o=zi/6,a=zi/3,l=r.inactive?i:r.color;if(r.type==="plainline")return M.createElement("line",{strokeWidth:4,fill:"none",stroke:l,strokeDasharray:r.payload.strokeDasharray,x1:0,y1:s,x2:zi,y2:s,className:"recharts-legend-icon"});if(r.type==="line")return M.createElement("path",{strokeWidth:4,fill:"none",stroke:l,d:"M0,".concat(s,"h").concat(a,`
            A`).concat(o,",").concat(o,",0,1,1,").concat(2*a,",").concat(s,`
            H`).concat(zi,"M").concat(2*a,",").concat(s,`
            A`).concat(o,",").concat(o,",0,1,1,").concat(a,",").concat(s),className:"recharts-legend-icon"});if(r.type==="rect")return M.createElement("path",{stroke:"none",fill:l,d:"M0,".concat(zi/8,"h").concat(zi,"v").concat(zi*3/4,"h").concat(-zi,"z"),className:"recharts-legend-icon"});if(M.isValidElement(r.legendIcon)){var c=T2e({},r);return delete c.legendIcon,M.cloneElement(r.legendIcon,c)}return M.createElement(Zj,{fill:l,cx:s,cy:s,size:zi,sizeType:"diameter",type:r.type})}},{key:"renderItems",value:function(){var r=this,i=this.props,s=i.payload,o=i.iconSize,a=i.layout,l=i.formatter,c=i.inactiveColor,u={x:0,y:0,width:zi,height:zi},d={display:a==="horizontal"?"inline-block":"block",marginRight:10},f={display:"inline-block",verticalAlign:"middle",marginRight:4};return s.map(function(p,m){var g=p.formatter||l,v=He(_y(_y({"recharts-legend-item":!0},"legend-item-".concat(m),!0),"inactive",p.inactive));if(p.type==="none")return null;var x=Fe(p.value)?null:p.value;ks(!Fe(p.value),`The name property is also required when using a function for the dataKey of a chart's cartesian components. Ex: <Bar name="Name of my Data"/>`);var b=p.inactive?c:p.color;return M.createElement("li",JC({className:v,style:d,key:"legend-item-".concat(m)},Gu(r.props,p,m)),M.createElement(zC,{width:o,height:o,viewBox:u,style:f},r.renderIcon(p)),M.createElement("span",{className:"recharts-legend-item-text",style:{color:b}},g?g(x,p,m):x))})}},{key:"render",value:function(){var r=this.props,i=r.payload,s=r.layout,o=r.align;if(!i||!i.length)return null;var a={padding:0,margin:0,textAlign:s==="horizontal"?o:"left"};return M.createElement("ul",{className:"recharts-default-legend",style:a},this.renderItems())}}])}(C.PureComponent);_y(eR,"displayName","Legend");_y(eR,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"middle",inactiveColor:"#ccc"});var R2e=NS;function D2e(){this.__data__=new R2e,this.size=0}var M2e=D2e;function L2e(t){var e=this.__data__,n=e.delete(t);return this.size=e.size,n}var $2e=L2e;function V2e(t){return this.__data__.get(t)}var F2e=V2e;function B2e(t){return this.__data__.has(t)}var U2e=B2e,z2e=NS,q2e=Bj,H2e=Uj,W2e=200;function K2e(t,e){var n=this.__data__;if(n instanceof z2e){var r=n.__data__;if(!q2e||r.length<W2e-1)return r.push([t,e]),this.size=++n.size,this;n=this.__data__=new H2e(r)}return n.set(t,e),this.size=n.size,this}var G2e=K2e,Q2e=NS,Y2e=M2e,X2e=$2e,J2e=F2e,Z2e=U2e,eje=G2e;function wp(t){var e=this.__data__=new Q2e(t);this.size=e.size}wp.prototype.clear=Y2e;wp.prototype.delete=X2e;wp.prototype.get=J2e;wp.prototype.has=Z2e;wp.prototype.set=eje;var FY=wp,tje="__lodash_hash_undefined__";function nje(t){return this.__data__.set(t,tje),this}var rje=nje;function ije(t){return this.__data__.has(t)}var sje=ije,oje=Uj,aje=rje,lje=sje;function h1(t){var e=-1,n=t==null?0:t.length;for(this.__data__=new oje;++e<n;)this.add(t[e])}h1.prototype.add=h1.prototype.push=aje;h1.prototype.has=lje;var BY=h1;function cje(t,e){for(var n=-1,r=t==null?0:t.length;++n<r;)if(e(t[n],n,t))return!0;return!1}var UY=cje;function uje(t,e){return t.has(e)}var zY=uje,dje=BY,fje=UY,hje=zY,pje=1,mje=2;function gje(t,e,n,r,i,s){var o=n&pje,a=t.length,l=e.length;if(a!=l&&!(o&&l>a))return!1;var c=s.get(t),u=s.get(e);if(c&&u)return c==e&&u==t;var d=-1,f=!0,p=n&mje?new dje:void 0;for(s.set(t,e),s.set(e,t);++d<a;){var m=t[d],g=e[d];if(r)var v=o?r(g,m,d,e,t,s):r(m,g,d,t,e,s);if(v!==void 0){if(v)continue;f=!1;break}if(p){if(!fje(e,function(x,b){if(!hje(p,b)&&(m===x||i(m,x,n,r,s)))return p.push(b)})){f=!1;break}}else if(!(m===g||i(m,g,n,r,s))){f=!1;break}}return s.delete(t),s.delete(e),f}var qY=gje,yje=wo,vje=yje.Uint8Array,xje=vje;function bje(t){var e=-1,n=Array(t.size);return t.forEach(function(r,i){n[++e]=[i,r]}),n}var wje=bje;function _je(t){var e=-1,n=Array(t.size);return t.forEach(function(r){n[++e]=r}),n}var tR=_je,V3=$v,F3=xje,Sje=Fj,Eje=qY,Tje=wje,Aje=tR,kje=1,Pje=2,Cje="[object Boolean]",Ije="[object Date]",Oje="[object Error]",Nje="[object Map]",jje="[object Number]",Rje="[object RegExp]",Dje="[object Set]",Mje="[object String]",Lje="[object Symbol]",$je="[object ArrayBuffer]",Vje="[object DataView]",B3=V3?V3.prototype:void 0,_A=B3?B3.valueOf:void 0;function Fje(t,e,n,r,i,s,o){switch(n){case Vje:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case $je:return!(t.byteLength!=e.byteLength||!s(new F3(t),new F3(e)));case Cje:case Ije:case jje:return Sje(+t,+e);case Oje:return t.name==e.name&&t.message==e.message;case Rje:case Mje:return t==e+"";case Nje:var a=Tje;case Dje:var l=r&kje;if(a||(a=Aje),t.size!=e.size&&!l)return!1;var c=o.get(t);if(c)return c==e;r|=Pje,o.set(t,e);var u=Eje(a(t),a(e),r,i,s,o);return o.delete(t),u;case Lje:if(_A)return _A.call(t)==_A.call(e)}return!1}var Bje=Fje;function Uje(t,e){for(var n=-1,r=e.length,i=t.length;++n<r;)t[i+n]=e[n];return t}var HY=Uje,zje=HY,qje=pi;function Hje(t,e,n){var r=e(t);return qje(t)?r:zje(r,n(t))}var Wje=Hje;function Kje(t,e){for(var n=-1,r=t==null?0:t.length,i=0,s=[];++n<r;){var o=t[n];e(o,n,t)&&(s[i++]=o)}return s}var Gje=Kje;function Qje(){return[]}var Yje=Qje,Xje=Gje,Jje=Yje,Zje=Object.prototype,eRe=Zje.propertyIsEnumerable,U3=Object.getOwnPropertySymbols,tRe=U3?function(t){return t==null?[]:(t=Object(t),Xje(U3(t),function(e){return eRe.call(t,e)}))}:Jje,nRe=tRe;function rRe(t,e){for(var n=-1,r=Array(t);++n<t;)r[n]=e(n);return r}var iRe=rRe,sRe=Ea,oRe=Ta,aRe="[object Arguments]";function lRe(t){return oRe(t)&&sRe(t)==aRe}var cRe=lRe,z3=cRe,uRe=Ta,WY=Object.prototype,dRe=WY.hasOwnProperty,fRe=WY.propertyIsEnumerable,hRe=z3(function(){return arguments}())?z3:function(t){return uRe(t)&&dRe.call(t,"callee")&&!fRe.call(t,"callee")},nR=hRe,p1={exports:{}};function pRe(){return!1}var mRe=pRe;p1.exports;(function(t,e){var n=wo,r=mRe,i=e&&!e.nodeType&&e,s=i&&!0&&t&&!t.nodeType&&t,o=s&&s.exports===i,a=o?n.Buffer:void 0,l=a?a.isBuffer:void 0,c=l||r;t.exports=c})(p1,p1.exports);var KY=p1.exports,gRe=9007199254740991,yRe=/^(?:0|[1-9]\d*)$/;function vRe(t,e){var n=typeof t;return e=e??gRe,!!e&&(n=="number"||n!="symbol"&&yRe.test(t))&&t>-1&&t%1==0&&t<e}var rR=vRe,xRe=9007199254740991;function bRe(t){return typeof t=="number"&&t>-1&&t%1==0&&t<=xRe}var iR=bRe,wRe=Ea,_Re=iR,SRe=Ta,ERe="[object Arguments]",TRe="[object Array]",ARe="[object Boolean]",kRe="[object Date]",PRe="[object Error]",CRe="[object Function]",IRe="[object Map]",ORe="[object Number]",NRe="[object Object]",jRe="[object RegExp]",RRe="[object Set]",DRe="[object String]",MRe="[object WeakMap]",LRe="[object ArrayBuffer]",$Re="[object DataView]",VRe="[object Float32Array]",FRe="[object Float64Array]",BRe="[object Int8Array]",URe="[object Int16Array]",zRe="[object Int32Array]",qRe="[object Uint8Array]",HRe="[object Uint8ClampedArray]",WRe="[object Uint16Array]",KRe="[object Uint32Array]",zt={};zt[VRe]=zt[FRe]=zt[BRe]=zt[URe]=zt[zRe]=zt[qRe]=zt[HRe]=zt[WRe]=zt[KRe]=!0;zt[ERe]=zt[TRe]=zt[LRe]=zt[ARe]=zt[$Re]=zt[kRe]=zt[PRe]=zt[CRe]=zt[IRe]=zt[ORe]=zt[NRe]=zt[jRe]=zt[RRe]=zt[DRe]=zt[MRe]=!1;function GRe(t){return SRe(t)&&_Re(t.length)&&!!zt[wRe(t)]}var QRe=GRe;function YRe(t){return function(e){return t(e)}}var GY=YRe,m1={exports:{}};m1.exports;(function(t,e){var n=nY,r=e&&!e.nodeType&&e,i=r&&!0&&t&&!t.nodeType&&t,s=i&&i.exports===r,o=s&&n.process,a=function(){try{var l=i&&i.require&&i.require("util").types;return l||o&&o.binding&&o.binding("util")}catch{}}();t.exports=a})(m1,m1.exports);var XRe=m1.exports,JRe=QRe,ZRe=GY,q3=XRe,H3=q3&&q3.isTypedArray,eDe=H3?ZRe(H3):JRe,QY=eDe,tDe=iRe,nDe=nR,rDe=pi,iDe=KY,sDe=rR,oDe=QY,aDe=Object.prototype,lDe=aDe.hasOwnProperty;function cDe(t,e){var n=rDe(t),r=!n&&nDe(t),i=!n&&!r&&iDe(t),s=!n&&!r&&!i&&oDe(t),o=n||r||i||s,a=o?tDe(t.length,String):[],l=a.length;for(var c in t)(e||lDe.call(t,c))&&!(o&&(c=="length"||i&&(c=="offset"||c=="parent")||s&&(c=="buffer"||c=="byteLength"||c=="byteOffset")||sDe(c,l)))&&a.push(c);return a}var uDe=cDe,dDe=Object.prototype;function fDe(t){var e=t&&t.constructor,n=typeof e=="function"&&e.prototype||dDe;return t===n}var hDe=fDe;function pDe(t,e){return function(n){return t(e(n))}}var YY=pDe,mDe=YY,gDe=mDe(Object.keys,Object),yDe=gDe,vDe=hDe,xDe=yDe,bDe=Object.prototype,wDe=bDe.hasOwnProperty;function _De(t){if(!vDe(t))return xDe(t);var e=[];for(var n in Object(t))wDe.call(t,n)&&n!="constructor"&&e.push(n);return e}var SDe=_De,EDe=Vj,TDe=iR;function ADe(t){return t!=null&&TDe(t.length)&&!EDe(t)}var Bv=ADe,kDe=uDe,PDe=SDe,CDe=Bv;function IDe(t){return CDe(t)?kDe(t):PDe(t)}var QS=IDe,ODe=Wje,NDe=nRe,jDe=QS;function RDe(t){return ODe(t,jDe,NDe)}var DDe=RDe,W3=DDe,MDe=1,LDe=Object.prototype,$De=LDe.hasOwnProperty;function VDe(t,e,n,r,i,s){var o=n&MDe,a=W3(t),l=a.length,c=W3(e),u=c.length;if(l!=u&&!o)return!1;for(var d=l;d--;){var f=a[d];if(!(o?f in e:$De.call(e,f)))return!1}var p=s.get(t),m=s.get(e);if(p&&m)return p==e&&m==t;var g=!0;s.set(t,e),s.set(e,t);for(var v=o;++d<l;){f=a[d];var x=t[f],b=e[f];if(r)var w=o?r(b,x,f,e,t,s):r(x,b,f,t,e,s);if(!(w===void 0?x===b||i(x,b,n,r,s):w)){g=!1;break}v||(v=f=="constructor")}if(g&&!v){var T=t.constructor,_=e.constructor;T!=_&&"constructor"in t&&"constructor"in e&&!(typeof T=="function"&&T instanceof T&&typeof _=="function"&&_ instanceof _)&&(g=!1)}return s.delete(t),s.delete(e),g}var FDe=VDe,BDe=fd,UDe=wo,zDe=BDe(UDe,"DataView"),qDe=zDe,HDe=fd,WDe=wo,KDe=HDe(WDe,"Promise"),GDe=KDe,QDe=fd,YDe=wo,XDe=QDe(YDe,"Set"),XY=XDe,JDe=fd,ZDe=wo,eMe=JDe(ZDe,"WeakMap"),tMe=eMe,eI=qDe,tI=Bj,nI=GDe,rI=XY,iI=tMe,JY=Ea,_p=iY,K3="[object Map]",nMe="[object Object]",G3="[object Promise]",Q3="[object Set]",Y3="[object WeakMap]",X3="[object DataView]",rMe=_p(eI),iMe=_p(tI),sMe=_p(nI),oMe=_p(rI),aMe=_p(iI),Dc=JY;(eI&&Dc(new eI(new ArrayBuffer(1)))!=X3||tI&&Dc(new tI)!=K3||nI&&Dc(nI.resolve())!=G3||rI&&Dc(new rI)!=Q3||iI&&Dc(new iI)!=Y3)&&(Dc=function(t){var e=JY(t),n=e==nMe?t.constructor:void 0,r=n?_p(n):"";if(r)switch(r){case rMe:return X3;case iMe:return K3;case sMe:return G3;case oMe:return Q3;case aMe:return Y3}return e});var lMe=Dc,SA=FY,cMe=qY,uMe=Bje,dMe=FDe,J3=lMe,Z3=pi,eB=KY,fMe=QY,hMe=1,tB="[object Arguments]",nB="[object Array]",rx="[object Object]",pMe=Object.prototype,rB=pMe.hasOwnProperty;function mMe(t,e,n,r,i,s){var o=Z3(t),a=Z3(e),l=o?nB:J3(t),c=a?nB:J3(e);l=l==tB?rx:l,c=c==tB?rx:c;var u=l==rx,d=c==rx,f=l==c;if(f&&eB(t)){if(!eB(e))return!1;o=!0,u=!1}if(f&&!u)return s||(s=new SA),o||fMe(t)?cMe(t,e,n,r,i,s):uMe(t,e,l,n,r,i,s);if(!(n&hMe)){var p=u&&rB.call(t,"__wrapped__"),m=d&&rB.call(e,"__wrapped__");if(p||m){var g=p?t.value():t,v=m?e.value():e;return s||(s=new SA),i(g,v,n,r,s)}}return f?(s||(s=new SA),dMe(t,e,n,r,i,s)):!1}var gMe=mMe,yMe=gMe,iB=Ta;function ZY(t,e,n,r,i){return t===e?!0:t==null||e==null||!iB(t)&&!iB(e)?t!==t&&e!==e:yMe(t,e,n,r,ZY,i)}var sR=ZY,vMe=FY,xMe=sR,bMe=1,wMe=2;function _Me(t,e,n,r){var i=n.length,s=i,o=!r;if(t==null)return!s;for(t=Object(t);i--;){var a=n[i];if(o&&a[2]?a[1]!==t[a[0]]:!(a[0]in t))return!1}for(;++i<s;){a=n[i];var l=a[0],c=t[l],u=a[1];if(o&&a[2]){if(c===void 0&&!(l in t))return!1}else{var d=new vMe;if(r)var f=r(c,u,l,t,e,d);if(!(f===void 0?xMe(u,c,bMe|wMe,r,d):f))return!1}}return!0}var SMe=_Me,EMe=dc;function TMe(t){return t===t&&!EMe(t)}var eX=TMe,AMe=eX,kMe=QS;function PMe(t){for(var e=kMe(t),n=e.length;n--;){var r=e[n],i=t[r];e[n]=[r,i,AMe(i)]}return e}var CMe=PMe;function IMe(t,e){return function(n){return n==null?!1:n[t]===e&&(e!==void 0||t in Object(n))}}var tX=IMe,OMe=SMe,NMe=CMe,jMe=tX;function RMe(t){var e=NMe(t);return e.length==1&&e[0][2]?jMe(e[0][0],e[0][1]):function(n){return n===t||OMe(n,t,e)}}var DMe=RMe;function MMe(t,e){return t!=null&&e in Object(t)}var LMe=MMe,$Me=cY,VMe=nR,FMe=pi,BMe=rR,UMe=iR,zMe=RS;function qMe(t,e,n){e=$Me(e,t);for(var r=-1,i=e.length,s=!1;++r<i;){var o=zMe(e[r]);if(!(s=t!=null&&n(t,o)))break;t=t[o]}return s||++r!=i?s:(i=t==null?0:t.length,!!i&&UMe(i)&&BMe(o,i)&&(FMe(t)||VMe(t)))}var HMe=qMe,WMe=LMe,KMe=HMe;function GMe(t,e){return t!=null&&KMe(t,e,WMe)}var QMe=GMe,YMe=sR,XMe=uY,JMe=QMe,ZMe=$j,eLe=eX,tLe=tX,nLe=RS,rLe=1,iLe=2;function sLe(t,e){return ZMe(t)&&eLe(e)?tLe(nLe(t),e):function(n){var r=XMe(n,t);return r===void 0&&r===e?JMe(n,t):YMe(e,r,rLe|iLe)}}var oLe=sLe;function aLe(t){return t}var Sp=aLe;function lLe(t){return function(e){return e==null?void 0:e[t]}}var cLe=lLe,uLe=Hj;function dLe(t){return function(e){return uLe(e,t)}}var fLe=dLe,hLe=cLe,pLe=fLe,mLe=$j,gLe=RS;function yLe(t){return mLe(t)?hLe(gLe(t)):pLe(t)}var vLe=yLe,xLe=DMe,bLe=oLe,wLe=Sp,_Le=pi,SLe=vLe;function ELe(t){return typeof t=="function"?t:t==null?wLe:typeof t=="object"?_Le(t)?bLe(t[0],t[1]):xLe(t):SLe(t)}var _o=ELe;function TLe(t,e,n,r){for(var i=t.length,s=n+(r?1:-1);r?s--:++s<i;)if(e(t[s],s,t))return s;return-1}var nX=TLe;function ALe(t){return t!==t}var kLe=ALe;function PLe(t,e,n){for(var r=n-1,i=t.length;++r<i;)if(t[r]===e)return r;return-1}var CLe=PLe,ILe=nX,OLe=kLe,NLe=CLe;function jLe(t,e,n){return e===e?NLe(t,e,n):ILe(t,OLe,n)}var RLe=jLe,DLe=RLe;function MLe(t,e){var n=t==null?0:t.length;return!!n&&DLe(t,e,0)>-1}var LLe=MLe;function $Le(t,e,n){for(var r=-1,i=t==null?0:t.length;++r<i;)if(n(e,t[r]))return!0;return!1}var VLe=$Le;function FLe(){}var BLe=FLe,EA=XY,ULe=BLe,zLe=tR,qLe=1/0,HLe=EA&&1/zLe(new EA([,-0]))[1]==qLe?function(t){return new EA(t)}:ULe,WLe=HLe,KLe=BY,GLe=LLe,QLe=VLe,YLe=zY,XLe=WLe,JLe=tR,ZLe=200;function e$e(t,e,n){var r=-1,i=GLe,s=t.length,o=!0,a=[],l=a;if(n)o=!1,i=QLe;else if(s>=ZLe){var c=e?null:XLe(t);if(c)return JLe(c);o=!1,i=YLe,l=new KLe}else l=e?[]:a;e:for(;++r<s;){var u=t[r],d=e?e(u):u;if(u=n||u!==0?u:0,o&&d===d){for(var f=l.length;f--;)if(l[f]===d)continue e;e&&l.push(d),a.push(u)}else i(l,d,n)||(l!==a&&l.push(d),a.push(u))}return a}var t$e=e$e,n$e=_o,r$e=t$e;function i$e(t,e){return t&&t.length?r$e(t,n$e(e)):[]}var s$e=i$e;const sB=vt(s$e);function rX(t,e,n){return e===!0?sB(t,n):Fe(e)?sB(t,e):t}function Ph(t){"@babel/helpers - typeof";return Ph=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ph(t)}var o$e=["ref"];function oB(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Co(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?oB(Object(n),!0).forEach(function(r){YS(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):oB(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function a$e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function aB(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,sX(r.key),r)}}function l$e(t,e,n){return e&&aB(t.prototype,e),n&&aB(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function c$e(t,e,n){return e=g1(e),u$e(t,iX()?Reflect.construct(e,n||[],g1(t).constructor):e.apply(t,n))}function u$e(t,e){if(e&&(Ph(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return d$e(t)}function d$e(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function iX(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(iX=function(){return!!t})()}function g1(t){return g1=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},g1(t)}function f$e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&sI(t,e)}function sI(t,e){return sI=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},sI(t,e)}function YS(t,e,n){return e=sX(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function sX(t){var e=h$e(t,"string");return Ph(e)=="symbol"?e:e+""}function h$e(t,e){if(Ph(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Ph(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function p$e(t,e){if(t==null)return{};var n=m$e(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function m$e(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function g$e(t){return t.value}function y$e(t,e){if(M.isValidElement(t))return M.cloneElement(t,e);if(typeof t=="function")return M.createElement(t,e);e.ref;var n=p$e(e,o$e);return M.createElement(eR,n)}var lB=1,jf=function(t){function e(){var n;a$e(this,e);for(var r=arguments.length,i=new Array(r),s=0;s<r;s++)i[s]=arguments[s];return n=c$e(this,e,[].concat(i)),YS(n,"lastBoundingBox",{width:-1,height:-1}),n}return f$e(e,t),l$e(e,[{key:"componentDidMount",value:function(){this.updateBBox()}},{key:"componentDidUpdate",value:function(){this.updateBBox()}},{key:"getBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var r=this.wrapperNode.getBoundingClientRect();return r.height=this.wrapperNode.offsetHeight,r.width=this.wrapperNode.offsetWidth,r}return null}},{key:"updateBBox",value:function(){var r=this.props.onBBoxUpdate,i=this.getBBox();i?(Math.abs(i.width-this.lastBoundingBox.width)>lB||Math.abs(i.height-this.lastBoundingBox.height)>lB)&&(this.lastBoundingBox.width=i.width,this.lastBoundingBox.height=i.height,r&&r(i)):(this.lastBoundingBox.width!==-1||this.lastBoundingBox.height!==-1)&&(this.lastBoundingBox.width=-1,this.lastBoundingBox.height=-1,r&&r(null))}},{key:"getBBoxSnapshot",value:function(){return this.lastBoundingBox.width>=0&&this.lastBoundingBox.height>=0?Co({},this.lastBoundingBox):{width:0,height:0}}},{key:"getDefaultPosition",value:function(r){var i=this.props,s=i.layout,o=i.align,a=i.verticalAlign,l=i.margin,c=i.chartWidth,u=i.chartHeight,d,f;if(!r||(r.left===void 0||r.left===null)&&(r.right===void 0||r.right===null))if(o==="center"&&s==="vertical"){var p=this.getBBoxSnapshot();d={left:((c||0)-p.width)/2}}else d=o==="right"?{right:l&&l.right||0}:{left:l&&l.left||0};if(!r||(r.top===void 0||r.top===null)&&(r.bottom===void 0||r.bottom===null))if(a==="middle"){var m=this.getBBoxSnapshot();f={top:((u||0)-m.height)/2}}else f=a==="bottom"?{bottom:l&&l.bottom||0}:{top:l&&l.top||0};return Co(Co({},d),f)}},{key:"render",value:function(){var r=this,i=this.props,s=i.content,o=i.width,a=i.height,l=i.wrapperStyle,c=i.payloadUniqBy,u=i.payload,d=Co(Co({position:"absolute",width:o||"auto",height:a||"auto"},this.getDefaultPosition(l)),l);return M.createElement("div",{className:"recharts-legend-wrapper",style:d,ref:function(p){r.wrapperNode=p}},y$e(s,Co(Co({},this.props),{},{payload:rX(u,c,g$e)})))}}],[{key:"getWithHeight",value:function(r,i){var s=Co(Co({},this.defaultProps),r.props),o=s.layout;return o==="vertical"&&ae(r.props.height)?{height:r.props.height}:o==="horizontal"?{width:r.props.width||i}:null}}])}(C.PureComponent);YS(jf,"displayName","Legend");YS(jf,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"bottom"});var cB=$v,v$e=nR,x$e=pi,uB=cB?cB.isConcatSpreadable:void 0;function b$e(t){return x$e(t)||v$e(t)||!!(uB&&t&&t[uB])}var w$e=b$e,_$e=HY,S$e=w$e;function oX(t,e,n,r,i){var s=-1,o=t.length;for(n||(n=S$e),i||(i=[]);++s<o;){var a=t[s];e>0&&n(a)?e>1?oX(a,e-1,n,r,i):_$e(i,a):r||(i[i.length]=a)}return i}var aX=oX;function E$e(t){return function(e,n,r){for(var i=-1,s=Object(e),o=r(e),a=o.length;a--;){var l=o[t?a:++i];if(n(s[l],l,s)===!1)break}return e}}var T$e=E$e,A$e=T$e,k$e=A$e(),P$e=k$e,C$e=P$e,I$e=QS;function O$e(t,e){return t&&C$e(t,e,I$e)}var lX=O$e,N$e=Bv;function j$e(t,e){return function(n,r){if(n==null)return n;if(!N$e(n))return t(n,r);for(var i=n.length,s=e?i:-1,o=Object(n);(e?s--:++s<i)&&r(o[s],s,o)!==!1;);return n}}var R$e=j$e,D$e=lX,M$e=R$e,L$e=M$e(D$e),oR=L$e,$$e=oR,V$e=Bv;function F$e(t,e){var n=-1,r=V$e(t)?Array(t.length):[];return $$e(t,function(i,s,o){r[++n]=e(i,s,o)}),r}var cX=F$e;function B$e(t,e){var n=t.length;for(t.sort(e);n--;)t[n]=t[n].value;return t}var U$e=B$e,dB=mp;function z$e(t,e){if(t!==e){var n=t!==void 0,r=t===null,i=t===t,s=dB(t),o=e!==void 0,a=e===null,l=e===e,c=dB(e);if(!a&&!c&&!s&&t>e||s&&o&&l&&!a&&!c||r&&o&&l||!n&&l||!i)return 1;if(!r&&!s&&!c&&t<e||c&&n&&i&&!r&&!s||a&&n&&i||!o&&i||!l)return-1}return 0}var q$e=z$e,H$e=q$e;function W$e(t,e,n){for(var r=-1,i=t.criteria,s=e.criteria,o=i.length,a=n.length;++r<o;){var l=H$e(i[r],s[r]);if(l){if(r>=a)return l;var c=n[r];return l*(c=="desc"?-1:1)}}return t.index-e.index}var K$e=W$e,TA=qj,G$e=Hj,Q$e=_o,Y$e=cX,X$e=U$e,J$e=GY,Z$e=K$e,e4e=Sp,t4e=pi;function n4e(t,e,n){e.length?e=TA(e,function(s){return t4e(s)?function(o){return G$e(o,s.length===1?s[0]:s)}:s}):e=[e4e];var r=-1;e=TA(e,J$e(Q$e));var i=Y$e(t,function(s,o,a){var l=TA(e,function(c){return c(s)});return{criteria:l,index:++r,value:s}});return X$e(i,function(s,o){return Z$e(s,o,n)})}var r4e=n4e;function i4e(t,e,n){switch(n.length){case 0:return t.call(e);case 1:return t.call(e,n[0]);case 2:return t.call(e,n[0],n[1]);case 3:return t.call(e,n[0],n[1],n[2])}return t.apply(e,n)}var s4e=i4e,o4e=s4e,fB=Math.max;function a4e(t,e,n){return e=fB(e===void 0?t.length-1:e,0),function(){for(var r=arguments,i=-1,s=fB(r.length-e,0),o=Array(s);++i<s;)o[i]=r[e+i];i=-1;for(var a=Array(e+1);++i<e;)a[i]=r[i];return a[e]=n(o),o4e(t,this,a)}}var l4e=a4e;function c4e(t){return function(){return t}}var u4e=c4e,d4e=fd,f4e=function(){try{var t=d4e(Object,"defineProperty");return t({},"",{}),t}catch{}}(),uX=f4e,h4e=u4e,hB=uX,p4e=Sp,m4e=hB?function(t,e){return hB(t,"toString",{configurable:!0,enumerable:!1,value:h4e(e),writable:!0})}:p4e,g4e=m4e,y4e=800,v4e=16,x4e=Date.now;function b4e(t){var e=0,n=0;return function(){var r=x4e(),i=v4e-(r-n);if(n=r,i>0){if(++e>=y4e)return arguments[0]}else e=0;return t.apply(void 0,arguments)}}var w4e=b4e,_4e=g4e,S4e=w4e,E4e=S4e(_4e),T4e=E4e,A4e=Sp,k4e=l4e,P4e=T4e;function C4e(t,e){return P4e(k4e(t,e,A4e),t+"")}var I4e=C4e,O4e=Fj,N4e=Bv,j4e=rR,R4e=dc;function D4e(t,e,n){if(!R4e(n))return!1;var r=typeof e;return(r=="number"?N4e(n)&&j4e(e,n.length):r=="string"&&e in n)?O4e(n[e],t):!1}var XS=D4e,M4e=aX,L4e=r4e,$4e=I4e,pB=XS,V4e=$4e(function(t,e){if(t==null)return[];var n=e.length;return n>1&&pB(t,e[0],e[1])?e=[]:n>2&&pB(e[0],e[1],e[2])&&(e=[e[0]]),L4e(t,M4e(e,1),[])}),F4e=V4e;const aR=vt(F4e);function Sy(t){"@babel/helpers - typeof";return Sy=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Sy(t)}function oI(){return oI=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},oI.apply(this,arguments)}function B4e(t,e){return H4e(t)||q4e(t,e)||z4e(t,e)||U4e()}function U4e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function z4e(t,e){if(t){if(typeof t=="string")return mB(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return mB(t,e)}}function mB(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function q4e(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,s,o,a=[],l=!0,c=!1;try{if(s=(n=n.call(t)).next,e!==0)for(;!(l=(r=s.call(n)).done)&&(a.push(r.value),a.length!==e);l=!0);}catch(u){c=!0,i=u}finally{try{if(!l&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(c)throw i}}return a}}function H4e(t){if(Array.isArray(t))return t}function gB(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function AA(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?gB(Object(n),!0).forEach(function(r){W4e(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):gB(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function W4e(t,e,n){return e=K4e(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function K4e(t){var e=G4e(t,"string");return Sy(e)=="symbol"?e:e+""}function G4e(t,e){if(Sy(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Sy(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Q4e(t){return Array.isArray(t)&&Dn(t[0])&&Dn(t[1])?t.join(" ~ "):t}var Y4e=function(e){var n=e.separator,r=n===void 0?" : ":n,i=e.contentStyle,s=i===void 0?{}:i,o=e.itemStyle,a=o===void 0?{}:o,l=e.labelStyle,c=l===void 0?{}:l,u=e.payload,d=e.formatter,f=e.itemSorter,p=e.wrapperClassName,m=e.labelClassName,g=e.label,v=e.labelFormatter,x=e.accessibilityLayer,b=x===void 0?!1:x,w=function(){if(u&&u.length){var R={padding:0,margin:0},j=(f?aR(u,f):u).map(function(z,F){if(z.type==="none")return null;var L=AA({display:"block",paddingTop:4,paddingBottom:4,color:z.color||"#000"},a),B=z.formatter||d||Q4e,$=z.value,U=z.name,W=$,Z=U;if(B&&W!=null&&Z!=null){var Q=B($,U,z,F,u);if(Array.isArray(Q)){var fe=B4e(Q,2);W=fe[0],Z=fe[1]}else W=Q}return M.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(F),style:L},Dn(Z)?M.createElement("span",{className:"recharts-tooltip-item-name"},Z):null,Dn(Z)?M.createElement("span",{className:"recharts-tooltip-item-separator"},r):null,M.createElement("span",{className:"recharts-tooltip-item-value"},W),M.createElement("span",{className:"recharts-tooltip-item-unit"},z.unit||""))});return M.createElement("ul",{className:"recharts-tooltip-item-list",style:R},j)}return null},T=AA({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},s),_=AA({margin:0},c),k=!qe(g),S=k?g:"",E=He("recharts-default-tooltip",p),P=He("recharts-tooltip-label",m);k&&v&&u!==void 0&&u!==null&&(S=v(g,u));var O=b?{role:"status","aria-live":"assertive"}:{};return M.createElement("div",oI({className:E,style:T},O),M.createElement("p",{className:P,style:_},M.isValidElement(S)?S:"".concat(S)),w())};function Ey(t){"@babel/helpers - typeof";return Ey=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ey(t)}function ix(t,e,n){return e=X4e(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function X4e(t){var e=J4e(t,"string");return Ey(e)=="symbol"?e:e+""}function J4e(t,e){if(Ey(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Ey(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var cm="recharts-tooltip-wrapper",Z4e={visibility:"hidden"};function eVe(t){var e=t.coordinate,n=t.translateX,r=t.translateY;return He(cm,ix(ix(ix(ix({},"".concat(cm,"-right"),ae(n)&&e&&ae(e.x)&&n>=e.x),"".concat(cm,"-left"),ae(n)&&e&&ae(e.x)&&n<e.x),"".concat(cm,"-bottom"),ae(r)&&e&&ae(e.y)&&r>=e.y),"".concat(cm,"-top"),ae(r)&&e&&ae(e.y)&&r<e.y))}function yB(t){var e=t.allowEscapeViewBox,n=t.coordinate,r=t.key,i=t.offsetTopLeft,s=t.position,o=t.reverseDirection,a=t.tooltipDimension,l=t.viewBox,c=t.viewBoxDimension;if(s&&ae(s[r]))return s[r];var u=n[r]-a-i,d=n[r]+i;if(e[r])return o[r]?u:d;if(o[r]){var f=u,p=l[r];return f<p?Math.max(d,l[r]):Math.max(u,l[r])}var m=d+a,g=l[r]+c;return m>g?Math.max(u,l[r]):Math.max(d,l[r])}function tVe(t){var e=t.translateX,n=t.translateY,r=t.useTranslate3d;return{transform:r?"translate3d(".concat(e,"px, ").concat(n,"px, 0)"):"translate(".concat(e,"px, ").concat(n,"px)")}}function nVe(t){var e=t.allowEscapeViewBox,n=t.coordinate,r=t.offsetTopLeft,i=t.position,s=t.reverseDirection,o=t.tooltipBox,a=t.useTranslate3d,l=t.viewBox,c,u,d;return o.height>0&&o.width>0&&n?(u=yB({allowEscapeViewBox:e,coordinate:n,key:"x",offsetTopLeft:r,position:i,reverseDirection:s,tooltipDimension:o.width,viewBox:l,viewBoxDimension:l.width}),d=yB({allowEscapeViewBox:e,coordinate:n,key:"y",offsetTopLeft:r,position:i,reverseDirection:s,tooltipDimension:o.height,viewBox:l,viewBoxDimension:l.height}),c=tVe({translateX:u,translateY:d,useTranslate3d:a})):c=Z4e,{cssProperties:c,cssClasses:eVe({translateX:u,translateY:d,coordinate:n})}}function Ch(t){"@babel/helpers - typeof";return Ch=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ch(t)}function vB(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function xB(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?vB(Object(n),!0).forEach(function(r){lI(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):vB(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function rVe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function iVe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,fX(r.key),r)}}function sVe(t,e,n){return e&&iVe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function oVe(t,e,n){return e=y1(e),aVe(t,dX()?Reflect.construct(e,n||[],y1(t).constructor):e.apply(t,n))}function aVe(t,e){if(e&&(Ch(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return lVe(t)}function lVe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function dX(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(dX=function(){return!!t})()}function y1(t){return y1=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},y1(t)}function cVe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&aI(t,e)}function aI(t,e){return aI=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},aI(t,e)}function lI(t,e,n){return e=fX(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function fX(t){var e=uVe(t,"string");return Ch(e)=="symbol"?e:e+""}function uVe(t,e){if(Ch(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Ch(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var bB=1,dVe=function(t){function e(){var n;rVe(this,e);for(var r=arguments.length,i=new Array(r),s=0;s<r;s++)i[s]=arguments[s];return n=oVe(this,e,[].concat(i)),lI(n,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0},lastBoundingBox:{width:-1,height:-1}}),lI(n,"handleKeyDown",function(o){if(o.key==="Escape"){var a,l,c,u;n.setState({dismissed:!0,dismissedAtCoordinate:{x:(a=(l=n.props.coordinate)===null||l===void 0?void 0:l.x)!==null&&a!==void 0?a:0,y:(c=(u=n.props.coordinate)===null||u===void 0?void 0:u.y)!==null&&c!==void 0?c:0}})}}),n}return cVe(e,t),sVe(e,[{key:"updateBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var r=this.wrapperNode.getBoundingClientRect();(Math.abs(r.width-this.state.lastBoundingBox.width)>bB||Math.abs(r.height-this.state.lastBoundingBox.height)>bB)&&this.setState({lastBoundingBox:{width:r.width,height:r.height}})}else(this.state.lastBoundingBox.width!==-1||this.state.lastBoundingBox.height!==-1)&&this.setState({lastBoundingBox:{width:-1,height:-1}})}},{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.handleKeyDown),this.updateBBox()}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.handleKeyDown)}},{key:"componentDidUpdate",value:function(){var r,i;this.props.active&&this.updateBBox(),this.state.dismissed&&(((r=this.props.coordinate)===null||r===void 0?void 0:r.x)!==this.state.dismissedAtCoordinate.x||((i=this.props.coordinate)===null||i===void 0?void 0:i.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}},{key:"render",value:function(){var r=this,i=this.props,s=i.active,o=i.allowEscapeViewBox,a=i.animationDuration,l=i.animationEasing,c=i.children,u=i.coordinate,d=i.hasPayload,f=i.isAnimationActive,p=i.offset,m=i.position,g=i.reverseDirection,v=i.useTranslate3d,x=i.viewBox,b=i.wrapperStyle,w=nVe({allowEscapeViewBox:o,coordinate:u,offsetTopLeft:p,position:m,reverseDirection:g,tooltipBox:this.state.lastBoundingBox,useTranslate3d:v,viewBox:x}),T=w.cssClasses,_=w.cssProperties,k=xB(xB({transition:f&&s?"transform ".concat(a,"ms ").concat(l):void 0},_),{},{pointerEvents:"none",visibility:!this.state.dismissed&&s&&d?"visible":"hidden",position:"absolute",top:0,left:0},b);return M.createElement("div",{tabIndex:-1,className:T,style:k,ref:function(E){r.wrapperNode=E}},c)}}])}(C.PureComponent),fVe=function(){return!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout)},oo={isSsr:fVe(),get:function(e){return oo[e]},set:function(e,n){if(typeof e=="string")oo[e]=n;else{var r=Object.keys(e);r&&r.length&&r.forEach(function(i){oo[i]=e[i]})}}};function Ih(t){"@babel/helpers - typeof";return Ih=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ih(t)}function wB(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function _B(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?wB(Object(n),!0).forEach(function(r){lR(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):wB(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function hVe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function pVe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,pX(r.key),r)}}function mVe(t,e,n){return e&&pVe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function gVe(t,e,n){return e=v1(e),yVe(t,hX()?Reflect.construct(e,n||[],v1(t).constructor):e.apply(t,n))}function yVe(t,e){if(e&&(Ih(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return vVe(t)}function vVe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function hX(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(hX=function(){return!!t})()}function v1(t){return v1=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},v1(t)}function xVe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&cI(t,e)}function cI(t,e){return cI=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},cI(t,e)}function lR(t,e,n){return e=pX(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function pX(t){var e=bVe(t,"string");return Ih(e)=="symbol"?e:e+""}function bVe(t,e){if(Ih(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Ih(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function wVe(t){return t.dataKey}function _Ve(t,e){return M.isValidElement(t)?M.cloneElement(t,e):typeof t=="function"?M.createElement(t,e):M.createElement(Y4e,e)}var Lr=function(t){function e(){return hVe(this,e),gVe(this,e,arguments)}return xVe(e,t),mVe(e,[{key:"render",value:function(){var r=this,i=this.props,s=i.active,o=i.allowEscapeViewBox,a=i.animationDuration,l=i.animationEasing,c=i.content,u=i.coordinate,d=i.filterNull,f=i.isAnimationActive,p=i.offset,m=i.payload,g=i.payloadUniqBy,v=i.position,x=i.reverseDirection,b=i.useTranslate3d,w=i.viewBox,T=i.wrapperStyle,_=m??[];d&&_.length&&(_=rX(m.filter(function(S){return S.value!=null&&(S.hide!==!0||r.props.includeHidden)}),g,wVe));var k=_.length>0;return M.createElement(dVe,{allowEscapeViewBox:o,animationDuration:a,animationEasing:l,isAnimationActive:f,active:s,coordinate:u,hasPayload:k,offset:p,position:v,reverseDirection:x,useTranslate3d:b,viewBox:w,wrapperStyle:T},_Ve(c,_B(_B({},this.props),{},{payload:_})))}}])}(C.PureComponent);lR(Lr,"displayName","Tooltip");lR(Lr,"defaultProps",{accessibilityLayer:!1,allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",contentStyle:{},coordinate:{x:0,y:0},cursor:!0,cursorStyle:{},filterNull:!0,isAnimationActive:!oo.isSsr,itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,viewBox:{x:0,y:0,height:0,width:0},wrapperStyle:{}});var SVe=wo,EVe=function(){return SVe.Date.now()},TVe=EVe,AVe=/\s/;function kVe(t){for(var e=t.length;e--&&AVe.test(t.charAt(e)););return e}var PVe=kVe,CVe=PVe,IVe=/^\s+/;function OVe(t){return t&&t.slice(0,CVe(t)+1).replace(IVe,"")}var NVe=OVe,jVe=NVe,SB=dc,RVe=mp,EB=NaN,DVe=/^[-+]0x[0-9a-f]+$/i,MVe=/^0b[01]+$/i,LVe=/^0o[0-7]+$/i,$Ve=parseInt;function VVe(t){if(typeof t=="number")return t;if(RVe(t))return EB;if(SB(t)){var e=typeof t.valueOf=="function"?t.valueOf():t;t=SB(e)?e+"":e}if(typeof t!="string")return t===0?t:+t;t=jVe(t);var n=MVe.test(t);return n||LVe.test(t)?$Ve(t.slice(2),n?2:8):DVe.test(t)?EB:+t}var mX=VVe,FVe=dc,kA=TVe,TB=mX,BVe="Expected a function",UVe=Math.max,zVe=Math.min;function qVe(t,e,n){var r,i,s,o,a,l,c=0,u=!1,d=!1,f=!0;if(typeof t!="function")throw new TypeError(BVe);e=TB(e)||0,FVe(n)&&(u=!!n.leading,d="maxWait"in n,s=d?UVe(TB(n.maxWait)||0,e):s,f="trailing"in n?!!n.trailing:f);function p(k){var S=r,E=i;return r=i=void 0,c=k,o=t.apply(E,S),o}function m(k){return c=k,a=setTimeout(x,e),u?p(k):o}function g(k){var S=k-l,E=k-c,P=e-S;return d?zVe(P,s-E):P}function v(k){var S=k-l,E=k-c;return l===void 0||S>=e||S<0||d&&E>=s}function x(){var k=kA();if(v(k))return b(k);a=setTimeout(x,g(k))}function b(k){return a=void 0,f&&r?p(k):(r=i=void 0,o)}function w(){a!==void 0&&clearTimeout(a),c=0,r=l=i=a=void 0}function T(){return a===void 0?o:b(kA())}function _(){var k=kA(),S=v(k);if(r=arguments,i=this,l=k,S){if(a===void 0)return m(l);if(d)return clearTimeout(a),a=setTimeout(x,e),p(l)}return a===void 0&&(a=setTimeout(x,e)),o}return _.cancel=w,_.flush=T,_}var HVe=qVe,WVe=HVe,KVe=dc,GVe="Expected a function";function QVe(t,e,n){var r=!0,i=!0;if(typeof t!="function")throw new TypeError(GVe);return KVe(n)&&(r="leading"in n?!!n.leading:r,i="trailing"in n?!!n.trailing:i),WVe(t,e,{leading:r,maxWait:e,trailing:i})}var YVe=QVe;const gX=vt(YVe);function Ty(t){"@babel/helpers - typeof";return Ty=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ty(t)}function AB(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function sx(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?AB(Object(n),!0).forEach(function(r){XVe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):AB(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function XVe(t,e,n){return e=JVe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function JVe(t){var e=ZVe(t,"string");return Ty(e)=="symbol"?e:e+""}function ZVe(t,e){if(Ty(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Ty(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function eFe(t,e){return iFe(t)||rFe(t,e)||nFe(t,e)||tFe()}function tFe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function nFe(t,e){if(t){if(typeof t=="string")return kB(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return kB(t,e)}}function kB(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function rFe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,s,o,a=[],l=!0,c=!1;try{if(s=(n=n.call(t)).next,e!==0)for(;!(l=(r=s.call(n)).done)&&(a.push(r.value),a.length!==e);l=!0);}catch(u){c=!0,i=u}finally{try{if(!l&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(c)throw i}}return a}}function iFe(t){if(Array.isArray(t))return t}var Rf=C.forwardRef(function(t,e){var n=t.aspect,r=t.initialDimension,i=r===void 0?{width:-1,height:-1}:r,s=t.width,o=s===void 0?"100%":s,a=t.height,l=a===void 0?"100%":a,c=t.minWidth,u=c===void 0?0:c,d=t.minHeight,f=t.maxHeight,p=t.children,m=t.debounce,g=m===void 0?0:m,v=t.id,x=t.className,b=t.onResize,w=t.style,T=w===void 0?{}:w,_=C.useRef(null),k=C.useRef();k.current=b,C.useImperativeHandle(e,function(){return Object.defineProperty(_.current,"current",{get:function(){return console.warn("The usage of ref.current.current is deprecated and will no longer be supported."),_.current},configurable:!0})});var S=C.useState({containerWidth:i.width,containerHeight:i.height}),E=eFe(S,2),P=E[0],O=E[1],N=C.useCallback(function(j,z){O(function(F){var L=Math.round(j),B=Math.round(z);return F.containerWidth===L&&F.containerHeight===B?F:{containerWidth:L,containerHeight:B}})},[]);C.useEffect(function(){var j=function(U){var W,Z=U[0].contentRect,Q=Z.width,fe=Z.height;N(Q,fe),(W=k.current)===null||W===void 0||W.call(k,Q,fe)};g>0&&(j=gX(j,g,{trailing:!0,leading:!1}));var z=new ResizeObserver(j),F=_.current.getBoundingClientRect(),L=F.width,B=F.height;return N(L,B),z.observe(_.current),function(){z.disconnect()}},[N,g]);var R=C.useMemo(function(){var j=P.containerWidth,z=P.containerHeight;if(j<0||z<0)return null;ks(eu(o)||eu(l),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,o,l),ks(!n||n>0,"The aspect(%s) must be greater than zero.",n);var F=eu(o)?j:o,L=eu(l)?z:l;n&&n>0&&(F?L=F/n:L&&(F=L*n),f&&L>f&&(L=f)),ks(F>0||L>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,F,L,o,l,u,d,n);var B=!Array.isArray(p)&&ea(p.type).endsWith("Chart");return M.Children.map(p,function($){return M.isValidElement($)?C.cloneElement($,sx({width:F,height:L},B?{style:sx({height:"100%",width:"100%",maxHeight:L,maxWidth:F},$.props.style)}:{})):$})},[n,p,l,f,d,u,P,o]);return M.createElement("div",{id:v?"".concat(v):void 0,className:He("recharts-responsive-container",x),style:sx(sx({},T),{},{width:o,height:l,minWidth:u,minHeight:d,maxHeight:f}),ref:_},R)}),JS=function(e){return null};JS.displayName="Cell";function Ay(t){"@babel/helpers - typeof";return Ay=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ay(t)}function PB(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function uI(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?PB(Object(n),!0).forEach(function(r){sFe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):PB(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function sFe(t,e,n){return e=oFe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function oFe(t){var e=aFe(t,"string");return Ay(e)=="symbol"?e:e+""}function aFe(t,e){if(Ay(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Ay(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Cd={widthCache:{},cacheCount:0},lFe=2e3,cFe={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},CB="recharts_measurement_span";function uFe(t){var e=uI({},t);return Object.keys(e).forEach(function(n){e[n]||delete e[n]}),e}var hg=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e==null||oo.isSsr)return{width:0,height:0};var r=uFe(n),i=JSON.stringify({text:e,copyStyle:r});if(Cd.widthCache[i])return Cd.widthCache[i];try{var s=document.getElementById(CB);s||(s=document.createElement("span"),s.setAttribute("id",CB),s.setAttribute("aria-hidden","true"),document.body.appendChild(s));var o=uI(uI({},cFe),r);Object.assign(s.style,o),s.textContent="".concat(e);var a=s.getBoundingClientRect(),l={width:a.width,height:a.height};return Cd.widthCache[i]=l,++Cd.cacheCount>lFe&&(Cd.cacheCount=0,Cd.widthCache={}),l}catch{return{width:0,height:0}}},dFe=function(e){return{top:e.top+window.scrollY-document.documentElement.clientTop,left:e.left+window.scrollX-document.documentElement.clientLeft}};function ky(t){"@babel/helpers - typeof";return ky=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ky(t)}function x1(t,e){return mFe(t)||pFe(t,e)||hFe(t,e)||fFe()}function fFe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function hFe(t,e){if(t){if(typeof t=="string")return IB(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return IB(t,e)}}function IB(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function pFe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,s,o,a=[],l=!0,c=!1;try{if(s=(n=n.call(t)).next,e===0){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=s.call(n)).done)&&(a.push(r.value),a.length!==e);l=!0);}catch(u){c=!0,i=u}finally{try{if(!l&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(c)throw i}}return a}}function mFe(t){if(Array.isArray(t))return t}function gFe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function OB(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,vFe(r.key),r)}}function yFe(t,e,n){return e&&OB(t.prototype,e),n&&OB(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function vFe(t){var e=xFe(t,"string");return ky(e)=="symbol"?e:e+""}function xFe(t,e){if(ky(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(ky(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var NB=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,jB=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,bFe=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,wFe=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,yX={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},_Fe=Object.keys(yX),uf="NaN";function SFe(t,e){return t*yX[e]}var ox=function(){function t(e,n){gFe(this,t),this.num=e,this.unit=n,this.num=e,this.unit=n,Number.isNaN(e)&&(this.unit=""),n!==""&&!bFe.test(n)&&(this.num=NaN,this.unit=""),_Fe.includes(n)&&(this.num=SFe(e,n),this.unit="px")}return yFe(t,[{key:"add",value:function(n){return this.unit!==n.unit?new t(NaN,""):new t(this.num+n.num,this.unit)}},{key:"subtract",value:function(n){return this.unit!==n.unit?new t(NaN,""):new t(this.num-n.num,this.unit)}},{key:"multiply",value:function(n){return this.unit!==""&&n.unit!==""&&this.unit!==n.unit?new t(NaN,""):new t(this.num*n.num,this.unit||n.unit)}},{key:"divide",value:function(n){return this.unit!==""&&n.unit!==""&&this.unit!==n.unit?new t(NaN,""):new t(this.num/n.num,this.unit||n.unit)}},{key:"toString",value:function(){return"".concat(this.num).concat(this.unit)}},{key:"isNaN",value:function(){return Number.isNaN(this.num)}}],[{key:"parse",value:function(n){var r,i=(r=wFe.exec(n))!==null&&r!==void 0?r:[],s=x1(i,3),o=s[1],a=s[2];return new t(parseFloat(o),a??"")}}])}();function vX(t){if(t.includes(uf))return uf;for(var e=t;e.includes("*")||e.includes("/");){var n,r=(n=NB.exec(e))!==null&&n!==void 0?n:[],i=x1(r,4),s=i[1],o=i[2],a=i[3],l=ox.parse(s??""),c=ox.parse(a??""),u=o==="*"?l.multiply(c):l.divide(c);if(u.isNaN())return uf;e=e.replace(NB,u.toString())}for(;e.includes("+")||/.-\d+(?:\.\d+)?/.test(e);){var d,f=(d=jB.exec(e))!==null&&d!==void 0?d:[],p=x1(f,4),m=p[1],g=p[2],v=p[3],x=ox.parse(m??""),b=ox.parse(v??""),w=g==="+"?x.add(b):x.subtract(b);if(w.isNaN())return uf;e=e.replace(jB,w.toString())}return e}var RB=/\(([^()]*)\)/;function EFe(t){for(var e=t;e.includes("(");){var n=RB.exec(e),r=x1(n,2),i=r[1];e=e.replace(RB,vX(i))}return e}function TFe(t){var e=t.replace(/\s+/g,"");return e=EFe(e),e=vX(e),e}function AFe(t){try{return TFe(t)}catch{return uf}}function PA(t){var e=AFe(t.slice(5,-1));return e===uf?"":e}var kFe=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],PFe=["dx","dy","angle","className","breakAll"];function dI(){return dI=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},dI.apply(this,arguments)}function DB(t,e){if(t==null)return{};var n=CFe(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function CFe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function MB(t,e){return jFe(t)||NFe(t,e)||OFe(t,e)||IFe()}function IFe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function OFe(t,e){if(t){if(typeof t=="string")return LB(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return LB(t,e)}}function LB(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function NFe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,s,o,a=[],l=!0,c=!1;try{if(s=(n=n.call(t)).next,e===0){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=s.call(n)).done)&&(a.push(r.value),a.length!==e);l=!0);}catch(u){c=!0,i=u}finally{try{if(!l&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(c)throw i}}return a}}function jFe(t){if(Array.isArray(t))return t}var xX=/[ \f\n\r\t\v\u2028\u2029]+/,bX=function(e){var n=e.children,r=e.breakAll,i=e.style;try{var s=[];qe(n)||(r?s=n.toString().split(""):s=n.toString().split(xX));var o=s.map(function(l){return{word:l,width:hg(l,i).width}}),a=r?0:hg("",i).width;return{wordsWithComputedWidth:o,spaceWidth:a}}catch{return null}},RFe=function(e,n,r,i,s){var o=e.maxLines,a=e.children,l=e.style,c=e.breakAll,u=ae(o),d=a,f=function(){var F=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return F.reduce(function(L,B){var $=B.word,U=B.width,W=L[L.length-1];if(W&&(i==null||s||W.width+U+r<Number(i)))W.words.push($),W.width+=U+r;else{var Z={words:[$],width:U};L.push(Z)}return L},[])},p=f(n),m=function(F){return F.reduce(function(L,B){return L.width>B.width?L:B})};if(!u)return p;for(var g="",v=function(F){var L=d.slice(0,F),B=bX({breakAll:c,style:l,children:L+g}).wordsWithComputedWidth,$=f(B),U=$.length>o||m($).width>Number(i);return[U,$]},x=0,b=d.length-1,w=0,T;x<=b&&w<=d.length-1;){var _=Math.floor((x+b)/2),k=_-1,S=v(k),E=MB(S,2),P=E[0],O=E[1],N=v(_),R=MB(N,1),j=R[0];if(!P&&!j&&(x=_+1),P&&j&&(b=_-1),!P&&j){T=O;break}w++}return T||p},$B=function(e){var n=qe(e)?[]:e.toString().split(xX);return[{words:n}]},DFe=function(e){var n=e.width,r=e.scaleToFit,i=e.children,s=e.style,o=e.breakAll,a=e.maxLines;if((n||r)&&!oo.isSsr){var l,c,u=bX({breakAll:o,children:i,style:s});if(u){var d=u.wordsWithComputedWidth,f=u.spaceWidth;l=d,c=f}else return $B(i);return RFe({breakAll:o,children:i,maxLines:a,style:s},l,c,n,r)}return $B(i)},VB="#808080",Qu=function(e){var n=e.x,r=n===void 0?0:n,i=e.y,s=i===void 0?0:i,o=e.lineHeight,a=o===void 0?"1em":o,l=e.capHeight,c=l===void 0?"0.71em":l,u=e.scaleToFit,d=u===void 0?!1:u,f=e.textAnchor,p=f===void 0?"start":f,m=e.verticalAnchor,g=m===void 0?"end":m,v=e.fill,x=v===void 0?VB:v,b=DB(e,kFe),w=C.useMemo(function(){return DFe({breakAll:b.breakAll,children:b.children,maxLines:b.maxLines,scaleToFit:d,style:b.style,width:b.width})},[b.breakAll,b.children,b.maxLines,d,b.style,b.width]),T=b.dx,_=b.dy,k=b.angle,S=b.className,E=b.breakAll,P=DB(b,PFe);if(!Dn(r)||!Dn(s))return null;var O=r+(ae(T)?T:0),N=s+(ae(_)?_:0),R;switch(g){case"start":R=PA("calc(".concat(c,")"));break;case"middle":R=PA("calc(".concat((w.length-1)/2," * -").concat(a," + (").concat(c," / 2))"));break;default:R=PA("calc(".concat(w.length-1," * -").concat(a,")"));break}var j=[];if(d){var z=w[0].width,F=b.width;j.push("scale(".concat((ae(F)?F/z:1)/z,")"))}return k&&j.push("rotate(".concat(k,", ").concat(O,", ").concat(N,")")),j.length&&(P.transform=j.join(" ")),M.createElement("text",dI({},Ie(P,!0),{x:O,y:N,className:He("recharts-text",S),textAnchor:p,fill:x.includes("url")?VB:x}),w.map(function(L,B){var $=L.words.join(E?"":" ");return M.createElement("tspan",{x:O,dy:B===0?R:a,key:"".concat($,"-").concat(B)},$)}))};function Fl(t,e){return t==null||e==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function MFe(t,e){return t==null||e==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function cR(t){let e,n,r;t.length!==2?(e=Fl,n=(a,l)=>Fl(t(a),l),r=(a,l)=>t(a)-l):(e=t===Fl||t===MFe?t:LFe,n=t,r=t);function i(a,l,c=0,u=a.length){if(c<u){if(e(l,l)!==0)return u;do{const d=c+u>>>1;n(a[d],l)<0?c=d+1:u=d}while(c<u)}return c}function s(a,l,c=0,u=a.length){if(c<u){if(e(l,l)!==0)return u;do{const d=c+u>>>1;n(a[d],l)<=0?c=d+1:u=d}while(c<u)}return c}function o(a,l,c=0,u=a.length){const d=i(a,l,c,u-1);return d>c&&r(a[d-1],l)>-r(a[d],l)?d-1:d}return{left:i,center:o,right:s}}function LFe(){return 0}function wX(t){return t===null?NaN:+t}function*$Fe(t,e){for(let n of t)n!=null&&(n=+n)>=n&&(yield n)}const VFe=cR(Fl),Uv=VFe.right;cR(wX).center;class FB extends Map{constructor(e,n=UFe){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),e!=null)for(const[r,i]of e)this.set(r,i)}get(e){return super.get(BB(this,e))}has(e){return super.has(BB(this,e))}set(e,n){return super.set(FFe(this,e),n)}delete(e){return super.delete(BFe(this,e))}}function BB({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):n}function FFe({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):(t.set(r,n),n)}function BFe({_intern:t,_key:e},n){const r=e(n);return t.has(r)&&(n=t.get(r),t.delete(r)),n}function UFe(t){return t!==null&&typeof t=="object"?t.valueOf():t}function zFe(t=Fl){if(t===Fl)return _X;if(typeof t!="function")throw new TypeError("compare is not a function");return(e,n)=>{const r=t(e,n);return r||r===0?r:(t(n,n)===0)-(t(e,e)===0)}}function _X(t,e){return(t==null||!(t>=t))-(e==null||!(e>=e))||(t<e?-1:t>e?1:0)}const qFe=Math.sqrt(50),HFe=Math.sqrt(10),WFe=Math.sqrt(2);function b1(t,e,n){const r=(e-t)/Math.max(0,n),i=Math.floor(Math.log10(r)),s=r/Math.pow(10,i),o=s>=qFe?10:s>=HFe?5:s>=WFe?2:1;let a,l,c;return i<0?(c=Math.pow(10,-i)/o,a=Math.round(t*c),l=Math.round(e*c),a/c<t&&++a,l/c>e&&--l,c=-c):(c=Math.pow(10,i)*o,a=Math.round(t/c),l=Math.round(e/c),a*c<t&&++a,l*c>e&&--l),l<a&&.5<=n&&n<2?b1(t,e,n*2):[a,l,c]}function fI(t,e,n){if(e=+e,t=+t,n=+n,!(n>0))return[];if(t===e)return[t];const r=e<t,[i,s,o]=r?b1(e,t,n):b1(t,e,n);if(!(s>=i))return[];const a=s-i+1,l=new Array(a);if(r)if(o<0)for(let c=0;c<a;++c)l[c]=(s-c)/-o;else for(let c=0;c<a;++c)l[c]=(s-c)*o;else if(o<0)for(let c=0;c<a;++c)l[c]=(i+c)/-o;else for(let c=0;c<a;++c)l[c]=(i+c)*o;return l}function hI(t,e,n){return e=+e,t=+t,n=+n,b1(t,e,n)[2]}function pI(t,e,n){e=+e,t=+t,n=+n;const r=e<t,i=r?hI(e,t,n):hI(t,e,n);return(r?-1:1)*(i<0?1/-i:i)}function UB(t,e){let n;for(const r of t)r!=null&&(n<r||n===void 0&&r>=r)&&(n=r);return n}function zB(t,e){let n;for(const r of t)r!=null&&(n>r||n===void 0&&r>=r)&&(n=r);return n}function SX(t,e,n=0,r=1/0,i){if(e=Math.floor(e),n=Math.floor(Math.max(0,n)),r=Math.floor(Math.min(t.length-1,r)),!(n<=e&&e<=r))return t;for(i=i===void 0?_X:zFe(i);r>n;){if(r-n>600){const l=r-n+1,c=e-n+1,u=Math.log(l),d=.5*Math.exp(2*u/3),f=.5*Math.sqrt(u*d*(l-d)/l)*(c-l/2<0?-1:1),p=Math.max(n,Math.floor(e-c*d/l+f)),m=Math.min(r,Math.floor(e+(l-c)*d/l+f));SX(t,e,p,m,i)}const s=t[e];let o=n,a=r;for(um(t,n,e),i(t[r],s)>0&&um(t,n,r);o<a;){for(um(t,o,a),++o,--a;i(t[o],s)<0;)++o;for(;i(t[a],s)>0;)--a}i(t[n],s)===0?um(t,n,a):(++a,um(t,a,r)),a<=e&&(n=a+1),e<=a&&(r=a-1)}return t}function um(t,e,n){const r=t[e];t[e]=t[n],t[n]=r}function KFe(t,e,n){if(t=Float64Array.from($Fe(t)),!(!(r=t.length)||isNaN(e=+e))){if(e<=0||r<2)return zB(t);if(e>=1)return UB(t);var r,i=(r-1)*e,s=Math.floor(i),o=UB(SX(t,s).subarray(0,s+1)),a=zB(t.subarray(s+1));return o+(a-o)*(i-s)}}function GFe(t,e,n=wX){if(!(!(r=t.length)||isNaN(e=+e))){if(e<=0||r<2)return+n(t[0],0,t);if(e>=1)return+n(t[r-1],r-1,t);var r,i=(r-1)*e,s=Math.floor(i),o=+n(t[s],s,t),a=+n(t[s+1],s+1,t);return o+(a-o)*(i-s)}}function QFe(t,e,n){t=+t,e=+e,n=(i=arguments.length)<2?(e=t,t=0,1):i<3?1:+n;for(var r=-1,i=Math.max(0,Math.ceil((e-t)/n))|0,s=new Array(i);++r<i;)s[r]=t+r*n;return s}function us(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t);break}return this}function Aa(t,e){switch(arguments.length){case 0:break;case 1:{typeof t=="function"?this.interpolator(t):this.range(t);break}default:{this.domain(t),typeof e=="function"?this.interpolator(e):this.range(e);break}}return this}const mI=Symbol("implicit");function uR(){var t=new FB,e=[],n=[],r=mI;function i(s){let o=t.get(s);if(o===void 0){if(r!==mI)return r;t.set(s,o=e.push(s)-1)}return n[o%n.length]}return i.domain=function(s){if(!arguments.length)return e.slice();e=[],t=new FB;for(const o of s)t.has(o)||t.set(o,e.push(o)-1);return i},i.range=function(s){return arguments.length?(n=Array.from(s),i):n.slice()},i.unknown=function(s){return arguments.length?(r=s,i):r},i.copy=function(){return uR(e,n).unknown(r)},us.apply(i,arguments),i}function Py(){var t=uR().unknown(void 0),e=t.domain,n=t.range,r=0,i=1,s,o,a=!1,l=0,c=0,u=.5;delete t.unknown;function d(){var f=e().length,p=i<r,m=p?i:r,g=p?r:i;s=(g-m)/Math.max(1,f-l+c*2),a&&(s=Math.floor(s)),m+=(g-m-s*(f-l))*u,o=s*(1-l),a&&(m=Math.round(m),o=Math.round(o));var v=QFe(f).map(function(x){return m+s*x});return n(p?v.reverse():v)}return t.domain=function(f){return arguments.length?(e(f),d()):e()},t.range=function(f){return arguments.length?([r,i]=f,r=+r,i=+i,d()):[r,i]},t.rangeRound=function(f){return[r,i]=f,r=+r,i=+i,a=!0,d()},t.bandwidth=function(){return o},t.step=function(){return s},t.round=function(f){return arguments.length?(a=!!f,d()):a},t.padding=function(f){return arguments.length?(l=Math.min(1,c=+f),d()):l},t.paddingInner=function(f){return arguments.length?(l=Math.min(1,f),d()):l},t.paddingOuter=function(f){return arguments.length?(c=+f,d()):c},t.align=function(f){return arguments.length?(u=Math.max(0,Math.min(1,f)),d()):u},t.copy=function(){return Py(e(),[r,i]).round(a).paddingInner(l).paddingOuter(c).align(u)},us.apply(d(),arguments)}function EX(t){var e=t.copy;return t.padding=t.paddingOuter,delete t.paddingInner,delete t.paddingOuter,t.copy=function(){return EX(e())},t}function pg(){return EX(Py.apply(null,arguments).paddingInner(1))}function dR(t,e,n){t.prototype=e.prototype=n,n.constructor=t}function TX(t,e){var n=Object.create(t.prototype);for(var r in e)n[r]=e[r];return n}function zv(){}var Cy=.7,w1=1/Cy,Df="\\s*([+-]?\\d+)\\s*",Iy="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",ao="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",YFe=/^#([0-9a-f]{3,8})$/,XFe=new RegExp(`^rgb\\(${Df},${Df},${Df}\\)$`),JFe=new RegExp(`^rgb\\(${ao},${ao},${ao}\\)$`),ZFe=new RegExp(`^rgba\\(${Df},${Df},${Df},${Iy}\\)$`),e3e=new RegExp(`^rgba\\(${ao},${ao},${ao},${Iy}\\)$`),t3e=new RegExp(`^hsl\\(${Iy},${ao},${ao}\\)$`),n3e=new RegExp(`^hsla\\(${Iy},${ao},${ao},${Iy}\\)$`),qB={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};dR(zv,Oy,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:HB,formatHex:HB,formatHex8:r3e,formatHsl:i3e,formatRgb:WB,toString:WB});function HB(){return this.rgb().formatHex()}function r3e(){return this.rgb().formatHex8()}function i3e(){return AX(this).formatHsl()}function WB(){return this.rgb().formatRgb()}function Oy(t){var e,n;return t=(t+"").trim().toLowerCase(),(e=YFe.exec(t))?(n=e[1].length,e=parseInt(e[1],16),n===6?KB(e):n===3?new ii(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):n===8?ax(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):n===4?ax(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=XFe.exec(t))?new ii(e[1],e[2],e[3],1):(e=JFe.exec(t))?new ii(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=ZFe.exec(t))?ax(e[1],e[2],e[3],e[4]):(e=e3e.exec(t))?ax(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=t3e.exec(t))?YB(e[1],e[2]/100,e[3]/100,1):(e=n3e.exec(t))?YB(e[1],e[2]/100,e[3]/100,e[4]):qB.hasOwnProperty(t)?KB(qB[t]):t==="transparent"?new ii(NaN,NaN,NaN,0):null}function KB(t){return new ii(t>>16&255,t>>8&255,t&255,1)}function ax(t,e,n,r){return r<=0&&(t=e=n=NaN),new ii(t,e,n,r)}function s3e(t){return t instanceof zv||(t=Oy(t)),t?(t=t.rgb(),new ii(t.r,t.g,t.b,t.opacity)):new ii}function gI(t,e,n,r){return arguments.length===1?s3e(t):new ii(t,e,n,r??1)}function ii(t,e,n,r){this.r=+t,this.g=+e,this.b=+n,this.opacity=+r}dR(ii,gI,TX(zv,{brighter(t){return t=t==null?w1:Math.pow(w1,t),new ii(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?Cy:Math.pow(Cy,t),new ii(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new ii(Eu(this.r),Eu(this.g),Eu(this.b),_1(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:GB,formatHex:GB,formatHex8:o3e,formatRgb:QB,toString:QB}));function GB(){return`#${tu(this.r)}${tu(this.g)}${tu(this.b)}`}function o3e(){return`#${tu(this.r)}${tu(this.g)}${tu(this.b)}${tu((isNaN(this.opacity)?1:this.opacity)*255)}`}function QB(){const t=_1(this.opacity);return`${t===1?"rgb(":"rgba("}${Eu(this.r)}, ${Eu(this.g)}, ${Eu(this.b)}${t===1?")":`, ${t})`}`}function _1(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function Eu(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function tu(t){return t=Eu(t),(t<16?"0":"")+t.toString(16)}function YB(t,e,n,r){return r<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new Ss(t,e,n,r)}function AX(t){if(t instanceof Ss)return new Ss(t.h,t.s,t.l,t.opacity);if(t instanceof zv||(t=Oy(t)),!t)return new Ss;if(t instanceof Ss)return t;t=t.rgb();var e=t.r/255,n=t.g/255,r=t.b/255,i=Math.min(e,n,r),s=Math.max(e,n,r),o=NaN,a=s-i,l=(s+i)/2;return a?(e===s?o=(n-r)/a+(n<r)*6:n===s?o=(r-e)/a+2:o=(e-n)/a+4,a/=l<.5?s+i:2-s-i,o*=60):a=l>0&&l<1?0:o,new Ss(o,a,l,t.opacity)}function a3e(t,e,n,r){return arguments.length===1?AX(t):new Ss(t,e,n,r??1)}function Ss(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}dR(Ss,a3e,TX(zv,{brighter(t){return t=t==null?w1:Math.pow(w1,t),new Ss(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?Cy:Math.pow(Cy,t),new Ss(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*e,i=2*n-r;return new ii(CA(t>=240?t-240:t+120,i,r),CA(t,i,r),CA(t<120?t+240:t-120,i,r),this.opacity)},clamp(){return new Ss(XB(this.h),lx(this.s),lx(this.l),_1(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=_1(this.opacity);return`${t===1?"hsl(":"hsla("}${XB(this.h)}, ${lx(this.s)*100}%, ${lx(this.l)*100}%${t===1?")":`, ${t})`}`}}));function XB(t){return t=(t||0)%360,t<0?t+360:t}function lx(t){return Math.max(0,Math.min(1,t||0))}function CA(t,e,n){return(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)*255}const fR=t=>()=>t;function l3e(t,e){return function(n){return t+n*e}}function c3e(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(r){return Math.pow(t+r*e,n)}}function u3e(t){return(t=+t)==1?kX:function(e,n){return n-e?c3e(e,n,t):fR(isNaN(e)?n:e)}}function kX(t,e){var n=e-t;return n?l3e(t,n):fR(isNaN(t)?e:t)}const JB=function t(e){var n=u3e(e);function r(i,s){var o=n((i=gI(i)).r,(s=gI(s)).r),a=n(i.g,s.g),l=n(i.b,s.b),c=kX(i.opacity,s.opacity);return function(u){return i.r=o(u),i.g=a(u),i.b=l(u),i.opacity=c(u),i+""}}return r.gamma=t,r}(1);function d3e(t,e){e||(e=[]);var n=t?Math.min(e.length,t.length):0,r=e.slice(),i;return function(s){for(i=0;i<n;++i)r[i]=t[i]*(1-s)+e[i]*s;return r}}function f3e(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function h3e(t,e){var n=e?e.length:0,r=t?Math.min(n,t.length):0,i=new Array(r),s=new Array(n),o;for(o=0;o<r;++o)i[o]=Ep(t[o],e[o]);for(;o<n;++o)s[o]=e[o];return function(a){for(o=0;o<r;++o)s[o]=i[o](a);return s}}function p3e(t,e){var n=new Date;return t=+t,e=+e,function(r){return n.setTime(t*(1-r)+e*r),n}}function S1(t,e){return t=+t,e=+e,function(n){return t*(1-n)+e*n}}function m3e(t,e){var n={},r={},i;(t===null||typeof t!="object")&&(t={}),(e===null||typeof e!="object")&&(e={});for(i in e)i in t?n[i]=Ep(t[i],e[i]):r[i]=e[i];return function(s){for(i in n)r[i]=n[i](s);return r}}var yI=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,IA=new RegExp(yI.source,"g");function g3e(t){return function(){return t}}function y3e(t){return function(e){return t(e)+""}}function v3e(t,e){var n=yI.lastIndex=IA.lastIndex=0,r,i,s,o=-1,a=[],l=[];for(t=t+"",e=e+"";(r=yI.exec(t))&&(i=IA.exec(e));)(s=i.index)>n&&(s=e.slice(n,s),a[o]?a[o]+=s:a[++o]=s),(r=r[0])===(i=i[0])?a[o]?a[o]+=i:a[++o]=i:(a[++o]=null,l.push({i:o,x:S1(r,i)})),n=IA.lastIndex;return n<e.length&&(s=e.slice(n),a[o]?a[o]+=s:a[++o]=s),a.length<2?l[0]?y3e(l[0].x):g3e(e):(e=l.length,function(c){for(var u=0,d;u<e;++u)a[(d=l[u]).i]=d.x(c);return a.join("")})}function Ep(t,e){var n=typeof e,r;return e==null||n==="boolean"?fR(e):(n==="number"?S1:n==="string"?(r=Oy(e))?(e=r,JB):v3e:e instanceof Oy?JB:e instanceof Date?p3e:f3e(e)?d3e:Array.isArray(e)?h3e:typeof e.valueOf!="function"&&typeof e.toString!="function"||isNaN(e)?m3e:S1)(t,e)}function hR(t,e){return t=+t,e=+e,function(n){return Math.round(t*(1-n)+e*n)}}function x3e(t,e){e===void 0&&(e=t,t=Ep);for(var n=0,r=e.length-1,i=e[0],s=new Array(r<0?0:r);n<r;)s[n]=t(i,i=e[++n]);return function(o){var a=Math.max(0,Math.min(r-1,Math.floor(o*=r)));return s[a](o-a)}}function b3e(t){return function(){return t}}function E1(t){return+t}var ZB=[0,1];function Br(t){return t}function vI(t,e){return(e-=t=+t)?function(n){return(n-t)/e}:b3e(isNaN(e)?NaN:.5)}function w3e(t,e){var n;return t>e&&(n=t,t=e,e=n),function(r){return Math.max(t,Math.min(e,r))}}function _3e(t,e,n){var r=t[0],i=t[1],s=e[0],o=e[1];return i<r?(r=vI(i,r),s=n(o,s)):(r=vI(r,i),s=n(s,o)),function(a){return s(r(a))}}function S3e(t,e,n){var r=Math.min(t.length,e.length)-1,i=new Array(r),s=new Array(r),o=-1;for(t[r]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++o<r;)i[o]=vI(t[o],t[o+1]),s[o]=n(e[o],e[o+1]);return function(a){var l=Uv(t,a,1,r)-1;return s[l](i[l](a))}}function qv(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function ZS(){var t=ZB,e=ZB,n=Ep,r,i,s,o=Br,a,l,c;function u(){var f=Math.min(t.length,e.length);return o!==Br&&(o=w3e(t[0],t[f-1])),a=f>2?S3e:_3e,l=c=null,d}function d(f){return f==null||isNaN(f=+f)?s:(l||(l=a(t.map(r),e,n)))(r(o(f)))}return d.invert=function(f){return o(i((c||(c=a(e,t.map(r),S1)))(f)))},d.domain=function(f){return arguments.length?(t=Array.from(f,E1),u()):t.slice()},d.range=function(f){return arguments.length?(e=Array.from(f),u()):e.slice()},d.rangeRound=function(f){return e=Array.from(f),n=hR,u()},d.clamp=function(f){return arguments.length?(o=f?!0:Br,u()):o!==Br},d.interpolate=function(f){return arguments.length?(n=f,u()):n},d.unknown=function(f){return arguments.length?(s=f,d):s},function(f,p){return r=f,i=p,u()}}function pR(){return ZS()(Br,Br)}function E3e(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)}function T1(t,e){if((n=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var n,r=t.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+t.slice(n+1)]}function Oh(t){return t=T1(Math.abs(t)),t?t[1]:NaN}function T3e(t,e){return function(n,r){for(var i=n.length,s=[],o=0,a=t[0],l=0;i>0&&a>0&&(l+a+1>r&&(a=Math.max(1,r-l)),s.push(n.substring(i-=a,i+a)),!((l+=a+1)>r));)a=t[o=(o+1)%t.length];return s.reverse().join(e)}}function A3e(t){return function(e){return e.replace(/[0-9]/g,function(n){return t[+n]})}}var k3e=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Ny(t){if(!(e=k3e.exec(t)))throw new Error("invalid format: "+t);var e;return new mR({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}Ny.prototype=mR.prototype;function mR(t){this.fill=t.fill===void 0?" ":t.fill+"",this.align=t.align===void 0?">":t.align+"",this.sign=t.sign===void 0?"-":t.sign+"",this.symbol=t.symbol===void 0?"":t.symbol+"",this.zero=!!t.zero,this.width=t.width===void 0?void 0:+t.width,this.comma=!!t.comma,this.precision=t.precision===void 0?void 0:+t.precision,this.trim=!!t.trim,this.type=t.type===void 0?"":t.type+""}mR.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function P3e(t){e:for(var e=t.length,n=1,r=-1,i;n<e;++n)switch(t[n]){case".":r=i=n;break;case"0":r===0&&(r=n),i=n;break;default:if(!+t[n])break e;r>0&&(r=0);break}return r>0?t.slice(0,r)+t.slice(i+1):t}var PX;function C3e(t,e){var n=T1(t,e);if(!n)return t+"";var r=n[0],i=n[1],s=i-(PX=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,o=r.length;return s===o?r:s>o?r+new Array(s-o+1).join("0"):s>0?r.slice(0,s)+"."+r.slice(s):"0."+new Array(1-s).join("0")+T1(t,Math.max(0,e+s-1))[0]}function eU(t,e){var n=T1(t,e);if(!n)return t+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}const tU={"%":(t,e)=>(t*100).toFixed(e),b:t=>Math.round(t).toString(2),c:t=>t+"",d:E3e,e:(t,e)=>t.toExponential(e),f:(t,e)=>t.toFixed(e),g:(t,e)=>t.toPrecision(e),o:t=>Math.round(t).toString(8),p:(t,e)=>eU(t*100,e),r:eU,s:C3e,X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function nU(t){return t}var rU=Array.prototype.map,iU=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function I3e(t){var e=t.grouping===void 0||t.thousands===void 0?nU:T3e(rU.call(t.grouping,Number),t.thousands+""),n=t.currency===void 0?"":t.currency[0]+"",r=t.currency===void 0?"":t.currency[1]+"",i=t.decimal===void 0?".":t.decimal+"",s=t.numerals===void 0?nU:A3e(rU.call(t.numerals,String)),o=t.percent===void 0?"%":t.percent+"",a=t.minus===void 0?"":t.minus+"",l=t.nan===void 0?"NaN":t.nan+"";function c(d){d=Ny(d);var f=d.fill,p=d.align,m=d.sign,g=d.symbol,v=d.zero,x=d.width,b=d.comma,w=d.precision,T=d.trim,_=d.type;_==="n"?(b=!0,_="g"):tU[_]||(w===void 0&&(w=12),T=!0,_="g"),(v||f==="0"&&p==="=")&&(v=!0,f="0",p="=");var k=g==="$"?n:g==="#"&&/[boxX]/.test(_)?"0"+_.toLowerCase():"",S=g==="$"?r:/[%p]/.test(_)?o:"",E=tU[_],P=/[defgprs%]/.test(_);w=w===void 0?6:/[gprs]/.test(_)?Math.max(1,Math.min(21,w)):Math.max(0,Math.min(20,w));function O(N){var R=k,j=S,z,F,L;if(_==="c")j=E(N)+j,N="";else{N=+N;var B=N<0||1/N<0;if(N=isNaN(N)?l:E(Math.abs(N),w),T&&(N=P3e(N)),B&&+N==0&&m!=="+"&&(B=!1),R=(B?m==="("?m:a:m==="-"||m==="("?"":m)+R,j=(_==="s"?iU[8+PX/3]:"")+j+(B&&m==="("?")":""),P){for(z=-1,F=N.length;++z<F;)if(L=N.charCodeAt(z),48>L||L>57){j=(L===46?i+N.slice(z+1):N.slice(z))+j,N=N.slice(0,z);break}}}b&&!v&&(N=e(N,1/0));var $=R.length+N.length+j.length,U=$<x?new Array(x-$+1).join(f):"";switch(b&&v&&(N=e(U+N,U.length?x-j.length:1/0),U=""),p){case"<":N=R+N+j+U;break;case"=":N=R+U+N+j;break;case"^":N=U.slice(0,$=U.length>>1)+R+N+j+U.slice($);break;default:N=U+R+N+j;break}return s(N)}return O.toString=function(){return d+""},O}function u(d,f){var p=c((d=Ny(d),d.type="f",d)),m=Math.max(-8,Math.min(8,Math.floor(Oh(f)/3)))*3,g=Math.pow(10,-m),v=iU[8+m/3];return function(x){return p(g*x)+v}}return{format:c,formatPrefix:u}}var cx,gR,CX;O3e({thousands:",",grouping:[3],currency:["$",""]});function O3e(t){return cx=I3e(t),gR=cx.format,CX=cx.formatPrefix,cx}function N3e(t){return Math.max(0,-Oh(Math.abs(t)))}function j3e(t,e){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(Oh(e)/3)))*3-Oh(Math.abs(t)))}function R3e(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,Oh(e)-Oh(t))+1}function IX(t,e,n,r){var i=pI(t,e,n),s;switch(r=Ny(r??",f"),r.type){case"s":{var o=Math.max(Math.abs(t),Math.abs(e));return r.precision==null&&!isNaN(s=j3e(i,o))&&(r.precision=s),CX(r,o)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(s=R3e(i,Math.max(Math.abs(t),Math.abs(e))))&&(r.precision=s-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(s=N3e(i))&&(r.precision=s-(r.type==="%")*2);break}}return gR(r)}function fc(t){var e=t.domain;return t.ticks=function(n){var r=e();return fI(r[0],r[r.length-1],n??10)},t.tickFormat=function(n,r){var i=e();return IX(i[0],i[i.length-1],n??10,r)},t.nice=function(n){n==null&&(n=10);var r=e(),i=0,s=r.length-1,o=r[i],a=r[s],l,c,u=10;for(a<o&&(c=o,o=a,a=c,c=i,i=s,s=c);u-- >0;){if(c=hI(o,a,n),c===l)return r[i]=o,r[s]=a,e(r);if(c>0)o=Math.floor(o/c)*c,a=Math.ceil(a/c)*c;else if(c<0)o=Math.ceil(o*c)/c,a=Math.floor(a*c)/c;else break;l=c}return t},t}function A1(){var t=pR();return t.copy=function(){return qv(t,A1())},us.apply(t,arguments),fc(t)}function OX(t){var e;function n(r){return r==null||isNaN(r=+r)?e:r}return n.invert=n,n.domain=n.range=function(r){return arguments.length?(t=Array.from(r,E1),n):t.slice()},n.unknown=function(r){return arguments.length?(e=r,n):e},n.copy=function(){return OX(t).unknown(e)},t=arguments.length?Array.from(t,E1):[0,1],fc(n)}function NX(t,e){t=t.slice();var n=0,r=t.length-1,i=t[n],s=t[r],o;return s<i&&(o=n,n=r,r=o,o=i,i=s,s=o),t[n]=e.floor(i),t[r]=e.ceil(s),t}function sU(t){return Math.log(t)}function oU(t){return Math.exp(t)}function D3e(t){return-Math.log(-t)}function M3e(t){return-Math.exp(-t)}function L3e(t){return isFinite(t)?+("1e"+t):t<0?0:t}function $3e(t){return t===10?L3e:t===Math.E?Math.exp:e=>Math.pow(t,e)}function V3e(t){return t===Math.E?Math.log:t===10&&Math.log10||t===2&&Math.log2||(t=Math.log(t),e=>Math.log(e)/t)}function aU(t){return(e,n)=>-t(-e,n)}function yR(t){const e=t(sU,oU),n=e.domain;let r=10,i,s;function o(){return i=V3e(r),s=$3e(r),n()[0]<0?(i=aU(i),s=aU(s),t(D3e,M3e)):t(sU,oU),e}return e.base=function(a){return arguments.length?(r=+a,o()):r},e.domain=function(a){return arguments.length?(n(a),o()):n()},e.ticks=a=>{const l=n();let c=l[0],u=l[l.length-1];const d=u<c;d&&([c,u]=[u,c]);let f=i(c),p=i(u),m,g;const v=a==null?10:+a;let x=[];if(!(r%1)&&p-f<v){if(f=Math.floor(f),p=Math.ceil(p),c>0){for(;f<=p;++f)for(m=1;m<r;++m)if(g=f<0?m/s(-f):m*s(f),!(g<c)){if(g>u)break;x.push(g)}}else for(;f<=p;++f)for(m=r-1;m>=1;--m)if(g=f>0?m/s(-f):m*s(f),!(g<c)){if(g>u)break;x.push(g)}x.length*2<v&&(x=fI(c,u,v))}else x=fI(f,p,Math.min(p-f,v)).map(s);return d?x.reverse():x},e.tickFormat=(a,l)=>{if(a==null&&(a=10),l==null&&(l=r===10?"s":","),typeof l!="function"&&(!(r%1)&&(l=Ny(l)).precision==null&&(l.trim=!0),l=gR(l)),a===1/0)return l;const c=Math.max(1,r*a/e.ticks().length);return u=>{let d=u/s(Math.round(i(u)));return d*r<r-.5&&(d*=r),d<=c?l(u):""}},e.nice=()=>n(NX(n(),{floor:a=>s(Math.floor(i(a))),ceil:a=>s(Math.ceil(i(a)))})),e}function jX(){const t=yR(ZS()).domain([1,10]);return t.copy=()=>qv(t,jX()).base(t.base()),us.apply(t,arguments),t}function lU(t){return function(e){return Math.sign(e)*Math.log1p(Math.abs(e/t))}}function cU(t){return function(e){return Math.sign(e)*Math.expm1(Math.abs(e))*t}}function vR(t){var e=1,n=t(lU(e),cU(e));return n.constant=function(r){return arguments.length?t(lU(e=+r),cU(e)):e},fc(n)}function RX(){var t=vR(ZS());return t.copy=function(){return qv(t,RX()).constant(t.constant())},us.apply(t,arguments)}function uU(t){return function(e){return e<0?-Math.pow(-e,t):Math.pow(e,t)}}function F3e(t){return t<0?-Math.sqrt(-t):Math.sqrt(t)}function B3e(t){return t<0?-t*t:t*t}function xR(t){var e=t(Br,Br),n=1;function r(){return n===1?t(Br,Br):n===.5?t(F3e,B3e):t(uU(n),uU(1/n))}return e.exponent=function(i){return arguments.length?(n=+i,r()):n},fc(e)}function bR(){var t=xR(ZS());return t.copy=function(){return qv(t,bR()).exponent(t.exponent())},us.apply(t,arguments),t}function U3e(){return bR.apply(null,arguments).exponent(.5)}function dU(t){return Math.sign(t)*t*t}function z3e(t){return Math.sign(t)*Math.sqrt(Math.abs(t))}function DX(){var t=pR(),e=[0,1],n=!1,r;function i(s){var o=z3e(t(s));return isNaN(o)?r:n?Math.round(o):o}return i.invert=function(s){return t.invert(dU(s))},i.domain=function(s){return arguments.length?(t.domain(s),i):t.domain()},i.range=function(s){return arguments.length?(t.range((e=Array.from(s,E1)).map(dU)),i):e.slice()},i.rangeRound=function(s){return i.range(s).round(!0)},i.round=function(s){return arguments.length?(n=!!s,i):n},i.clamp=function(s){return arguments.length?(t.clamp(s),i):t.clamp()},i.unknown=function(s){return arguments.length?(r=s,i):r},i.copy=function(){return DX(t.domain(),e).round(n).clamp(t.clamp()).unknown(r)},us.apply(i,arguments),fc(i)}function MX(){var t=[],e=[],n=[],r;function i(){var o=0,a=Math.max(1,e.length);for(n=new Array(a-1);++o<a;)n[o-1]=GFe(t,o/a);return s}function s(o){return o==null||isNaN(o=+o)?r:e[Uv(n,o)]}return s.invertExtent=function(o){var a=e.indexOf(o);return a<0?[NaN,NaN]:[a>0?n[a-1]:t[0],a<n.length?n[a]:t[t.length-1]]},s.domain=function(o){if(!arguments.length)return t.slice();t=[];for(let a of o)a!=null&&!isNaN(a=+a)&&t.push(a);return t.sort(Fl),i()},s.range=function(o){return arguments.length?(e=Array.from(o),i()):e.slice()},s.unknown=function(o){return arguments.length?(r=o,s):r},s.quantiles=function(){return n.slice()},s.copy=function(){return MX().domain(t).range(e).unknown(r)},us.apply(s,arguments)}function LX(){var t=0,e=1,n=1,r=[.5],i=[0,1],s;function o(l){return l!=null&&l<=l?i[Uv(r,l,0,n)]:s}function a(){var l=-1;for(r=new Array(n);++l<n;)r[l]=((l+1)*e-(l-n)*t)/(n+1);return o}return o.domain=function(l){return arguments.length?([t,e]=l,t=+t,e=+e,a()):[t,e]},o.range=function(l){return arguments.length?(n=(i=Array.from(l)).length-1,a()):i.slice()},o.invertExtent=function(l){var c=i.indexOf(l);return c<0?[NaN,NaN]:c<1?[t,r[0]]:c>=n?[r[n-1],e]:[r[c-1],r[c]]},o.unknown=function(l){return arguments.length&&(s=l),o},o.thresholds=function(){return r.slice()},o.copy=function(){return LX().domain([t,e]).range(i).unknown(s)},us.apply(fc(o),arguments)}function $X(){var t=[.5],e=[0,1],n,r=1;function i(s){return s!=null&&s<=s?e[Uv(t,s,0,r)]:n}return i.domain=function(s){return arguments.length?(t=Array.from(s),r=Math.min(t.length,e.length-1),i):t.slice()},i.range=function(s){return arguments.length?(e=Array.from(s),r=Math.min(t.length,e.length-1),i):e.slice()},i.invertExtent=function(s){var o=e.indexOf(s);return[t[o-1],t[o]]},i.unknown=function(s){return arguments.length?(n=s,i):n},i.copy=function(){return $X().domain(t).range(e).unknown(n)},us.apply(i,arguments)}const OA=new Date,NA=new Date;function $n(t,e,n,r){function i(s){return t(s=arguments.length===0?new Date:new Date(+s)),s}return i.floor=s=>(t(s=new Date(+s)),s),i.ceil=s=>(t(s=new Date(s-1)),e(s,1),t(s),s),i.round=s=>{const o=i(s),a=i.ceil(s);return s-o<a-s?o:a},i.offset=(s,o)=>(e(s=new Date(+s),o==null?1:Math.floor(o)),s),i.range=(s,o,a)=>{const l=[];if(s=i.ceil(s),a=a==null?1:Math.floor(a),!(s<o)||!(a>0))return l;let c;do l.push(c=new Date(+s)),e(s,a),t(s);while(c<s&&s<o);return l},i.filter=s=>$n(o=>{if(o>=o)for(;t(o),!s(o);)o.setTime(o-1)},(o,a)=>{if(o>=o)if(a<0)for(;++a<=0;)for(;e(o,-1),!s(o););else for(;--a>=0;)for(;e(o,1),!s(o););}),n&&(i.count=(s,o)=>(OA.setTime(+s),NA.setTime(+o),t(OA),t(NA),Math.floor(n(OA,NA))),i.every=s=>(s=Math.floor(s),!isFinite(s)||!(s>0)?null:s>1?i.filter(r?o=>r(o)%s===0:o=>i.count(0,o)%s===0):i)),i}const k1=$n(()=>{},(t,e)=>{t.setTime(+t+e)},(t,e)=>e-t);k1.every=t=>(t=Math.floor(t),!isFinite(t)||!(t>0)?null:t>1?$n(e=>{e.setTime(Math.floor(e/t)*t)},(e,n)=>{e.setTime(+e+n*t)},(e,n)=>(n-e)/t):k1);k1.range;const qo=1e3,es=qo*60,Ho=es*60,pa=Ho*24,wR=pa*7,fU=pa*30,jA=pa*365,nu=$n(t=>{t.setTime(t-t.getMilliseconds())},(t,e)=>{t.setTime(+t+e*qo)},(t,e)=>(e-t)/qo,t=>t.getUTCSeconds());nu.range;const _R=$n(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*qo)},(t,e)=>{t.setTime(+t+e*es)},(t,e)=>(e-t)/es,t=>t.getMinutes());_R.range;const SR=$n(t=>{t.setUTCSeconds(0,0)},(t,e)=>{t.setTime(+t+e*es)},(t,e)=>(e-t)/es,t=>t.getUTCMinutes());SR.range;const ER=$n(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*qo-t.getMinutes()*es)},(t,e)=>{t.setTime(+t+e*Ho)},(t,e)=>(e-t)/Ho,t=>t.getHours());ER.range;const TR=$n(t=>{t.setUTCMinutes(0,0,0)},(t,e)=>{t.setTime(+t+e*Ho)},(t,e)=>(e-t)/Ho,t=>t.getUTCHours());TR.range;const Hv=$n(t=>t.setHours(0,0,0,0),(t,e)=>t.setDate(t.getDate()+e),(t,e)=>(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*es)/pa,t=>t.getDate()-1);Hv.range;const eE=$n(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/pa,t=>t.getUTCDate()-1);eE.range;const VX=$n(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/pa,t=>Math.floor(t/pa));VX.range;function hd(t){return $n(e=>{e.setDate(e.getDate()-(e.getDay()+7-t)%7),e.setHours(0,0,0,0)},(e,n)=>{e.setDate(e.getDate()+n*7)},(e,n)=>(n-e-(n.getTimezoneOffset()-e.getTimezoneOffset())*es)/wR)}const tE=hd(0),P1=hd(1),q3e=hd(2),H3e=hd(3),Nh=hd(4),W3e=hd(5),K3e=hd(6);tE.range;P1.range;q3e.range;H3e.range;Nh.range;W3e.range;K3e.range;function pd(t){return $n(e=>{e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-t)%7),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCDate(e.getUTCDate()+n*7)},(e,n)=>(n-e)/wR)}const nE=pd(0),C1=pd(1),G3e=pd(2),Q3e=pd(3),jh=pd(4),Y3e=pd(5),X3e=pd(6);nE.range;C1.range;G3e.range;Q3e.range;jh.range;Y3e.range;X3e.range;const AR=$n(t=>{t.setDate(1),t.setHours(0,0,0,0)},(t,e)=>{t.setMonth(t.getMonth()+e)},(t,e)=>e.getMonth()-t.getMonth()+(e.getFullYear()-t.getFullYear())*12,t=>t.getMonth());AR.range;const kR=$n(t=>{t.setUTCDate(1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCMonth(t.getUTCMonth()+e)},(t,e)=>e.getUTCMonth()-t.getUTCMonth()+(e.getUTCFullYear()-t.getUTCFullYear())*12,t=>t.getUTCMonth());kR.range;const ma=$n(t=>{t.setMonth(0,1),t.setHours(0,0,0,0)},(t,e)=>{t.setFullYear(t.getFullYear()+e)},(t,e)=>e.getFullYear()-t.getFullYear(),t=>t.getFullYear());ma.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:$n(e=>{e.setFullYear(Math.floor(e.getFullYear()/t)*t),e.setMonth(0,1),e.setHours(0,0,0,0)},(e,n)=>{e.setFullYear(e.getFullYear()+n*t)});ma.range;const ga=$n(t=>{t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCFullYear(t.getUTCFullYear()+e)},(t,e)=>e.getUTCFullYear()-t.getUTCFullYear(),t=>t.getUTCFullYear());ga.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:$n(e=>{e.setUTCFullYear(Math.floor(e.getUTCFullYear()/t)*t),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCFullYear(e.getUTCFullYear()+n*t)});ga.range;function FX(t,e,n,r,i,s){const o=[[nu,1,qo],[nu,5,5*qo],[nu,15,15*qo],[nu,30,30*qo],[s,1,es],[s,5,5*es],[s,15,15*es],[s,30,30*es],[i,1,Ho],[i,3,3*Ho],[i,6,6*Ho],[i,12,12*Ho],[r,1,pa],[r,2,2*pa],[n,1,wR],[e,1,fU],[e,3,3*fU],[t,1,jA]];function a(c,u,d){const f=u<c;f&&([c,u]=[u,c]);const p=d&&typeof d.range=="function"?d:l(c,u,d),m=p?p.range(c,+u+1):[];return f?m.reverse():m}function l(c,u,d){const f=Math.abs(u-c)/d,p=cR(([,,v])=>v).right(o,f);if(p===o.length)return t.every(pI(c/jA,u/jA,d));if(p===0)return k1.every(Math.max(pI(c,u,d),1));const[m,g]=o[f/o[p-1][2]<o[p][2]/f?p-1:p];return m.every(g)}return[a,l]}const[J3e,Z3e]=FX(ga,kR,nE,VX,TR,SR),[eBe,tBe]=FX(ma,AR,tE,Hv,ER,_R);function RA(t){if(0<=t.y&&t.y<100){var e=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return e.setFullYear(t.y),e}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function DA(t){if(0<=t.y&&t.y<100){var e=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return e.setUTCFullYear(t.y),e}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function dm(t,e,n){return{y:t,m:e,d:n,H:0,M:0,S:0,L:0}}function nBe(t){var e=t.dateTime,n=t.date,r=t.time,i=t.periods,s=t.days,o=t.shortDays,a=t.months,l=t.shortMonths,c=fm(i),u=hm(i),d=fm(s),f=hm(s),p=fm(o),m=hm(o),g=fm(a),v=hm(a),x=fm(l),b=hm(l),w={a:B,A:$,b:U,B:W,c:null,d:vU,e:vU,f:TBe,g:DBe,G:LBe,H:_Be,I:SBe,j:EBe,L:BX,m:ABe,M:kBe,p:Z,q:Q,Q:wU,s:_U,S:PBe,u:CBe,U:IBe,V:OBe,w:NBe,W:jBe,x:null,X:null,y:RBe,Y:MBe,Z:$Be,"%":bU},T={a:fe,A:Le,b:Ye,B:rt,c:null,d:xU,e:xU,f:UBe,g:JBe,G:eUe,H:VBe,I:FBe,j:BBe,L:zX,m:zBe,M:qBe,p:Gt,q:tn,Q:wU,s:_U,S:HBe,u:WBe,U:KBe,V:GBe,w:QBe,W:YBe,x:null,X:null,y:XBe,Y:ZBe,Z:tUe,"%":bU},_={a:O,A:N,b:R,B:j,c:z,d:gU,e:gU,f:vBe,g:mU,G:pU,H:yU,I:yU,j:pBe,L:yBe,m:hBe,M:mBe,p:P,q:fBe,Q:bBe,s:wBe,S:gBe,u:aBe,U:lBe,V:cBe,w:oBe,W:uBe,x:F,X:L,y:mU,Y:pU,Z:dBe,"%":xBe};w.x=k(n,w),w.X=k(r,w),w.c=k(e,w),T.x=k(n,T),T.X=k(r,T),T.c=k(e,T);function k(pe,Ae){return function(Ne){var J=[],gt=-1,We=0,_t=pe.length,Ot,oe,ge;for(Ne instanceof Date||(Ne=new Date(+Ne));++gt<_t;)pe.charCodeAt(gt)===37&&(J.push(pe.slice(We,gt)),(oe=hU[Ot=pe.charAt(++gt)])!=null?Ot=pe.charAt(++gt):oe=Ot==="e"?" ":"0",(ge=Ae[Ot])&&(Ot=ge(Ne,oe)),J.push(Ot),We=gt+1);return J.push(pe.slice(We,gt)),J.join("")}}function S(pe,Ae){return function(Ne){var J=dm(1900,void 0,1),gt=E(J,pe,Ne+="",0),We,_t;if(gt!=Ne.length)return null;if("Q"in J)return new Date(J.Q);if("s"in J)return new Date(J.s*1e3+("L"in J?J.L:0));if(Ae&&!("Z"in J)&&(J.Z=0),"p"in J&&(J.H=J.H%12+J.p*12),J.m===void 0&&(J.m="q"in J?J.q:0),"V"in J){if(J.V<1||J.V>53)return null;"w"in J||(J.w=1),"Z"in J?(We=DA(dm(J.y,0,1)),_t=We.getUTCDay(),We=_t>4||_t===0?C1.ceil(We):C1(We),We=eE.offset(We,(J.V-1)*7),J.y=We.getUTCFullYear(),J.m=We.getUTCMonth(),J.d=We.getUTCDate()+(J.w+6)%7):(We=RA(dm(J.y,0,1)),_t=We.getDay(),We=_t>4||_t===0?P1.ceil(We):P1(We),We=Hv.offset(We,(J.V-1)*7),J.y=We.getFullYear(),J.m=We.getMonth(),J.d=We.getDate()+(J.w+6)%7)}else("W"in J||"U"in J)&&("w"in J||(J.w="u"in J?J.u%7:"W"in J?1:0),_t="Z"in J?DA(dm(J.y,0,1)).getUTCDay():RA(dm(J.y,0,1)).getDay(),J.m=0,J.d="W"in J?(J.w+6)%7+J.W*7-(_t+5)%7:J.w+J.U*7-(_t+6)%7);return"Z"in J?(J.H+=J.Z/100|0,J.M+=J.Z%100,DA(J)):RA(J)}}function E(pe,Ae,Ne,J){for(var gt=0,We=Ae.length,_t=Ne.length,Ot,oe;gt<We;){if(J>=_t)return-1;if(Ot=Ae.charCodeAt(gt++),Ot===37){if(Ot=Ae.charAt(gt++),oe=_[Ot in hU?Ae.charAt(gt++):Ot],!oe||(J=oe(pe,Ne,J))<0)return-1}else if(Ot!=Ne.charCodeAt(J++))return-1}return J}function P(pe,Ae,Ne){var J=c.exec(Ae.slice(Ne));return J?(pe.p=u.get(J[0].toLowerCase()),Ne+J[0].length):-1}function O(pe,Ae,Ne){var J=p.exec(Ae.slice(Ne));return J?(pe.w=m.get(J[0].toLowerCase()),Ne+J[0].length):-1}function N(pe,Ae,Ne){var J=d.exec(Ae.slice(Ne));return J?(pe.w=f.get(J[0].toLowerCase()),Ne+J[0].length):-1}function R(pe,Ae,Ne){var J=x.exec(Ae.slice(Ne));return J?(pe.m=b.get(J[0].toLowerCase()),Ne+J[0].length):-1}function j(pe,Ae,Ne){var J=g.exec(Ae.slice(Ne));return J?(pe.m=v.get(J[0].toLowerCase()),Ne+J[0].length):-1}function z(pe,Ae,Ne){return E(pe,e,Ae,Ne)}function F(pe,Ae,Ne){return E(pe,n,Ae,Ne)}function L(pe,Ae,Ne){return E(pe,r,Ae,Ne)}function B(pe){return o[pe.getDay()]}function $(pe){return s[pe.getDay()]}function U(pe){return l[pe.getMonth()]}function W(pe){return a[pe.getMonth()]}function Z(pe){return i[+(pe.getHours()>=12)]}function Q(pe){return 1+~~(pe.getMonth()/3)}function fe(pe){return o[pe.getUTCDay()]}function Le(pe){return s[pe.getUTCDay()]}function Ye(pe){return l[pe.getUTCMonth()]}function rt(pe){return a[pe.getUTCMonth()]}function Gt(pe){return i[+(pe.getUTCHours()>=12)]}function tn(pe){return 1+~~(pe.getUTCMonth()/3)}return{format:function(pe){var Ae=k(pe+="",w);return Ae.toString=function(){return pe},Ae},parse:function(pe){var Ae=S(pe+="",!1);return Ae.toString=function(){return pe},Ae},utcFormat:function(pe){var Ae=k(pe+="",T);return Ae.toString=function(){return pe},Ae},utcParse:function(pe){var Ae=S(pe+="",!0);return Ae.toString=function(){return pe},Ae}}}var hU={"-":"",_:" ",0:"0"},Yn=/^\s*\d+/,rBe=/^%/,iBe=/[\\^$*+?|[\]().{}]/g;function mt(t,e,n){var r=t<0?"-":"",i=(r?-t:t)+"",s=i.length;return r+(s<n?new Array(n-s+1).join(e)+i:i)}function sBe(t){return t.replace(iBe,"\\$&")}function fm(t){return new RegExp("^(?:"+t.map(sBe).join("|")+")","i")}function hm(t){return new Map(t.map((e,n)=>[e.toLowerCase(),n]))}function oBe(t,e,n){var r=Yn.exec(e.slice(n,n+1));return r?(t.w=+r[0],n+r[0].length):-1}function aBe(t,e,n){var r=Yn.exec(e.slice(n,n+1));return r?(t.u=+r[0],n+r[0].length):-1}function lBe(t,e,n){var r=Yn.exec(e.slice(n,n+2));return r?(t.U=+r[0],n+r[0].length):-1}function cBe(t,e,n){var r=Yn.exec(e.slice(n,n+2));return r?(t.V=+r[0],n+r[0].length):-1}function uBe(t,e,n){var r=Yn.exec(e.slice(n,n+2));return r?(t.W=+r[0],n+r[0].length):-1}function pU(t,e,n){var r=Yn.exec(e.slice(n,n+4));return r?(t.y=+r[0],n+r[0].length):-1}function mU(t,e,n){var r=Yn.exec(e.slice(n,n+2));return r?(t.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function dBe(t,e,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(e.slice(n,n+6));return r?(t.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function fBe(t,e,n){var r=Yn.exec(e.slice(n,n+1));return r?(t.q=r[0]*3-3,n+r[0].length):-1}function hBe(t,e,n){var r=Yn.exec(e.slice(n,n+2));return r?(t.m=r[0]-1,n+r[0].length):-1}function gU(t,e,n){var r=Yn.exec(e.slice(n,n+2));return r?(t.d=+r[0],n+r[0].length):-1}function pBe(t,e,n){var r=Yn.exec(e.slice(n,n+3));return r?(t.m=0,t.d=+r[0],n+r[0].length):-1}function yU(t,e,n){var r=Yn.exec(e.slice(n,n+2));return r?(t.H=+r[0],n+r[0].length):-1}function mBe(t,e,n){var r=Yn.exec(e.slice(n,n+2));return r?(t.M=+r[0],n+r[0].length):-1}function gBe(t,e,n){var r=Yn.exec(e.slice(n,n+2));return r?(t.S=+r[0],n+r[0].length):-1}function yBe(t,e,n){var r=Yn.exec(e.slice(n,n+3));return r?(t.L=+r[0],n+r[0].length):-1}function vBe(t,e,n){var r=Yn.exec(e.slice(n,n+6));return r?(t.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function xBe(t,e,n){var r=rBe.exec(e.slice(n,n+1));return r?n+r[0].length:-1}function bBe(t,e,n){var r=Yn.exec(e.slice(n));return r?(t.Q=+r[0],n+r[0].length):-1}function wBe(t,e,n){var r=Yn.exec(e.slice(n));return r?(t.s=+r[0],n+r[0].length):-1}function vU(t,e){return mt(t.getDate(),e,2)}function _Be(t,e){return mt(t.getHours(),e,2)}function SBe(t,e){return mt(t.getHours()%12||12,e,2)}function EBe(t,e){return mt(1+Hv.count(ma(t),t),e,3)}function BX(t,e){return mt(t.getMilliseconds(),e,3)}function TBe(t,e){return BX(t,e)+"000"}function ABe(t,e){return mt(t.getMonth()+1,e,2)}function kBe(t,e){return mt(t.getMinutes(),e,2)}function PBe(t,e){return mt(t.getSeconds(),e,2)}function CBe(t){var e=t.getDay();return e===0?7:e}function IBe(t,e){return mt(tE.count(ma(t)-1,t),e,2)}function UX(t){var e=t.getDay();return e>=4||e===0?Nh(t):Nh.ceil(t)}function OBe(t,e){return t=UX(t),mt(Nh.count(ma(t),t)+(ma(t).getDay()===4),e,2)}function NBe(t){return t.getDay()}function jBe(t,e){return mt(P1.count(ma(t)-1,t),e,2)}function RBe(t,e){return mt(t.getFullYear()%100,e,2)}function DBe(t,e){return t=UX(t),mt(t.getFullYear()%100,e,2)}function MBe(t,e){return mt(t.getFullYear()%1e4,e,4)}function LBe(t,e){var n=t.getDay();return t=n>=4||n===0?Nh(t):Nh.ceil(t),mt(t.getFullYear()%1e4,e,4)}function $Be(t){var e=t.getTimezoneOffset();return(e>0?"-":(e*=-1,"+"))+mt(e/60|0,"0",2)+mt(e%60,"0",2)}function xU(t,e){return mt(t.getUTCDate(),e,2)}function VBe(t,e){return mt(t.getUTCHours(),e,2)}function FBe(t,e){return mt(t.getUTCHours()%12||12,e,2)}function BBe(t,e){return mt(1+eE.count(ga(t),t),e,3)}function zX(t,e){return mt(t.getUTCMilliseconds(),e,3)}function UBe(t,e){return zX(t,e)+"000"}function zBe(t,e){return mt(t.getUTCMonth()+1,e,2)}function qBe(t,e){return mt(t.getUTCMinutes(),e,2)}function HBe(t,e){return mt(t.getUTCSeconds(),e,2)}function WBe(t){var e=t.getUTCDay();return e===0?7:e}function KBe(t,e){return mt(nE.count(ga(t)-1,t),e,2)}function qX(t){var e=t.getUTCDay();return e>=4||e===0?jh(t):jh.ceil(t)}function GBe(t,e){return t=qX(t),mt(jh.count(ga(t),t)+(ga(t).getUTCDay()===4),e,2)}function QBe(t){return t.getUTCDay()}function YBe(t,e){return mt(C1.count(ga(t)-1,t),e,2)}function XBe(t,e){return mt(t.getUTCFullYear()%100,e,2)}function JBe(t,e){return t=qX(t),mt(t.getUTCFullYear()%100,e,2)}function ZBe(t,e){return mt(t.getUTCFullYear()%1e4,e,4)}function eUe(t,e){var n=t.getUTCDay();return t=n>=4||n===0?jh(t):jh.ceil(t),mt(t.getUTCFullYear()%1e4,e,4)}function tUe(){return"+0000"}function bU(){return"%"}function wU(t){return+t}function _U(t){return Math.floor(+t/1e3)}var Id,HX,WX;nUe({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function nUe(t){return Id=nBe(t),HX=Id.format,Id.parse,WX=Id.utcFormat,Id.utcParse,Id}function rUe(t){return new Date(t)}function iUe(t){return t instanceof Date?+t:+new Date(+t)}function PR(t,e,n,r,i,s,o,a,l,c){var u=pR(),d=u.invert,f=u.domain,p=c(".%L"),m=c(":%S"),g=c("%I:%M"),v=c("%I %p"),x=c("%a %d"),b=c("%b %d"),w=c("%B"),T=c("%Y");function _(k){return(l(k)<k?p:a(k)<k?m:o(k)<k?g:s(k)<k?v:r(k)<k?i(k)<k?x:b:n(k)<k?w:T)(k)}return u.invert=function(k){return new Date(d(k))},u.domain=function(k){return arguments.length?f(Array.from(k,iUe)):f().map(rUe)},u.ticks=function(k){var S=f();return t(S[0],S[S.length-1],k??10)},u.tickFormat=function(k,S){return S==null?_:c(S)},u.nice=function(k){var S=f();return(!k||typeof k.range!="function")&&(k=e(S[0],S[S.length-1],k??10)),k?f(NX(S,k)):u},u.copy=function(){return qv(u,PR(t,e,n,r,i,s,o,a,l,c))},u}function sUe(){return us.apply(PR(eBe,tBe,ma,AR,tE,Hv,ER,_R,nu,HX).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function oUe(){return us.apply(PR(J3e,Z3e,ga,kR,nE,eE,TR,SR,nu,WX).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function rE(){var t=0,e=1,n,r,i,s,o=Br,a=!1,l;function c(d){return d==null||isNaN(d=+d)?l:o(i===0?.5:(d=(s(d)-n)*i,a?Math.max(0,Math.min(1,d)):d))}c.domain=function(d){return arguments.length?([t,e]=d,n=s(t=+t),r=s(e=+e),i=n===r?0:1/(r-n),c):[t,e]},c.clamp=function(d){return arguments.length?(a=!!d,c):a},c.interpolator=function(d){return arguments.length?(o=d,c):o};function u(d){return function(f){var p,m;return arguments.length?([p,m]=f,o=d(p,m),c):[o(0),o(1)]}}return c.range=u(Ep),c.rangeRound=u(hR),c.unknown=function(d){return arguments.length?(l=d,c):l},function(d){return s=d,n=d(t),r=d(e),i=n===r?0:1/(r-n),c}}function hc(t,e){return e.domain(t.domain()).interpolator(t.interpolator()).clamp(t.clamp()).unknown(t.unknown())}function KX(){var t=fc(rE()(Br));return t.copy=function(){return hc(t,KX())},Aa.apply(t,arguments)}function GX(){var t=yR(rE()).domain([1,10]);return t.copy=function(){return hc(t,GX()).base(t.base())},Aa.apply(t,arguments)}function QX(){var t=vR(rE());return t.copy=function(){return hc(t,QX()).constant(t.constant())},Aa.apply(t,arguments)}function CR(){var t=xR(rE());return t.copy=function(){return hc(t,CR()).exponent(t.exponent())},Aa.apply(t,arguments)}function aUe(){return CR.apply(null,arguments).exponent(.5)}function YX(){var t=[],e=Br;function n(r){if(r!=null&&!isNaN(r=+r))return e((Uv(t,r,1)-1)/(t.length-1))}return n.domain=function(r){if(!arguments.length)return t.slice();t=[];for(let i of r)i!=null&&!isNaN(i=+i)&&t.push(i);return t.sort(Fl),n},n.interpolator=function(r){return arguments.length?(e=r,n):e},n.range=function(){return t.map((r,i)=>e(i/(t.length-1)))},n.quantiles=function(r){return Array.from({length:r+1},(i,s)=>KFe(t,s/r))},n.copy=function(){return YX(e).domain(t)},Aa.apply(n,arguments)}function iE(){var t=0,e=.5,n=1,r=1,i,s,o,a,l,c=Br,u,d=!1,f;function p(g){return isNaN(g=+g)?f:(g=.5+((g=+u(g))-s)*(r*g<r*s?a:l),c(d?Math.max(0,Math.min(1,g)):g))}p.domain=function(g){return arguments.length?([t,e,n]=g,i=u(t=+t),s=u(e=+e),o=u(n=+n),a=i===s?0:.5/(s-i),l=s===o?0:.5/(o-s),r=s<i?-1:1,p):[t,e,n]},p.clamp=function(g){return arguments.length?(d=!!g,p):d},p.interpolator=function(g){return arguments.length?(c=g,p):c};function m(g){return function(v){var x,b,w;return arguments.length?([x,b,w]=v,c=x3e(g,[x,b,w]),p):[c(0),c(.5),c(1)]}}return p.range=m(Ep),p.rangeRound=m(hR),p.unknown=function(g){return arguments.length?(f=g,p):f},function(g){return u=g,i=g(t),s=g(e),o=g(n),a=i===s?0:.5/(s-i),l=s===o?0:.5/(o-s),r=s<i?-1:1,p}}function XX(){var t=fc(iE()(Br));return t.copy=function(){return hc(t,XX())},Aa.apply(t,arguments)}function JX(){var t=yR(iE()).domain([.1,1,10]);return t.copy=function(){return hc(t,JX()).base(t.base())},Aa.apply(t,arguments)}function ZX(){var t=vR(iE());return t.copy=function(){return hc(t,ZX()).constant(t.constant())},Aa.apply(t,arguments)}function IR(){var t=xR(iE());return t.copy=function(){return hc(t,IR()).exponent(t.exponent())},Aa.apply(t,arguments)}function lUe(){return IR.apply(null,arguments).exponent(.5)}const SU=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:Py,scaleDiverging:XX,scaleDivergingLog:JX,scaleDivergingPow:IR,scaleDivergingSqrt:lUe,scaleDivergingSymlog:ZX,scaleIdentity:OX,scaleImplicit:mI,scaleLinear:A1,scaleLog:jX,scaleOrdinal:uR,scalePoint:pg,scalePow:bR,scaleQuantile:MX,scaleQuantize:LX,scaleRadial:DX,scaleSequential:KX,scaleSequentialLog:GX,scaleSequentialPow:CR,scaleSequentialQuantile:YX,scaleSequentialSqrt:aUe,scaleSequentialSymlog:QX,scaleSqrt:U3e,scaleSymlog:RX,scaleThreshold:$X,scaleTime:sUe,scaleUtc:oUe,tickFormat:IX},Symbol.toStringTag,{value:"Module"}));var cUe=mp;function uUe(t,e,n){for(var r=-1,i=t.length;++r<i;){var s=t[r],o=e(s);if(o!=null&&(a===void 0?o===o&&!cUe(o):n(o,a)))var a=o,l=s}return l}var sE=uUe;function dUe(t,e){return t>e}var eJ=dUe,fUe=sE,hUe=eJ,pUe=Sp;function mUe(t){return t&&t.length?fUe(t,pUe,hUe):void 0}var gUe=mUe;const oE=vt(gUe);function yUe(t,e){return t<e}var tJ=yUe,vUe=sE,xUe=tJ,bUe=Sp;function wUe(t){return t&&t.length?vUe(t,bUe,xUe):void 0}var _Ue=wUe;const aE=vt(_Ue);var SUe=qj,EUe=_o,TUe=cX,AUe=pi;function kUe(t,e){var n=AUe(t)?SUe:TUe;return n(t,EUe(e))}var PUe=kUe,CUe=aX,IUe=PUe;function OUe(t,e){return CUe(IUe(t,e),1)}var NUe=OUe;const jUe=vt(NUe);var RUe=sR;function DUe(t,e){return RUe(t,e)}var MUe=DUe;const Wv=vt(MUe);var Tp=1e9,LUe={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},NR,Xt=!0,as="[DecimalError] ",Tu=as+"Invalid argument: ",OR=as+"Exponent out of range: ",Ap=Math.floor,Mc=Math.pow,$Ue=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,Si,Bn=1e7,Ht=7,nJ=9007199254740991,I1=Ap(nJ/Ht),we={};we.absoluteValue=we.abs=function(){var t=new this.constructor(this);return t.s&&(t.s=1),t};we.comparedTo=we.cmp=function(t){var e,n,r,i,s=this;if(t=new s.constructor(t),s.s!==t.s)return s.s||-t.s;if(s.e!==t.e)return s.e>t.e^s.s<0?1:-1;for(r=s.d.length,i=t.d.length,e=0,n=r<i?r:i;e<n;++e)if(s.d[e]!==t.d[e])return s.d[e]>t.d[e]^s.s<0?1:-1;return r===i?0:r>i^s.s<0?1:-1};we.decimalPlaces=we.dp=function(){var t=this,e=t.d.length-1,n=(e-t.e)*Ht;if(e=t.d[e],e)for(;e%10==0;e/=10)n--;return n<0?0:n};we.dividedBy=we.div=function(t){return ta(this,new this.constructor(t))};we.dividedToIntegerBy=we.idiv=function(t){var e=this,n=e.constructor;return Dt(ta(e,new n(t),0,1),n.precision)};we.equals=we.eq=function(t){return!this.cmp(t)};we.exponent=function(){return An(this)};we.greaterThan=we.gt=function(t){return this.cmp(t)>0};we.greaterThanOrEqualTo=we.gte=function(t){return this.cmp(t)>=0};we.isInteger=we.isint=function(){return this.e>this.d.length-2};we.isNegative=we.isneg=function(){return this.s<0};we.isPositive=we.ispos=function(){return this.s>0};we.isZero=function(){return this.s===0};we.lessThan=we.lt=function(t){return this.cmp(t)<0};we.lessThanOrEqualTo=we.lte=function(t){return this.cmp(t)<1};we.logarithm=we.log=function(t){var e,n=this,r=n.constructor,i=r.precision,s=i+5;if(t===void 0)t=new r(10);else if(t=new r(t),t.s<1||t.eq(Si))throw Error(as+"NaN");if(n.s<1)throw Error(as+(n.s?"NaN":"-Infinity"));return n.eq(Si)?new r(0):(Xt=!1,e=ta(jy(n,s),jy(t,s),s),Xt=!0,Dt(e,i))};we.minus=we.sub=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?sJ(e,t):rJ(e,(t.s=-t.s,t))};we.modulo=we.mod=function(t){var e,n=this,r=n.constructor,i=r.precision;if(t=new r(t),!t.s)throw Error(as+"NaN");return n.s?(Xt=!1,e=ta(n,t,0,1).times(t),Xt=!0,n.minus(e)):Dt(new r(n),i)};we.naturalExponential=we.exp=function(){return iJ(this)};we.naturalLogarithm=we.ln=function(){return jy(this)};we.negated=we.neg=function(){var t=new this.constructor(this);return t.s=-t.s||0,t};we.plus=we.add=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?rJ(e,t):sJ(e,(t.s=-t.s,t))};we.precision=we.sd=function(t){var e,n,r,i=this;if(t!==void 0&&t!==!!t&&t!==1&&t!==0)throw Error(Tu+t);if(e=An(i)+1,r=i.d.length-1,n=r*Ht+1,r=i.d[r],r){for(;r%10==0;r/=10)n--;for(r=i.d[0];r>=10;r/=10)n++}return t&&e>n?e:n};we.squareRoot=we.sqrt=function(){var t,e,n,r,i,s,o,a=this,l=a.constructor;if(a.s<1){if(!a.s)return new l(0);throw Error(as+"NaN")}for(t=An(a),Xt=!1,i=Math.sqrt(+a),i==0||i==1/0?(e=Ys(a.d),(e.length+t)%2==0&&(e+="0"),i=Math.sqrt(e),t=Ap((t+1)/2)-(t<0||t%2),i==1/0?e="5e"+t:(e=i.toExponential(),e=e.slice(0,e.indexOf("e")+1)+t),r=new l(e)):r=new l(i.toString()),n=l.precision,i=o=n+3;;)if(s=r,r=s.plus(ta(a,s,o+2)).times(.5),Ys(s.d).slice(0,o)===(e=Ys(r.d)).slice(0,o)){if(e=e.slice(o-3,o+1),i==o&&e=="4999"){if(Dt(s,n+1,0),s.times(s).eq(a)){r=s;break}}else if(e!="9999")break;o+=4}return Xt=!0,Dt(r,n)};we.times=we.mul=function(t){var e,n,r,i,s,o,a,l,c,u=this,d=u.constructor,f=u.d,p=(t=new d(t)).d;if(!u.s||!t.s)return new d(0);for(t.s*=u.s,n=u.e+t.e,l=f.length,c=p.length,l<c&&(s=f,f=p,p=s,o=l,l=c,c=o),s=[],o=l+c,r=o;r--;)s.push(0);for(r=c;--r>=0;){for(e=0,i=l+r;i>r;)a=s[i]+p[r]*f[i-r-1]+e,s[i--]=a%Bn|0,e=a/Bn|0;s[i]=(s[i]+e)%Bn|0}for(;!s[--o];)s.pop();return e?++n:s.shift(),t.d=s,t.e=n,Xt?Dt(t,d.precision):t};we.toDecimalPlaces=we.todp=function(t,e){var n=this,r=n.constructor;return n=new r(n),t===void 0?n:(mo(t,0,Tp),e===void 0?e=r.rounding:mo(e,0,8),Dt(n,t+An(n)+1,e))};we.toExponential=function(t,e){var n,r=this,i=r.constructor;return t===void 0?n=Yu(r,!0):(mo(t,0,Tp),e===void 0?e=i.rounding:mo(e,0,8),r=Dt(new i(r),t+1,e),n=Yu(r,!0,t+1)),n};we.toFixed=function(t,e){var n,r,i=this,s=i.constructor;return t===void 0?Yu(i):(mo(t,0,Tp),e===void 0?e=s.rounding:mo(e,0,8),r=Dt(new s(i),t+An(i)+1,e),n=Yu(r.abs(),!1,t+An(r)+1),i.isneg()&&!i.isZero()?"-"+n:n)};we.toInteger=we.toint=function(){var t=this,e=t.constructor;return Dt(new e(t),An(t)+1,e.rounding)};we.toNumber=function(){return+this};we.toPower=we.pow=function(t){var e,n,r,i,s,o,a=this,l=a.constructor,c=12,u=+(t=new l(t));if(!t.s)return new l(Si);if(a=new l(a),!a.s){if(t.s<1)throw Error(as+"Infinity");return a}if(a.eq(Si))return a;if(r=l.precision,t.eq(Si))return Dt(a,r);if(e=t.e,n=t.d.length-1,o=e>=n,s=a.s,o){if((n=u<0?-u:u)<=nJ){for(i=new l(Si),e=Math.ceil(r/Ht+4),Xt=!1;n%2&&(i=i.times(a),TU(i.d,e)),n=Ap(n/2),n!==0;)a=a.times(a),TU(a.d,e);return Xt=!0,t.s<0?new l(Si).div(i):Dt(i,r)}}else if(s<0)throw Error(as+"NaN");return s=s<0&&t.d[Math.max(e,n)]&1?-1:1,a.s=1,Xt=!1,i=t.times(jy(a,r+c)),Xt=!0,i=iJ(i),i.s=s,i};we.toPrecision=function(t,e){var n,r,i=this,s=i.constructor;return t===void 0?(n=An(i),r=Yu(i,n<=s.toExpNeg||n>=s.toExpPos)):(mo(t,1,Tp),e===void 0?e=s.rounding:mo(e,0,8),i=Dt(new s(i),t,e),n=An(i),r=Yu(i,t<=n||n<=s.toExpNeg,t)),r};we.toSignificantDigits=we.tosd=function(t,e){var n=this,r=n.constructor;return t===void 0?(t=r.precision,e=r.rounding):(mo(t,1,Tp),e===void 0?e=r.rounding:mo(e,0,8)),Dt(new r(n),t,e)};we.toString=we.valueOf=we.val=we.toJSON=we[Symbol.for("nodejs.util.inspect.custom")]=function(){var t=this,e=An(t),n=t.constructor;return Yu(t,e<=n.toExpNeg||e>=n.toExpPos)};function rJ(t,e){var n,r,i,s,o,a,l,c,u=t.constructor,d=u.precision;if(!t.s||!e.s)return e.s||(e=new u(t)),Xt?Dt(e,d):e;if(l=t.d,c=e.d,o=t.e,i=e.e,l=l.slice(),s=o-i,s){for(s<0?(r=l,s=-s,a=c.length):(r=c,i=o,a=l.length),o=Math.ceil(d/Ht),a=o>a?o+1:a+1,s>a&&(s=a,r.length=1),r.reverse();s--;)r.push(0);r.reverse()}for(a=l.length,s=c.length,a-s<0&&(s=a,r=c,c=l,l=r),n=0;s;)n=(l[--s]=l[s]+c[s]+n)/Bn|0,l[s]%=Bn;for(n&&(l.unshift(n),++i),a=l.length;l[--a]==0;)l.pop();return e.d=l,e.e=i,Xt?Dt(e,d):e}function mo(t,e,n){if(t!==~~t||t<e||t>n)throw Error(Tu+t)}function Ys(t){var e,n,r,i=t.length-1,s="",o=t[0];if(i>0){for(s+=o,e=1;e<i;e++)r=t[e]+"",n=Ht-r.length,n&&(s+=Wa(n)),s+=r;o=t[e],r=o+"",n=Ht-r.length,n&&(s+=Wa(n))}else if(o===0)return"0";for(;o%10===0;)o/=10;return s+o}var ta=function(){function t(r,i){var s,o=0,a=r.length;for(r=r.slice();a--;)s=r[a]*i+o,r[a]=s%Bn|0,o=s/Bn|0;return o&&r.unshift(o),r}function e(r,i,s,o){var a,l;if(s!=o)l=s>o?1:-1;else for(a=l=0;a<s;a++)if(r[a]!=i[a]){l=r[a]>i[a]?1:-1;break}return l}function n(r,i,s){for(var o=0;s--;)r[s]-=o,o=r[s]<i[s]?1:0,r[s]=o*Bn+r[s]-i[s];for(;!r[0]&&r.length>1;)r.shift()}return function(r,i,s,o){var a,l,c,u,d,f,p,m,g,v,x,b,w,T,_,k,S,E,P=r.constructor,O=r.s==i.s?1:-1,N=r.d,R=i.d;if(!r.s)return new P(r);if(!i.s)throw Error(as+"Division by zero");for(l=r.e-i.e,S=R.length,_=N.length,p=new P(O),m=p.d=[],c=0;R[c]==(N[c]||0);)++c;if(R[c]>(N[c]||0)&&--l,s==null?b=s=P.precision:o?b=s+(An(r)-An(i))+1:b=s,b<0)return new P(0);if(b=b/Ht+2|0,c=0,S==1)for(u=0,R=R[0],b++;(c<_||u)&&b--;c++)w=u*Bn+(N[c]||0),m[c]=w/R|0,u=w%R|0;else{for(u=Bn/(R[0]+1)|0,u>1&&(R=t(R,u),N=t(N,u),S=R.length,_=N.length),T=S,g=N.slice(0,S),v=g.length;v<S;)g[v++]=0;E=R.slice(),E.unshift(0),k=R[0],R[1]>=Bn/2&&++k;do u=0,a=e(R,g,S,v),a<0?(x=g[0],S!=v&&(x=x*Bn+(g[1]||0)),u=x/k|0,u>1?(u>=Bn&&(u=Bn-1),d=t(R,u),f=d.length,v=g.length,a=e(d,g,f,v),a==1&&(u--,n(d,S<f?E:R,f))):(u==0&&(a=u=1),d=R.slice()),f=d.length,f<v&&d.unshift(0),n(g,d,v),a==-1&&(v=g.length,a=e(R,g,S,v),a<1&&(u++,n(g,S<v?E:R,v))),v=g.length):a===0&&(u++,g=[0]),m[c++]=u,a&&g[0]?g[v++]=N[T]||0:(g=[N[T]],v=1);while((T++<_||g[0]!==void 0)&&b--)}return m[0]||m.shift(),p.e=l,Dt(p,o?s+An(p)+1:s)}}();function iJ(t,e){var n,r,i,s,o,a,l=0,c=0,u=t.constructor,d=u.precision;if(An(t)>16)throw Error(OR+An(t));if(!t.s)return new u(Si);for(e==null?(Xt=!1,a=d):a=e,o=new u(.03125);t.abs().gte(.1);)t=t.times(o),c+=5;for(r=Math.log(Mc(2,c))/Math.LN10*2+5|0,a+=r,n=i=s=new u(Si),u.precision=a;;){if(i=Dt(i.times(t),a),n=n.times(++l),o=s.plus(ta(i,n,a)),Ys(o.d).slice(0,a)===Ys(s.d).slice(0,a)){for(;c--;)s=Dt(s.times(s),a);return u.precision=d,e==null?(Xt=!0,Dt(s,d)):s}s=o}}function An(t){for(var e=t.e*Ht,n=t.d[0];n>=10;n/=10)e++;return e}function MA(t,e,n){if(e>t.LN10.sd())throw Xt=!0,n&&(t.precision=n),Error(as+"LN10 precision limit exceeded");return Dt(new t(t.LN10),e)}function Wa(t){for(var e="";t--;)e+="0";return e}function jy(t,e){var n,r,i,s,o,a,l,c,u,d=1,f=10,p=t,m=p.d,g=p.constructor,v=g.precision;if(p.s<1)throw Error(as+(p.s?"NaN":"-Infinity"));if(p.eq(Si))return new g(0);if(e==null?(Xt=!1,c=v):c=e,p.eq(10))return e==null&&(Xt=!0),MA(g,c);if(c+=f,g.precision=c,n=Ys(m),r=n.charAt(0),s=An(p),Math.abs(s)<15e14){for(;r<7&&r!=1||r==1&&n.charAt(1)>3;)p=p.times(t),n=Ys(p.d),r=n.charAt(0),d++;s=An(p),r>1?(p=new g("0."+n),s++):p=new g(r+"."+n.slice(1))}else return l=MA(g,c+2,v).times(s+""),p=jy(new g(r+"."+n.slice(1)),c-f).plus(l),g.precision=v,e==null?(Xt=!0,Dt(p,v)):p;for(a=o=p=ta(p.minus(Si),p.plus(Si),c),u=Dt(p.times(p),c),i=3;;){if(o=Dt(o.times(u),c),l=a.plus(ta(o,new g(i),c)),Ys(l.d).slice(0,c)===Ys(a.d).slice(0,c))return a=a.times(2),s!==0&&(a=a.plus(MA(g,c+2,v).times(s+""))),a=ta(a,new g(d),c),g.precision=v,e==null?(Xt=!0,Dt(a,v)):a;a=l,i+=2}}function EU(t,e){var n,r,i;for((n=e.indexOf("."))>-1&&(e=e.replace(".","")),(r=e.search(/e/i))>0?(n<0&&(n=r),n+=+e.slice(r+1),e=e.substring(0,r)):n<0&&(n=e.length),r=0;e.charCodeAt(r)===48;)++r;for(i=e.length;e.charCodeAt(i-1)===48;)--i;if(e=e.slice(r,i),e){if(i-=r,n=n-r-1,t.e=Ap(n/Ht),t.d=[],r=(n+1)%Ht,n<0&&(r+=Ht),r<i){for(r&&t.d.push(+e.slice(0,r)),i-=Ht;r<i;)t.d.push(+e.slice(r,r+=Ht));e=e.slice(r),r=Ht-e.length}else r-=i;for(;r--;)e+="0";if(t.d.push(+e),Xt&&(t.e>I1||t.e<-I1))throw Error(OR+n)}else t.s=0,t.e=0,t.d=[0];return t}function Dt(t,e,n){var r,i,s,o,a,l,c,u,d=t.d;for(o=1,s=d[0];s>=10;s/=10)o++;if(r=e-o,r<0)r+=Ht,i=e,c=d[u=0];else{if(u=Math.ceil((r+1)/Ht),s=d.length,u>=s)return t;for(c=s=d[u],o=1;s>=10;s/=10)o++;r%=Ht,i=r-Ht+o}if(n!==void 0&&(s=Mc(10,o-i-1),a=c/s%10|0,l=e<0||d[u+1]!==void 0||c%s,l=n<4?(a||l)&&(n==0||n==(t.s<0?3:2)):a>5||a==5&&(n==4||l||n==6&&(r>0?i>0?c/Mc(10,o-i):0:d[u-1])%10&1||n==(t.s<0?8:7))),e<1||!d[0])return l?(s=An(t),d.length=1,e=e-s-1,d[0]=Mc(10,(Ht-e%Ht)%Ht),t.e=Ap(-e/Ht)||0):(d.length=1,d[0]=t.e=t.s=0),t;if(r==0?(d.length=u,s=1,u--):(d.length=u+1,s=Mc(10,Ht-r),d[u]=i>0?(c/Mc(10,o-i)%Mc(10,i)|0)*s:0),l)for(;;)if(u==0){(d[0]+=s)==Bn&&(d[0]=1,++t.e);break}else{if(d[u]+=s,d[u]!=Bn)break;d[u--]=0,s=1}for(r=d.length;d[--r]===0;)d.pop();if(Xt&&(t.e>I1||t.e<-I1))throw Error(OR+An(t));return t}function sJ(t,e){var n,r,i,s,o,a,l,c,u,d,f=t.constructor,p=f.precision;if(!t.s||!e.s)return e.s?e.s=-e.s:e=new f(t),Xt?Dt(e,p):e;if(l=t.d,d=e.d,r=e.e,c=t.e,l=l.slice(),o=c-r,o){for(u=o<0,u?(n=l,o=-o,a=d.length):(n=d,r=c,a=l.length),i=Math.max(Math.ceil(p/Ht),a)+2,o>i&&(o=i,n.length=1),n.reverse(),i=o;i--;)n.push(0);n.reverse()}else{for(i=l.length,a=d.length,u=i<a,u&&(a=i),i=0;i<a;i++)if(l[i]!=d[i]){u=l[i]<d[i];break}o=0}for(u&&(n=l,l=d,d=n,e.s=-e.s),a=l.length,i=d.length-a;i>0;--i)l[a++]=0;for(i=d.length;i>o;){if(l[--i]<d[i]){for(s=i;s&&l[--s]===0;)l[s]=Bn-1;--l[s],l[i]+=Bn}l[i]-=d[i]}for(;l[--a]===0;)l.pop();for(;l[0]===0;l.shift())--r;return l[0]?(e.d=l,e.e=r,Xt?Dt(e,p):e):new f(0)}function Yu(t,e,n){var r,i=An(t),s=Ys(t.d),o=s.length;return e?(n&&(r=n-o)>0?s=s.charAt(0)+"."+s.slice(1)+Wa(r):o>1&&(s=s.charAt(0)+"."+s.slice(1)),s=s+(i<0?"e":"e+")+i):i<0?(s="0."+Wa(-i-1)+s,n&&(r=n-o)>0&&(s+=Wa(r))):i>=o?(s+=Wa(i+1-o),n&&(r=n-i-1)>0&&(s=s+"."+Wa(r))):((r=i+1)<o&&(s=s.slice(0,r)+"."+s.slice(r)),n&&(r=n-o)>0&&(i+1===o&&(s+="."),s+=Wa(r))),t.s<0?"-"+s:s}function TU(t,e){if(t.length>e)return t.length=e,!0}function oJ(t){var e,n,r;function i(s){var o=this;if(!(o instanceof i))return new i(s);if(o.constructor=i,s instanceof i){o.s=s.s,o.e=s.e,o.d=(s=s.d)?s.slice():s;return}if(typeof s=="number"){if(s*0!==0)throw Error(Tu+s);if(s>0)o.s=1;else if(s<0)s=-s,o.s=-1;else{o.s=0,o.e=0,o.d=[0];return}if(s===~~s&&s<1e7){o.e=0,o.d=[s];return}return EU(o,s.toString())}else if(typeof s!="string")throw Error(Tu+s);if(s.charCodeAt(0)===45?(s=s.slice(1),o.s=-1):o.s=1,$Ue.test(s))EU(o,s);else throw Error(Tu+s)}if(i.prototype=we,i.ROUND_UP=0,i.ROUND_DOWN=1,i.ROUND_CEIL=2,i.ROUND_FLOOR=3,i.ROUND_HALF_UP=4,i.ROUND_HALF_DOWN=5,i.ROUND_HALF_EVEN=6,i.ROUND_HALF_CEIL=7,i.ROUND_HALF_FLOOR=8,i.clone=oJ,i.config=i.set=VUe,t===void 0&&(t={}),t)for(r=["precision","rounding","toExpNeg","toExpPos","LN10"],e=0;e<r.length;)t.hasOwnProperty(n=r[e++])||(t[n]=this[n]);return i.config(t),i}function VUe(t){if(!t||typeof t!="object")throw Error(as+"Object expected");var e,n,r,i=["precision",1,Tp,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(e=0;e<i.length;e+=3)if((r=t[n=i[e]])!==void 0)if(Ap(r)===r&&r>=i[e+1]&&r<=i[e+2])this[n]=r;else throw Error(Tu+n+": "+r);if((r=t[n="LN10"])!==void 0)if(r==Math.LN10)this[n]=new this(r);else throw Error(Tu+n+": "+r);return this}var NR=oJ(LUe);Si=new NR(1);const Pt=NR;function FUe(t){return qUe(t)||zUe(t)||UUe(t)||BUe()}function BUe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function UUe(t,e){if(t){if(typeof t=="string")return xI(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return xI(t,e)}}function zUe(t){if(typeof Symbol<"u"&&Symbol.iterator in Object(t))return Array.from(t)}function qUe(t){if(Array.isArray(t))return xI(t)}function xI(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var HUe=function(e){return e},aJ={"@@functional/placeholder":!0},lJ=function(e){return e===aJ},AU=function(e){return function n(){return arguments.length===0||arguments.length===1&&lJ(arguments.length<=0?void 0:arguments[0])?n:e.apply(void 0,arguments)}},WUe=function t(e,n){return e===1?n:AU(function(){for(var r=arguments.length,i=new Array(r),s=0;s<r;s++)i[s]=arguments[s];var o=i.filter(function(a){return a!==aJ}).length;return o>=e?n.apply(void 0,i):t(e-o,AU(function(){for(var a=arguments.length,l=new Array(a),c=0;c<a;c++)l[c]=arguments[c];var u=i.map(function(d){return lJ(d)?l.shift():d});return n.apply(void 0,FUe(u).concat(l))}))})},lE=function(e){return WUe(e.length,e)},bI=function(e,n){for(var r=[],i=e;i<n;++i)r[i-e]=i;return r},KUe=lE(function(t,e){return Array.isArray(e)?e.map(t):Object.keys(e).map(function(n){return e[n]}).map(t)}),GUe=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];if(!n.length)return HUe;var i=n.reverse(),s=i[0],o=i.slice(1);return function(){return o.reduce(function(a,l){return l(a)},s.apply(void 0,arguments))}},wI=function(e){return Array.isArray(e)?e.reverse():e.split("").reverse.join("")},cJ=function(e){var n=null,r=null;return function(){for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return n&&s.every(function(a,l){return a===n[l]})||(n=s,r=e.apply(void 0,s)),r}};function QUe(t){var e;return t===0?e=1:e=Math.floor(new Pt(t).abs().log(10).toNumber())+1,e}function YUe(t,e,n){for(var r=new Pt(t),i=0,s=[];r.lt(e)&&i<1e5;)s.push(r.toNumber()),r=r.add(n),i++;return s}var XUe=lE(function(t,e,n){var r=+t,i=+e;return r+n*(i-r)}),JUe=lE(function(t,e,n){var r=e-+t;return r=r||1/0,(n-t)/r}),ZUe=lE(function(t,e,n){var r=e-+t;return r=r||1/0,Math.max(0,Math.min(1,(n-t)/r))});const cE={rangeStep:YUe,getDigitCount:QUe,interpolateNumber:XUe,uninterpolateNumber:JUe,uninterpolateTruncation:ZUe};function _I(t){return n5e(t)||t5e(t)||uJ(t)||e5e()}function e5e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function t5e(t){if(typeof Symbol<"u"&&Symbol.iterator in Object(t))return Array.from(t)}function n5e(t){if(Array.isArray(t))return SI(t)}function Ry(t,e){return s5e(t)||i5e(t,e)||uJ(t,e)||r5e()}function r5e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function uJ(t,e){if(t){if(typeof t=="string")return SI(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return SI(t,e)}}function SI(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function i5e(t,e){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(t)))){var n=[],r=!0,i=!1,s=void 0;try{for(var o=t[Symbol.iterator](),a;!(r=(a=o.next()).done)&&(n.push(a.value),!(e&&n.length===e));r=!0);}catch(l){i=!0,s=l}finally{try{!r&&o.return!=null&&o.return()}finally{if(i)throw s}}return n}}function s5e(t){if(Array.isArray(t))return t}function dJ(t){var e=Ry(t,2),n=e[0],r=e[1],i=n,s=r;return n>r&&(i=r,s=n),[i,s]}function fJ(t,e,n){if(t.lte(0))return new Pt(0);var r=cE.getDigitCount(t.toNumber()),i=new Pt(10).pow(r),s=t.div(i),o=r!==1?.05:.1,a=new Pt(Math.ceil(s.div(o).toNumber())).add(n).mul(o),l=a.mul(i);return e?l:new Pt(Math.ceil(l))}function o5e(t,e,n){var r=1,i=new Pt(t);if(!i.isint()&&n){var s=Math.abs(t);s<1?(r=new Pt(10).pow(cE.getDigitCount(t)-1),i=new Pt(Math.floor(i.div(r).toNumber())).mul(r)):s>1&&(i=new Pt(Math.floor(t)))}else t===0?i=new Pt(Math.floor((e-1)/2)):n||(i=new Pt(Math.floor(t)));var o=Math.floor((e-1)/2),a=GUe(KUe(function(l){return i.add(new Pt(l-o).mul(r)).toNumber()}),bI);return a(0,e)}function hJ(t,e,n,r){var i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((e-t)/(n-1)))return{step:new Pt(0),tickMin:new Pt(0),tickMax:new Pt(0)};var s=fJ(new Pt(e).sub(t).div(n-1),r,i),o;t<=0&&e>=0?o=new Pt(0):(o=new Pt(t).add(e).div(2),o=o.sub(new Pt(o).mod(s)));var a=Math.ceil(o.sub(t).div(s).toNumber()),l=Math.ceil(new Pt(e).sub(o).div(s).toNumber()),c=a+l+1;return c>n?hJ(t,e,n,r,i+1):(c<n&&(l=e>0?l+(n-c):l,a=e>0?a:a+(n-c)),{step:s,tickMin:o.sub(new Pt(a).mul(s)),tickMax:o.add(new Pt(l).mul(s))})}function a5e(t){var e=Ry(t,2),n=e[0],r=e[1],i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,o=Math.max(i,2),a=dJ([n,r]),l=Ry(a,2),c=l[0],u=l[1];if(c===-1/0||u===1/0){var d=u===1/0?[c].concat(_I(bI(0,i-1).map(function(){return 1/0}))):[].concat(_I(bI(0,i-1).map(function(){return-1/0})),[u]);return n>r?wI(d):d}if(c===u)return o5e(c,i,s);var f=hJ(c,u,o,s),p=f.step,m=f.tickMin,g=f.tickMax,v=cE.rangeStep(m,g.add(new Pt(.1).mul(p)),p);return n>r?wI(v):v}function l5e(t,e){var n=Ry(t,2),r=n[0],i=n[1],s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,o=dJ([r,i]),a=Ry(o,2),l=a[0],c=a[1];if(l===-1/0||c===1/0)return[r,i];if(l===c)return[l];var u=Math.max(e,2),d=fJ(new Pt(c).sub(l).div(u-1),s,0),f=[].concat(_I(cE.rangeStep(new Pt(l),new Pt(c).sub(new Pt(.99).mul(d)),d)),[c]);return r>i?wI(f):f}var c5e=cJ(a5e),u5e=cJ(l5e),d5e="Invariant failed";function Xu(t,e){throw new Error(d5e)}var f5e=["offset","layout","width","dataKey","data","dataPointFormatter","xAxis","yAxis"];function Rh(t){"@babel/helpers - typeof";return Rh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Rh(t)}function O1(){return O1=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},O1.apply(this,arguments)}function h5e(t,e){return y5e(t)||g5e(t,e)||m5e(t,e)||p5e()}function p5e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function m5e(t,e){if(t){if(typeof t=="string")return kU(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return kU(t,e)}}function kU(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function g5e(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,s,o,a=[],l=!0,c=!1;try{if(s=(n=n.call(t)).next,e!==0)for(;!(l=(r=s.call(n)).done)&&(a.push(r.value),a.length!==e);l=!0);}catch(u){c=!0,i=u}finally{try{if(!l&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(c)throw i}}return a}}function y5e(t){if(Array.isArray(t))return t}function v5e(t,e){if(t==null)return{};var n=x5e(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function x5e(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function b5e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function w5e(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,gJ(r.key),r)}}function _5e(t,e,n){return e&&w5e(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function S5e(t,e,n){return e=N1(e),E5e(t,pJ()?Reflect.construct(e,n||[],N1(t).constructor):e.apply(t,n))}function E5e(t,e){if(e&&(Rh(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return T5e(t)}function T5e(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function pJ(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(pJ=function(){return!!t})()}function N1(t){return N1=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},N1(t)}function A5e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&EI(t,e)}function EI(t,e){return EI=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},EI(t,e)}function mJ(t,e,n){return e=gJ(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function gJ(t){var e=k5e(t,"string");return Rh(e)=="symbol"?e:e+""}function k5e(t,e){if(Rh(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Rh(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Kv=function(t){function e(){return b5e(this,e),S5e(this,e,arguments)}return A5e(e,t),_5e(e,[{key:"render",value:function(){var r=this.props,i=r.offset,s=r.layout,o=r.width,a=r.dataKey,l=r.data,c=r.dataPointFormatter,u=r.xAxis,d=r.yAxis,f=v5e(r,f5e),p=Ie(f,!1);this.props.direction==="x"&&u.type!=="number"&&Xu();var m=l.map(function(g){var v=c(g,a),x=v.x,b=v.y,w=v.value,T=v.errorVal;if(!T)return null;var _=[],k,S;if(Array.isArray(T)){var E=h5e(T,2);k=E[0],S=E[1]}else k=S=T;if(s==="vertical"){var P=u.scale,O=b+i,N=O+o,R=O-o,j=P(w-k),z=P(w+S);_.push({x1:z,y1:N,x2:z,y2:R}),_.push({x1:j,y1:O,x2:z,y2:O}),_.push({x1:j,y1:N,x2:j,y2:R})}else if(s==="horizontal"){var F=d.scale,L=x+i,B=L-o,$=L+o,U=F(w-k),W=F(w+S);_.push({x1:B,y1:W,x2:$,y2:W}),_.push({x1:L,y1:U,x2:L,y2:W}),_.push({x1:B,y1:U,x2:$,y2:U})}return M.createElement(ft,O1({className:"recharts-errorBar",key:"bar-".concat(_.map(function(Z){return"".concat(Z.x1,"-").concat(Z.x2,"-").concat(Z.y1,"-").concat(Z.y2)}))},p),_.map(function(Z){return M.createElement("line",O1({},Z,{key:"line-".concat(Z.x1,"-").concat(Z.x2,"-").concat(Z.y1,"-").concat(Z.y2)}))}))});return M.createElement(ft,{className:"recharts-errorBars"},m)}}])}(M.Component);mJ(Kv,"defaultProps",{stroke:"black",strokeWidth:1.5,width:5,offset:0,layout:"horizontal"});mJ(Kv,"displayName","ErrorBar");function Dy(t){"@babel/helpers - typeof";return Dy=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Dy(t)}function PU(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Ec(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?PU(Object(n),!0).forEach(function(r){P5e(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):PU(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function P5e(t,e,n){return e=C5e(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function C5e(t){var e=I5e(t,"string");return Dy(e)=="symbol"?e:e+""}function I5e(t,e){if(Dy(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Dy(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var yJ=function(e){var n=e.children,r=e.formattedGraphicalItems,i=e.legendWidth,s=e.legendContent,o=bi(n,jf);if(!o)return null;var a=jf.defaultProps,l=a!==void 0?Ec(Ec({},a),o.props):{},c;return o.props&&o.props.payload?c=o.props&&o.props.payload:s==="children"?c=(r||[]).reduce(function(u,d){var f=d.item,p=d.props,m=p.sectors||p.data||[];return u.concat(m.map(function(g){return{type:o.props.iconType||f.props.legendType,value:g.name,color:g.fill,payload:g}}))},[]):c=(r||[]).map(function(u){var d=u.item,f=d.type.defaultProps,p=f!==void 0?Ec(Ec({},f),d.props):{},m=p.dataKey,g=p.name,v=p.legendType,x=p.hide;return{inactive:x,dataKey:m,type:l.iconType||v||"square",color:jR(d),value:g||m,payload:p}}),Ec(Ec(Ec({},l),jf.getWithHeight(o,i)),{},{payload:c,item:o})};function My(t){"@babel/helpers - typeof";return My=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},My(t)}function CU(t){return R5e(t)||j5e(t)||N5e(t)||O5e()}function O5e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function N5e(t,e){if(t){if(typeof t=="string")return TI(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return TI(t,e)}}function j5e(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function R5e(t){if(Array.isArray(t))return TI(t)}function TI(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function IU(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function fn(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?IU(Object(n),!0).forEach(function(r){Mf(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):IU(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Mf(t,e,n){return e=D5e(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function D5e(t){var e=M5e(t,"string");return My(e)=="symbol"?e:e+""}function M5e(t,e){if(My(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(My(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function jn(t,e,n){return qe(t)||qe(e)?n:Dn(e)?Ii(t,e,n):Fe(e)?e(t):n}function mg(t,e,n,r){var i=jUe(t,function(a){return jn(a,e)});if(n==="number"){var s=i.filter(function(a){return ae(a)||parseFloat(a)});return s.length?[aE(s),oE(s)]:[1/0,-1/0]}var o=r?i.filter(function(a){return!qe(a)}):i;return o.map(function(a){return Dn(a)||a instanceof Date?a:""})}var L5e=function(e){var n,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],i=arguments.length>2?arguments[2]:void 0,s=arguments.length>3?arguments[3]:void 0,o=-1,a=(n=r==null?void 0:r.length)!==null&&n!==void 0?n:0;if(a<=1)return 0;if(s&&s.axisType==="angleAxis"&&Math.abs(Math.abs(s.range[1]-s.range[0])-360)<=1e-6)for(var l=s.range,c=0;c<a;c++){var u=c>0?i[c-1].coordinate:i[a-1].coordinate,d=i[c].coordinate,f=c>=a-1?i[0].coordinate:i[c+1].coordinate,p=void 0;if(Vr(d-u)!==Vr(f-d)){var m=[];if(Vr(f-d)===Vr(l[1]-l[0])){p=f;var g=d+l[1]-l[0];m[0]=Math.min(g,(g+u)/2),m[1]=Math.max(g,(g+u)/2)}else{p=u;var v=f+l[1]-l[0];m[0]=Math.min(d,(v+d)/2),m[1]=Math.max(d,(v+d)/2)}var x=[Math.min(d,(p+d)/2),Math.max(d,(p+d)/2)];if(e>x[0]&&e<=x[1]||e>=m[0]&&e<=m[1]){o=i[c].index;break}}else{var b=Math.min(u,f),w=Math.max(u,f);if(e>(b+d)/2&&e<=(w+d)/2){o=i[c].index;break}}}else for(var T=0;T<a;T++)if(T===0&&e<=(r[T].coordinate+r[T+1].coordinate)/2||T>0&&T<a-1&&e>(r[T].coordinate+r[T-1].coordinate)/2&&e<=(r[T].coordinate+r[T+1].coordinate)/2||T===a-1&&e>(r[T].coordinate+r[T-1].coordinate)/2){o=r[T].index;break}return o},jR=function(e){var n,r=e,i=r.type.displayName,s=(n=e.type)!==null&&n!==void 0&&n.defaultProps?fn(fn({},e.type.defaultProps),e.props):e.props,o=s.stroke,a=s.fill,l;switch(i){case"Line":l=o;break;case"Area":case"Radar":l=o&&o!=="none"?o:a;break;default:l=a;break}return l},$5e=function(e){var n=e.barSize,r=e.totalSize,i=e.stackGroups,s=i===void 0?{}:i;if(!s)return{};for(var o={},a=Object.keys(s),l=0,c=a.length;l<c;l++)for(var u=s[a[l]].stackGroups,d=Object.keys(u),f=0,p=d.length;f<p;f++){var m=u[d[f]],g=m.items,v=m.cateAxisId,x=g.filter(function(S){return ea(S.type).indexOf("Bar")>=0});if(x&&x.length){var b=x[0].type.defaultProps,w=b!==void 0?fn(fn({},b),x[0].props):x[0].props,T=w.barSize,_=w[v];o[_]||(o[_]=[]);var k=qe(T)?n:T;o[_].push({item:x[0],stackList:x.slice(1),barSize:qe(k)?void 0:Fr(k,r,0)})}}return o},V5e=function(e){var n=e.barGap,r=e.barCategoryGap,i=e.bandSize,s=e.sizeList,o=s===void 0?[]:s,a=e.maxBarSize,l=o.length;if(l<1)return null;var c=Fr(n,i,0,!0),u,d=[];if(o[0].barSize===+o[0].barSize){var f=!1,p=i/l,m=o.reduce(function(T,_){return T+_.barSize||0},0);m+=(l-1)*c,m>=i&&(m-=(l-1)*c,c=0),m>=i&&p>0&&(f=!0,p*=.9,m=l*p);var g=(i-m)/2>>0,v={offset:g-c,size:0};u=o.reduce(function(T,_){var k={item:_.item,position:{offset:v.offset+v.size+c,size:f?p:_.barSize}},S=[].concat(CU(T),[k]);return v=S[S.length-1].position,_.stackList&&_.stackList.length&&_.stackList.forEach(function(E){S.push({item:E,position:v})}),S},d)}else{var x=Fr(r,i,0,!0);i-2*x-(l-1)*c<=0&&(c=0);var b=(i-2*x-(l-1)*c)/l;b>1&&(b>>=0);var w=a===+a?Math.min(b,a):b;u=o.reduce(function(T,_,k){var S=[].concat(CU(T),[{item:_.item,position:{offset:x+(b+c)*k+(b-w)/2,size:w}}]);return _.stackList&&_.stackList.length&&_.stackList.forEach(function(E){S.push({item:E,position:S[S.length-1].position})}),S},d)}return u},F5e=function(e,n,r,i){var s=r.children,o=r.width,a=r.margin,l=o-(a.left||0)-(a.right||0),c=yJ({children:s,legendWidth:l});if(c){var u=i||{},d=u.width,f=u.height,p=c.align,m=c.verticalAlign,g=c.layout;if((g==="vertical"||g==="horizontal"&&m==="middle")&&p!=="center"&&ae(e[p]))return fn(fn({},e),{},Mf({},p,e[p]+(d||0)));if((g==="horizontal"||g==="vertical"&&p==="center")&&m!=="middle"&&ae(e[m]))return fn(fn({},e),{},Mf({},m,e[m]+(f||0)))}return e},B5e=function(e,n,r){return qe(n)?!0:e==="horizontal"?n==="yAxis":e==="vertical"||r==="x"?n==="xAxis":r==="y"?n==="yAxis":!0},vJ=function(e,n,r,i,s){var o=n.props.children,a=Oi(o,Kv).filter(function(c){return B5e(i,s,c.props.direction)});if(a&&a.length){var l=a.map(function(c){return c.props.dataKey});return e.reduce(function(c,u){var d=jn(u,r);if(qe(d))return c;var f=Array.isArray(d)?[aE(d),oE(d)]:[d,d],p=l.reduce(function(m,g){var v=jn(u,g,0),x=f[0]-Math.abs(Array.isArray(v)?v[0]:v),b=f[1]+Math.abs(Array.isArray(v)?v[1]:v);return[Math.min(x,m[0]),Math.max(b,m[1])]},[1/0,-1/0]);return[Math.min(p[0],c[0]),Math.max(p[1],c[1])]},[1/0,-1/0])}return null},U5e=function(e,n,r,i,s){var o=n.map(function(a){return vJ(e,a,r,s,i)}).filter(function(a){return!qe(a)});return o&&o.length?o.reduce(function(a,l){return[Math.min(a[0],l[0]),Math.max(a[1],l[1])]},[1/0,-1/0]):null},xJ=function(e,n,r,i,s){var o=n.map(function(l){var c=l.props.dataKey;return r==="number"&&c&&vJ(e,l,c,i)||mg(e,c,r,s)});if(r==="number")return o.reduce(function(l,c){return[Math.min(l[0],c[0]),Math.max(l[1],c[1])]},[1/0,-1/0]);var a={};return o.reduce(function(l,c){for(var u=0,d=c.length;u<d;u++)a[c[u]]||(a[c[u]]=!0,l.push(c[u]));return l},[])},bJ=function(e,n){return e==="horizontal"&&n==="xAxis"||e==="vertical"&&n==="yAxis"||e==="centric"&&n==="angleAxis"||e==="radial"&&n==="radiusAxis"},wJ=function(e,n,r,i){if(i)return e.map(function(l){return l.coordinate});var s,o,a=e.map(function(l){return l.coordinate===n&&(s=!0),l.coordinate===r&&(o=!0),l.coordinate});return s||a.push(n),o||a.push(r),a},Wo=function(e,n,r){if(!e)return null;var i=e.scale,s=e.duplicateDomain,o=e.type,a=e.range,l=e.realScaleType==="scaleBand"?i.bandwidth()/2:2,c=(n||r)&&o==="category"&&i.bandwidth?i.bandwidth()/l:0;if(c=e.axisType==="angleAxis"&&(a==null?void 0:a.length)>=2?Vr(a[0]-a[1])*2*c:c,n&&(e.ticks||e.niceTicks)){var u=(e.ticks||e.niceTicks).map(function(d){var f=s?s.indexOf(d):d;return{coordinate:i(f)+c,value:d,offset:c}});return u.filter(function(d){return!Fv(d.coordinate)})}return e.isCategorical&&e.categoricalDomain?e.categoricalDomain.map(function(d,f){return{coordinate:i(d)+c,value:d,index:f,offset:c}}):i.ticks&&!r?i.ticks(e.tickCount).map(function(d){return{coordinate:i(d)+c,value:d,offset:c}}):i.domain().map(function(d,f){return{coordinate:i(d)+c,value:s?s[d]:d,index:f,offset:c}})},LA=new WeakMap,ux=function(e,n){if(typeof n!="function")return e;LA.has(e)||LA.set(e,new WeakMap);var r=LA.get(e);if(r.has(n))return r.get(n);var i=function(){e.apply(void 0,arguments),n.apply(void 0,arguments)};return r.set(n,i),i},_J=function(e,n,r){var i=e.scale,s=e.type,o=e.layout,a=e.axisType;if(i==="auto")return o==="radial"&&a==="radiusAxis"?{scale:Py(),realScaleType:"band"}:o==="radial"&&a==="angleAxis"?{scale:A1(),realScaleType:"linear"}:s==="category"&&n&&(n.indexOf("LineChart")>=0||n.indexOf("AreaChart")>=0||n.indexOf("ComposedChart")>=0&&!r)?{scale:pg(),realScaleType:"point"}:s==="category"?{scale:Py(),realScaleType:"band"}:{scale:A1(),realScaleType:"linear"};if(Vv(i)){var l="scale".concat(HS(i));return{scale:(SU[l]||pg)(),realScaleType:SU[l]?l:"point"}}return Fe(i)?{scale:i}:{scale:pg(),realScaleType:"point"}},OU=1e-4,SJ=function(e){var n=e.domain();if(!(!n||n.length<=2)){var r=n.length,i=e.range(),s=Math.min(i[0],i[1])-OU,o=Math.max(i[0],i[1])+OU,a=e(n[0]),l=e(n[r-1]);(a<s||a>o||l<s||l>o)&&e.domain([n[0],n[r-1]])}},z5e=function(e,n){if(!e)return null;for(var r=0,i=e.length;r<i;r++)if(e[r].item===n)return e[r].position;return null},q5e=function(e,n){if(!n||n.length!==2||!ae(n[0])||!ae(n[1]))return e;var r=Math.min(n[0],n[1]),i=Math.max(n[0],n[1]),s=[e[0],e[1]];return(!ae(e[0])||e[0]<r)&&(s[0]=r),(!ae(e[1])||e[1]>i)&&(s[1]=i),s[0]>i&&(s[0]=i),s[1]<r&&(s[1]=r),s},H5e=function(e){var n=e.length;if(!(n<=0))for(var r=0,i=e[0].length;r<i;++r)for(var s=0,o=0,a=0;a<n;++a){var l=Fv(e[a][r][1])?e[a][r][0]:e[a][r][1];l>=0?(e[a][r][0]=s,e[a][r][1]=s+l,s=e[a][r][1]):(e[a][r][0]=o,e[a][r][1]=o+l,o=e[a][r][1])}},W5e=function(e){var n=e.length;if(!(n<=0))for(var r=0,i=e[0].length;r<i;++r)for(var s=0,o=0;o<n;++o){var a=Fv(e[o][r][1])?e[o][r][0]:e[o][r][1];a>=0?(e[o][r][0]=s,e[o][r][1]=s+a,s=e[o][r][1]):(e[o][r][0]=0,e[o][r][1]=0)}},K5e={sign:H5e,expand:f2e,none:Ah,silhouette:h2e,wiggle:p2e,positive:W5e},G5e=function(e,n,r){var i=n.map(function(a){return a.props.dataKey}),s=K5e[r],o=d2e().keys(i).value(function(a,l){return+jn(a,l,0)}).order(YC).offset(s);return o(e)},Q5e=function(e,n,r,i,s,o){if(!e)return null;var a=o?n.reverse():n,l={},c=a.reduce(function(d,f){var p,m=(p=f.type)!==null&&p!==void 0&&p.defaultProps?fn(fn({},f.type.defaultProps),f.props):f.props,g=m.stackId,v=m.hide;if(v)return d;var x=m[r],b=d[x]||{hasStack:!1,stackGroups:{}};if(Dn(g)){var w=b.stackGroups[g]||{numericAxisId:r,cateAxisId:i,items:[]};w.items.push(f),b.hasStack=!0,b.stackGroups[g]=w}else b.stackGroups[bp("_stackId_")]={numericAxisId:r,cateAxisId:i,items:[f]};return fn(fn({},d),{},Mf({},x,b))},l),u={};return Object.keys(c).reduce(function(d,f){var p=c[f];if(p.hasStack){var m={};p.stackGroups=Object.keys(p.stackGroups).reduce(function(g,v){var x=p.stackGroups[v];return fn(fn({},g),{},Mf({},v,{numericAxisId:r,cateAxisId:i,items:x.items,stackedData:G5e(e,x.items,s)}))},m)}return fn(fn({},d),{},Mf({},f,p))},u)},EJ=function(e,n){var r=n.realScaleType,i=n.type,s=n.tickCount,o=n.originalDomain,a=n.allowDecimals,l=r||n.scale;if(l!=="auto"&&l!=="linear")return null;if(s&&i==="number"&&o&&(o[0]==="auto"||o[1]==="auto")){var c=e.domain();if(!c.length)return null;var u=c5e(c,s,a);return e.domain([aE(u),oE(u)]),{niceTicks:u}}if(s&&i==="number"){var d=e.domain(),f=u5e(d,s,a);return{niceTicks:f}}return null};function NU(t){var e=t.axis,n=t.ticks,r=t.bandSize,i=t.entry,s=t.index,o=t.dataKey;if(e.type==="category"){if(!e.allowDuplicatedCategory&&e.dataKey&&!qe(i[e.dataKey])){var a=s1(n,"value",i[e.dataKey]);if(a)return a.coordinate+r/2}return n[s]?n[s].coordinate+r/2:null}var l=jn(i,qe(o)?e.dataKey:o);return qe(l)?null:e.scale(l)}var jU=function(e){var n=e.axis,r=e.ticks,i=e.offset,s=e.bandSize,o=e.entry,a=e.index;if(n.type==="category")return r[a]?r[a].coordinate+i:null;var l=jn(o,n.dataKey,n.domain[a]);return qe(l)?null:n.scale(l)-s/2+i},Y5e=function(e){var n=e.numericAxis,r=n.scale.domain();if(n.type==="number"){var i=Math.min(r[0],r[1]),s=Math.max(r[0],r[1]);return i<=0&&s>=0?0:s<0?s:i}return r[0]},X5e=function(e,n){var r,i=(r=e.type)!==null&&r!==void 0&&r.defaultProps?fn(fn({},e.type.defaultProps),e.props):e.props,s=i.stackId;if(Dn(s)){var o=n[s];if(o){var a=o.items.indexOf(e);return a>=0?o.stackedData[a]:null}}return null},J5e=function(e){return e.reduce(function(n,r){return[aE(r.concat([n[0]]).filter(ae)),oE(r.concat([n[1]]).filter(ae))]},[1/0,-1/0])},TJ=function(e,n,r){return Object.keys(e).reduce(function(i,s){var o=e[s],a=o.stackedData,l=a.reduce(function(c,u){var d=J5e(u.slice(n,r+1));return[Math.min(c[0],d[0]),Math.max(c[1],d[1])]},[1/0,-1/0]);return[Math.min(l[0],i[0]),Math.max(l[1],i[1])]},[1/0,-1/0]).map(function(i){return i===1/0||i===-1/0?0:i})},RU=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,DU=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,AI=function(e,n,r){if(Fe(e))return e(n,r);if(!Array.isArray(e))return n;var i=[];if(ae(e[0]))i[0]=r?e[0]:Math.min(e[0],n[0]);else if(RU.test(e[0])){var s=+RU.exec(e[0])[1];i[0]=n[0]-s}else Fe(e[0])?i[0]=e[0](n[0]):i[0]=n[0];if(ae(e[1]))i[1]=r?e[1]:Math.max(e[1],n[1]);else if(DU.test(e[1])){var o=+DU.exec(e[1])[1];i[1]=n[1]+o}else Fe(e[1])?i[1]=e[1](n[1]):i[1]=n[1];return i},j1=function(e,n,r){if(e&&e.scale&&e.scale.bandwidth){var i=e.scale.bandwidth();if(!r||i>0)return i}if(e&&n&&n.length>=2){for(var s=aR(n,function(d){return d.coordinate}),o=1/0,a=1,l=s.length;a<l;a++){var c=s[a],u=s[a-1];o=Math.min((c.coordinate||0)-(u.coordinate||0),o)}return o===1/0?0:o}return r?void 0:0},MU=function(e,n,r){return!e||!e.length||Wv(e,Ii(r,"type.defaultProps.domain"))?n:e},AJ=function(e,n){var r=e.type.defaultProps?fn(fn({},e.type.defaultProps),e.props):e.props,i=r.dataKey,s=r.name,o=r.unit,a=r.formatter,l=r.tooltipType,c=r.chartType,u=r.hide;return fn(fn({},Ie(e,!1)),{},{dataKey:i,unit:o,formatter:a,name:s||i,color:jR(e),value:jn(n,i),type:l,payload:n,chartType:c,hide:u})};function Ly(t){"@babel/helpers - typeof";return Ly=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ly(t)}function LU(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Ro(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?LU(Object(n),!0).forEach(function(r){kJ(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):LU(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function kJ(t,e,n){return e=Z5e(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Z5e(t){var e=eze(t,"string");return Ly(e)=="symbol"?e:e+""}function eze(t,e){if(Ly(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Ly(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function tze(t,e){return sze(t)||ize(t,e)||rze(t,e)||nze()}function nze(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function rze(t,e){if(t){if(typeof t=="string")return $U(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return $U(t,e)}}function $U(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function ize(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,s,o,a=[],l=!0,c=!1;try{if(s=(n=n.call(t)).next,e!==0)for(;!(l=(r=s.call(n)).done)&&(a.push(r.value),a.length!==e);l=!0);}catch(u){c=!0,i=u}finally{try{if(!l&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(c)throw i}}return a}}function sze(t){if(Array.isArray(t))return t}var R1=Math.PI/180,oze=function(e){return e*180/Math.PI},Vt=function(e,n,r,i){return{x:e+Math.cos(-R1*i)*r,y:n+Math.sin(-R1*i)*r}},PJ=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(e-(r.left||0)-(r.right||0)),Math.abs(n-(r.top||0)-(r.bottom||0)))/2},aze=function(e,n,r,i,s){var o=e.width,a=e.height,l=e.startAngle,c=e.endAngle,u=Fr(e.cx,o,o/2),d=Fr(e.cy,a,a/2),f=PJ(o,a,r),p=Fr(e.innerRadius,f,0),m=Fr(e.outerRadius,f,f*.8),g=Object.keys(n);return g.reduce(function(v,x){var b=n[x],w=b.domain,T=b.reversed,_;if(qe(b.range))i==="angleAxis"?_=[l,c]:i==="radiusAxis"&&(_=[p,m]),T&&(_=[_[1],_[0]]);else{_=b.range;var k=_,S=tze(k,2);l=S[0],c=S[1]}var E=_J(b,s),P=E.realScaleType,O=E.scale;O.domain(w).range(_),SJ(O);var N=EJ(O,Ro(Ro({},b),{},{realScaleType:P})),R=Ro(Ro(Ro({},b),N),{},{range:_,radius:m,realScaleType:P,scale:O,cx:u,cy:d,innerRadius:p,outerRadius:m,startAngle:l,endAngle:c});return Ro(Ro({},v),{},kJ({},x,R))},{})},lze=function(e,n){var r=e.x,i=e.y,s=n.x,o=n.y;return Math.sqrt(Math.pow(r-s,2)+Math.pow(i-o,2))},cze=function(e,n){var r=e.x,i=e.y,s=n.cx,o=n.cy,a=lze({x:r,y:i},{x:s,y:o});if(a<=0)return{radius:a};var l=(r-s)/a,c=Math.acos(l);return i>o&&(c=2*Math.PI-c),{radius:a,angle:oze(c),angleInRadian:c}},uze=function(e){var n=e.startAngle,r=e.endAngle,i=Math.floor(n/360),s=Math.floor(r/360),o=Math.min(i,s);return{startAngle:n-o*360,endAngle:r-o*360}},dze=function(e,n){var r=n.startAngle,i=n.endAngle,s=Math.floor(r/360),o=Math.floor(i/360),a=Math.min(s,o);return e+a*360},VU=function(e,n){var r=e.x,i=e.y,s=cze({x:r,y:i},n),o=s.radius,a=s.angle,l=n.innerRadius,c=n.outerRadius;if(o<l||o>c)return!1;if(o===0)return!0;var u=uze(n),d=u.startAngle,f=u.endAngle,p=a,m;if(d<=f){for(;p>f;)p-=360;for(;p<d;)p+=360;m=p>=d&&p<=f}else{for(;p>d;)p-=360;for(;p<f;)p+=360;m=p>=f&&p<=d}return m?Ro(Ro({},n),{},{radius:o,angle:dze(p,n)}):null},CJ=function(e){return!C.isValidElement(e)&&!Fe(e)&&typeof e!="boolean"?e.className:""};function $y(t){"@babel/helpers - typeof";return $y=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},$y(t)}var fze=["offset"];function hze(t){return yze(t)||gze(t)||mze(t)||pze()}function pze(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function mze(t,e){if(t){if(typeof t=="string")return kI(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return kI(t,e)}}function gze(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function yze(t){if(Array.isArray(t))return kI(t)}function kI(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function vze(t,e){if(t==null)return{};var n=xze(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function xze(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function FU(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function In(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?FU(Object(n),!0).forEach(function(r){bze(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):FU(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function bze(t,e,n){return e=wze(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function wze(t){var e=_ze(t,"string");return $y(e)=="symbol"?e:e+""}function _ze(t,e){if($y(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if($y(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Vy(){return Vy=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Vy.apply(this,arguments)}var Sze=function(e){var n=e.value,r=e.formatter,i=qe(e.children)?n:e.children;return Fe(r)?r(i):i},Eze=function(e,n){var r=Vr(n-e),i=Math.min(Math.abs(n-e),360);return r*i},Tze=function(e,n,r){var i=e.position,s=e.viewBox,o=e.offset,a=e.className,l=s,c=l.cx,u=l.cy,d=l.innerRadius,f=l.outerRadius,p=l.startAngle,m=l.endAngle,g=l.clockWise,v=(d+f)/2,x=Eze(p,m),b=x>=0?1:-1,w,T;i==="insideStart"?(w=p+b*o,T=g):i==="insideEnd"?(w=m-b*o,T=!g):i==="end"&&(w=m+b*o,T=g),T=x<=0?T:!T;var _=Vt(c,u,v,w),k=Vt(c,u,v,w+(T?1:-1)*359),S="M".concat(_.x,",").concat(_.y,`
    A`).concat(v,",").concat(v,",0,1,").concat(T?0:1,`,
    `).concat(k.x,",").concat(k.y),E=qe(e.id)?bp("recharts-radial-line-"):e.id;return M.createElement("text",Vy({},r,{dominantBaseline:"central",className:He("recharts-radial-bar-label",a)}),M.createElement("defs",null,M.createElement("path",{id:E,d:S})),M.createElement("textPath",{xlinkHref:"#".concat(E)},n))},Aze=function(e){var n=e.viewBox,r=e.offset,i=e.position,s=n,o=s.cx,a=s.cy,l=s.innerRadius,c=s.outerRadius,u=s.startAngle,d=s.endAngle,f=(u+d)/2;if(i==="outside"){var p=Vt(o,a,c+r,f),m=p.x,g=p.y;return{x:m,y:g,textAnchor:m>=o?"start":"end",verticalAnchor:"middle"}}if(i==="center")return{x:o,y:a,textAnchor:"middle",verticalAnchor:"middle"};if(i==="centerTop")return{x:o,y:a,textAnchor:"middle",verticalAnchor:"start"};if(i==="centerBottom")return{x:o,y:a,textAnchor:"middle",verticalAnchor:"end"};var v=(l+c)/2,x=Vt(o,a,v,f),b=x.x,w=x.y;return{x:b,y:w,textAnchor:"middle",verticalAnchor:"middle"}},kze=function(e){var n=e.viewBox,r=e.parentViewBox,i=e.offset,s=e.position,o=n,a=o.x,l=o.y,c=o.width,u=o.height,d=u>=0?1:-1,f=d*i,p=d>0?"end":"start",m=d>0?"start":"end",g=c>=0?1:-1,v=g*i,x=g>0?"end":"start",b=g>0?"start":"end";if(s==="top"){var w={x:a+c/2,y:l-d*i,textAnchor:"middle",verticalAnchor:p};return In(In({},w),r?{height:Math.max(l-r.y,0),width:c}:{})}if(s==="bottom"){var T={x:a+c/2,y:l+u+f,textAnchor:"middle",verticalAnchor:m};return In(In({},T),r?{height:Math.max(r.y+r.height-(l+u),0),width:c}:{})}if(s==="left"){var _={x:a-v,y:l+u/2,textAnchor:x,verticalAnchor:"middle"};return In(In({},_),r?{width:Math.max(_.x-r.x,0),height:u}:{})}if(s==="right"){var k={x:a+c+v,y:l+u/2,textAnchor:b,verticalAnchor:"middle"};return In(In({},k),r?{width:Math.max(r.x+r.width-k.x,0),height:u}:{})}var S=r?{width:c,height:u}:{};return s==="insideLeft"?In({x:a+v,y:l+u/2,textAnchor:b,verticalAnchor:"middle"},S):s==="insideRight"?In({x:a+c-v,y:l+u/2,textAnchor:x,verticalAnchor:"middle"},S):s==="insideTop"?In({x:a+c/2,y:l+f,textAnchor:"middle",verticalAnchor:m},S):s==="insideBottom"?In({x:a+c/2,y:l+u-f,textAnchor:"middle",verticalAnchor:p},S):s==="insideTopLeft"?In({x:a+v,y:l+f,textAnchor:b,verticalAnchor:m},S):s==="insideTopRight"?In({x:a+c-v,y:l+f,textAnchor:x,verticalAnchor:m},S):s==="insideBottomLeft"?In({x:a+v,y:l+u-f,textAnchor:b,verticalAnchor:p},S):s==="insideBottomRight"?In({x:a+c-v,y:l+u-f,textAnchor:x,verticalAnchor:p},S):gp(s)&&(ae(s.x)||eu(s.x))&&(ae(s.y)||eu(s.y))?In({x:a+Fr(s.x,c),y:l+Fr(s.y,u),textAnchor:"end",verticalAnchor:"end"},S):In({x:a+c/2,y:l+u/2,textAnchor:"middle",verticalAnchor:"middle"},S)},Pze=function(e){return"cx"in e&&ae(e.cx)};function qn(t){var e=t.offset,n=e===void 0?5:e,r=vze(t,fze),i=In({offset:n},r),s=i.viewBox,o=i.position,a=i.value,l=i.children,c=i.content,u=i.className,d=u===void 0?"":u,f=i.textBreakAll;if(!s||qe(a)&&qe(l)&&!C.isValidElement(c)&&!Fe(c))return null;if(C.isValidElement(c))return C.cloneElement(c,i);var p;if(Fe(c)){if(p=C.createElement(c,i),C.isValidElement(p))return p}else p=Sze(i);var m=Pze(s),g=Ie(i,!0);if(m&&(o==="insideStart"||o==="insideEnd"||o==="end"))return Tze(i,p,g);var v=m?Aze(i):kze(i);return M.createElement(Qu,Vy({className:He("recharts-label",d)},g,v,{breakAll:f}),p)}qn.displayName="Label";var IJ=function(e){var n=e.cx,r=e.cy,i=e.angle,s=e.startAngle,o=e.endAngle,a=e.r,l=e.radius,c=e.innerRadius,u=e.outerRadius,d=e.x,f=e.y,p=e.top,m=e.left,g=e.width,v=e.height,x=e.clockWise,b=e.labelViewBox;if(b)return b;if(ae(g)&&ae(v)){if(ae(d)&&ae(f))return{x:d,y:f,width:g,height:v};if(ae(p)&&ae(m))return{x:p,y:m,width:g,height:v}}return ae(d)&&ae(f)?{x:d,y:f,width:0,height:0}:ae(n)&&ae(r)?{cx:n,cy:r,startAngle:s||i||0,endAngle:o||i||0,innerRadius:c||0,outerRadius:u||l||a||0,clockWise:x}:e.viewBox?e.viewBox:{}},Cze=function(e,n){return e?e===!0?M.createElement(qn,{key:"label-implicit",viewBox:n}):Dn(e)?M.createElement(qn,{key:"label-implicit",viewBox:n,value:e}):C.isValidElement(e)?e.type===qn?C.cloneElement(e,{key:"label-implicit",viewBox:n}):M.createElement(qn,{key:"label-implicit",content:e,viewBox:n}):Fe(e)?M.createElement(qn,{key:"label-implicit",content:e,viewBox:n}):gp(e)?M.createElement(qn,Vy({viewBox:n},e,{key:"label-implicit"})):null:null},Ize=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!e||!e.children&&r&&!e.label)return null;var i=e.children,s=IJ(e),o=Oi(i,qn).map(function(l,c){return C.cloneElement(l,{viewBox:n||s,key:"label-".concat(c)})});if(!r)return o;var a=Cze(e.label,n||s);return[a].concat(hze(o))};qn.parseViewBox=IJ;qn.renderCallByParent=Ize;function Oze(t){var e=t==null?0:t.length;return e?t[e-1]:void 0}var Nze=Oze;const jze=vt(Nze);function Fy(t){"@babel/helpers - typeof";return Fy=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Fy(t)}var Rze=["valueAccessor"],Dze=["data","dataKey","clockWise","id","textBreakAll"];function Mze(t){return Fze(t)||Vze(t)||$ze(t)||Lze()}function Lze(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function $ze(t,e){if(t){if(typeof t=="string")return PI(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return PI(t,e)}}function Vze(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Fze(t){if(Array.isArray(t))return PI(t)}function PI(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function D1(){return D1=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},D1.apply(this,arguments)}function BU(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function UU(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?BU(Object(n),!0).forEach(function(r){Bze(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):BU(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Bze(t,e,n){return e=Uze(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Uze(t){var e=zze(t,"string");return Fy(e)=="symbol"?e:e+""}function zze(t,e){if(Fy(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Fy(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function zU(t,e){if(t==null)return{};var n=qze(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function qze(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var Hze=function(e){return Array.isArray(e.value)?jze(e.value):e.value};function na(t){var e=t.valueAccessor,n=e===void 0?Hze:e,r=zU(t,Rze),i=r.data,s=r.dataKey,o=r.clockWise,a=r.id,l=r.textBreakAll,c=zU(r,Dze);return!i||!i.length?null:M.createElement(ft,{className:"recharts-label-list"},i.map(function(u,d){var f=qe(s)?n(u,d):jn(u&&u.payload,s),p=qe(a)?{}:{id:"".concat(a,"-").concat(d)};return M.createElement(qn,D1({},Ie(u,!0),c,p,{parentViewBox:u.parentViewBox,value:f,textBreakAll:l,viewBox:qn.parseViewBox(qe(o)?u:UU(UU({},u),{},{clockWise:o})),key:"label-".concat(d),index:d}))}))}na.displayName="LabelList";function Wze(t,e){return t?t===!0?M.createElement(na,{key:"labelList-implicit",data:e}):M.isValidElement(t)||Fe(t)?M.createElement(na,{key:"labelList-implicit",data:e,content:t}):gp(t)?M.createElement(na,D1({data:e},t,{key:"labelList-implicit"})):null:null}function Kze(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!t||!t.children&&n&&!t.label)return null;var r=t.children,i=Oi(r,na).map(function(o,a){return C.cloneElement(o,{data:e,key:"labelList-".concat(a)})});if(!n)return i;var s=Wze(t.label,e);return[s].concat(Mze(i))}na.renderCallByParent=Kze;function By(t){"@babel/helpers - typeof";return By=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},By(t)}function CI(){return CI=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},CI.apply(this,arguments)}function qU(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function HU(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?qU(Object(n),!0).forEach(function(r){Gze(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):qU(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Gze(t,e,n){return e=Qze(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Qze(t){var e=Yze(t,"string");return By(e)=="symbol"?e:e+""}function Yze(t,e){if(By(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(By(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Xze=function(e,n){var r=Vr(n-e),i=Math.min(Math.abs(n-e),359.999);return r*i},dx=function(e){var n=e.cx,r=e.cy,i=e.radius,s=e.angle,o=e.sign,a=e.isExternal,l=e.cornerRadius,c=e.cornerIsExternal,u=l*(a?1:-1)+i,d=Math.asin(l/u)/R1,f=c?s:s+o*d,p=Vt(n,r,u,f),m=Vt(n,r,i,f),g=c?s-o*d:s,v=Vt(n,r,u*Math.cos(d*R1),g);return{center:p,circleTangency:m,lineTangency:v,theta:d}},OJ=function(e){var n=e.cx,r=e.cy,i=e.innerRadius,s=e.outerRadius,o=e.startAngle,a=e.endAngle,l=Xze(o,a),c=o+l,u=Vt(n,r,s,o),d=Vt(n,r,s,c),f="M ".concat(u.x,",").concat(u.y,`
    A `).concat(s,",").concat(s,`,0,
    `).concat(+(Math.abs(l)>180),",").concat(+(o>c),`,
    `).concat(d.x,",").concat(d.y,`
  `);if(i>0){var p=Vt(n,r,i,o),m=Vt(n,r,i,c);f+="L ".concat(m.x,",").concat(m.y,`
            A `).concat(i,",").concat(i,`,0,
            `).concat(+(Math.abs(l)>180),",").concat(+(o<=c),`,
            `).concat(p.x,",").concat(p.y," Z")}else f+="L ".concat(n,",").concat(r," Z");return f},Jze=function(e){var n=e.cx,r=e.cy,i=e.innerRadius,s=e.outerRadius,o=e.cornerRadius,a=e.forceCornerRadius,l=e.cornerIsExternal,c=e.startAngle,u=e.endAngle,d=Vr(u-c),f=dx({cx:n,cy:r,radius:s,angle:c,sign:d,cornerRadius:o,cornerIsExternal:l}),p=f.circleTangency,m=f.lineTangency,g=f.theta,v=dx({cx:n,cy:r,radius:s,angle:u,sign:-d,cornerRadius:o,cornerIsExternal:l}),x=v.circleTangency,b=v.lineTangency,w=v.theta,T=l?Math.abs(c-u):Math.abs(c-u)-g-w;if(T<0)return a?"M ".concat(m.x,",").concat(m.y,`
        a`).concat(o,",").concat(o,",0,0,1,").concat(o*2,`,0
        a`).concat(o,",").concat(o,",0,0,1,").concat(-o*2,`,0
      `):OJ({cx:n,cy:r,innerRadius:i,outerRadius:s,startAngle:c,endAngle:u});var _="M ".concat(m.x,",").concat(m.y,`
    A`).concat(o,",").concat(o,",0,0,").concat(+(d<0),",").concat(p.x,",").concat(p.y,`
    A`).concat(s,",").concat(s,",0,").concat(+(T>180),",").concat(+(d<0),",").concat(x.x,",").concat(x.y,`
    A`).concat(o,",").concat(o,",0,0,").concat(+(d<0),",").concat(b.x,",").concat(b.y,`
  `);if(i>0){var k=dx({cx:n,cy:r,radius:i,angle:c,sign:d,isExternal:!0,cornerRadius:o,cornerIsExternal:l}),S=k.circleTangency,E=k.lineTangency,P=k.theta,O=dx({cx:n,cy:r,radius:i,angle:u,sign:-d,isExternal:!0,cornerRadius:o,cornerIsExternal:l}),N=O.circleTangency,R=O.lineTangency,j=O.theta,z=l?Math.abs(c-u):Math.abs(c-u)-P-j;if(z<0&&o===0)return"".concat(_,"L").concat(n,",").concat(r,"Z");_+="L".concat(R.x,",").concat(R.y,`
      A`).concat(o,",").concat(o,",0,0,").concat(+(d<0),",").concat(N.x,",").concat(N.y,`
      A`).concat(i,",").concat(i,",0,").concat(+(z>180),",").concat(+(d>0),",").concat(S.x,",").concat(S.y,`
      A`).concat(o,",").concat(o,",0,0,").concat(+(d<0),",").concat(E.x,",").concat(E.y,"Z")}else _+="L".concat(n,",").concat(r,"Z");return _},Zze={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},NJ=function(e){var n=HU(HU({},Zze),e),r=n.cx,i=n.cy,s=n.innerRadius,o=n.outerRadius,a=n.cornerRadius,l=n.forceCornerRadius,c=n.cornerIsExternal,u=n.startAngle,d=n.endAngle,f=n.className;if(o<s||u===d)return null;var p=He("recharts-sector",f),m=o-s,g=Fr(a,m,0,!0),v;return g>0&&Math.abs(u-d)<360?v=Jze({cx:r,cy:i,innerRadius:s,outerRadius:o,cornerRadius:Math.min(g,m/2),forceCornerRadius:l,cornerIsExternal:c,startAngle:u,endAngle:d}):v=OJ({cx:r,cy:i,innerRadius:s,outerRadius:o,startAngle:u,endAngle:d}),M.createElement("path",CI({},Ie(n,!0),{className:p,d:v,role:"img"}))};function Uy(t){"@babel/helpers - typeof";return Uy=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Uy(t)}function II(){return II=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},II.apply(this,arguments)}function WU(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function KU(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?WU(Object(n),!0).forEach(function(r){e6e(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):WU(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function e6e(t,e,n){return e=t6e(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function t6e(t){var e=n6e(t,"string");return Uy(e)=="symbol"?e:e+""}function n6e(t,e){if(Uy(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Uy(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var GU={curveBasisClosed:e2e,curveBasisOpen:t2e,curveBasis:ZNe,curveBumpX:VNe,curveBumpY:FNe,curveLinearClosed:n2e,curveLinear:KS,curveMonotoneX:r2e,curveMonotoneY:i2e,curveNatural:s2e,curveStep:o2e,curveStepAfter:l2e,curveStepBefore:a2e},fx=function(e){return e.x===+e.x&&e.y===+e.y},pm=function(e){return e.x},mm=function(e){return e.y},r6e=function(e,n){if(Fe(e))return e;var r="curve".concat(HS(e));return(r==="curveMonotone"||r==="curveBump")&&n?GU["".concat(r).concat(n==="vertical"?"Y":"X")]:GU[r]||KS},i6e=function(e){var n=e.type,r=n===void 0?"linear":n,i=e.points,s=i===void 0?[]:i,o=e.baseLine,a=e.layout,l=e.connectNulls,c=l===void 0?!1:l,u=r6e(r,a),d=c?s.filter(function(g){return fx(g)}):s,f;if(Array.isArray(o)){var p=c?o.filter(function(g){return fx(g)}):o,m=d.map(function(g,v){return KU(KU({},g),{},{base:p[v]})});return a==="vertical"?f=nx().y(mm).x1(pm).x0(function(g){return g.base.x}):f=nx().x(pm).y1(mm).y0(function(g){return g.base.y}),f.defined(fx).curve(u),f(m)}return a==="vertical"&&ae(o)?f=nx().y(mm).x1(pm).x0(o):ae(o)?f=nx().x(pm).y1(mm).y0(o):f=AY().x(pm).y(mm),f.defined(fx).curve(u),f(d)},M1=function(e){var n=e.className,r=e.points,i=e.path,s=e.pathRef;if((!r||!r.length)&&!i)return null;var o=r&&r.length?i6e(e):i;return M.createElement("path",II({},Ie(e,!1),o1(e),{className:He("recharts-curve",n),d:o,ref:s}))},s6e=Object.getOwnPropertyNames,o6e=Object.getOwnPropertySymbols,a6e=Object.prototype.hasOwnProperty;function QU(t,e){return function(r,i,s){return t(r,i,s)&&e(r,i,s)}}function hx(t){return function(n,r,i){if(!n||!r||typeof n!="object"||typeof r!="object")return t(n,r,i);var s=i.cache,o=s.get(n),a=s.get(r);if(o&&a)return o===r&&a===n;s.set(n,r),s.set(r,n);var l=t(n,r,i);return s.delete(n),s.delete(r),l}}function YU(t){return s6e(t).concat(o6e(t))}var jJ=Object.hasOwn||function(t,e){return a6e.call(t,e)};function kp(t,e){return t||e?t===e:t===e||t!==t&&e!==e}var RJ="_owner",XU=Object.getOwnPropertyDescriptor,JU=Object.keys;function l6e(t,e,n){var r=t.length;if(e.length!==r)return!1;for(;r-- >0;)if(!n.equals(t[r],e[r],r,r,t,e,n))return!1;return!0}function c6e(t,e){return kp(t.getTime(),e.getTime())}function ZU(t,e,n){if(t.size!==e.size)return!1;for(var r={},i=t.entries(),s=0,o,a;(o=i.next())&&!o.done;){for(var l=e.entries(),c=!1,u=0;(a=l.next())&&!a.done;){var d=o.value,f=d[0],p=d[1],m=a.value,g=m[0],v=m[1];!c&&!r[u]&&(c=n.equals(f,g,s,u,t,e,n)&&n.equals(p,v,f,g,t,e,n))&&(r[u]=!0),u++}if(!c)return!1;s++}return!0}function u6e(t,e,n){var r=JU(t),i=r.length;if(JU(e).length!==i)return!1;for(var s;i-- >0;)if(s=r[i],s===RJ&&(t.$$typeof||e.$$typeof)&&t.$$typeof!==e.$$typeof||!jJ(e,s)||!n.equals(t[s],e[s],s,s,t,e,n))return!1;return!0}function gm(t,e,n){var r=YU(t),i=r.length;if(YU(e).length!==i)return!1;for(var s,o,a;i-- >0;)if(s=r[i],s===RJ&&(t.$$typeof||e.$$typeof)&&t.$$typeof!==e.$$typeof||!jJ(e,s)||!n.equals(t[s],e[s],s,s,t,e,n)||(o=XU(t,s),a=XU(e,s),(o||a)&&(!o||!a||o.configurable!==a.configurable||o.enumerable!==a.enumerable||o.writable!==a.writable)))return!1;return!0}function d6e(t,e){return kp(t.valueOf(),e.valueOf())}function f6e(t,e){return t.source===e.source&&t.flags===e.flags}function e5(t,e,n){if(t.size!==e.size)return!1;for(var r={},i=t.values(),s,o;(s=i.next())&&!s.done;){for(var a=e.values(),l=!1,c=0;(o=a.next())&&!o.done;)!l&&!r[c]&&(l=n.equals(s.value,o.value,s.value,o.value,t,e,n))&&(r[c]=!0),c++;if(!l)return!1}return!0}function h6e(t,e){var n=t.length;if(e.length!==n)return!1;for(;n-- >0;)if(t[n]!==e[n])return!1;return!0}var p6e="[object Arguments]",m6e="[object Boolean]",g6e="[object Date]",y6e="[object Map]",v6e="[object Number]",x6e="[object Object]",b6e="[object RegExp]",w6e="[object Set]",_6e="[object String]",S6e=Array.isArray,t5=typeof ArrayBuffer=="function"&&ArrayBuffer.isView?ArrayBuffer.isView:null,n5=Object.assign,E6e=Object.prototype.toString.call.bind(Object.prototype.toString);function T6e(t){var e=t.areArraysEqual,n=t.areDatesEqual,r=t.areMapsEqual,i=t.areObjectsEqual,s=t.arePrimitiveWrappersEqual,o=t.areRegExpsEqual,a=t.areSetsEqual,l=t.areTypedArraysEqual;return function(u,d,f){if(u===d)return!0;if(u==null||d==null||typeof u!="object"||typeof d!="object")return u!==u&&d!==d;var p=u.constructor;if(p!==d.constructor)return!1;if(p===Object)return i(u,d,f);if(S6e(u))return e(u,d,f);if(t5!=null&&t5(u))return l(u,d,f);if(p===Date)return n(u,d,f);if(p===RegExp)return o(u,d,f);if(p===Map)return r(u,d,f);if(p===Set)return a(u,d,f);var m=E6e(u);return m===g6e?n(u,d,f):m===b6e?o(u,d,f):m===y6e?r(u,d,f):m===w6e?a(u,d,f):m===x6e?typeof u.then!="function"&&typeof d.then!="function"&&i(u,d,f):m===p6e?i(u,d,f):m===m6e||m===v6e||m===_6e?s(u,d,f):!1}}function A6e(t){var e=t.circular,n=t.createCustomConfig,r=t.strict,i={areArraysEqual:r?gm:l6e,areDatesEqual:c6e,areMapsEqual:r?QU(ZU,gm):ZU,areObjectsEqual:r?gm:u6e,arePrimitiveWrappersEqual:d6e,areRegExpsEqual:f6e,areSetsEqual:r?QU(e5,gm):e5,areTypedArraysEqual:r?gm:h6e};if(n&&(i=n5({},i,n(i))),e){var s=hx(i.areArraysEqual),o=hx(i.areMapsEqual),a=hx(i.areObjectsEqual),l=hx(i.areSetsEqual);i=n5({},i,{areArraysEqual:s,areMapsEqual:o,areObjectsEqual:a,areSetsEqual:l})}return i}function k6e(t){return function(e,n,r,i,s,o,a){return t(e,n,a)}}function P6e(t){var e=t.circular,n=t.comparator,r=t.createState,i=t.equals,s=t.strict;if(r)return function(l,c){var u=r(),d=u.cache,f=d===void 0?e?new WeakMap:void 0:d,p=u.meta;return n(l,c,{cache:f,equals:i,meta:p,strict:s})};if(e)return function(l,c){return n(l,c,{cache:new WeakMap,equals:i,meta:void 0,strict:s})};var o={cache:void 0,equals:i,meta:void 0,strict:s};return function(l,c){return n(l,c,o)}}var C6e=pc();pc({strict:!0});pc({circular:!0});pc({circular:!0,strict:!0});pc({createInternalComparator:function(){return kp}});pc({strict:!0,createInternalComparator:function(){return kp}});pc({circular:!0,createInternalComparator:function(){return kp}});pc({circular:!0,createInternalComparator:function(){return kp},strict:!0});function pc(t){t===void 0&&(t={});var e=t.circular,n=e===void 0?!1:e,r=t.createInternalComparator,i=t.createState,s=t.strict,o=s===void 0?!1:s,a=A6e(t),l=T6e(a),c=r?r(l):k6e(l);return P6e({circular:n,comparator:l,createState:i,equals:c,strict:o})}function I6e(t){typeof requestAnimationFrame<"u"&&requestAnimationFrame(t)}function r5(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=-1,r=function i(s){n<0&&(n=s),s-n>e?(t(s),n=-1):I6e(i)};requestAnimationFrame(r)}function OI(t){"@babel/helpers - typeof";return OI=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},OI(t)}function O6e(t){return D6e(t)||R6e(t)||j6e(t)||N6e()}function N6e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function j6e(t,e){if(t){if(typeof t=="string")return i5(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return i5(t,e)}}function i5(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function R6e(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function D6e(t){if(Array.isArray(t))return t}function M6e(){var t={},e=function(){return null},n=!1,r=function i(s){if(!n){if(Array.isArray(s)){if(!s.length)return;var o=s,a=O6e(o),l=a[0],c=a.slice(1);if(typeof l=="number"){r5(i.bind(null,c),l);return}i(l),r5(i.bind(null,c));return}OI(s)==="object"&&(t=s,e(t)),typeof s=="function"&&s()}};return{stop:function(){n=!0},start:function(s){n=!1,r(s)},subscribe:function(s){return e=s,function(){e=function(){return null}}}}}function zy(t){"@babel/helpers - typeof";return zy=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},zy(t)}function s5(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function o5(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?s5(Object(n),!0).forEach(function(r){DJ(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):s5(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function DJ(t,e,n){return e=L6e(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function L6e(t){var e=$6e(t,"string");return zy(e)==="symbol"?e:String(e)}function $6e(t,e){if(zy(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(zy(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var V6e=function(e,n){return[Object.keys(e),Object.keys(n)].reduce(function(r,i){return r.filter(function(s){return i.includes(s)})})},F6e=function(e){return e},B6e=function(e){return e.replace(/([A-Z])/g,function(n){return"-".concat(n.toLowerCase())})},gg=function(e,n){return Object.keys(n).reduce(function(r,i){return o5(o5({},r),{},DJ({},i,e(i,n[i])))},{})},a5=function(e,n,r){return e.map(function(i){return"".concat(B6e(i)," ").concat(n,"ms ").concat(r)}).join(",")};function U6e(t,e){return H6e(t)||q6e(t,e)||MJ(t,e)||z6e()}function z6e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function q6e(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,s,o,a=[],l=!0,c=!1;try{if(s=(n=n.call(t)).next,e!==0)for(;!(l=(r=s.call(n)).done)&&(a.push(r.value),a.length!==e);l=!0);}catch(u){c=!0,i=u}finally{try{if(!l&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(c)throw i}}return a}}function H6e(t){if(Array.isArray(t))return t}function W6e(t){return Q6e(t)||G6e(t)||MJ(t)||K6e()}function K6e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function MJ(t,e){if(t){if(typeof t=="string")return NI(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return NI(t,e)}}function G6e(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Q6e(t){if(Array.isArray(t))return NI(t)}function NI(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var L1=1e-4,LJ=function(e,n){return[0,3*e,3*n-6*e,3*e-3*n+1]},$J=function(e,n){return e.map(function(r,i){return r*Math.pow(n,i)}).reduce(function(r,i){return r+i})},l5=function(e,n){return function(r){var i=LJ(e,n);return $J(i,r)}},Y6e=function(e,n){return function(r){var i=LJ(e,n),s=[].concat(W6e(i.map(function(o,a){return o*a}).slice(1)),[0]);return $J(s,r)}},c5=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];var i=n[0],s=n[1],o=n[2],a=n[3];if(n.length===1)switch(n[0]){case"linear":i=0,s=0,o=1,a=1;break;case"ease":i=.25,s=.1,o=.25,a=1;break;case"ease-in":i=.42,s=0,o=1,a=1;break;case"ease-out":i=.42,s=0,o=.58,a=1;break;case"ease-in-out":i=0,s=0,o=.58,a=1;break;default:{var l=n[0].split("(");if(l[0]==="cubic-bezier"&&l[1].split(")")[0].split(",").length===4){var c=l[1].split(")")[0].split(",").map(function(v){return parseFloat(v)}),u=U6e(c,4);i=u[0],s=u[1],o=u[2],a=u[3]}}}var d=l5(i,o),f=l5(s,a),p=Y6e(i,o),m=function(x){return x>1?1:x<0?0:x},g=function(x){for(var b=x>1?1:x,w=b,T=0;T<8;++T){var _=d(w)-b,k=p(w);if(Math.abs(_-b)<L1||k<L1)return f(w);w=m(w-_/k)}return f(w)};return g.isStepper=!1,g},X6e=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=e.stiff,r=n===void 0?100:n,i=e.damping,s=i===void 0?8:i,o=e.dt,a=o===void 0?17:o,l=function(u,d,f){var p=-(u-d)*r,m=f*s,g=f+(p-m)*a/1e3,v=f*a/1e3+u;return Math.abs(v-d)<L1&&Math.abs(g)<L1?[d,0]:[v,g]};return l.isStepper=!0,l.dt=a,l},J6e=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];var i=n[0];if(typeof i=="string")switch(i){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return c5(i);case"spring":return X6e();default:if(i.split("(")[0]==="cubic-bezier")return c5(i)}return typeof i=="function"?i:null};function qy(t){"@babel/helpers - typeof";return qy=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},qy(t)}function u5(t){return t9e(t)||e9e(t)||VJ(t)||Z6e()}function Z6e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function e9e(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function t9e(t){if(Array.isArray(t))return RI(t)}function d5(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Jn(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?d5(Object(n),!0).forEach(function(r){jI(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):d5(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function jI(t,e,n){return e=n9e(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function n9e(t){var e=r9e(t,"string");return qy(e)==="symbol"?e:String(e)}function r9e(t,e){if(qy(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(qy(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function i9e(t,e){return a9e(t)||o9e(t,e)||VJ(t,e)||s9e()}function s9e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function VJ(t,e){if(t){if(typeof t=="string")return RI(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return RI(t,e)}}function RI(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function o9e(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,s,o,a=[],l=!0,c=!1;try{if(s=(n=n.call(t)).next,e!==0)for(;!(l=(r=s.call(n)).done)&&(a.push(r.value),a.length!==e);l=!0);}catch(u){c=!0,i=u}finally{try{if(!l&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(c)throw i}}return a}}function a9e(t){if(Array.isArray(t))return t}var $1=function(e,n,r){return e+(n-e)*r},DI=function(e){var n=e.from,r=e.to;return n!==r},l9e=function t(e,n,r){var i=gg(function(s,o){if(DI(o)){var a=e(o.from,o.to,o.velocity),l=i9e(a,2),c=l[0],u=l[1];return Jn(Jn({},o),{},{from:c,velocity:u})}return o},n);return r<1?gg(function(s,o){return DI(o)?Jn(Jn({},o),{},{velocity:$1(o.velocity,i[s].velocity,r),from:$1(o.from,i[s].from,r)}):o},n):t(e,i,r-1)};const c9e=function(t,e,n,r,i){var s=V6e(t,e),o=s.reduce(function(v,x){return Jn(Jn({},v),{},jI({},x,[t[x],e[x]]))},{}),a=s.reduce(function(v,x){return Jn(Jn({},v),{},jI({},x,{from:t[x],velocity:0,to:e[x]}))},{}),l=-1,c,u,d=function(){return null},f=function(){return gg(function(x,b){return b.from},a)},p=function(){return!Object.values(a).filter(DI).length},m=function(x){c||(c=x);var b=x-c,w=b/n.dt;a=l9e(n,a,w),i(Jn(Jn(Jn({},t),e),f())),c=x,p()||(l=requestAnimationFrame(d))},g=function(x){u||(u=x);var b=(x-u)/r,w=gg(function(_,k){return $1.apply(void 0,u5(k).concat([n(b)]))},o);if(i(Jn(Jn(Jn({},t),e),w)),b<1)l=requestAnimationFrame(d);else{var T=gg(function(_,k){return $1.apply(void 0,u5(k).concat([n(1)]))},o);i(Jn(Jn(Jn({},t),e),T))}};return d=n.isStepper?m:g,function(){return requestAnimationFrame(d),function(){cancelAnimationFrame(l)}}};function Dh(t){"@babel/helpers - typeof";return Dh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Dh(t)}var u9e=["children","begin","duration","attributeName","easing","isActive","steps","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart"];function d9e(t,e){if(t==null)return{};var n=f9e(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function f9e(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function $A(t){return g9e(t)||m9e(t)||p9e(t)||h9e()}function h9e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function p9e(t,e){if(t){if(typeof t=="string")return MI(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return MI(t,e)}}function m9e(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function g9e(t){if(Array.isArray(t))return MI(t)}function MI(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function f5(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function hs(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?f5(Object(n),!0).forEach(function(r){Fm(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):f5(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Fm(t,e,n){return e=FJ(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function y9e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function v9e(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,FJ(r.key),r)}}function x9e(t,e,n){return e&&v9e(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function FJ(t){var e=b9e(t,"string");return Dh(e)==="symbol"?e:String(e)}function b9e(t,e){if(Dh(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Dh(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function w9e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&LI(t,e)}function LI(t,e){return LI=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},LI(t,e)}function _9e(t){var e=S9e();return function(){var r=V1(t),i;if(e){var s=V1(this).constructor;i=Reflect.construct(r,arguments,s)}else i=r.apply(this,arguments);return $I(this,i)}}function $I(t,e){if(e&&(Dh(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return VI(t)}function VI(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function S9e(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function V1(t){return V1=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},V1(t)}var go=function(t){w9e(n,t);var e=_9e(n);function n(r,i){var s;y9e(this,n),s=e.call(this,r,i);var o=s.props,a=o.isActive,l=o.attributeName,c=o.from,u=o.to,d=o.steps,f=o.children,p=o.duration;if(s.handleStyleChange=s.handleStyleChange.bind(VI(s)),s.changeStyle=s.changeStyle.bind(VI(s)),!a||p<=0)return s.state={style:{}},typeof f=="function"&&(s.state={style:u}),$I(s);if(d&&d.length)s.state={style:d[0].style};else if(c){if(typeof f=="function")return s.state={style:c},$I(s);s.state={style:l?Fm({},l,c):c}}else s.state={style:{}};return s}return x9e(n,[{key:"componentDidMount",value:function(){var i=this.props,s=i.isActive,o=i.canBegin;this.mounted=!0,!(!s||!o)&&this.runAnimation(this.props)}},{key:"componentDidUpdate",value:function(i){var s=this.props,o=s.isActive,a=s.canBegin,l=s.attributeName,c=s.shouldReAnimate,u=s.to,d=s.from,f=this.state.style;if(a){if(!o){var p={style:l?Fm({},l,u):u};this.state&&f&&(l&&f[l]!==u||!l&&f!==u)&&this.setState(p);return}if(!(C6e(i.to,u)&&i.canBegin&&i.isActive)){var m=!i.canBegin||!i.isActive;this.manager&&this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var g=m||c?d:i.to;if(this.state&&f){var v={style:l?Fm({},l,g):g};(l&&f[l]!==g||!l&&f!==g)&&this.setState(v)}this.runAnimation(hs(hs({},this.props),{},{from:g,begin:0}))}}}},{key:"componentWillUnmount",value:function(){this.mounted=!1;var i=this.props.onAnimationEnd;this.unSubscribe&&this.unSubscribe(),this.manager&&(this.manager.stop(),this.manager=null),this.stopJSAnimation&&this.stopJSAnimation(),i&&i()}},{key:"handleStyleChange",value:function(i){this.changeStyle(i)}},{key:"changeStyle",value:function(i){this.mounted&&this.setState({style:i})}},{key:"runJSAnimation",value:function(i){var s=this,o=i.from,a=i.to,l=i.duration,c=i.easing,u=i.begin,d=i.onAnimationEnd,f=i.onAnimationStart,p=c9e(o,a,J6e(c),l,this.changeStyle),m=function(){s.stopJSAnimation=p()};this.manager.start([f,u,m,l,d])}},{key:"runStepAnimation",value:function(i){var s=this,o=i.steps,a=i.begin,l=i.onAnimationStart,c=o[0],u=c.style,d=c.duration,f=d===void 0?0:d,p=function(g,v,x){if(x===0)return g;var b=v.duration,w=v.easing,T=w===void 0?"ease":w,_=v.style,k=v.properties,S=v.onAnimationEnd,E=x>0?o[x-1]:v,P=k||Object.keys(_);if(typeof T=="function"||T==="spring")return[].concat($A(g),[s.runJSAnimation.bind(s,{from:E.style,to:_,duration:b,easing:T}),b]);var O=a5(P,b,T),N=hs(hs(hs({},E.style),_),{},{transition:O});return[].concat($A(g),[N,b,S]).filter(F6e)};return this.manager.start([l].concat($A(o.reduce(p,[u,Math.max(f,a)])),[i.onAnimationEnd]))}},{key:"runAnimation",value:function(i){this.manager||(this.manager=M6e());var s=i.begin,o=i.duration,a=i.attributeName,l=i.to,c=i.easing,u=i.onAnimationStart,d=i.onAnimationEnd,f=i.steps,p=i.children,m=this.manager;if(this.unSubscribe=m.subscribe(this.handleStyleChange),typeof c=="function"||typeof p=="function"||c==="spring"){this.runJSAnimation(i);return}if(f.length>1){this.runStepAnimation(i);return}var g=a?Fm({},a,l):l,v=a5(Object.keys(g),o,c);m.start([u,s,hs(hs({},g),{},{transition:v}),o,d])}},{key:"render",value:function(){var i=this.props,s=i.children;i.begin;var o=i.duration;i.attributeName,i.easing;var a=i.isActive;i.steps,i.from,i.to,i.canBegin,i.onAnimationEnd,i.shouldReAnimate,i.onAnimationReStart;var l=d9e(i,u9e),c=C.Children.count(s),u=this.state.style;if(typeof s=="function")return s(u);if(!a||c===0||o<=0)return s;var d=function(p){var m=p.props,g=m.style,v=g===void 0?{}:g,x=m.className,b=C.cloneElement(p,hs(hs({},l),{},{style:hs(hs({},v),u),className:x}));return b};return c===1?d(C.Children.only(s)):M.createElement("div",null,C.Children.map(s,function(f){return d(f)}))}}]),n}(C.PureComponent);go.displayName="Animate";go.defaultProps={begin:0,duration:1e3,from:"",to:"",attributeName:"",easing:"ease",isActive:!0,canBegin:!0,steps:[],onAnimationEnd:function(){},onAnimationStart:function(){}};go.propTypes={from:xe.oneOfType([xe.object,xe.string]),to:xe.oneOfType([xe.object,xe.string]),attributeName:xe.string,duration:xe.number,begin:xe.number,easing:xe.oneOfType([xe.string,xe.func]),steps:xe.arrayOf(xe.shape({duration:xe.number.isRequired,style:xe.object.isRequired,easing:xe.oneOfType([xe.oneOf(["ease","ease-in","ease-out","ease-in-out","linear"]),xe.func]),properties:xe.arrayOf("string"),onAnimationEnd:xe.func})),children:xe.oneOfType([xe.node,xe.func]),isActive:xe.bool,canBegin:xe.bool,onAnimationEnd:xe.func,shouldReAnimate:xe.bool,onAnimationStart:xe.func,onAnimationReStart:xe.func};xe.object,xe.object,xe.object,xe.element;xe.object,xe.object,xe.object,xe.oneOfType([xe.array,xe.element]),xe.any;function Hy(t){"@babel/helpers - typeof";return Hy=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Hy(t)}function F1(){return F1=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},F1.apply(this,arguments)}function E9e(t,e){return P9e(t)||k9e(t,e)||A9e(t,e)||T9e()}function T9e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function A9e(t,e){if(t){if(typeof t=="string")return h5(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return h5(t,e)}}function h5(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function k9e(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,s,o,a=[],l=!0,c=!1;try{if(s=(n=n.call(t)).next,e!==0)for(;!(l=(r=s.call(n)).done)&&(a.push(r.value),a.length!==e);l=!0);}catch(u){c=!0,i=u}finally{try{if(!l&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(c)throw i}}return a}}function P9e(t){if(Array.isArray(t))return t}function p5(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function m5(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?p5(Object(n),!0).forEach(function(r){C9e(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):p5(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function C9e(t,e,n){return e=I9e(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function I9e(t){var e=O9e(t,"string");return Hy(e)=="symbol"?e:e+""}function O9e(t,e){if(Hy(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Hy(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var g5=function(e,n,r,i,s){var o=Math.min(Math.abs(r)/2,Math.abs(i)/2),a=i>=0?1:-1,l=r>=0?1:-1,c=i>=0&&r>=0||i<0&&r<0?1:0,u;if(o>0&&s instanceof Array){for(var d=[0,0,0,0],f=0,p=4;f<p;f++)d[f]=s[f]>o?o:s[f];u="M".concat(e,",").concat(n+a*d[0]),d[0]>0&&(u+="A ".concat(d[0],",").concat(d[0],",0,0,").concat(c,",").concat(e+l*d[0],",").concat(n)),u+="L ".concat(e+r-l*d[1],",").concat(n),d[1]>0&&(u+="A ".concat(d[1],",").concat(d[1],",0,0,").concat(c,`,
        `).concat(e+r,",").concat(n+a*d[1])),u+="L ".concat(e+r,",").concat(n+i-a*d[2]),d[2]>0&&(u+="A ".concat(d[2],",").concat(d[2],",0,0,").concat(c,`,
        `).concat(e+r-l*d[2],",").concat(n+i)),u+="L ".concat(e+l*d[3],",").concat(n+i),d[3]>0&&(u+="A ".concat(d[3],",").concat(d[3],",0,0,").concat(c,`,
        `).concat(e,",").concat(n+i-a*d[3])),u+="Z"}else if(o>0&&s===+s&&s>0){var m=Math.min(o,s);u="M ".concat(e,",").concat(n+a*m,`
            A `).concat(m,",").concat(m,",0,0,").concat(c,",").concat(e+l*m,",").concat(n,`
            L `).concat(e+r-l*m,",").concat(n,`
            A `).concat(m,",").concat(m,",0,0,").concat(c,",").concat(e+r,",").concat(n+a*m,`
            L `).concat(e+r,",").concat(n+i-a*m,`
            A `).concat(m,",").concat(m,",0,0,").concat(c,",").concat(e+r-l*m,",").concat(n+i,`
            L `).concat(e+l*m,",").concat(n+i,`
            A `).concat(m,",").concat(m,",0,0,").concat(c,",").concat(e,",").concat(n+i-a*m," Z")}else u="M ".concat(e,",").concat(n," h ").concat(r," v ").concat(i," h ").concat(-r," Z");return u},N9e=function(e,n){if(!e||!n)return!1;var r=e.x,i=e.y,s=n.x,o=n.y,a=n.width,l=n.height;if(Math.abs(a)>0&&Math.abs(l)>0){var c=Math.min(s,s+a),u=Math.max(s,s+a),d=Math.min(o,o+l),f=Math.max(o,o+l);return r>=c&&r<=u&&i>=d&&i<=f}return!1},j9e={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},RR=function(e){var n=m5(m5({},j9e),e),r=C.useRef(),i=C.useState(-1),s=E9e(i,2),o=s[0],a=s[1];C.useEffect(function(){if(r.current&&r.current.getTotalLength)try{var T=r.current.getTotalLength();T&&a(T)}catch{}},[]);var l=n.x,c=n.y,u=n.width,d=n.height,f=n.radius,p=n.className,m=n.animationEasing,g=n.animationDuration,v=n.animationBegin,x=n.isAnimationActive,b=n.isUpdateAnimationActive;if(l!==+l||c!==+c||u!==+u||d!==+d||u===0||d===0)return null;var w=He("recharts-rectangle",p);return b?M.createElement(go,{canBegin:o>0,from:{width:u,height:d,x:l,y:c},to:{width:u,height:d,x:l,y:c},duration:g,animationEasing:m,isActive:b},function(T){var _=T.width,k=T.height,S=T.x,E=T.y;return M.createElement(go,{canBegin:o>0,from:"0px ".concat(o===-1?1:o,"px"),to:"".concat(o,"px 0px"),attributeName:"strokeDasharray",begin:v,duration:g,isActive:x,easing:m},M.createElement("path",F1({},Ie(n,!0),{className:w,d:g5(S,E,_,k,f),ref:r})))}):M.createElement("path",F1({},Ie(n,!0),{className:w,d:g5(l,c,u,d,f)}))},R9e=["points","className","baseLinePoints","connectNulls"];function df(){return df=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},df.apply(this,arguments)}function D9e(t,e){if(t==null)return{};var n=M9e(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function M9e(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function y5(t){return F9e(t)||V9e(t)||$9e(t)||L9e()}function L9e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function $9e(t,e){if(t){if(typeof t=="string")return FI(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return FI(t,e)}}function V9e(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function F9e(t){if(Array.isArray(t))return FI(t)}function FI(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var v5=function(e){return e&&e.x===+e.x&&e.y===+e.y},B9e=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],n=[[]];return e.forEach(function(r){v5(r)?n[n.length-1].push(r):n[n.length-1].length>0&&n.push([])}),v5(e[0])&&n[n.length-1].push(e[0]),n[n.length-1].length<=0&&(n=n.slice(0,-1)),n},yg=function(e,n){var r=B9e(e);n&&(r=[r.reduce(function(s,o){return[].concat(y5(s),y5(o))},[])]);var i=r.map(function(s){return s.reduce(function(o,a,l){return"".concat(o).concat(l===0?"M":"L").concat(a.x,",").concat(a.y)},"")}).join("");return r.length===1?"".concat(i,"Z"):i},U9e=function(e,n,r){var i=yg(e,r);return"".concat(i.slice(-1)==="Z"?i.slice(0,-1):i,"L").concat(yg(n.reverse(),r).slice(1))},z9e=function(e){var n=e.points,r=e.className,i=e.baseLinePoints,s=e.connectNulls,o=D9e(e,R9e);if(!n||!n.length)return null;var a=He("recharts-polygon",r);if(i&&i.length){var l=o.stroke&&o.stroke!=="none",c=U9e(n,i,s);return M.createElement("g",{className:a},M.createElement("path",df({},Ie(o,!0),{fill:c.slice(-1)==="Z"?o.fill:"none",stroke:"none",d:c})),l?M.createElement("path",df({},Ie(o,!0),{fill:"none",d:yg(n,s)})):null,l?M.createElement("path",df({},Ie(o,!0),{fill:"none",d:yg(i,s)})):null)}var u=yg(n,s);return M.createElement("path",df({},Ie(o,!0),{fill:u.slice(-1)==="Z"?o.fill:"none",className:a,d:u}))};function BI(){return BI=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},BI.apply(this,arguments)}var uE=function(e){var n=e.cx,r=e.cy,i=e.r,s=e.className,o=He("recharts-dot",s);return n===+n&&r===+r&&i===+i?M.createElement("circle",BI({},Ie(e,!1),o1(e),{className:o,cx:n,cy:r,r:i})):null};function Wy(t){"@babel/helpers - typeof";return Wy=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Wy(t)}var q9e=["x","y","top","left","width","height","className"];function UI(){return UI=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},UI.apply(this,arguments)}function x5(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function H9e(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?x5(Object(n),!0).forEach(function(r){W9e(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):x5(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function W9e(t,e,n){return e=K9e(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function K9e(t){var e=G9e(t,"string");return Wy(e)=="symbol"?e:e+""}function G9e(t,e){if(Wy(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Wy(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Q9e(t,e){if(t==null)return{};var n=Y9e(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Y9e(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var X9e=function(e,n,r,i,s,o){return"M".concat(e,",").concat(s,"v").concat(i,"M").concat(o,",").concat(n,"h").concat(r)},J9e=function(e){var n=e.x,r=n===void 0?0:n,i=e.y,s=i===void 0?0:i,o=e.top,a=o===void 0?0:o,l=e.left,c=l===void 0?0:l,u=e.width,d=u===void 0?0:u,f=e.height,p=f===void 0?0:f,m=e.className,g=Q9e(e,q9e),v=H9e({x:r,y:s,top:a,left:c,width:d,height:p},g);return!ae(r)||!ae(s)||!ae(d)||!ae(p)||!ae(a)||!ae(c)?null:M.createElement("path",UI({},Ie(v,!0),{className:He("recharts-cross",m),d:X9e(r,s,d,p,a,c)}))},Z9e=sE,e8e=eJ,t8e=_o;function n8e(t,e){return t&&t.length?Z9e(t,t8e(e),e8e):void 0}var r8e=n8e;const i8e=vt(r8e);var s8e=sE,o8e=_o,a8e=tJ;function l8e(t,e){return t&&t.length?s8e(t,o8e(e),a8e):void 0}var c8e=l8e;const u8e=vt(c8e);var d8e=["cx","cy","angle","ticks","axisLine"],f8e=["ticks","tick","angle","tickFormatter","stroke"];function Mh(t){"@babel/helpers - typeof";return Mh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Mh(t)}function vg(){return vg=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},vg.apply(this,arguments)}function b5(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Tc(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?b5(Object(n),!0).forEach(function(r){dE(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):b5(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function w5(t,e){if(t==null)return{};var n=h8e(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function h8e(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function p8e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _5(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,UJ(r.key),r)}}function m8e(t,e,n){return e&&_5(t.prototype,e),n&&_5(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function g8e(t,e,n){return e=B1(e),y8e(t,BJ()?Reflect.construct(e,n||[],B1(t).constructor):e.apply(t,n))}function y8e(t,e){if(e&&(Mh(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return v8e(t)}function v8e(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function BJ(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(BJ=function(){return!!t})()}function B1(t){return B1=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},B1(t)}function x8e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&zI(t,e)}function zI(t,e){return zI=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},zI(t,e)}function dE(t,e,n){return e=UJ(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function UJ(t){var e=b8e(t,"string");return Mh(e)=="symbol"?e:e+""}function b8e(t,e){if(Mh(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Mh(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var fE=function(t){function e(){return p8e(this,e),g8e(this,e,arguments)}return x8e(e,t),m8e(e,[{key:"getTickValueCoord",value:function(r){var i=r.coordinate,s=this.props,o=s.angle,a=s.cx,l=s.cy;return Vt(a,l,i,o)}},{key:"getTickTextAnchor",value:function(){var r=this.props.orientation,i;switch(r){case"left":i="end";break;case"right":i="start";break;default:i="middle";break}return i}},{key:"getViewBox",value:function(){var r=this.props,i=r.cx,s=r.cy,o=r.angle,a=r.ticks,l=i8e(a,function(u){return u.coordinate||0}),c=u8e(a,function(u){return u.coordinate||0});return{cx:i,cy:s,startAngle:o,endAngle:o,innerRadius:c.coordinate||0,outerRadius:l.coordinate||0}}},{key:"renderAxisLine",value:function(){var r=this.props,i=r.cx,s=r.cy,o=r.angle,a=r.ticks,l=r.axisLine,c=w5(r,d8e),u=a.reduce(function(m,g){return[Math.min(m[0],g.coordinate),Math.max(m[1],g.coordinate)]},[1/0,-1/0]),d=Vt(i,s,u[0],o),f=Vt(i,s,u[1],o),p=Tc(Tc(Tc({},Ie(c,!1)),{},{fill:"none"},Ie(l,!1)),{},{x1:d.x,y1:d.y,x2:f.x,y2:f.y});return M.createElement("line",vg({className:"recharts-polar-radius-axis-line"},p))}},{key:"renderTicks",value:function(){var r=this,i=this.props,s=i.ticks,o=i.tick,a=i.angle,l=i.tickFormatter,c=i.stroke,u=w5(i,f8e),d=this.getTickTextAnchor(),f=Ie(u,!1),p=Ie(o,!1),m=s.map(function(g,v){var x=r.getTickValueCoord(g),b=Tc(Tc(Tc(Tc({textAnchor:d,transform:"rotate(".concat(90-a,", ").concat(x.x,", ").concat(x.y,")")},f),{},{stroke:"none",fill:c},p),{},{index:v},x),{},{payload:g});return M.createElement(ft,vg({className:He("recharts-polar-radius-axis-tick",CJ(o)),key:"tick-".concat(g.coordinate)},Gu(r.props,g,v)),e.renderTickItem(o,b,l?l(g.value,v):g.value))});return M.createElement(ft,{className:"recharts-polar-radius-axis-ticks"},m)}},{key:"render",value:function(){var r=this.props,i=r.ticks,s=r.axisLine,o=r.tick;return!i||!i.length?null:M.createElement(ft,{className:He("recharts-polar-radius-axis",this.props.className)},s&&this.renderAxisLine(),o&&this.renderTicks(),qn.renderCallByParent(this.props,this.getViewBox()))}}],[{key:"renderTickItem",value:function(r,i,s){var o;return M.isValidElement(r)?o=M.cloneElement(r,i):Fe(r)?o=r(i):o=M.createElement(Qu,vg({},i,{className:"recharts-polar-radius-axis-tick-value"}),s),o}}])}(C.PureComponent);dE(fE,"displayName","PolarRadiusAxis");dE(fE,"axisType","radiusAxis");dE(fE,"defaultProps",{type:"number",radiusAxisId:0,cx:0,cy:0,angle:0,orientation:"right",stroke:"#ccc",axisLine:!0,tick:!0,tickCount:5,allowDataOverflow:!1,scale:"auto",allowDuplicatedCategory:!0});function Lh(t){"@babel/helpers - typeof";return Lh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Lh(t)}function Hc(){return Hc=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Hc.apply(this,arguments)}function S5(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Ac(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?S5(Object(n),!0).forEach(function(r){hE(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):S5(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function w8e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function E5(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,qJ(r.key),r)}}function _8e(t,e,n){return e&&E5(t.prototype,e),n&&E5(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function S8e(t,e,n){return e=U1(e),E8e(t,zJ()?Reflect.construct(e,n||[],U1(t).constructor):e.apply(t,n))}function E8e(t,e){if(e&&(Lh(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return T8e(t)}function T8e(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function zJ(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(zJ=function(){return!!t})()}function U1(t){return U1=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},U1(t)}function A8e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&qI(t,e)}function qI(t,e){return qI=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},qI(t,e)}function hE(t,e,n){return e=qJ(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function qJ(t){var e=k8e(t,"string");return Lh(e)=="symbol"?e:e+""}function k8e(t,e){if(Lh(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Lh(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var P8e=Math.PI/180,T5=1e-5,pE=function(t){function e(){return w8e(this,e),S8e(this,e,arguments)}return A8e(e,t),_8e(e,[{key:"getTickLineCoord",value:function(r){var i=this.props,s=i.cx,o=i.cy,a=i.radius,l=i.orientation,c=i.tickSize,u=c||8,d=Vt(s,o,a,r.coordinate),f=Vt(s,o,a+(l==="inner"?-1:1)*u,r.coordinate);return{x1:d.x,y1:d.y,x2:f.x,y2:f.y}}},{key:"getTickTextAnchor",value:function(r){var i=this.props.orientation,s=Math.cos(-r.coordinate*P8e),o;return s>T5?o=i==="outer"?"start":"end":s<-T5?o=i==="outer"?"end":"start":o="middle",o}},{key:"renderAxisLine",value:function(){var r=this.props,i=r.cx,s=r.cy,o=r.radius,a=r.axisLine,l=r.axisLineType,c=Ac(Ac({},Ie(this.props,!1)),{},{fill:"none"},Ie(a,!1));if(l==="circle")return M.createElement(uE,Hc({className:"recharts-polar-angle-axis-line"},c,{cx:i,cy:s,r:o}));var u=this.props.ticks,d=u.map(function(f){return Vt(i,s,o,f.coordinate)});return M.createElement(z9e,Hc({className:"recharts-polar-angle-axis-line"},c,{points:d}))}},{key:"renderTicks",value:function(){var r=this,i=this.props,s=i.ticks,o=i.tick,a=i.tickLine,l=i.tickFormatter,c=i.stroke,u=Ie(this.props,!1),d=Ie(o,!1),f=Ac(Ac({},u),{},{fill:"none"},Ie(a,!1)),p=s.map(function(m,g){var v=r.getTickLineCoord(m),x=r.getTickTextAnchor(m),b=Ac(Ac(Ac({textAnchor:x},u),{},{stroke:"none",fill:c},d),{},{index:g,payload:m,x:v.x2,y:v.y2});return M.createElement(ft,Hc({className:He("recharts-polar-angle-axis-tick",CJ(o)),key:"tick-".concat(m.coordinate)},Gu(r.props,m,g)),a&&M.createElement("line",Hc({className:"recharts-polar-angle-axis-tick-line"},f,v)),o&&e.renderTickItem(o,b,l?l(m.value,g):m.value))});return M.createElement(ft,{className:"recharts-polar-angle-axis-ticks"},p)}},{key:"render",value:function(){var r=this.props,i=r.ticks,s=r.radius,o=r.axisLine;return s<=0||!i||!i.length?null:M.createElement(ft,{className:He("recharts-polar-angle-axis",this.props.className)},o&&this.renderAxisLine(),this.renderTicks())}}],[{key:"renderTickItem",value:function(r,i,s){var o;return M.isValidElement(r)?o=M.cloneElement(r,i):Fe(r)?o=r(i):o=M.createElement(Qu,Hc({},i,{className:"recharts-polar-angle-axis-tick-value"}),s),o}}])}(C.PureComponent);hE(pE,"displayName","PolarAngleAxis");hE(pE,"axisType","angleAxis");hE(pE,"defaultProps",{type:"category",angleAxisId:0,scale:"auto",cx:0,cy:0,orientation:"outer",axisLine:!0,tickLine:!0,tickSize:8,tick:!0,hide:!1,allowDuplicatedCategory:!0});var C8e=YY,I8e=C8e(Object.getPrototypeOf,Object),O8e=I8e,N8e=Ea,j8e=O8e,R8e=Ta,D8e="[object Object]",M8e=Function.prototype,L8e=Object.prototype,HJ=M8e.toString,$8e=L8e.hasOwnProperty,V8e=HJ.call(Object);function F8e(t){if(!R8e(t)||N8e(t)!=D8e)return!1;var e=j8e(t);if(e===null)return!0;var n=$8e.call(e,"constructor")&&e.constructor;return typeof n=="function"&&n instanceof n&&HJ.call(n)==V8e}var B8e=F8e;const U8e=vt(B8e);var z8e=Ea,q8e=Ta,H8e="[object Boolean]";function W8e(t){return t===!0||t===!1||q8e(t)&&z8e(t)==H8e}var K8e=W8e;const G8e=vt(K8e);function Ky(t){"@babel/helpers - typeof";return Ky=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ky(t)}function z1(){return z1=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},z1.apply(this,arguments)}function Q8e(t,e){return Z8e(t)||J8e(t,e)||X8e(t,e)||Y8e()}function Y8e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function X8e(t,e){if(t){if(typeof t=="string")return A5(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return A5(t,e)}}function A5(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function J8e(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,s,o,a=[],l=!0,c=!1;try{if(s=(n=n.call(t)).next,e!==0)for(;!(l=(r=s.call(n)).done)&&(a.push(r.value),a.length!==e);l=!0);}catch(u){c=!0,i=u}finally{try{if(!l&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(c)throw i}}return a}}function Z8e(t){if(Array.isArray(t))return t}function k5(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function P5(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?k5(Object(n),!0).forEach(function(r){eqe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):k5(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function eqe(t,e,n){return e=tqe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function tqe(t){var e=nqe(t,"string");return Ky(e)=="symbol"?e:e+""}function nqe(t,e){if(Ky(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Ky(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var C5=function(e,n,r,i,s){var o=r-i,a;return a="M ".concat(e,",").concat(n),a+="L ".concat(e+r,",").concat(n),a+="L ".concat(e+r-o/2,",").concat(n+s),a+="L ".concat(e+r-o/2-i,",").concat(n+s),a+="L ".concat(e,",").concat(n," Z"),a},rqe={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},iqe=function(e){var n=P5(P5({},rqe),e),r=C.useRef(),i=C.useState(-1),s=Q8e(i,2),o=s[0],a=s[1];C.useEffect(function(){if(r.current&&r.current.getTotalLength)try{var w=r.current.getTotalLength();w&&a(w)}catch{}},[]);var l=n.x,c=n.y,u=n.upperWidth,d=n.lowerWidth,f=n.height,p=n.className,m=n.animationEasing,g=n.animationDuration,v=n.animationBegin,x=n.isUpdateAnimationActive;if(l!==+l||c!==+c||u!==+u||d!==+d||f!==+f||u===0&&d===0||f===0)return null;var b=He("recharts-trapezoid",p);return x?M.createElement(go,{canBegin:o>0,from:{upperWidth:0,lowerWidth:0,height:f,x:l,y:c},to:{upperWidth:u,lowerWidth:d,height:f,x:l,y:c},duration:g,animationEasing:m,isActive:x},function(w){var T=w.upperWidth,_=w.lowerWidth,k=w.height,S=w.x,E=w.y;return M.createElement(go,{canBegin:o>0,from:"0px ".concat(o===-1?1:o,"px"),to:"".concat(o,"px 0px"),attributeName:"strokeDasharray",begin:v,duration:g,easing:m},M.createElement("path",z1({},Ie(n,!0),{className:b,d:C5(S,E,T,_,k),ref:r})))}):M.createElement("g",null,M.createElement("path",z1({},Ie(n,!0),{className:b,d:C5(l,c,u,d,f)})))},sqe=["option","shapeType","propTransformer","activeClassName","isActive"];function Gy(t){"@babel/helpers - typeof";return Gy=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Gy(t)}function oqe(t,e){if(t==null)return{};var n=aqe(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function aqe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function I5(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function q1(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?I5(Object(n),!0).forEach(function(r){lqe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):I5(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function lqe(t,e,n){return e=cqe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function cqe(t){var e=uqe(t,"string");return Gy(e)=="symbol"?e:e+""}function uqe(t,e){if(Gy(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Gy(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function dqe(t,e){return q1(q1({},e),t)}function fqe(t,e){return t==="symbols"}function O5(t){var e=t.shapeType,n=t.elementProps;switch(e){case"rectangle":return M.createElement(RR,n);case"trapezoid":return M.createElement(iqe,n);case"sector":return M.createElement(NJ,n);case"symbols":if(fqe(e))return M.createElement(Zj,n);break;default:return null}}function hqe(t){return C.isValidElement(t)?t.props:t}function WJ(t){var e=t.option,n=t.shapeType,r=t.propTransformer,i=r===void 0?dqe:r,s=t.activeClassName,o=s===void 0?"recharts-active-shape":s,a=t.isActive,l=oqe(t,sqe),c;if(C.isValidElement(e))c=C.cloneElement(e,q1(q1({},l),hqe(e)));else if(Fe(e))c=e(l);else if(U8e(e)&&!G8e(e)){var u=i(e,l);c=M.createElement(O5,{shapeType:n,elementProps:u})}else{var d=l;c=M.createElement(O5,{shapeType:n,elementProps:d})}return a?M.createElement(ft,{className:o},c):c}function mE(t,e){return e!=null&&"trapezoids"in t.props}function gE(t,e){return e!=null&&"sectors"in t.props}function Qy(t,e){return e!=null&&"points"in t.props}function pqe(t,e){var n,r,i=t.x===(e==null||(n=e.labelViewBox)===null||n===void 0?void 0:n.x)||t.x===e.x,s=t.y===(e==null||(r=e.labelViewBox)===null||r===void 0?void 0:r.y)||t.y===e.y;return i&&s}function mqe(t,e){var n=t.endAngle===e.endAngle,r=t.startAngle===e.startAngle;return n&&r}function gqe(t,e){var n=t.x===e.x,r=t.y===e.y,i=t.z===e.z;return n&&r&&i}function yqe(t,e){var n;return mE(t,e)?n=pqe:gE(t,e)?n=mqe:Qy(t,e)&&(n=gqe),n}function vqe(t,e){var n;return mE(t,e)?n="trapezoids":gE(t,e)?n="sectors":Qy(t,e)&&(n="points"),n}function xqe(t,e){if(mE(t,e)){var n;return(n=e.tooltipPayload)===null||n===void 0||(n=n[0])===null||n===void 0||(n=n.payload)===null||n===void 0?void 0:n.payload}if(gE(t,e)){var r;return(r=e.tooltipPayload)===null||r===void 0||(r=r[0])===null||r===void 0||(r=r.payload)===null||r===void 0?void 0:r.payload}return Qy(t,e)?e.payload:{}}function bqe(t){var e=t.activeTooltipItem,n=t.graphicalItem,r=t.itemData,i=vqe(n,e),s=xqe(n,e),o=r.filter(function(l,c){var u=Wv(s,l),d=n.props[i].filter(function(m){var g=yqe(n,e);return g(m,e)}),f=n.props[i].indexOf(d[d.length-1]),p=c===f;return u&&p}),a=r.indexOf(o[o.length-1]);return a}var ib;function $h(t){"@babel/helpers - typeof";return $h=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},$h(t)}function ff(){return ff=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ff.apply(this,arguments)}function N5(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Mt(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?N5(Object(n),!0).forEach(function(r){Xi(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):N5(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function wqe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function j5(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,GJ(r.key),r)}}function _qe(t,e,n){return e&&j5(t.prototype,e),n&&j5(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function Sqe(t,e,n){return e=H1(e),Eqe(t,KJ()?Reflect.construct(e,n||[],H1(t).constructor):e.apply(t,n))}function Eqe(t,e){if(e&&($h(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Tqe(t)}function Tqe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function KJ(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(KJ=function(){return!!t})()}function H1(t){return H1=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},H1(t)}function Aqe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&HI(t,e)}function HI(t,e){return HI=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},HI(t,e)}function Xi(t,e,n){return e=GJ(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function GJ(t){var e=kqe(t,"string");return $h(e)=="symbol"?e:e+""}function kqe(t,e){if($h(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if($h(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var ka=function(t){function e(n){var r;return wqe(this,e),r=Sqe(this,e,[n]),Xi(r,"pieRef",null),Xi(r,"sectorRefs",[]),Xi(r,"id",bp("recharts-pie-")),Xi(r,"handleAnimationEnd",function(){var i=r.props.onAnimationEnd;r.setState({isAnimationFinished:!0}),Fe(i)&&i()}),Xi(r,"handleAnimationStart",function(){var i=r.props.onAnimationStart;r.setState({isAnimationFinished:!1}),Fe(i)&&i()}),r.state={isAnimationFinished:!n.isAnimationActive,prevIsAnimationActive:n.isAnimationActive,prevAnimationId:n.animationId,sectorToFocus:0},r}return Aqe(e,t),_qe(e,[{key:"isActiveIndex",value:function(r){var i=this.props.activeIndex;return Array.isArray(i)?i.indexOf(r)!==-1:r===i}},{key:"hasActiveIndex",value:function(){var r=this.props.activeIndex;return Array.isArray(r)?r.length!==0:r||r===0}},{key:"renderLabels",value:function(r){var i=this.props.isAnimationActive;if(i&&!this.state.isAnimationFinished)return null;var s=this.props,o=s.label,a=s.labelLine,l=s.dataKey,c=s.valueKey,u=Ie(this.props,!1),d=Ie(o,!1),f=Ie(a,!1),p=o&&o.offsetRadius||20,m=r.map(function(g,v){var x=(g.startAngle+g.endAngle)/2,b=Vt(g.cx,g.cy,g.outerRadius+p,x),w=Mt(Mt(Mt(Mt({},u),g),{},{stroke:"none"},d),{},{index:v,textAnchor:e.getTextAnchor(b.x,g.cx)},b),T=Mt(Mt(Mt(Mt({},u),g),{},{fill:"none",stroke:g.fill},f),{},{index:v,points:[Vt(g.cx,g.cy,g.outerRadius,x),b]}),_=l;return qe(l)&&qe(c)?_="value":qe(l)&&(_=c),M.createElement(ft,{key:"label-".concat(g.startAngle,"-").concat(g.endAngle,"-").concat(g.midAngle,"-").concat(v)},a&&e.renderLabelLineItem(a,T,"line"),e.renderLabelItem(o,w,jn(g,_)))});return M.createElement(ft,{className:"recharts-pie-labels"},m)}},{key:"renderSectorsStatically",value:function(r){var i=this,s=this.props,o=s.activeShape,a=s.blendStroke,l=s.inactiveShape;return r.map(function(c,u){if((c==null?void 0:c.startAngle)===0&&(c==null?void 0:c.endAngle)===0&&r.length!==1)return null;var d=i.isActiveIndex(u),f=l&&i.hasActiveIndex()?l:null,p=d?o:f,m=Mt(Mt({},c),{},{stroke:a?c.fill:c.stroke,tabIndex:-1});return M.createElement(ft,ff({ref:function(v){v&&!i.sectorRefs.includes(v)&&i.sectorRefs.push(v)},tabIndex:-1,className:"recharts-pie-sector"},Gu(i.props,c,u),{key:"sector-".concat(c==null?void 0:c.startAngle,"-").concat(c==null?void 0:c.endAngle,"-").concat(c.midAngle,"-").concat(u)}),M.createElement(WJ,ff({option:p,isActive:d,shapeType:"sector"},m)))})}},{key:"renderSectorsWithAnimation",value:function(){var r=this,i=this.props,s=i.sectors,o=i.isAnimationActive,a=i.animationBegin,l=i.animationDuration,c=i.animationEasing,u=i.animationId,d=this.state,f=d.prevSectors,p=d.prevIsAnimationActive;return M.createElement(go,{begin:a,duration:l,isActive:o,easing:c,from:{t:0},to:{t:1},key:"pie-".concat(u,"-").concat(p),onAnimationStart:this.handleAnimationStart,onAnimationEnd:this.handleAnimationEnd},function(m){var g=m.t,v=[],x=s&&s[0],b=x.startAngle;return s.forEach(function(w,T){var _=f&&f[T],k=T>0?Ii(w,"paddingAngle",0):0;if(_){var S=wi(_.endAngle-_.startAngle,w.endAngle-w.startAngle),E=Mt(Mt({},w),{},{startAngle:b+k,endAngle:b+S(g)+k});v.push(E),b=E.endAngle}else{var P=w.endAngle,O=w.startAngle,N=wi(0,P-O),R=N(g),j=Mt(Mt({},w),{},{startAngle:b+k,endAngle:b+R+k});v.push(j),b=j.endAngle}}),M.createElement(ft,null,r.renderSectorsStatically(v))})}},{key:"attachKeyboardHandlers",value:function(r){var i=this;r.onkeydown=function(s){if(!s.altKey)switch(s.key){case"ArrowLeft":{var o=++i.state.sectorToFocus%i.sectorRefs.length;i.sectorRefs[o].focus(),i.setState({sectorToFocus:o});break}case"ArrowRight":{var a=--i.state.sectorToFocus<0?i.sectorRefs.length-1:i.state.sectorToFocus%i.sectorRefs.length;i.sectorRefs[a].focus(),i.setState({sectorToFocus:a});break}case"Escape":{i.sectorRefs[i.state.sectorToFocus].blur(),i.setState({sectorToFocus:0});break}}}}},{key:"renderSectors",value:function(){var r=this.props,i=r.sectors,s=r.isAnimationActive,o=this.state.prevSectors;return s&&i&&i.length&&(!o||!Wv(o,i))?this.renderSectorsWithAnimation():this.renderSectorsStatically(i)}},{key:"componentDidMount",value:function(){this.pieRef&&this.attachKeyboardHandlers(this.pieRef)}},{key:"render",value:function(){var r=this,i=this.props,s=i.hide,o=i.sectors,a=i.className,l=i.label,c=i.cx,u=i.cy,d=i.innerRadius,f=i.outerRadius,p=i.isAnimationActive,m=this.state.isAnimationFinished;if(s||!o||!o.length||!ae(c)||!ae(u)||!ae(d)||!ae(f))return null;var g=He("recharts-pie",a);return M.createElement(ft,{tabIndex:this.props.rootTabIndex,className:g,ref:function(x){r.pieRef=x}},this.renderSectors(),l&&this.renderLabels(o),qn.renderCallByParent(this.props,null,!1),(!p||m)&&na.renderCallByParent(this.props,o,!1))}}],[{key:"getDerivedStateFromProps",value:function(r,i){return i.prevIsAnimationActive!==r.isAnimationActive?{prevIsAnimationActive:r.isAnimationActive,prevAnimationId:r.animationId,curSectors:r.sectors,prevSectors:[],isAnimationFinished:!0}:r.isAnimationActive&&r.animationId!==i.prevAnimationId?{prevAnimationId:r.animationId,curSectors:r.sectors,prevSectors:i.curSectors,isAnimationFinished:!0}:r.sectors!==i.curSectors?{curSectors:r.sectors,isAnimationFinished:!0}:null}},{key:"getTextAnchor",value:function(r,i){return r>i?"start":r<i?"end":"middle"}},{key:"renderLabelLineItem",value:function(r,i,s){if(M.isValidElement(r))return M.cloneElement(r,i);if(Fe(r))return r(i);var o=He("recharts-pie-label-line",typeof r!="boolean"?r.className:"");return M.createElement(M1,ff({},i,{key:s,type:"linear",className:o}))}},{key:"renderLabelItem",value:function(r,i,s){if(M.isValidElement(r))return M.cloneElement(r,i);var o=s;if(Fe(r)&&(o=r(i),M.isValidElement(o)))return o;var a=He("recharts-pie-label-text",typeof r!="boolean"&&!Fe(r)?r.className:"");return M.createElement(Qu,ff({},i,{alignmentBaseline:"middle",className:a}),o)}}])}(C.PureComponent);ib=ka;Xi(ka,"displayName","Pie");Xi(ka,"defaultProps",{stroke:"#fff",fill:"#808080",legendType:"rect",cx:"50%",cy:"50%",startAngle:0,endAngle:360,innerRadius:0,outerRadius:"80%",paddingAngle:0,labelLine:!0,hide:!1,minAngle:0,isAnimationActive:!oo.isSsr,animationBegin:400,animationDuration:1500,animationEasing:"ease",nameKey:"name",blendStroke:!1,rootTabIndex:0});Xi(ka,"parseDeltaAngle",function(t,e){var n=Vr(e-t),r=Math.min(Math.abs(e-t),360);return n*r});Xi(ka,"getRealPieData",function(t){var e=t.data,n=t.children,r=Ie(t,!1),i=Oi(n,JS);return e&&e.length?e.map(function(s,o){return Mt(Mt(Mt({payload:s},r),s),i&&i[o]&&i[o].props)}):i&&i.length?i.map(function(s){return Mt(Mt({},r),s.props)}):[]});Xi(ka,"parseCoordinateOfPie",function(t,e){var n=e.top,r=e.left,i=e.width,s=e.height,o=PJ(i,s),a=r+Fr(t.cx,i,i/2),l=n+Fr(t.cy,s,s/2),c=Fr(t.innerRadius,o,0),u=Fr(t.outerRadius,o,o*.8),d=t.maxRadius||Math.sqrt(i*i+s*s)/2;return{cx:a,cy:l,innerRadius:c,outerRadius:u,maxRadius:d}});Xi(ka,"getComposedData",function(t){var e=t.item,n=t.offset,r=e.type.defaultProps!==void 0?Mt(Mt({},e.type.defaultProps),e.props):e.props,i=ib.getRealPieData(r);if(!i||!i.length)return null;var s=r.cornerRadius,o=r.startAngle,a=r.endAngle,l=r.paddingAngle,c=r.dataKey,u=r.nameKey,d=r.valueKey,f=r.tooltipType,p=Math.abs(r.minAngle),m=ib.parseCoordinateOfPie(r,n),g=ib.parseDeltaAngle(o,a),v=Math.abs(g),x=c;qe(c)&&qe(d)?(ks(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),x="value"):qe(c)&&(ks(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),x=d);var b=i.filter(function(E){return jn(E,x,0)!==0}).length,w=(v>=360?b:b-1)*l,T=v-b*p-w,_=i.reduce(function(E,P){var O=jn(P,x,0);return E+(ae(O)?O:0)},0),k;if(_>0){var S;k=i.map(function(E,P){var O=jn(E,x,0),N=jn(E,u,P),R=(ae(O)?O:0)/_,j;P?j=S.endAngle+Vr(g)*l*(O!==0?1:0):j=o;var z=j+Vr(g)*((O!==0?p:0)+R*T),F=(j+z)/2,L=(m.innerRadius+m.outerRadius)/2,B=[{name:N,value:O,payload:E,dataKey:x,type:f}],$=Vt(m.cx,m.cy,L,F);return S=Mt(Mt(Mt({percent:R,cornerRadius:s,name:N,tooltipPayload:B,midAngle:F,middleRadius:L,tooltipPosition:$},E),m),{},{value:jn(E,x),startAngle:j,endAngle:z,payload:E,paddingAngle:Vr(g)*l}),S})}return Mt(Mt({},m),{},{sectors:k,data:i})});var Pqe=Math.ceil,Cqe=Math.max;function Iqe(t,e,n,r){for(var i=-1,s=Cqe(Pqe((e-t)/(n||1)),0),o=Array(s);s--;)o[r?s:++i]=t,t+=n;return o}var Oqe=Iqe,Nqe=mX,R5=1/0,jqe=17976931348623157e292;function Rqe(t){if(!t)return t===0?t:0;if(t=Nqe(t),t===R5||t===-R5){var e=t<0?-1:1;return e*jqe}return t===t?t:0}var QJ=Rqe,Dqe=Oqe,Mqe=XS,VA=QJ;function Lqe(t){return function(e,n,r){return r&&typeof r!="number"&&Mqe(e,n,r)&&(n=r=void 0),e=VA(e),n===void 0?(n=e,e=0):n=VA(n),r=r===void 0?e<n?1:-1:VA(r),Dqe(e,n,r,t)}}var $qe=Lqe,Vqe=$qe,Fqe=Vqe(),Bqe=Fqe;const W1=vt(Bqe);function Yy(t){"@babel/helpers - typeof";return Yy=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Yy(t)}function D5(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function M5(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?D5(Object(n),!0).forEach(function(r){YJ(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):D5(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function YJ(t,e,n){return e=Uqe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Uqe(t){var e=zqe(t,"string");return Yy(e)=="symbol"?e:e+""}function zqe(t,e){if(Yy(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Yy(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var qqe=["Webkit","Moz","O","ms"],Hqe=function(e,n){var r=e.replace(/(\w)/,function(s){return s.toUpperCase()}),i=qqe.reduce(function(s,o){return M5(M5({},s),{},YJ({},o+r,n))},{});return i[e]=n,i};function Vh(t){"@babel/helpers - typeof";return Vh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Vh(t)}function K1(){return K1=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},K1.apply(this,arguments)}function L5(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function FA(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?L5(Object(n),!0).forEach(function(r){yi(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):L5(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Wqe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function $5(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,JJ(r.key),r)}}function Kqe(t,e,n){return e&&$5(t.prototype,e),n&&$5(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function Gqe(t,e,n){return e=G1(e),Qqe(t,XJ()?Reflect.construct(e,n||[],G1(t).constructor):e.apply(t,n))}function Qqe(t,e){if(e&&(Vh(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Yqe(t)}function Yqe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function XJ(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(XJ=function(){return!!t})()}function G1(t){return G1=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},G1(t)}function Xqe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&WI(t,e)}function WI(t,e){return WI=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},WI(t,e)}function yi(t,e,n){return e=JJ(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function JJ(t){var e=Jqe(t,"string");return Vh(e)=="symbol"?e:e+""}function Jqe(t,e){if(Vh(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Vh(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Zqe=function(e){var n=e.data,r=e.startIndex,i=e.endIndex,s=e.x,o=e.width,a=e.travellerWidth;if(!n||!n.length)return{};var l=n.length,c=pg().domain(W1(0,l)).range([s,s+o-a]),u=c.domain().map(function(d){return c(d)});return{isTextActive:!1,isSlideMoving:!1,isTravellerMoving:!1,isTravellerFocused:!1,startX:c(r),endX:c(i),scale:c,scaleValues:u}},V5=function(e){return e.changedTouches&&!!e.changedTouches.length},Fh=function(t){function e(n){var r;return Wqe(this,e),r=Gqe(this,e,[n]),yi(r,"handleDrag",function(i){r.leaveTimer&&(clearTimeout(r.leaveTimer),r.leaveTimer=null),r.state.isTravellerMoving?r.handleTravellerMove(i):r.state.isSlideMoving&&r.handleSlideDrag(i)}),yi(r,"handleTouchMove",function(i){i.changedTouches!=null&&i.changedTouches.length>0&&r.handleDrag(i.changedTouches[0])}),yi(r,"handleDragEnd",function(){r.setState({isTravellerMoving:!1,isSlideMoving:!1},function(){var i=r.props,s=i.endIndex,o=i.onDragEnd,a=i.startIndex;o==null||o({endIndex:s,startIndex:a})}),r.detachDragEndListener()}),yi(r,"handleLeaveWrapper",function(){(r.state.isTravellerMoving||r.state.isSlideMoving)&&(r.leaveTimer=window.setTimeout(r.handleDragEnd,r.props.leaveTimeOut))}),yi(r,"handleEnterSlideOrTraveller",function(){r.setState({isTextActive:!0})}),yi(r,"handleLeaveSlideOrTraveller",function(){r.setState({isTextActive:!1})}),yi(r,"handleSlideDragStart",function(i){var s=V5(i)?i.changedTouches[0]:i;r.setState({isTravellerMoving:!1,isSlideMoving:!0,slideMoveStartX:s.pageX}),r.attachDragEndListener()}),r.travellerDragStartHandlers={startX:r.handleTravellerDragStart.bind(r,"startX"),endX:r.handleTravellerDragStart.bind(r,"endX")},r.state={},r}return Xqe(e,t),Kqe(e,[{key:"componentWillUnmount",value:function(){this.leaveTimer&&(clearTimeout(this.leaveTimer),this.leaveTimer=null),this.detachDragEndListener()}},{key:"getIndex",value:function(r){var i=r.startX,s=r.endX,o=this.state.scaleValues,a=this.props,l=a.gap,c=a.data,u=c.length-1,d=Math.min(i,s),f=Math.max(i,s),p=e.getIndexInRange(o,d),m=e.getIndexInRange(o,f);return{startIndex:p-p%l,endIndex:m===u?u:m-m%l}}},{key:"getTextOfTick",value:function(r){var i=this.props,s=i.data,o=i.tickFormatter,a=i.dataKey,l=jn(s[r],a,r);return Fe(o)?o(l,r):l}},{key:"attachDragEndListener",value:function(){window.addEventListener("mouseup",this.handleDragEnd,!0),window.addEventListener("touchend",this.handleDragEnd,!0),window.addEventListener("mousemove",this.handleDrag,!0)}},{key:"detachDragEndListener",value:function(){window.removeEventListener("mouseup",this.handleDragEnd,!0),window.removeEventListener("touchend",this.handleDragEnd,!0),window.removeEventListener("mousemove",this.handleDrag,!0)}},{key:"handleSlideDrag",value:function(r){var i=this.state,s=i.slideMoveStartX,o=i.startX,a=i.endX,l=this.props,c=l.x,u=l.width,d=l.travellerWidth,f=l.startIndex,p=l.endIndex,m=l.onChange,g=r.pageX-s;g>0?g=Math.min(g,c+u-d-a,c+u-d-o):g<0&&(g=Math.max(g,c-o,c-a));var v=this.getIndex({startX:o+g,endX:a+g});(v.startIndex!==f||v.endIndex!==p)&&m&&m(v),this.setState({startX:o+g,endX:a+g,slideMoveStartX:r.pageX})}},{key:"handleTravellerDragStart",value:function(r,i){var s=V5(i)?i.changedTouches[0]:i;this.setState({isSlideMoving:!1,isTravellerMoving:!0,movingTravellerId:r,brushMoveStartX:s.pageX}),this.attachDragEndListener()}},{key:"handleTravellerMove",value:function(r){var i=this.state,s=i.brushMoveStartX,o=i.movingTravellerId,a=i.endX,l=i.startX,c=this.state[o],u=this.props,d=u.x,f=u.width,p=u.travellerWidth,m=u.onChange,g=u.gap,v=u.data,x={startX:this.state.startX,endX:this.state.endX},b=r.pageX-s;b>0?b=Math.min(b,d+f-p-c):b<0&&(b=Math.max(b,d-c)),x[o]=c+b;var w=this.getIndex(x),T=w.startIndex,_=w.endIndex,k=function(){var E=v.length-1;return o==="startX"&&(a>l?T%g===0:_%g===0)||a<l&&_===E||o==="endX"&&(a>l?_%g===0:T%g===0)||a>l&&_===E};this.setState(yi(yi({},o,c+b),"brushMoveStartX",r.pageX),function(){m&&k()&&m(w)})}},{key:"handleTravellerMoveKeyboard",value:function(r,i){var s=this,o=this.state,a=o.scaleValues,l=o.startX,c=o.endX,u=this.state[i],d=a.indexOf(u);if(d!==-1){var f=d+r;if(!(f===-1||f>=a.length)){var p=a[f];i==="startX"&&p>=c||i==="endX"&&p<=l||this.setState(yi({},i,p),function(){s.props.onChange(s.getIndex({startX:s.state.startX,endX:s.state.endX}))})}}}},{key:"renderBackground",value:function(){var r=this.props,i=r.x,s=r.y,o=r.width,a=r.height,l=r.fill,c=r.stroke;return M.createElement("rect",{stroke:c,fill:l,x:i,y:s,width:o,height:a})}},{key:"renderPanorama",value:function(){var r=this.props,i=r.x,s=r.y,o=r.width,a=r.height,l=r.data,c=r.children,u=r.padding,d=C.Children.only(c);return d?M.cloneElement(d,{x:i,y:s,width:o,height:a,margin:u,compact:!0,data:l}):null}},{key:"renderTravellerLayer",value:function(r,i){var s,o,a=this,l=this.props,c=l.y,u=l.travellerWidth,d=l.height,f=l.traveller,p=l.ariaLabel,m=l.data,g=l.startIndex,v=l.endIndex,x=Math.max(r,this.props.x),b=FA(FA({},Ie(this.props,!1)),{},{x,y:c,width:u,height:d}),w=p||"Min value: ".concat((s=m[g])===null||s===void 0?void 0:s.name,", Max value: ").concat((o=m[v])===null||o===void 0?void 0:o.name);return M.createElement(ft,{tabIndex:0,role:"slider","aria-label":w,"aria-valuenow":r,className:"recharts-brush-traveller",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.travellerDragStartHandlers[i],onTouchStart:this.travellerDragStartHandlers[i],onKeyDown:function(_){["ArrowLeft","ArrowRight"].includes(_.key)&&(_.preventDefault(),_.stopPropagation(),a.handleTravellerMoveKeyboard(_.key==="ArrowRight"?1:-1,i))},onFocus:function(){a.setState({isTravellerFocused:!0})},onBlur:function(){a.setState({isTravellerFocused:!1})},style:{cursor:"col-resize"}},e.renderTraveller(f,b))}},{key:"renderSlide",value:function(r,i){var s=this.props,o=s.y,a=s.height,l=s.stroke,c=s.travellerWidth,u=Math.min(r,i)+c,d=Math.max(Math.abs(i-r)-c,0);return M.createElement("rect",{className:"recharts-brush-slide",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.handleSlideDragStart,onTouchStart:this.handleSlideDragStart,style:{cursor:"move"},stroke:"none",fill:l,fillOpacity:.2,x:u,y:o,width:d,height:a})}},{key:"renderText",value:function(){var r=this.props,i=r.startIndex,s=r.endIndex,o=r.y,a=r.height,l=r.travellerWidth,c=r.stroke,u=this.state,d=u.startX,f=u.endX,p=5,m={pointerEvents:"none",fill:c};return M.createElement(ft,{className:"recharts-brush-texts"},M.createElement(Qu,K1({textAnchor:"end",verticalAnchor:"middle",x:Math.min(d,f)-p,y:o+a/2},m),this.getTextOfTick(i)),M.createElement(Qu,K1({textAnchor:"start",verticalAnchor:"middle",x:Math.max(d,f)+l+p,y:o+a/2},m),this.getTextOfTick(s)))}},{key:"render",value:function(){var r=this.props,i=r.data,s=r.className,o=r.children,a=r.x,l=r.y,c=r.width,u=r.height,d=r.alwaysShowText,f=this.state,p=f.startX,m=f.endX,g=f.isTextActive,v=f.isSlideMoving,x=f.isTravellerMoving,b=f.isTravellerFocused;if(!i||!i.length||!ae(a)||!ae(l)||!ae(c)||!ae(u)||c<=0||u<=0)return null;var w=He("recharts-brush",s),T=M.Children.count(o)===1,_=Hqe("userSelect","none");return M.createElement(ft,{className:w,onMouseLeave:this.handleLeaveWrapper,onTouchMove:this.handleTouchMove,style:_},this.renderBackground(),T&&this.renderPanorama(),this.renderSlide(p,m),this.renderTravellerLayer(p,"startX"),this.renderTravellerLayer(m,"endX"),(g||v||x||b||d)&&this.renderText())}}],[{key:"renderDefaultTraveller",value:function(r){var i=r.x,s=r.y,o=r.width,a=r.height,l=r.stroke,c=Math.floor(s+a/2)-1;return M.createElement(M.Fragment,null,M.createElement("rect",{x:i,y:s,width:o,height:a,fill:l,stroke:"none"}),M.createElement("line",{x1:i+1,y1:c,x2:i+o-1,y2:c,fill:"none",stroke:"#fff"}),M.createElement("line",{x1:i+1,y1:c+2,x2:i+o-1,y2:c+2,fill:"none",stroke:"#fff"}))}},{key:"renderTraveller",value:function(r,i){var s;return M.isValidElement(r)?s=M.cloneElement(r,i):Fe(r)?s=r(i):s=e.renderDefaultTraveller(i),s}},{key:"getDerivedStateFromProps",value:function(r,i){var s=r.data,o=r.width,a=r.x,l=r.travellerWidth,c=r.updateId,u=r.startIndex,d=r.endIndex;if(s!==i.prevData||c!==i.prevUpdateId)return FA({prevData:s,prevTravellerWidth:l,prevUpdateId:c,prevX:a,prevWidth:o},s&&s.length?Zqe({data:s,width:o,x:a,travellerWidth:l,startIndex:u,endIndex:d}):{scale:null,scaleValues:null});if(i.scale&&(o!==i.prevWidth||a!==i.prevX||l!==i.prevTravellerWidth)){i.scale.range([a,a+o-l]);var f=i.scale.domain().map(function(p){return i.scale(p)});return{prevData:s,prevTravellerWidth:l,prevUpdateId:c,prevX:a,prevWidth:o,startX:i.scale(r.startIndex),endX:i.scale(r.endIndex),scaleValues:f}}return null}},{key:"getIndexInRange",value:function(r,i){for(var s=r.length,o=0,a=s-1;a-o>1;){var l=Math.floor((o+a)/2);r[l]>i?a=l:o=l}return i>=r[a]?a:o}}])}(C.PureComponent);yi(Fh,"displayName","Brush");yi(Fh,"defaultProps",{height:40,travellerWidth:5,gap:1,fill:"#fff",stroke:"#666",padding:{top:1,right:1,bottom:1,left:1},leaveTimeOut:1e3,alwaysShowText:!1});var eHe=oR;function tHe(t,e){var n;return eHe(t,function(r,i,s){return n=e(r,i,s),!n}),!!n}var nHe=tHe,rHe=UY,iHe=_o,sHe=nHe,oHe=pi,aHe=XS;function lHe(t,e,n){var r=oHe(t)?rHe:sHe;return n&&aHe(t,e,n)&&(e=void 0),r(t,iHe(e))}var cHe=lHe;const uHe=vt(cHe);var lo=function(e,n){var r=e.alwaysShow,i=e.ifOverflow;return r&&(i="extendDomain"),i===n},F5=uX;function dHe(t,e,n){e=="__proto__"&&F5?F5(t,e,{configurable:!0,enumerable:!0,value:n,writable:!0}):t[e]=n}var fHe=dHe,hHe=fHe,pHe=lX,mHe=_o;function gHe(t,e){var n={};return e=mHe(e),pHe(t,function(r,i,s){hHe(n,i,e(r,i,s))}),n}var yHe=gHe;const vHe=vt(yHe);function xHe(t,e){for(var n=-1,r=t==null?0:t.length;++n<r;)if(!e(t[n],n,t))return!1;return!0}var bHe=xHe,wHe=oR;function _He(t,e){var n=!0;return wHe(t,function(r,i,s){return n=!!e(r,i,s),n}),n}var SHe=_He,EHe=bHe,THe=SHe,AHe=_o,kHe=pi,PHe=XS;function CHe(t,e,n){var r=kHe(t)?EHe:THe;return n&&PHe(t,e,n)&&(e=void 0),r(t,AHe(e))}var IHe=CHe;const ZJ=vt(IHe);var OHe=["x","y"];function Xy(t){"@babel/helpers - typeof";return Xy=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Xy(t)}function KI(){return KI=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},KI.apply(this,arguments)}function B5(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function ym(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?B5(Object(n),!0).forEach(function(r){NHe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):B5(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function NHe(t,e,n){return e=jHe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function jHe(t){var e=RHe(t,"string");return Xy(e)=="symbol"?e:e+""}function RHe(t,e){if(Xy(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Xy(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function DHe(t,e){if(t==null)return{};var n=MHe(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function MHe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function LHe(t,e){var n=t.x,r=t.y,i=DHe(t,OHe),s="".concat(n),o=parseInt(s,10),a="".concat(r),l=parseInt(a,10),c="".concat(e.height||i.height),u=parseInt(c,10),d="".concat(e.width||i.width),f=parseInt(d,10);return ym(ym(ym(ym(ym({},e),i),o?{x:o}:{}),l?{y:l}:{}),{},{height:u,width:f,name:e.name,radius:e.radius})}function U5(t){return M.createElement(WJ,KI({shapeType:"rectangle",propTransformer:LHe,activeClassName:"recharts-active-bar"},t))}var $He=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return function(r,i){if(typeof e=="number")return e;var s=typeof r=="number";return s?e(r,i):(s||Xu(),n)}},VHe=["value","background"],eZ;function Bh(t){"@babel/helpers - typeof";return Bh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Bh(t)}function FHe(t,e){if(t==null)return{};var n=BHe(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function BHe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function Q1(){return Q1=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Q1.apply(this,arguments)}function z5(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function _n(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?z5(Object(n),!0).forEach(function(r){_l(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):z5(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function UHe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function q5(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,nZ(r.key),r)}}function zHe(t,e,n){return e&&q5(t.prototype,e),n&&q5(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function qHe(t,e,n){return e=Y1(e),HHe(t,tZ()?Reflect.construct(e,n||[],Y1(t).constructor):e.apply(t,n))}function HHe(t,e){if(e&&(Bh(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return WHe(t)}function WHe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function tZ(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(tZ=function(){return!!t})()}function Y1(t){return Y1=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Y1(t)}function KHe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&GI(t,e)}function GI(t,e){return GI=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},GI(t,e)}function _l(t,e,n){return e=nZ(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function nZ(t){var e=GHe(t,"string");return Bh(e)=="symbol"?e:e+""}function GHe(t,e){if(Bh(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Bh(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var yo=function(t){function e(){var n;UHe(this,e);for(var r=arguments.length,i=new Array(r),s=0;s<r;s++)i[s]=arguments[s];return n=qHe(this,e,[].concat(i)),_l(n,"state",{isAnimationFinished:!1}),_l(n,"id",bp("recharts-bar-")),_l(n,"handleAnimationEnd",function(){var o=n.props.onAnimationEnd;n.setState({isAnimationFinished:!0}),o&&o()}),_l(n,"handleAnimationStart",function(){var o=n.props.onAnimationStart;n.setState({isAnimationFinished:!1}),o&&o()}),n}return KHe(e,t),zHe(e,[{key:"renderRectanglesStatically",value:function(r){var i=this,s=this.props,o=s.shape,a=s.dataKey,l=s.activeIndex,c=s.activeBar,u=Ie(this.props,!1);return r&&r.map(function(d,f){var p=f===l,m=p?c:o,g=_n(_n(_n({},u),d),{},{isActive:p,option:m,index:f,dataKey:a,onAnimationStart:i.handleAnimationStart,onAnimationEnd:i.handleAnimationEnd});return M.createElement(ft,Q1({className:"recharts-bar-rectangle"},Gu(i.props,d,f),{key:"rectangle-".concat(d==null?void 0:d.x,"-").concat(d==null?void 0:d.y,"-").concat(d==null?void 0:d.value)}),M.createElement(U5,g))})}},{key:"renderRectanglesWithAnimation",value:function(){var r=this,i=this.props,s=i.data,o=i.layout,a=i.isAnimationActive,l=i.animationBegin,c=i.animationDuration,u=i.animationEasing,d=i.animationId,f=this.state.prevData;return M.createElement(go,{begin:l,duration:c,isActive:a,easing:u,from:{t:0},to:{t:1},key:"bar-".concat(d),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(p){var m=p.t,g=s.map(function(v,x){var b=f&&f[x];if(b){var w=wi(b.x,v.x),T=wi(b.y,v.y),_=wi(b.width,v.width),k=wi(b.height,v.height);return _n(_n({},v),{},{x:w(m),y:T(m),width:_(m),height:k(m)})}if(o==="horizontal"){var S=wi(0,v.height),E=S(m);return _n(_n({},v),{},{y:v.y+v.height-E,height:E})}var P=wi(0,v.width),O=P(m);return _n(_n({},v),{},{width:O})});return M.createElement(ft,null,r.renderRectanglesStatically(g))})}},{key:"renderRectangles",value:function(){var r=this.props,i=r.data,s=r.isAnimationActive,o=this.state.prevData;return s&&i&&i.length&&(!o||!Wv(o,i))?this.renderRectanglesWithAnimation():this.renderRectanglesStatically(i)}},{key:"renderBackground",value:function(){var r=this,i=this.props,s=i.data,o=i.dataKey,a=i.activeIndex,l=Ie(this.props.background,!1);return s.map(function(c,u){c.value;var d=c.background,f=FHe(c,VHe);if(!d)return null;var p=_n(_n(_n(_n(_n({},f),{},{fill:"#eee"},d),l),Gu(r.props,c,u)),{},{onAnimationStart:r.handleAnimationStart,onAnimationEnd:r.handleAnimationEnd,dataKey:o,index:u,className:"recharts-bar-background-rectangle"});return M.createElement(U5,Q1({key:"background-bar-".concat(u),option:r.props.background,isActive:u===a},p))})}},{key:"renderErrorBar",value:function(r,i){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var s=this.props,o=s.data,a=s.xAxis,l=s.yAxis,c=s.layout,u=s.children,d=Oi(u,Kv);if(!d)return null;var f=c==="vertical"?o[0].height/2:o[0].width/2,p=function(v,x){var b=Array.isArray(v.value)?v.value[1]:v.value;return{x:v.x,y:v.y,value:b,errorVal:jn(v,x)}},m={clipPath:r?"url(#clipPath-".concat(i,")"):null};return M.createElement(ft,m,d.map(function(g){return M.cloneElement(g,{key:"error-bar-".concat(i,"-").concat(g.props.dataKey),data:o,xAxis:a,yAxis:l,layout:c,offset:f,dataPointFormatter:p})}))}},{key:"render",value:function(){var r=this.props,i=r.hide,s=r.data,o=r.className,a=r.xAxis,l=r.yAxis,c=r.left,u=r.top,d=r.width,f=r.height,p=r.isAnimationActive,m=r.background,g=r.id;if(i||!s||!s.length)return null;var v=this.state.isAnimationFinished,x=He("recharts-bar",o),b=a&&a.allowDataOverflow,w=l&&l.allowDataOverflow,T=b||w,_=qe(g)?this.id:g;return M.createElement(ft,{className:x},b||w?M.createElement("defs",null,M.createElement("clipPath",{id:"clipPath-".concat(_)},M.createElement("rect",{x:b?c:c-d/2,y:w?u:u-f/2,width:b?d:d*2,height:w?f:f*2}))):null,M.createElement(ft,{className:"recharts-bar-rectangles",clipPath:T?"url(#clipPath-".concat(_,")"):null},m?this.renderBackground():null,this.renderRectangles()),this.renderErrorBar(T,_),(!p||v)&&na.renderCallByParent(this.props,s))}}],[{key:"getDerivedStateFromProps",value:function(r,i){return r.animationId!==i.prevAnimationId?{prevAnimationId:r.animationId,curData:r.data,prevData:i.curData}:r.data!==i.curData?{curData:r.data}:null}}])}(C.PureComponent);eZ=yo;_l(yo,"displayName","Bar");_l(yo,"defaultProps",{xAxisId:0,yAxisId:0,legendType:"rect",minPointSize:0,hide:!1,data:[],layout:"vertical",activeBar:!1,isAnimationActive:!oo.isSsr,animationBegin:0,animationDuration:400,animationEasing:"ease"});_l(yo,"getComposedData",function(t){var e=t.props,n=t.item,r=t.barPosition,i=t.bandSize,s=t.xAxis,o=t.yAxis,a=t.xAxisTicks,l=t.yAxisTicks,c=t.stackedData,u=t.dataStartIndex,d=t.displayedData,f=t.offset,p=z5e(r,n);if(!p)return null;var m=e.layout,g=n.type.defaultProps,v=g!==void 0?_n(_n({},g),n.props):n.props,x=v.dataKey,b=v.children,w=v.minPointSize,T=m==="horizontal"?o:s,_=c?T.scale.domain():null,k=Y5e({numericAxis:T}),S=Oi(b,JS),E=d.map(function(P,O){var N,R,j,z,F,L;c?N=q5e(c[u+O],_):(N=jn(P,x),Array.isArray(N)||(N=[k,N]));var B=$He(w,eZ.defaultProps.minPointSize)(N[1],O);if(m==="horizontal"){var $,U=[o.scale(N[0]),o.scale(N[1])],W=U[0],Z=U[1];R=jU({axis:s,ticks:a,bandSize:i,offset:p.offset,entry:P,index:O}),j=($=Z??W)!==null&&$!==void 0?$:void 0,z=p.size;var Q=W-Z;if(F=Number.isNaN(Q)?0:Q,L={x:R,y:o.y,width:z,height:o.height},Math.abs(B)>0&&Math.abs(F)<Math.abs(B)){var fe=Vr(F||B)*(Math.abs(B)-Math.abs(F));j-=fe,F+=fe}}else{var Le=[s.scale(N[0]),s.scale(N[1])],Ye=Le[0],rt=Le[1];if(R=Ye,j=jU({axis:o,ticks:l,bandSize:i,offset:p.offset,entry:P,index:O}),z=rt-Ye,F=p.size,L={x:s.x,y:j,width:s.width,height:F},Math.abs(B)>0&&Math.abs(z)<Math.abs(B)){var Gt=Vr(z||B)*(Math.abs(B)-Math.abs(z));z+=Gt}}return _n(_n(_n({},P),{},{x:R,y:j,width:z,height:F,value:c?N:N[1],payload:P,background:L},S&&S[O]&&S[O].props),{},{tooltipPayload:[AJ(n,P)],tooltipPosition:{x:R+z/2,y:j+F/2}})});return _n({data:E,layout:m},f)});function Jy(t){"@babel/helpers - typeof";return Jy=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Jy(t)}function QHe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function H5(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,rZ(r.key),r)}}function YHe(t,e,n){return e&&H5(t.prototype,e),n&&H5(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function W5(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function ys(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?W5(Object(n),!0).forEach(function(r){yE(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):W5(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function yE(t,e,n){return e=rZ(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function rZ(t){var e=XHe(t,"string");return Jy(e)=="symbol"?e:e+""}function XHe(t,e){if(Jy(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Jy(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var iZ=function(e,n,r,i,s){var o=e.width,a=e.height,l=e.layout,c=e.children,u=Object.keys(n),d={left:r.left,leftMirror:r.left,right:o-r.right,rightMirror:o-r.right,top:r.top,topMirror:r.top,bottom:a-r.bottom,bottomMirror:a-r.bottom},f=!!bi(c,yo);return u.reduce(function(p,m){var g=n[m],v=g.orientation,x=g.domain,b=g.padding,w=b===void 0?{}:b,T=g.mirror,_=g.reversed,k="".concat(v).concat(T?"Mirror":""),S,E,P,O,N;if(g.type==="number"&&(g.padding==="gap"||g.padding==="no-gap")){var R=x[1]-x[0],j=1/0,z=g.categoricalDomain.sort();if(z.forEach(function(Le,Ye){Ye>0&&(j=Math.min((Le||0)-(z[Ye-1]||0),j))}),Number.isFinite(j)){var F=j/R,L=g.layout==="vertical"?r.height:r.width;if(g.padding==="gap"&&(S=F*L/2),g.padding==="no-gap"){var B=Fr(e.barCategoryGap,F*L),$=F*L/2;S=$-B-($-B)/L*B}}}i==="xAxis"?E=[r.left+(w.left||0)+(S||0),r.left+r.width-(w.right||0)-(S||0)]:i==="yAxis"?E=l==="horizontal"?[r.top+r.height-(w.bottom||0),r.top+(w.top||0)]:[r.top+(w.top||0)+(S||0),r.top+r.height-(w.bottom||0)-(S||0)]:E=g.range,_&&(E=[E[1],E[0]]);var U=_J(g,s,f),W=U.scale,Z=U.realScaleType;W.domain(x).range(E),SJ(W);var Q=EJ(W,ys(ys({},g),{},{realScaleType:Z}));i==="xAxis"?(N=v==="top"&&!T||v==="bottom"&&T,P=r.left,O=d[k]-N*g.height):i==="yAxis"&&(N=v==="left"&&!T||v==="right"&&T,P=d[k]-N*g.width,O=r.top);var fe=ys(ys(ys({},g),Q),{},{realScaleType:Z,x:P,y:O,scale:W,width:i==="xAxis"?r.width:g.width,height:i==="yAxis"?r.height:g.height});return fe.bandSize=j1(fe,Q),!g.hide&&i==="xAxis"?d[k]+=(N?-1:1)*fe.height:g.hide||(d[k]+=(N?-1:1)*fe.width),ys(ys({},p),{},yE({},m,fe))},{})},sZ=function(e,n){var r=e.x,i=e.y,s=n.x,o=n.y;return{x:Math.min(r,s),y:Math.min(i,o),width:Math.abs(s-r),height:Math.abs(o-i)}},JHe=function(e){var n=e.x1,r=e.y1,i=e.x2,s=e.y2;return sZ({x:n,y:r},{x:i,y:s})},oZ=function(){function t(e){QHe(this,t),this.scale=e}return YHe(t,[{key:"domain",get:function(){return this.scale.domain}},{key:"range",get:function(){return this.scale.range}},{key:"rangeMin",get:function(){return this.range()[0]}},{key:"rangeMax",get:function(){return this.range()[1]}},{key:"bandwidth",get:function(){return this.scale.bandwidth}},{key:"apply",value:function(n){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=r.bandAware,s=r.position;if(n!==void 0){if(s)switch(s){case"start":return this.scale(n);case"middle":{var o=this.bandwidth?this.bandwidth()/2:0;return this.scale(n)+o}case"end":{var a=this.bandwidth?this.bandwidth():0;return this.scale(n)+a}default:return this.scale(n)}if(i){var l=this.bandwidth?this.bandwidth()/2:0;return this.scale(n)+l}return this.scale(n)}}},{key:"isInRange",value:function(n){var r=this.range(),i=r[0],s=r[r.length-1];return i<=s?n>=i&&n<=s:n>=s&&n<=i}}],[{key:"create",value:function(n){return new t(n)}}])}();yE(oZ,"EPS",1e-4);var DR=function(e){var n=Object.keys(e).reduce(function(r,i){return ys(ys({},r),{},yE({},i,oZ.create(e[i])))},{});return ys(ys({},n),{},{apply:function(i){var s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},o=s.bandAware,a=s.position;return vHe(i,function(l,c){return n[c].apply(l,{bandAware:o,position:a})})},isInRange:function(i){return ZJ(i,function(s,o){return n[o].isInRange(s)})}})};function ZHe(t){return(t%180+180)%180}var eWe=function(e){var n=e.width,r=e.height,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,s=ZHe(i),o=s*Math.PI/180,a=Math.atan(r/n),l=o>a&&o<Math.PI-a?r/Math.sin(o):n/Math.cos(o);return Math.abs(l)},tWe=_o,nWe=Bv,rWe=QS;function iWe(t){return function(e,n,r){var i=Object(e);if(!nWe(e)){var s=tWe(n);e=rWe(e),n=function(a){return s(i[a],a,i)}}var o=t(e,n,r);return o>-1?i[s?e[o]:o]:void 0}}var sWe=iWe,oWe=QJ;function aWe(t){var e=oWe(t),n=e%1;return e===e?n?e-n:e:0}var lWe=aWe,cWe=nX,uWe=_o,dWe=lWe,fWe=Math.max;function hWe(t,e,n){var r=t==null?0:t.length;if(!r)return-1;var i=n==null?0:dWe(n);return i<0&&(i=fWe(r+i,0)),cWe(t,uWe(e),i)}var pWe=hWe,mWe=sWe,gWe=pWe,yWe=mWe(gWe),vWe=yWe;const xWe=vt(vWe);var bWe=IIe(function(t){return{x:t.left,y:t.top,width:t.width,height:t.height}},function(t){return["l",t.left,"t",t.top,"w",t.width,"h",t.height].join("")}),MR=C.createContext(void 0),LR=C.createContext(void 0),aZ=C.createContext(void 0),lZ=C.createContext({}),cZ=C.createContext(void 0),uZ=C.createContext(0),dZ=C.createContext(0),K5=function(e){var n=e.state,r=n.xAxisMap,i=n.yAxisMap,s=n.offset,o=e.clipPathId,a=e.children,l=e.width,c=e.height,u=bWe(s);return M.createElement(MR.Provider,{value:r},M.createElement(LR.Provider,{value:i},M.createElement(lZ.Provider,{value:s},M.createElement(aZ.Provider,{value:u},M.createElement(cZ.Provider,{value:o},M.createElement(uZ.Provider,{value:c},M.createElement(dZ.Provider,{value:l},a)))))))},wWe=function(){return C.useContext(cZ)},fZ=function(e){var n=C.useContext(MR);n==null&&Xu();var r=n[e];return r==null&&Xu(),r},_We=function(){var e=C.useContext(MR);return sl(e)},SWe=function(){var e=C.useContext(LR),n=xWe(e,function(r){return ZJ(r.domain,Number.isFinite)});return n||sl(e)},hZ=function(e){var n=C.useContext(LR);n==null&&Xu();var r=n[e];return r==null&&Xu(),r},EWe=function(){var e=C.useContext(aZ);return e},TWe=function(){return C.useContext(lZ)},$R=function(){return C.useContext(dZ)},VR=function(){return C.useContext(uZ)};function Uh(t){"@babel/helpers - typeof";return Uh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Uh(t)}function AWe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function kWe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,mZ(r.key),r)}}function PWe(t,e,n){return e&&kWe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function CWe(t,e,n){return e=X1(e),IWe(t,pZ()?Reflect.construct(e,n||[],X1(t).constructor):e.apply(t,n))}function IWe(t,e){if(e&&(Uh(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return OWe(t)}function OWe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function pZ(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(pZ=function(){return!!t})()}function X1(t){return X1=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},X1(t)}function NWe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&QI(t,e)}function QI(t,e){return QI=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},QI(t,e)}function G5(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Q5(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?G5(Object(n),!0).forEach(function(r){FR(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):G5(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function FR(t,e,n){return e=mZ(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function mZ(t){var e=jWe(t,"string");return Uh(e)=="symbol"?e:e+""}function jWe(t,e){if(Uh(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Uh(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function RWe(t,e){return $We(t)||LWe(t,e)||MWe(t,e)||DWe()}function DWe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function MWe(t,e){if(t){if(typeof t=="string")return Y5(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Y5(t,e)}}function Y5(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function LWe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,s,o,a=[],l=!0,c=!1;try{if(s=(n=n.call(t)).next,e!==0)for(;!(l=(r=s.call(n)).done)&&(a.push(r.value),a.length!==e);l=!0);}catch(u){c=!0,i=u}finally{try{if(!l&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(c)throw i}}return a}}function $We(t){if(Array.isArray(t))return t}function YI(){return YI=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},YI.apply(this,arguments)}var VWe=function(e,n){var r;return M.isValidElement(e)?r=M.cloneElement(e,n):Fe(e)?r=e(n):r=M.createElement("line",YI({},n,{className:"recharts-reference-line-line"})),r},FWe=function(e,n,r,i,s,o,a,l,c){var u=s.x,d=s.y,f=s.width,p=s.height;if(r){var m=c.y,g=e.y.apply(m,{position:o});if(lo(c,"discard")&&!e.y.isInRange(g))return null;var v=[{x:u+f,y:g},{x:u,y:g}];return l==="left"?v.reverse():v}if(n){var x=c.x,b=e.x.apply(x,{position:o});if(lo(c,"discard")&&!e.x.isInRange(b))return null;var w=[{x:b,y:d+p},{x:b,y:d}];return a==="top"?w.reverse():w}if(i){var T=c.segment,_=T.map(function(k){return e.apply(k,{position:o})});return lo(c,"discard")&&uHe(_,function(k){return!e.isInRange(k)})?null:_}return null};function BWe(t){var e=t.x,n=t.y,r=t.segment,i=t.xAxisId,s=t.yAxisId,o=t.shape,a=t.className,l=t.alwaysShow,c=wWe(),u=fZ(i),d=hZ(s),f=EWe();if(!c||!f)return null;ks(l===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var p=DR({x:u.scale,y:d.scale}),m=Dn(e),g=Dn(n),v=r&&r.length===2,x=FWe(p,m,g,v,f,t.position,u.orientation,d.orientation,t);if(!x)return null;var b=RWe(x,2),w=b[0],T=w.x,_=w.y,k=b[1],S=k.x,E=k.y,P=lo(t,"hidden")?"url(#".concat(c,")"):void 0,O=Q5(Q5({clipPath:P},Ie(t,!0)),{},{x1:T,y1:_,x2:S,y2:E});return M.createElement(ft,{className:He("recharts-reference-line",a)},VWe(o,O),qn.renderCallByParent(t,JHe({x1:T,y1:_,x2:S,y2:E})))}var BR=function(t){function e(){return AWe(this,e),CWe(this,e,arguments)}return NWe(e,t),PWe(e,[{key:"render",value:function(){return M.createElement(BWe,this.props)}}])}(M.Component);FR(BR,"displayName","ReferenceLine");FR(BR,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,fill:"none",stroke:"#ccc",fillOpacity:1,strokeWidth:1,position:"middle"});function XI(){return XI=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},XI.apply(this,arguments)}function zh(t){"@babel/helpers - typeof";return zh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},zh(t)}function X5(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function J5(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?X5(Object(n),!0).forEach(function(r){vE(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):X5(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function UWe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function zWe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,yZ(r.key),r)}}function qWe(t,e,n){return e&&zWe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function HWe(t,e,n){return e=J1(e),WWe(t,gZ()?Reflect.construct(e,n||[],J1(t).constructor):e.apply(t,n))}function WWe(t,e){if(e&&(zh(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return KWe(t)}function KWe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function gZ(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(gZ=function(){return!!t})()}function J1(t){return J1=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},J1(t)}function GWe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&JI(t,e)}function JI(t,e){return JI=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},JI(t,e)}function vE(t,e,n){return e=yZ(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function yZ(t){var e=QWe(t,"string");return zh(e)=="symbol"?e:e+""}function QWe(t,e){if(zh(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(zh(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var YWe=function(e){var n=e.x,r=e.y,i=e.xAxis,s=e.yAxis,o=DR({x:i.scale,y:s.scale}),a=o.apply({x:n,y:r},{bandAware:!0});return lo(e,"discard")&&!o.isInRange(a)?null:a},xE=function(t){function e(){return UWe(this,e),HWe(this,e,arguments)}return GWe(e,t),qWe(e,[{key:"render",value:function(){var r=this.props,i=r.x,s=r.y,o=r.r,a=r.alwaysShow,l=r.clipPathId,c=Dn(i),u=Dn(s);if(ks(a===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.'),!c||!u)return null;var d=YWe(this.props);if(!d)return null;var f=d.x,p=d.y,m=this.props,g=m.shape,v=m.className,x=lo(this.props,"hidden")?"url(#".concat(l,")"):void 0,b=J5(J5({clipPath:x},Ie(this.props,!0)),{},{cx:f,cy:p});return M.createElement(ft,{className:He("recharts-reference-dot",v)},e.renderDot(g,b),qn.renderCallByParent(this.props,{x:f-o,y:p-o,width:2*o,height:2*o}))}}])}(M.Component);vE(xE,"displayName","ReferenceDot");vE(xE,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#fff",stroke:"#ccc",fillOpacity:1,strokeWidth:1});vE(xE,"renderDot",function(t,e){var n;return M.isValidElement(t)?n=M.cloneElement(t,e):Fe(t)?n=t(e):n=M.createElement(uE,XI({},e,{cx:e.cx,cy:e.cy,className:"recharts-reference-dot-dot"})),n});function ZI(){return ZI=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ZI.apply(this,arguments)}function qh(t){"@babel/helpers - typeof";return qh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},qh(t)}function Z5(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function ez(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Z5(Object(n),!0).forEach(function(r){bE(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Z5(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function XWe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function JWe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,xZ(r.key),r)}}function ZWe(t,e,n){return e&&JWe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function eKe(t,e,n){return e=Z1(e),tKe(t,vZ()?Reflect.construct(e,n||[],Z1(t).constructor):e.apply(t,n))}function tKe(t,e){if(e&&(qh(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return nKe(t)}function nKe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function vZ(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(vZ=function(){return!!t})()}function Z1(t){return Z1=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Z1(t)}function rKe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&eO(t,e)}function eO(t,e){return eO=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},eO(t,e)}function bE(t,e,n){return e=xZ(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function xZ(t){var e=iKe(t,"string");return qh(e)=="symbol"?e:e+""}function iKe(t,e){if(qh(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(qh(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var sKe=function(e,n,r,i,s){var o=s.x1,a=s.x2,l=s.y1,c=s.y2,u=s.xAxis,d=s.yAxis;if(!u||!d)return null;var f=DR({x:u.scale,y:d.scale}),p={x:e?f.x.apply(o,{position:"start"}):f.x.rangeMin,y:r?f.y.apply(l,{position:"start"}):f.y.rangeMin},m={x:n?f.x.apply(a,{position:"end"}):f.x.rangeMax,y:i?f.y.apply(c,{position:"end"}):f.y.rangeMax};return lo(s,"discard")&&(!f.isInRange(p)||!f.isInRange(m))?null:sZ(p,m)},wE=function(t){function e(){return XWe(this,e),eKe(this,e,arguments)}return rKe(e,t),ZWe(e,[{key:"render",value:function(){var r=this.props,i=r.x1,s=r.x2,o=r.y1,a=r.y2,l=r.className,c=r.alwaysShow,u=r.clipPathId;ks(c===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var d=Dn(i),f=Dn(s),p=Dn(o),m=Dn(a),g=this.props.shape;if(!d&&!f&&!p&&!m&&!g)return null;var v=sKe(d,f,p,m,this.props);if(!v&&!g)return null;var x=lo(this.props,"hidden")?"url(#".concat(u,")"):void 0;return M.createElement(ft,{className:He("recharts-reference-area",l)},e.renderRect(g,ez(ez({clipPath:x},Ie(this.props,!0)),v)),qn.renderCallByParent(this.props,v))}}])}(M.Component);bE(wE,"displayName","ReferenceArea");bE(wE,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#ccc",fillOpacity:.5,stroke:"none",strokeWidth:1});bE(wE,"renderRect",function(t,e){var n;return M.isValidElement(t)?n=M.cloneElement(t,e):Fe(t)?n=t(e):n=M.createElement(RR,ZI({},e,{className:"recharts-reference-area-rect"})),n});function bZ(t,e,n){if(e<1)return[];if(e===1&&n===void 0)return t;for(var r=[],i=0;i<t.length;i+=e)r.push(t[i]);return r}function oKe(t,e,n){var r={width:t.width+e.width,height:t.height+e.height};return eWe(r,n)}function aKe(t,e,n){var r=n==="width",i=t.x,s=t.y,o=t.width,a=t.height;return e===1?{start:r?i:s,end:r?i+o:s+a}:{start:r?i+o:s+a,end:r?i:s}}function e_(t,e,n,r,i){if(t*e<t*r||t*e>t*i)return!1;var s=n();return t*(e-t*s/2-r)>=0&&t*(e+t*s/2-i)<=0}function lKe(t,e){return bZ(t,e+1)}function cKe(t,e,n,r,i){for(var s=(r||[]).slice(),o=e.start,a=e.end,l=0,c=1,u=o,d=function(){var m=r==null?void 0:r[l];if(m===void 0)return{v:bZ(r,c)};var g=l,v,x=function(){return v===void 0&&(v=n(m,g)),v},b=m.coordinate,w=l===0||e_(t,b,x,u,a);w||(l=0,u=o,c+=1),w&&(u=b+t*(x()/2+i),l+=c)},f;c<=s.length;)if(f=d(),f)return f.v;return[]}function Zy(t){"@babel/helpers - typeof";return Zy=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Zy(t)}function tz(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function vr(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?tz(Object(n),!0).forEach(function(r){uKe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):tz(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function uKe(t,e,n){return e=dKe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function dKe(t){var e=fKe(t,"string");return Zy(e)=="symbol"?e:e+""}function fKe(t,e){if(Zy(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Zy(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function hKe(t,e,n,r,i){for(var s=(r||[]).slice(),o=s.length,a=e.start,l=e.end,c=function(f){var p=s[f],m,g=function(){return m===void 0&&(m=n(p,f)),m};if(f===o-1){var v=t*(p.coordinate+t*g()/2-l);s[f]=p=vr(vr({},p),{},{tickCoord:v>0?p.coordinate-v*t:p.coordinate})}else s[f]=p=vr(vr({},p),{},{tickCoord:p.coordinate});var x=e_(t,p.tickCoord,g,a,l);x&&(l=p.tickCoord-t*(g()/2+i),s[f]=vr(vr({},p),{},{isShow:!0}))},u=o-1;u>=0;u--)c(u);return s}function pKe(t,e,n,r,i,s){var o=(r||[]).slice(),a=o.length,l=e.start,c=e.end;if(s){var u=r[a-1],d=n(u,a-1),f=t*(u.coordinate+t*d/2-c);o[a-1]=u=vr(vr({},u),{},{tickCoord:f>0?u.coordinate-f*t:u.coordinate});var p=e_(t,u.tickCoord,function(){return d},l,c);p&&(c=u.tickCoord-t*(d/2+i),o[a-1]=vr(vr({},u),{},{isShow:!0}))}for(var m=s?a-1:a,g=function(b){var w=o[b],T,_=function(){return T===void 0&&(T=n(w,b)),T};if(b===0){var k=t*(w.coordinate-t*_()/2-l);o[b]=w=vr(vr({},w),{},{tickCoord:k<0?w.coordinate-k*t:w.coordinate})}else o[b]=w=vr(vr({},w),{},{tickCoord:w.coordinate});var S=e_(t,w.tickCoord,_,l,c);S&&(l=w.tickCoord+t*(_()/2+i),o[b]=vr(vr({},w),{},{isShow:!0}))},v=0;v<m;v++)g(v);return o}function UR(t,e,n){var r=t.tick,i=t.ticks,s=t.viewBox,o=t.minTickGap,a=t.orientation,l=t.interval,c=t.tickFormatter,u=t.unit,d=t.angle;if(!i||!i.length||!r)return[];if(ae(l)||oo.isSsr)return lKe(i,typeof l=="number"&&ae(l)?l:0);var f=[],p=a==="top"||a==="bottom"?"width":"height",m=u&&p==="width"?hg(u,{fontSize:e,letterSpacing:n}):{width:0,height:0},g=function(w,T){var _=Fe(c)?c(w.value,T):w.value;return p==="width"?oKe(hg(_,{fontSize:e,letterSpacing:n}),m,d):hg(_,{fontSize:e,letterSpacing:n})[p]},v=i.length>=2?Vr(i[1].coordinate-i[0].coordinate):1,x=aKe(s,v,p);return l==="equidistantPreserveStart"?cKe(v,x,g,i,o):(l==="preserveStart"||l==="preserveStartEnd"?f=pKe(v,x,g,i,o,l==="preserveStartEnd"):f=hKe(v,x,g,i,o),f.filter(function(b){return b.isShow}))}var mKe=["viewBox"],gKe=["viewBox"],yKe=["ticks"];function Hh(t){"@babel/helpers - typeof";return Hh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Hh(t)}function hf(){return hf=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},hf.apply(this,arguments)}function nz(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Nr(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?nz(Object(n),!0).forEach(function(r){zR(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):nz(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function BA(t,e){if(t==null)return{};var n=vKe(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function vKe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function xKe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function rz(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,_Z(r.key),r)}}function bKe(t,e,n){return e&&rz(t.prototype,e),n&&rz(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function wKe(t,e,n){return e=t_(e),_Ke(t,wZ()?Reflect.construct(e,n||[],t_(t).constructor):e.apply(t,n))}function _Ke(t,e){if(e&&(Hh(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return SKe(t)}function SKe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function wZ(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(wZ=function(){return!!t})()}function t_(t){return t_=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},t_(t)}function EKe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&tO(t,e)}function tO(t,e){return tO=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},tO(t,e)}function zR(t,e,n){return e=_Z(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function _Z(t){var e=TKe(t,"string");return Hh(e)=="symbol"?e:e+""}function TKe(t,e){if(Hh(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Hh(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Pp=function(t){function e(n){var r;return xKe(this,e),r=wKe(this,e,[n]),r.state={fontSize:"",letterSpacing:""},r}return EKe(e,t),bKe(e,[{key:"shouldComponentUpdate",value:function(r,i){var s=r.viewBox,o=BA(r,mKe),a=this.props,l=a.viewBox,c=BA(a,gKe);return!Nf(s,l)||!Nf(o,c)||!Nf(i,this.state)}},{key:"componentDidMount",value:function(){var r=this.layerReference;if(r){var i=r.getElementsByClassName("recharts-cartesian-axis-tick-value")[0];i&&this.setState({fontSize:window.getComputedStyle(i).fontSize,letterSpacing:window.getComputedStyle(i).letterSpacing})}}},{key:"getTickLineCoord",value:function(r){var i=this.props,s=i.x,o=i.y,a=i.width,l=i.height,c=i.orientation,u=i.tickSize,d=i.mirror,f=i.tickMargin,p,m,g,v,x,b,w=d?-1:1,T=r.tickSize||u,_=ae(r.tickCoord)?r.tickCoord:r.coordinate;switch(c){case"top":p=m=r.coordinate,v=o+ +!d*l,g=v-w*T,b=g-w*f,x=_;break;case"left":g=v=r.coordinate,m=s+ +!d*a,p=m-w*T,x=p-w*f,b=_;break;case"right":g=v=r.coordinate,m=s+ +d*a,p=m+w*T,x=p+w*f,b=_;break;default:p=m=r.coordinate,v=o+ +d*l,g=v+w*T,b=g+w*f,x=_;break}return{line:{x1:p,y1:g,x2:m,y2:v},tick:{x,y:b}}}},{key:"getTickTextAnchor",value:function(){var r=this.props,i=r.orientation,s=r.mirror,o;switch(i){case"left":o=s?"start":"end";break;case"right":o=s?"end":"start";break;default:o="middle";break}return o}},{key:"getTickVerticalAnchor",value:function(){var r=this.props,i=r.orientation,s=r.mirror,o="end";switch(i){case"left":case"right":o="middle";break;case"top":o=s?"start":"end";break;default:o=s?"end":"start";break}return o}},{key:"renderAxisLine",value:function(){var r=this.props,i=r.x,s=r.y,o=r.width,a=r.height,l=r.orientation,c=r.mirror,u=r.axisLine,d=Nr(Nr(Nr({},Ie(this.props,!1)),Ie(u,!1)),{},{fill:"none"});if(l==="top"||l==="bottom"){var f=+(l==="top"&&!c||l==="bottom"&&c);d=Nr(Nr({},d),{},{x1:i,y1:s+f*a,x2:i+o,y2:s+f*a})}else{var p=+(l==="left"&&!c||l==="right"&&c);d=Nr(Nr({},d),{},{x1:i+p*o,y1:s,x2:i+p*o,y2:s+a})}return M.createElement("line",hf({},d,{className:He("recharts-cartesian-axis-line",Ii(u,"className"))}))}},{key:"renderTicks",value:function(r,i,s){var o=this,a=this.props,l=a.tickLine,c=a.stroke,u=a.tick,d=a.tickFormatter,f=a.unit,p=UR(Nr(Nr({},this.props),{},{ticks:r}),i,s),m=this.getTickTextAnchor(),g=this.getTickVerticalAnchor(),v=Ie(this.props,!1),x=Ie(u,!1),b=Nr(Nr({},v),{},{fill:"none"},Ie(l,!1)),w=p.map(function(T,_){var k=o.getTickLineCoord(T),S=k.line,E=k.tick,P=Nr(Nr(Nr(Nr({textAnchor:m,verticalAnchor:g},v),{},{stroke:"none",fill:c},x),E),{},{index:_,payload:T,visibleTicksCount:p.length,tickFormatter:d});return M.createElement(ft,hf({className:"recharts-cartesian-axis-tick",key:"tick-".concat(T.value,"-").concat(T.coordinate,"-").concat(T.tickCoord)},Gu(o.props,T,_)),l&&M.createElement("line",hf({},b,S,{className:He("recharts-cartesian-axis-tick-line",Ii(l,"className"))})),u&&e.renderTickItem(u,P,"".concat(Fe(d)?d(T.value,_):T.value).concat(f||"")))});return M.createElement("g",{className:"recharts-cartesian-axis-ticks"},w)}},{key:"render",value:function(){var r=this,i=this.props,s=i.axisLine,o=i.width,a=i.height,l=i.ticksGenerator,c=i.className,u=i.hide;if(u)return null;var d=this.props,f=d.ticks,p=BA(d,yKe),m=f;return Fe(l)&&(m=f&&f.length>0?l(this.props):l(p)),o<=0||a<=0||!m||!m.length?null:M.createElement(ft,{className:He("recharts-cartesian-axis",c),ref:function(v){r.layerReference=v}},s&&this.renderAxisLine(),this.renderTicks(m,this.state.fontSize,this.state.letterSpacing),qn.renderCallByParent(this.props))}}],[{key:"renderTickItem",value:function(r,i,s){var o;return M.isValidElement(r)?o=M.cloneElement(r,i):Fe(r)?o=r(i):o=M.createElement(Qu,hf({},i,{className:"recharts-cartesian-axis-tick-value"}),s),o}}])}(C.Component);zR(Pp,"displayName","CartesianAxis");zR(Pp,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});var AKe=["x1","y1","x2","y2","key"],kKe=["offset"];function Ju(t){"@babel/helpers - typeof";return Ju=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ju(t)}function iz(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function br(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?iz(Object(n),!0).forEach(function(r){PKe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):iz(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function PKe(t,e,n){return e=CKe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function CKe(t){var e=IKe(t,"string");return Ju(e)=="symbol"?e:e+""}function IKe(t,e){if(Ju(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Ju(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function ru(){return ru=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ru.apply(this,arguments)}function sz(t,e){if(t==null)return{};var n=OKe(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function OKe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var NKe=function(e){var n=e.fill;if(!n||n==="none")return null;var r=e.fillOpacity,i=e.x,s=e.y,o=e.width,a=e.height,l=e.ry;return M.createElement("rect",{x:i,y:s,ry:l,width:o,height:a,stroke:"none",fill:n,fillOpacity:r,className:"recharts-cartesian-grid-bg"})};function SZ(t,e){var n;if(M.isValidElement(t))n=M.cloneElement(t,e);else if(Fe(t))n=t(e);else{var r=e.x1,i=e.y1,s=e.x2,o=e.y2,a=e.key,l=sz(e,AKe),c=Ie(l,!1);c.offset;var u=sz(c,kKe);n=M.createElement("line",ru({},u,{x1:r,y1:i,x2:s,y2:o,fill:"none",key:a}))}return n}function jKe(t){var e=t.x,n=t.width,r=t.horizontal,i=r===void 0?!0:r,s=t.horizontalPoints;if(!i||!s||!s.length)return null;var o=s.map(function(a,l){var c=br(br({},t),{},{x1:e,y1:a,x2:e+n,y2:a,key:"line-".concat(l),index:l});return SZ(i,c)});return M.createElement("g",{className:"recharts-cartesian-grid-horizontal"},o)}function RKe(t){var e=t.y,n=t.height,r=t.vertical,i=r===void 0?!0:r,s=t.verticalPoints;if(!i||!s||!s.length)return null;var o=s.map(function(a,l){var c=br(br({},t),{},{x1:a,y1:e,x2:a,y2:e+n,key:"line-".concat(l),index:l});return SZ(i,c)});return M.createElement("g",{className:"recharts-cartesian-grid-vertical"},o)}function DKe(t){var e=t.horizontalFill,n=t.fillOpacity,r=t.x,i=t.y,s=t.width,o=t.height,a=t.horizontalPoints,l=t.horizontal,c=l===void 0?!0:l;if(!c||!e||!e.length)return null;var u=a.map(function(f){return Math.round(f+i-i)}).sort(function(f,p){return f-p});i!==u[0]&&u.unshift(0);var d=u.map(function(f,p){var m=!u[p+1],g=m?i+o-f:u[p+1]-f;if(g<=0)return null;var v=p%e.length;return M.createElement("rect",{key:"react-".concat(p),y:f,x:r,height:g,width:s,stroke:"none",fill:e[v],fillOpacity:n,className:"recharts-cartesian-grid-bg"})});return M.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},d)}function MKe(t){var e=t.vertical,n=e===void 0?!0:e,r=t.verticalFill,i=t.fillOpacity,s=t.x,o=t.y,a=t.width,l=t.height,c=t.verticalPoints;if(!n||!r||!r.length)return null;var u=c.map(function(f){return Math.round(f+s-s)}).sort(function(f,p){return f-p});s!==u[0]&&u.unshift(0);var d=u.map(function(f,p){var m=!u[p+1],g=m?s+a-f:u[p+1]-f;if(g<=0)return null;var v=p%r.length;return M.createElement("rect",{key:"react-".concat(p),x:f,y:o,width:g,height:l,stroke:"none",fill:r[v],fillOpacity:i,className:"recharts-cartesian-grid-bg"})});return M.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},d)}var LKe=function(e,n){var r=e.xAxis,i=e.width,s=e.height,o=e.offset;return wJ(UR(br(br(br({},Pp.defaultProps),r),{},{ticks:Wo(r,!0),viewBox:{x:0,y:0,width:i,height:s}})),o.left,o.left+o.width,n)},$Ke=function(e,n){var r=e.yAxis,i=e.width,s=e.height,o=e.offset;return wJ(UR(br(br(br({},Pp.defaultProps),r),{},{ticks:Wo(r,!0),viewBox:{x:0,y:0,width:i,height:s}})),o.top,o.top+o.height,n)},Od={horizontal:!0,vertical:!0,horizontalPoints:[],verticalPoints:[],stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[]};function Wh(t){var e,n,r,i,s,o,a=$R(),l=VR(),c=TWe(),u=br(br({},t),{},{stroke:(e=t.stroke)!==null&&e!==void 0?e:Od.stroke,fill:(n=t.fill)!==null&&n!==void 0?n:Od.fill,horizontal:(r=t.horizontal)!==null&&r!==void 0?r:Od.horizontal,horizontalFill:(i=t.horizontalFill)!==null&&i!==void 0?i:Od.horizontalFill,vertical:(s=t.vertical)!==null&&s!==void 0?s:Od.vertical,verticalFill:(o=t.verticalFill)!==null&&o!==void 0?o:Od.verticalFill,x:ae(t.x)?t.x:c.left,y:ae(t.y)?t.y:c.top,width:ae(t.width)?t.width:c.width,height:ae(t.height)?t.height:c.height}),d=u.x,f=u.y,p=u.width,m=u.height,g=u.syncWithTicks,v=u.horizontalValues,x=u.verticalValues,b=_We(),w=SWe();if(!ae(p)||p<=0||!ae(m)||m<=0||!ae(d)||d!==+d||!ae(f)||f!==+f)return null;var T=u.verticalCoordinatesGenerator||LKe,_=u.horizontalCoordinatesGenerator||$Ke,k=u.horizontalPoints,S=u.verticalPoints;if((!k||!k.length)&&Fe(_)){var E=v&&v.length,P=_({yAxis:w?br(br({},w),{},{ticks:E?v:w.ticks}):void 0,width:a,height:l,offset:c},E?!0:g);ks(Array.isArray(P),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(Ju(P),"]")),Array.isArray(P)&&(k=P)}if((!S||!S.length)&&Fe(T)){var O=x&&x.length,N=T({xAxis:b?br(br({},b),{},{ticks:O?x:b.ticks}):void 0,width:a,height:l,offset:c},O?!0:g);ks(Array.isArray(N),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(Ju(N),"]")),Array.isArray(N)&&(S=N)}return M.createElement("g",{className:"recharts-cartesian-grid"},M.createElement(NKe,{fill:u.fill,fillOpacity:u.fillOpacity,x:u.x,y:u.y,width:u.width,height:u.height,ry:u.ry}),M.createElement(jKe,ru({},u,{offset:c,horizontalPoints:k,xAxis:b,yAxis:w})),M.createElement(RKe,ru({},u,{offset:c,verticalPoints:S,xAxis:b,yAxis:w})),M.createElement(DKe,ru({},u,{horizontalPoints:k})),M.createElement(MKe,ru({},u,{verticalPoints:S})))}Wh.displayName="CartesianGrid";var VKe=["type","layout","connectNulls","ref"],FKe=["key"];function Kh(t){"@babel/helpers - typeof";return Kh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Kh(t)}function oz(t,e){if(t==null)return{};var n=BKe(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function BKe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function xg(){return xg=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},xg.apply(this,arguments)}function az(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function gi(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?az(Object(n),!0).forEach(function(r){vs(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):az(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Nd(t){return HKe(t)||qKe(t)||zKe(t)||UKe()}function UKe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function zKe(t,e){if(t){if(typeof t=="string")return nO(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return nO(t,e)}}function qKe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function HKe(t){if(Array.isArray(t))return nO(t)}function nO(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function WKe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function lz(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,TZ(r.key),r)}}function KKe(t,e,n){return e&&lz(t.prototype,e),n&&lz(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function GKe(t,e,n){return e=n_(e),QKe(t,EZ()?Reflect.construct(e,n||[],n_(t).constructor):e.apply(t,n))}function QKe(t,e){if(e&&(Kh(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return YKe(t)}function YKe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function EZ(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(EZ=function(){return!!t})()}function n_(t){return n_=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},n_(t)}function XKe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&rO(t,e)}function rO(t,e){return rO=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},rO(t,e)}function vs(t,e,n){return e=TZ(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function TZ(t){var e=JKe(t,"string");return Kh(e)=="symbol"?e:e+""}function JKe(t,e){if(Kh(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Kh(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Zu=function(t){function e(){var n;WKe(this,e);for(var r=arguments.length,i=new Array(r),s=0;s<r;s++)i[s]=arguments[s];return n=GKe(this,e,[].concat(i)),vs(n,"state",{isAnimationFinished:!0,totalLength:0}),vs(n,"generateSimpleStrokeDasharray",function(o,a){return"".concat(a,"px ").concat(o-a,"px")}),vs(n,"getStrokeDasharray",function(o,a,l){var c=l.reduce(function(x,b){return x+b});if(!c)return n.generateSimpleStrokeDasharray(a,o);for(var u=Math.floor(o/c),d=o%c,f=a-o,p=[],m=0,g=0;m<l.length;g+=l[m],++m)if(g+l[m]>d){p=[].concat(Nd(l.slice(0,m)),[d-g]);break}var v=p.length%2===0?[0,f]:[f];return[].concat(Nd(e.repeat(l,u)),Nd(p),v).map(function(x){return"".concat(x,"px")}).join(", ")}),vs(n,"id",bp("recharts-line-")),vs(n,"pathRef",function(o){n.mainCurve=o}),vs(n,"handleAnimationEnd",function(){n.setState({isAnimationFinished:!0}),n.props.onAnimationEnd&&n.props.onAnimationEnd()}),vs(n,"handleAnimationStart",function(){n.setState({isAnimationFinished:!1}),n.props.onAnimationStart&&n.props.onAnimationStart()}),n}return XKe(e,t),KKe(e,[{key:"componentDidMount",value:function(){if(this.props.isAnimationActive){var r=this.getTotalLength();this.setState({totalLength:r})}}},{key:"componentDidUpdate",value:function(){if(this.props.isAnimationActive){var r=this.getTotalLength();r!==this.state.totalLength&&this.setState({totalLength:r})}}},{key:"getTotalLength",value:function(){var r=this.mainCurve;try{return r&&r.getTotalLength&&r.getTotalLength()||0}catch{return 0}}},{key:"renderErrorBar",value:function(r,i){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var s=this.props,o=s.points,a=s.xAxis,l=s.yAxis,c=s.layout,u=s.children,d=Oi(u,Kv);if(!d)return null;var f=function(g,v){return{x:g.x,y:g.y,value:g.value,errorVal:jn(g.payload,v)}},p={clipPath:r?"url(#clipPath-".concat(i,")"):null};return M.createElement(ft,p,d.map(function(m){return M.cloneElement(m,{key:"bar-".concat(m.props.dataKey),data:o,xAxis:a,yAxis:l,layout:c,dataPointFormatter:f})}))}},{key:"renderDots",value:function(r,i,s){var o=this.props.isAnimationActive;if(o&&!this.state.isAnimationFinished)return null;var a=this.props,l=a.dot,c=a.points,u=a.dataKey,d=Ie(this.props,!1),f=Ie(l,!0),p=c.map(function(g,v){var x=gi(gi(gi({key:"dot-".concat(v),r:3},d),f),{},{value:g.value,dataKey:u,cx:g.x,cy:g.y,index:v,payload:g.payload});return e.renderDotItem(l,x)}),m={clipPath:r?"url(#clipPath-".concat(i?"":"dots-").concat(s,")"):null};return M.createElement(ft,xg({className:"recharts-line-dots",key:"dots"},m),p)}},{key:"renderCurveStatically",value:function(r,i,s,o){var a=this.props,l=a.type,c=a.layout,u=a.connectNulls;a.ref;var d=oz(a,VKe),f=gi(gi(gi({},Ie(d,!0)),{},{fill:"none",className:"recharts-line-curve",clipPath:i?"url(#clipPath-".concat(s,")"):null,points:r},o),{},{type:l,layout:c,connectNulls:u});return M.createElement(M1,xg({},f,{pathRef:this.pathRef}))}},{key:"renderCurveWithAnimation",value:function(r,i){var s=this,o=this.props,a=o.points,l=o.strokeDasharray,c=o.isAnimationActive,u=o.animationBegin,d=o.animationDuration,f=o.animationEasing,p=o.animationId,m=o.animateNewValues,g=o.width,v=o.height,x=this.state,b=x.prevPoints,w=x.totalLength;return M.createElement(go,{begin:u,duration:d,isActive:c,easing:f,from:{t:0},to:{t:1},key:"line-".concat(p),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(T){var _=T.t;if(b){var k=b.length/a.length,S=a.map(function(R,j){var z=Math.floor(j*k);if(b[z]){var F=b[z],L=wi(F.x,R.x),B=wi(F.y,R.y);return gi(gi({},R),{},{x:L(_),y:B(_)})}if(m){var $=wi(g*2,R.x),U=wi(v/2,R.y);return gi(gi({},R),{},{x:$(_),y:U(_)})}return gi(gi({},R),{},{x:R.x,y:R.y})});return s.renderCurveStatically(S,r,i)}var E=wi(0,w),P=E(_),O;if(l){var N="".concat(l).split(/[,\s]+/gim).map(function(R){return parseFloat(R)});O=s.getStrokeDasharray(P,w,N)}else O=s.generateSimpleStrokeDasharray(w,P);return s.renderCurveStatically(a,r,i,{strokeDasharray:O})})}},{key:"renderCurve",value:function(r,i){var s=this.props,o=s.points,a=s.isAnimationActive,l=this.state,c=l.prevPoints,u=l.totalLength;return a&&o&&o.length&&(!c&&u>0||!Wv(c,o))?this.renderCurveWithAnimation(r,i):this.renderCurveStatically(o,r,i)}},{key:"render",value:function(){var r,i=this.props,s=i.hide,o=i.dot,a=i.points,l=i.className,c=i.xAxis,u=i.yAxis,d=i.top,f=i.left,p=i.width,m=i.height,g=i.isAnimationActive,v=i.id;if(s||!a||!a.length)return null;var x=this.state.isAnimationFinished,b=a.length===1,w=He("recharts-line",l),T=c&&c.allowDataOverflow,_=u&&u.allowDataOverflow,k=T||_,S=qe(v)?this.id:v,E=(r=Ie(o,!1))!==null&&r!==void 0?r:{r:3,strokeWidth:2},P=E.r,O=P===void 0?3:P,N=E.strokeWidth,R=N===void 0?2:N,j=MOe(o)?o:{},z=j.clipDot,F=z===void 0?!0:z,L=O*2+R;return M.createElement(ft,{className:w},T||_?M.createElement("defs",null,M.createElement("clipPath",{id:"clipPath-".concat(S)},M.createElement("rect",{x:T?f:f-p/2,y:_?d:d-m/2,width:T?p:p*2,height:_?m:m*2})),!F&&M.createElement("clipPath",{id:"clipPath-dots-".concat(S)},M.createElement("rect",{x:f-L/2,y:d-L/2,width:p+L,height:m+L}))):null,!b&&this.renderCurve(k,S),this.renderErrorBar(k,S),(b||o)&&this.renderDots(k,F,S),(!g||x)&&na.renderCallByParent(this.props,a))}}],[{key:"getDerivedStateFromProps",value:function(r,i){return r.animationId!==i.prevAnimationId?{prevAnimationId:r.animationId,curPoints:r.points,prevPoints:i.curPoints}:r.points!==i.curPoints?{curPoints:r.points}:null}},{key:"repeat",value:function(r,i){for(var s=r.length%2!==0?[].concat(Nd(r),[0]):r,o=[],a=0;a<i;++a)o=[].concat(Nd(o),Nd(s));return o}},{key:"renderDotItem",value:function(r,i){var s;if(M.isValidElement(r))s=M.cloneElement(r,i);else if(Fe(r))s=r(i);else{var o=i.key,a=oz(i,FKe),l=He("recharts-line-dot",typeof r!="boolean"?r.className:"");s=M.createElement(uE,xg({key:o},a,{className:l}))}return s}}])}(C.PureComponent);vs(Zu,"displayName","Line");vs(Zu,"defaultProps",{xAxisId:0,yAxisId:0,connectNulls:!1,activeDot:!0,dot:!0,legendType:"line",stroke:"#3182bd",strokeWidth:1,fill:"#fff",points:[],isAnimationActive:!oo.isSsr,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",hide:!1,label:!1});vs(Zu,"getComposedData",function(t){var e=t.props,n=t.xAxis,r=t.yAxis,i=t.xAxisTicks,s=t.yAxisTicks,o=t.dataKey,a=t.bandSize,l=t.displayedData,c=t.offset,u=e.layout,d=l.map(function(f,p){var m=jn(f,o);return u==="horizontal"?{x:NU({axis:n,ticks:i,bandSize:a,entry:f,index:p}),y:qe(m)?null:r.scale(m),value:m,payload:f}:{x:qe(m)?null:n.scale(m),y:NU({axis:r,ticks:s,bandSize:a,entry:f,index:p}),value:m,payload:f}});return gi({points:d,layout:u},c)});function Gh(t){"@babel/helpers - typeof";return Gh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Gh(t)}function ZKe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function e7e(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,PZ(r.key),r)}}function t7e(t,e,n){return e&&e7e(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function n7e(t,e,n){return e=r_(e),r7e(t,AZ()?Reflect.construct(e,n||[],r_(t).constructor):e.apply(t,n))}function r7e(t,e){if(e&&(Gh(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return i7e(t)}function i7e(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function AZ(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(AZ=function(){return!!t})()}function r_(t){return r_=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},r_(t)}function s7e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&iO(t,e)}function iO(t,e){return iO=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},iO(t,e)}function kZ(t,e,n){return e=PZ(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function PZ(t){var e=o7e(t,"string");return Gh(e)=="symbol"?e:e+""}function o7e(t,e){if(Gh(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Gh(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function sO(){return sO=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},sO.apply(this,arguments)}function a7e(t){var e=t.xAxisId,n=$R(),r=VR(),i=fZ(e);return i==null?null:M.createElement(Pp,sO({},i,{className:He("recharts-".concat(i.axisType," ").concat(i.axisType),i.className),viewBox:{x:0,y:0,width:n,height:r},ticksGenerator:function(o){return Wo(o,!0)}}))}var ya=function(t){function e(){return ZKe(this,e),n7e(this,e,arguments)}return s7e(e,t),t7e(e,[{key:"render",value:function(){return M.createElement(a7e,this.props)}}])}(M.Component);kZ(ya,"displayName","XAxis");kZ(ya,"defaultProps",{allowDecimals:!0,hide:!1,orientation:"bottom",width:0,height:30,mirror:!1,xAxisId:0,tickCount:5,type:"category",padding:{left:0,right:0},allowDataOverflow:!1,scale:"auto",reversed:!1,allowDuplicatedCategory:!0});function Qh(t){"@babel/helpers - typeof";return Qh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Qh(t)}function l7e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function c7e(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,OZ(r.key),r)}}function u7e(t,e,n){return e&&c7e(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function d7e(t,e,n){return e=i_(e),f7e(t,CZ()?Reflect.construct(e,n||[],i_(t).constructor):e.apply(t,n))}function f7e(t,e){if(e&&(Qh(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return h7e(t)}function h7e(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function CZ(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(CZ=function(){return!!t})()}function i_(t){return i_=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},i_(t)}function p7e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&oO(t,e)}function oO(t,e){return oO=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},oO(t,e)}function IZ(t,e,n){return e=OZ(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function OZ(t){var e=m7e(t,"string");return Qh(e)=="symbol"?e:e+""}function m7e(t,e){if(Qh(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Qh(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function aO(){return aO=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},aO.apply(this,arguments)}var g7e=function(e){var n=e.yAxisId,r=$R(),i=VR(),s=hZ(n);return s==null?null:M.createElement(Pp,aO({},s,{className:He("recharts-".concat(s.axisType," ").concat(s.axisType),s.className),viewBox:{x:0,y:0,width:r,height:i},ticksGenerator:function(a){return Wo(a,!0)}}))},va=function(t){function e(){return l7e(this,e),d7e(this,e,arguments)}return p7e(e,t),u7e(e,[{key:"render",value:function(){return M.createElement(g7e,this.props)}}])}(M.Component);IZ(va,"displayName","YAxis");IZ(va,"defaultProps",{allowDuplicatedCategory:!0,allowDecimals:!0,hide:!1,orientation:"left",width:60,height:0,mirror:!1,yAxisId:0,tickCount:5,type:"number",padding:{top:0,bottom:0},allowDataOverflow:!1,scale:"auto",reversed:!1});function cz(t){return b7e(t)||x7e(t)||v7e(t)||y7e()}function y7e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function v7e(t,e){if(t){if(typeof t=="string")return lO(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return lO(t,e)}}function x7e(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function b7e(t){if(Array.isArray(t))return lO(t)}function lO(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var cO=function(e,n,r,i,s){var o=Oi(e,BR),a=Oi(e,xE),l=[].concat(cz(o),cz(a)),c=Oi(e,wE),u="".concat(i,"Id"),d=i[0],f=n;if(l.length&&(f=l.reduce(function(g,v){if(v.props[u]===r&&lo(v.props,"extendDomain")&&ae(v.props[d])){var x=v.props[d];return[Math.min(g[0],x),Math.max(g[1],x)]}return g},f)),c.length){var p="".concat(d,"1"),m="".concat(d,"2");f=c.reduce(function(g,v){if(v.props[u]===r&&lo(v.props,"extendDomain")&&ae(v.props[p])&&ae(v.props[m])){var x=v.props[p],b=v.props[m];return[Math.min(g[0],x,b),Math.max(g[1],x,b)]}return g},f)}return s&&s.length&&(f=s.reduce(function(g,v){return ae(v)?[Math.min(g[0],v),Math.max(g[1],v)]:g},f)),f},NZ={exports:{}};(function(t){var e=Object.prototype.hasOwnProperty,n="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(n=!1));function i(l,c,u){this.fn=l,this.context=c,this.once=u||!1}function s(l,c,u,d,f){if(typeof u!="function")throw new TypeError("The listener must be a function");var p=new i(u,d||l,f),m=n?n+c:c;return l._events[m]?l._events[m].fn?l._events[m]=[l._events[m],p]:l._events[m].push(p):(l._events[m]=p,l._eventsCount++),l}function o(l,c){--l._eventsCount===0?l._events=new r:delete l._events[c]}function a(){this._events=new r,this._eventsCount=0}a.prototype.eventNames=function(){var c=[],u,d;if(this._eventsCount===0)return c;for(d in u=this._events)e.call(u,d)&&c.push(n?d.slice(1):d);return Object.getOwnPropertySymbols?c.concat(Object.getOwnPropertySymbols(u)):c},a.prototype.listeners=function(c){var u=n?n+c:c,d=this._events[u];if(!d)return[];if(d.fn)return[d.fn];for(var f=0,p=d.length,m=new Array(p);f<p;f++)m[f]=d[f].fn;return m},a.prototype.listenerCount=function(c){var u=n?n+c:c,d=this._events[u];return d?d.fn?1:d.length:0},a.prototype.emit=function(c,u,d,f,p,m){var g=n?n+c:c;if(!this._events[g])return!1;var v=this._events[g],x=arguments.length,b,w;if(v.fn){switch(v.once&&this.removeListener(c,v.fn,void 0,!0),x){case 1:return v.fn.call(v.context),!0;case 2:return v.fn.call(v.context,u),!0;case 3:return v.fn.call(v.context,u,d),!0;case 4:return v.fn.call(v.context,u,d,f),!0;case 5:return v.fn.call(v.context,u,d,f,p),!0;case 6:return v.fn.call(v.context,u,d,f,p,m),!0}for(w=1,b=new Array(x-1);w<x;w++)b[w-1]=arguments[w];v.fn.apply(v.context,b)}else{var T=v.length,_;for(w=0;w<T;w++)switch(v[w].once&&this.removeListener(c,v[w].fn,void 0,!0),x){case 1:v[w].fn.call(v[w].context);break;case 2:v[w].fn.call(v[w].context,u);break;case 3:v[w].fn.call(v[w].context,u,d);break;case 4:v[w].fn.call(v[w].context,u,d,f);break;default:if(!b)for(_=1,b=new Array(x-1);_<x;_++)b[_-1]=arguments[_];v[w].fn.apply(v[w].context,b)}}return!0},a.prototype.on=function(c,u,d){return s(this,c,u,d,!1)},a.prototype.once=function(c,u,d){return s(this,c,u,d,!0)},a.prototype.removeListener=function(c,u,d,f){var p=n?n+c:c;if(!this._events[p])return this;if(!u)return o(this,p),this;var m=this._events[p];if(m.fn)m.fn===u&&(!f||m.once)&&(!d||m.context===d)&&o(this,p);else{for(var g=0,v=[],x=m.length;g<x;g++)(m[g].fn!==u||f&&!m[g].once||d&&m[g].context!==d)&&v.push(m[g]);v.length?this._events[p]=v.length===1?v[0]:v:o(this,p)}return this},a.prototype.removeAllListeners=function(c){var u;return c?(u=n?n+c:c,this._events[u]&&o(this,u)):(this._events=new r,this._eventsCount=0),this},a.prototype.off=a.prototype.removeListener,a.prototype.addListener=a.prototype.on,a.prefixed=n,a.EventEmitter=a,t.exports=a})(NZ);var w7e=NZ.exports;const _7e=vt(w7e);var UA=new _7e,zA="recharts.syncMouseEvents";function ev(t){"@babel/helpers - typeof";return ev=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ev(t)}function S7e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function E7e(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,jZ(r.key),r)}}function T7e(t,e,n){return e&&E7e(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function qA(t,e,n){return e=jZ(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function jZ(t){var e=A7e(t,"string");return ev(e)=="symbol"?e:e+""}function A7e(t,e){if(ev(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(ev(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var k7e=function(){function t(){S7e(this,t),qA(this,"activeIndex",0),qA(this,"coordinateList",[]),qA(this,"layout","horizontal")}return T7e(t,[{key:"setDetails",value:function(n){var r,i=n.coordinateList,s=i===void 0?null:i,o=n.container,a=o===void 0?null:o,l=n.layout,c=l===void 0?null:l,u=n.offset,d=u===void 0?null:u,f=n.mouseHandlerCallback,p=f===void 0?null:f;this.coordinateList=(r=s??this.coordinateList)!==null&&r!==void 0?r:[],this.container=a??this.container,this.layout=c??this.layout,this.offset=d??this.offset,this.mouseHandlerCallback=p??this.mouseHandlerCallback,this.activeIndex=Math.min(Math.max(this.activeIndex,0),this.coordinateList.length-1)}},{key:"focus",value:function(){this.spoofMouse()}},{key:"keyboardEvent",value:function(n){if(this.coordinateList.length!==0)switch(n.key){case"ArrowRight":{if(this.layout!=="horizontal")return;this.activeIndex=Math.min(this.activeIndex+1,this.coordinateList.length-1),this.spoofMouse();break}case"ArrowLeft":{if(this.layout!=="horizontal")return;this.activeIndex=Math.max(this.activeIndex-1,0),this.spoofMouse();break}}}},{key:"setIndex",value:function(n){this.activeIndex=n}},{key:"spoofMouse",value:function(){var n,r;if(this.layout==="horizontal"&&this.coordinateList.length!==0){var i=this.container.getBoundingClientRect(),s=i.x,o=i.y,a=i.height,l=this.coordinateList[this.activeIndex].coordinate,c=((n=window)===null||n===void 0?void 0:n.scrollX)||0,u=((r=window)===null||r===void 0?void 0:r.scrollY)||0,d=s+l+c,f=o+this.offset.top+a/2+u;this.mouseHandlerCallback({pageX:d,pageY:f})}}}])}();function P7e(t,e,n){if(n==="number"&&e===!0&&Array.isArray(t)){var r=t==null?void 0:t[0],i=t==null?void 0:t[1];if(r&&i&&ae(r)&&ae(i))return!0}return!1}function C7e(t,e,n,r){var i=r/2;return{stroke:"none",fill:"#ccc",x:t==="horizontal"?e.x-i:n.left+.5,y:t==="horizontal"?n.top+.5:e.y-i,width:t==="horizontal"?r:n.width-1,height:t==="horizontal"?n.height-1:r}}function RZ(t){var e=t.cx,n=t.cy,r=t.radius,i=t.startAngle,s=t.endAngle,o=Vt(e,n,r,i),a=Vt(e,n,r,s);return{points:[o,a],cx:e,cy:n,radius:r,startAngle:i,endAngle:s}}function I7e(t,e,n){var r,i,s,o;if(t==="horizontal")r=e.x,s=r,i=n.top,o=n.top+n.height;else if(t==="vertical")i=e.y,o=i,r=n.left,s=n.left+n.width;else if(e.cx!=null&&e.cy!=null)if(t==="centric"){var a=e.cx,l=e.cy,c=e.innerRadius,u=e.outerRadius,d=e.angle,f=Vt(a,l,c,d),p=Vt(a,l,u,d);r=f.x,i=f.y,s=p.x,o=p.y}else return RZ(e);return[{x:r,y:i},{x:s,y:o}]}function tv(t){"@babel/helpers - typeof";return tv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},tv(t)}function uz(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function px(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?uz(Object(n),!0).forEach(function(r){O7e(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):uz(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function O7e(t,e,n){return e=N7e(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function N7e(t){var e=j7e(t,"string");return tv(e)=="symbol"?e:e+""}function j7e(t,e){if(tv(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(tv(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function R7e(t){var e,n,r=t.element,i=t.tooltipEventType,s=t.isActive,o=t.activeCoordinate,a=t.activePayload,l=t.offset,c=t.activeTooltipIndex,u=t.tooltipAxisBandSize,d=t.layout,f=t.chartName,p=(e=r.props.cursor)!==null&&e!==void 0?e:(n=r.type.defaultProps)===null||n===void 0?void 0:n.cursor;if(!r||!p||!s||!o||f!=="ScatterChart"&&i!=="axis")return null;var m,g=M1;if(f==="ScatterChart")m=o,g=J9e;else if(f==="BarChart")m=C7e(d,o,l,u),g=RR;else if(d==="radial"){var v=RZ(o),x=v.cx,b=v.cy,w=v.radius,T=v.startAngle,_=v.endAngle;m={cx:x,cy:b,startAngle:T,endAngle:_,innerRadius:w,outerRadius:w},g=NJ}else m={points:I7e(d,o,l)},g=M1;var k=px(px(px(px({stroke:"#ccc",pointerEvents:"none"},l),m),Ie(p,!1)),{},{payload:a,payloadIndex:c,className:He("recharts-tooltip-cursor",p.className)});return C.isValidElement(p)?C.cloneElement(p,k):C.createElement(g,k)}var D7e=["item"],M7e=["children","className","width","height","style","compact","title","desc"];function Yh(t){"@babel/helpers - typeof";return Yh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Yh(t)}function pf(){return pf=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},pf.apply(this,arguments)}function dz(t,e){return V7e(t)||$7e(t,e)||MZ(t,e)||L7e()}function L7e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function $7e(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,s,o,a=[],l=!0,c=!1;try{if(s=(n=n.call(t)).next,e!==0)for(;!(l=(r=s.call(n)).done)&&(a.push(r.value),a.length!==e);l=!0);}catch(u){c=!0,i=u}finally{try{if(!l&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(c)throw i}}return a}}function V7e(t){if(Array.isArray(t))return t}function fz(t,e){if(t==null)return{};var n=F7e(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function F7e(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function B7e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function U7e(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,LZ(r.key),r)}}function z7e(t,e,n){return e&&U7e(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function q7e(t,e,n){return e=s_(e),H7e(t,DZ()?Reflect.construct(e,n||[],s_(t).constructor):e.apply(t,n))}function H7e(t,e){if(e&&(Yh(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return W7e(t)}function W7e(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function DZ(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(DZ=function(){return!!t})()}function s_(t){return s_=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},s_(t)}function K7e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&uO(t,e)}function uO(t,e){return uO=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},uO(t,e)}function Xh(t){return Y7e(t)||Q7e(t)||MZ(t)||G7e()}function G7e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function MZ(t,e){if(t){if(typeof t=="string")return dO(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return dO(t,e)}}function Q7e(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Y7e(t){if(Array.isArray(t))return dO(t)}function dO(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function hz(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Y(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?hz(Object(n),!0).forEach(function(r){De(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):hz(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function De(t,e,n){return e=LZ(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function LZ(t){var e=X7e(t,"string");return Yh(e)=="symbol"?e:e+""}function X7e(t,e){if(Yh(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Yh(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var J7e={xAxis:["bottom","top"],yAxis:["left","right"]},Z7e={width:"100%",height:"100%"},$Z={x:0,y:0};function mx(t){return t}var eGe=function(e,n){return n==="horizontal"?e.x:n==="vertical"?e.y:n==="centric"?e.angle:e.radius},tGe=function(e,n,r,i){var s=n.find(function(u){return u&&u.index===r});if(s){if(e==="horizontal")return{x:s.coordinate,y:i.y};if(e==="vertical")return{x:i.x,y:s.coordinate};if(e==="centric"){var o=s.coordinate,a=i.radius;return Y(Y(Y({},i),Vt(i.cx,i.cy,a,o)),{},{angle:o,radius:a})}var l=s.coordinate,c=i.angle;return Y(Y(Y({},i),Vt(i.cx,i.cy,l,c)),{},{angle:c,radius:l})}return $Z},_E=function(e,n){var r=n.graphicalItems,i=n.dataStartIndex,s=n.dataEndIndex,o=(r??[]).reduce(function(a,l){var c=l.props.data;return c&&c.length?[].concat(Xh(a),Xh(c)):a},[]);return o.length>0?o:e&&e.length&&ae(i)&&ae(s)?e.slice(i,s+1):[]};function VZ(t){return t==="number"?[0,"auto"]:void 0}var fO=function(e,n,r,i){var s=e.graphicalItems,o=e.tooltipAxis,a=_E(n,e);return r<0||!s||!s.length||r>=a.length?null:s.reduce(function(l,c){var u,d=(u=c.props.data)!==null&&u!==void 0?u:n;d&&e.dataStartIndex+e.dataEndIndex!==0&&e.dataEndIndex-e.dataStartIndex>=r&&(d=d.slice(e.dataStartIndex,e.dataEndIndex+1));var f;if(o.dataKey&&!o.allowDuplicatedCategory){var p=d===void 0?a:d;f=s1(p,o.dataKey,i)}else f=d&&d[r]||a[r];return f?[].concat(Xh(l),[AJ(c,f)]):l},[])},pz=function(e,n,r,i){var s=i||{x:e.chartX,y:e.chartY},o=eGe(s,r),a=e.orderedTooltipTicks,l=e.tooltipAxis,c=e.tooltipTicks,u=L5e(o,a,c,l);if(u>=0&&c){var d=c[u]&&c[u].value,f=fO(e,n,u,d),p=tGe(r,a,u,s);return{activeTooltipIndex:u,activeLabel:d,activePayload:f,activeCoordinate:p}}return null},nGe=function(e,n){var r=n.axes,i=n.graphicalItems,s=n.axisType,o=n.axisIdKey,a=n.stackGroups,l=n.dataStartIndex,c=n.dataEndIndex,u=e.layout,d=e.children,f=e.stackOffset,p=bJ(u,s);return r.reduce(function(m,g){var v,x=g.type.defaultProps!==void 0?Y(Y({},g.type.defaultProps),g.props):g.props,b=x.type,w=x.dataKey,T=x.allowDataOverflow,_=x.allowDuplicatedCategory,k=x.scale,S=x.ticks,E=x.includeHidden,P=x[o];if(m[P])return m;var O=_E(e.data,{graphicalItems:i.filter(function(Q){var fe,Le=o in Q.props?Q.props[o]:(fe=Q.type.defaultProps)===null||fe===void 0?void 0:fe[o];return Le===P}),dataStartIndex:l,dataEndIndex:c}),N=O.length,R,j,z;P7e(x.domain,T,b)&&(R=AI(x.domain,null,T),p&&(b==="number"||k!=="auto")&&(z=mg(O,w,"category")));var F=VZ(b);if(!R||R.length===0){var L,B=(L=x.domain)!==null&&L!==void 0?L:F;if(w){if(R=mg(O,w,b),b==="category"&&p){var $=kOe(R);_&&$?(j=R,R=W1(0,N)):_||(R=MU(B,R,g).reduce(function(Q,fe){return Q.indexOf(fe)>=0?Q:[].concat(Xh(Q),[fe])},[]))}else if(b==="category")_?R=R.filter(function(Q){return Q!==""&&!qe(Q)}):R=MU(B,R,g).reduce(function(Q,fe){return Q.indexOf(fe)>=0||fe===""||qe(fe)?Q:[].concat(Xh(Q),[fe])},[]);else if(b==="number"){var U=U5e(O,i.filter(function(Q){var fe,Le,Ye=o in Q.props?Q.props[o]:(fe=Q.type.defaultProps)===null||fe===void 0?void 0:fe[o],rt="hide"in Q.props?Q.props.hide:(Le=Q.type.defaultProps)===null||Le===void 0?void 0:Le.hide;return Ye===P&&(E||!rt)}),w,s,u);U&&(R=U)}p&&(b==="number"||k!=="auto")&&(z=mg(O,w,"category"))}else p?R=W1(0,N):a&&a[P]&&a[P].hasStack&&b==="number"?R=f==="expand"?[0,1]:TJ(a[P].stackGroups,l,c):R=xJ(O,i.filter(function(Q){var fe=o in Q.props?Q.props[o]:Q.type.defaultProps[o],Le="hide"in Q.props?Q.props.hide:Q.type.defaultProps.hide;return fe===P&&(E||!Le)}),b,u,!0);if(b==="number")R=cO(d,R,P,s,S),B&&(R=AI(B,R,T));else if(b==="category"&&B){var W=B,Z=R.every(function(Q){return W.indexOf(Q)>=0});Z&&(R=W)}}return Y(Y({},m),{},De({},P,Y(Y({},x),{},{axisType:s,domain:R,categoricalDomain:z,duplicateDomain:j,originalDomain:(v=x.domain)!==null&&v!==void 0?v:F,isCategorical:p,layout:u})))},{})},rGe=function(e,n){var r=n.graphicalItems,i=n.Axis,s=n.axisType,o=n.axisIdKey,a=n.stackGroups,l=n.dataStartIndex,c=n.dataEndIndex,u=e.layout,d=e.children,f=_E(e.data,{graphicalItems:r,dataStartIndex:l,dataEndIndex:c}),p=f.length,m=bJ(u,s),g=-1;return r.reduce(function(v,x){var b=x.type.defaultProps!==void 0?Y(Y({},x.type.defaultProps),x.props):x.props,w=b[o],T=VZ("number");if(!v[w]){g++;var _;return m?_=W1(0,p):a&&a[w]&&a[w].hasStack?(_=TJ(a[w].stackGroups,l,c),_=cO(d,_,w,s)):(_=AI(T,xJ(f,r.filter(function(k){var S,E,P=o in k.props?k.props[o]:(S=k.type.defaultProps)===null||S===void 0?void 0:S[o],O="hide"in k.props?k.props.hide:(E=k.type.defaultProps)===null||E===void 0?void 0:E.hide;return P===w&&!O}),"number",u),i.defaultProps.allowDataOverflow),_=cO(d,_,w,s)),Y(Y({},v),{},De({},w,Y(Y({axisType:s},i.defaultProps),{},{hide:!0,orientation:Ii(J7e,"".concat(s,".").concat(g%2),null),domain:_,originalDomain:T,isCategorical:m,layout:u})))}return v},{})},iGe=function(e,n){var r=n.axisType,i=r===void 0?"xAxis":r,s=n.AxisComp,o=n.graphicalItems,a=n.stackGroups,l=n.dataStartIndex,c=n.dataEndIndex,u=e.children,d="".concat(i,"Id"),f=Oi(u,s),p={};return f&&f.length?p=nGe(e,{axes:f,graphicalItems:o,axisType:i,axisIdKey:d,stackGroups:a,dataStartIndex:l,dataEndIndex:c}):o&&o.length&&(p=rGe(e,{Axis:s,graphicalItems:o,axisType:i,axisIdKey:d,stackGroups:a,dataStartIndex:l,dataEndIndex:c})),p},sGe=function(e){var n=sl(e),r=Wo(n,!1,!0);return{tooltipTicks:r,orderedTooltipTicks:aR(r,function(i){return i.coordinate}),tooltipAxis:n,tooltipAxisBandSize:j1(n,r)}},mz=function(e){var n=e.children,r=e.defaultShowTooltip,i=bi(n,Fh),s=0,o=0;return e.data&&e.data.length!==0&&(o=e.data.length-1),i&&i.props&&(i.props.startIndex>=0&&(s=i.props.startIndex),i.props.endIndex>=0&&(o=i.props.endIndex)),{chartX:0,chartY:0,dataStartIndex:s,dataEndIndex:o,activeTooltipIndex:-1,isTooltipActive:!!r}},oGe=function(e){return!e||!e.length?!1:e.some(function(n){var r=ea(n&&n.type);return r&&r.indexOf("Bar")>=0})},gz=function(e){return e==="horizontal"?{numericAxisName:"yAxis",cateAxisName:"xAxis"}:e==="vertical"?{numericAxisName:"xAxis",cateAxisName:"yAxis"}:e==="centric"?{numericAxisName:"radiusAxis",cateAxisName:"angleAxis"}:{numericAxisName:"angleAxis",cateAxisName:"radiusAxis"}},aGe=function(e,n){var r=e.props,i=e.graphicalItems,s=e.xAxisMap,o=s===void 0?{}:s,a=e.yAxisMap,l=a===void 0?{}:a,c=r.width,u=r.height,d=r.children,f=r.margin||{},p=bi(d,Fh),m=bi(d,jf),g=Object.keys(l).reduce(function(_,k){var S=l[k],E=S.orientation;return!S.mirror&&!S.hide?Y(Y({},_),{},De({},E,_[E]+S.width)):_},{left:f.left||0,right:f.right||0}),v=Object.keys(o).reduce(function(_,k){var S=o[k],E=S.orientation;return!S.mirror&&!S.hide?Y(Y({},_),{},De({},E,Ii(_,"".concat(E))+S.height)):_},{top:f.top||0,bottom:f.bottom||0}),x=Y(Y({},v),g),b=x.bottom;p&&(x.bottom+=p.props.height||Fh.defaultProps.height),m&&n&&(x=F5e(x,i,r,n));var w=c-x.left-x.right,T=u-x.top-x.bottom;return Y(Y({brushBottom:b},x),{},{width:Math.max(w,0),height:Math.max(T,0)})},lGe=function(e,n){if(n==="xAxis")return e[n].width;if(n==="yAxis")return e[n].height},qR=function(e){var n=e.chartName,r=e.GraphicalChild,i=e.defaultTooltipEventType,s=i===void 0?"axis":i,o=e.validateTooltipEventTypes,a=o===void 0?["axis"]:o,l=e.axisComponents,c=e.legendContent,u=e.formatAxisMap,d=e.defaultProps,f=function(x,b){var w=b.graphicalItems,T=b.stackGroups,_=b.offset,k=b.updateId,S=b.dataStartIndex,E=b.dataEndIndex,P=x.barSize,O=x.layout,N=x.barGap,R=x.barCategoryGap,j=x.maxBarSize,z=gz(O),F=z.numericAxisName,L=z.cateAxisName,B=oGe(w),$=[];return w.forEach(function(U,W){var Z=_E(x.data,{graphicalItems:[U],dataStartIndex:S,dataEndIndex:E}),Q=U.type.defaultProps!==void 0?Y(Y({},U.type.defaultProps),U.props):U.props,fe=Q.dataKey,Le=Q.maxBarSize,Ye=Q["".concat(F,"Id")],rt=Q["".concat(L,"Id")],Gt={},tn=l.reduce(function(Nt,it){var tt=b["".concat(it.axisType,"Map")],se=Q["".concat(it.axisType,"Id")];tt&&tt[se]||it.axisType==="zAxis"||Xu();var _e=tt[se];return Y(Y({},Nt),{},De(De({},it.axisType,_e),"".concat(it.axisType,"Ticks"),Wo(_e)))},Gt),pe=tn[L],Ae=tn["".concat(L,"Ticks")],Ne=T&&T[Ye]&&T[Ye].hasStack&&X5e(U,T[Ye].stackGroups),J=ea(U.type).indexOf("Bar")>=0,gt=j1(pe,Ae),We=[],_t=B&&$5e({barSize:P,stackGroups:T,totalSize:lGe(tn,L)});if(J){var Ot,oe,ge=qe(Le)?j:Le,ke=(Ot=(oe=j1(pe,Ae,!0))!==null&&oe!==void 0?oe:ge)!==null&&Ot!==void 0?Ot:0;We=V5e({barGap:N,barCategoryGap:R,bandSize:ke!==gt?ke:gt,sizeList:_t[rt],maxBarSize:ge}),ke!==gt&&(We=We.map(function(Nt){return Y(Y({},Nt),{},{position:Y(Y({},Nt.position),{},{offset:Nt.position.offset-ke/2})})}))}var Je=U&&U.type&&U.type.getComposedData;Je&&$.push({props:Y(Y({},Je(Y(Y({},tn),{},{displayedData:Z,props:x,dataKey:fe,item:U,bandSize:gt,barPosition:We,offset:_,stackedData:Ne,layout:O,dataStartIndex:S,dataEndIndex:E}))),{},De(De(De({key:U.key||"item-".concat(W)},F,tn[F]),L,tn[L]),"animationId",k)),childIndex:VOe(U,x.children),item:U})}),$},p=function(x,b){var w=x.props,T=x.dataStartIndex,_=x.dataEndIndex,k=x.updateId;if(!C3({props:w}))return null;var S=w.children,E=w.layout,P=w.stackOffset,O=w.data,N=w.reverseStackOrder,R=gz(E),j=R.numericAxisName,z=R.cateAxisName,F=Oi(S,r),L=Q5e(O,F,"".concat(j,"Id"),"".concat(z,"Id"),P,N),B=l.reduce(function(Q,fe){var Le="".concat(fe.axisType,"Map");return Y(Y({},Q),{},De({},Le,iGe(w,Y(Y({},fe),{},{graphicalItems:F,stackGroups:fe.axisType===j&&L,dataStartIndex:T,dataEndIndex:_}))))},{}),$=aGe(Y(Y({},B),{},{props:w,graphicalItems:F}),b==null?void 0:b.legendBBox);Object.keys(B).forEach(function(Q){B[Q]=u(w,B[Q],$,Q.replace("Map",""),n)});var U=B["".concat(z,"Map")],W=sGe(U),Z=f(w,Y(Y({},B),{},{dataStartIndex:T,dataEndIndex:_,updateId:k,graphicalItems:F,stackGroups:L,offset:$}));return Y(Y({formattedGraphicalItems:Z,graphicalItems:F,offset:$,stackGroups:L},W),B)},m=function(v){function x(b){var w,T,_;return B7e(this,x),_=q7e(this,x,[b]),De(_,"eventEmitterSymbol",Symbol("rechartsEventEmitter")),De(_,"accessibilityManager",new k7e),De(_,"handleLegendBBoxUpdate",function(k){if(k){var S=_.state,E=S.dataStartIndex,P=S.dataEndIndex,O=S.updateId;_.setState(Y({legendBBox:k},p({props:_.props,dataStartIndex:E,dataEndIndex:P,updateId:O},Y(Y({},_.state),{},{legendBBox:k}))))}}),De(_,"handleReceiveSyncEvent",function(k,S,E){if(_.props.syncId===k){if(E===_.eventEmitterSymbol&&typeof _.props.syncMethod!="function")return;_.applySyncEvent(S)}}),De(_,"handleBrushChange",function(k){var S=k.startIndex,E=k.endIndex;if(S!==_.state.dataStartIndex||E!==_.state.dataEndIndex){var P=_.state.updateId;_.setState(function(){return Y({dataStartIndex:S,dataEndIndex:E},p({props:_.props,dataStartIndex:S,dataEndIndex:E,updateId:P},_.state))}),_.triggerSyncEvent({dataStartIndex:S,dataEndIndex:E})}}),De(_,"handleMouseEnter",function(k){var S=_.getMouseInfo(k);if(S){var E=Y(Y({},S),{},{isTooltipActive:!0});_.setState(E),_.triggerSyncEvent(E);var P=_.props.onMouseEnter;Fe(P)&&P(E,k)}}),De(_,"triggeredAfterMouseMove",function(k){var S=_.getMouseInfo(k),E=S?Y(Y({},S),{},{isTooltipActive:!0}):{isTooltipActive:!1};_.setState(E),_.triggerSyncEvent(E);var P=_.props.onMouseMove;Fe(P)&&P(E,k)}),De(_,"handleItemMouseEnter",function(k){_.setState(function(){return{isTooltipActive:!0,activeItem:k,activePayload:k.tooltipPayload,activeCoordinate:k.tooltipPosition||{x:k.cx,y:k.cy}}})}),De(_,"handleItemMouseLeave",function(){_.setState(function(){return{isTooltipActive:!1}})}),De(_,"handleMouseMove",function(k){k.persist(),_.throttleTriggeredAfterMouseMove(k)}),De(_,"handleMouseLeave",function(k){_.throttleTriggeredAfterMouseMove.cancel();var S={isTooltipActive:!1};_.setState(S),_.triggerSyncEvent(S);var E=_.props.onMouseLeave;Fe(E)&&E(S,k)}),De(_,"handleOuterEvent",function(k){var S=$Oe(k),E=Ii(_.props,"".concat(S));if(S&&Fe(E)){var P,O;/.*touch.*/i.test(S)?O=_.getMouseInfo(k.changedTouches[0]):O=_.getMouseInfo(k),E((P=O)!==null&&P!==void 0?P:{},k)}}),De(_,"handleClick",function(k){var S=_.getMouseInfo(k);if(S){var E=Y(Y({},S),{},{isTooltipActive:!0});_.setState(E),_.triggerSyncEvent(E);var P=_.props.onClick;Fe(P)&&P(E,k)}}),De(_,"handleMouseDown",function(k){var S=_.props.onMouseDown;if(Fe(S)){var E=_.getMouseInfo(k);S(E,k)}}),De(_,"handleMouseUp",function(k){var S=_.props.onMouseUp;if(Fe(S)){var E=_.getMouseInfo(k);S(E,k)}}),De(_,"handleTouchMove",function(k){k.changedTouches!=null&&k.changedTouches.length>0&&_.throttleTriggeredAfterMouseMove(k.changedTouches[0])}),De(_,"handleTouchStart",function(k){k.changedTouches!=null&&k.changedTouches.length>0&&_.handleMouseDown(k.changedTouches[0])}),De(_,"handleTouchEnd",function(k){k.changedTouches!=null&&k.changedTouches.length>0&&_.handleMouseUp(k.changedTouches[0])}),De(_,"triggerSyncEvent",function(k){_.props.syncId!==void 0&&UA.emit(zA,_.props.syncId,k,_.eventEmitterSymbol)}),De(_,"applySyncEvent",function(k){var S=_.props,E=S.layout,P=S.syncMethod,O=_.state.updateId,N=k.dataStartIndex,R=k.dataEndIndex;if(k.dataStartIndex!==void 0||k.dataEndIndex!==void 0)_.setState(Y({dataStartIndex:N,dataEndIndex:R},p({props:_.props,dataStartIndex:N,dataEndIndex:R,updateId:O},_.state)));else if(k.activeTooltipIndex!==void 0){var j=k.chartX,z=k.chartY,F=k.activeTooltipIndex,L=_.state,B=L.offset,$=L.tooltipTicks;if(!B)return;if(typeof P=="function")F=P($,k);else if(P==="value"){F=-1;for(var U=0;U<$.length;U++)if($[U].value===k.activeLabel){F=U;break}}var W=Y(Y({},B),{},{x:B.left,y:B.top}),Z=Math.min(j,W.x+W.width),Q=Math.min(z,W.y+W.height),fe=$[F]&&$[F].value,Le=fO(_.state,_.props.data,F),Ye=$[F]?{x:E==="horizontal"?$[F].coordinate:Z,y:E==="horizontal"?Q:$[F].coordinate}:$Z;_.setState(Y(Y({},k),{},{activeLabel:fe,activeCoordinate:Ye,activePayload:Le,activeTooltipIndex:F}))}else _.setState(k)}),De(_,"renderCursor",function(k){var S,E=_.state,P=E.isTooltipActive,O=E.activeCoordinate,N=E.activePayload,R=E.offset,j=E.activeTooltipIndex,z=E.tooltipAxisBandSize,F=_.getTooltipEventType(),L=(S=k.props.active)!==null&&S!==void 0?S:P,B=_.props.layout,$=k.key||"_recharts-cursor";return M.createElement(R7e,{key:$,activeCoordinate:O,activePayload:N,activeTooltipIndex:j,chartName:n,element:k,isActive:L,layout:B,offset:R,tooltipAxisBandSize:z,tooltipEventType:F})}),De(_,"renderPolarAxis",function(k,S,E){var P=Ii(k,"type.axisType"),O=Ii(_.state,"".concat(P,"Map")),N=k.type.defaultProps,R=N!==void 0?Y(Y({},N),k.props):k.props,j=O&&O[R["".concat(P,"Id")]];return C.cloneElement(k,Y(Y({},j),{},{className:He(P,j.className),key:k.key||"".concat(S,"-").concat(E),ticks:Wo(j,!0)}))}),De(_,"renderPolarGrid",function(k){var S=k.props,E=S.radialLines,P=S.polarAngles,O=S.polarRadius,N=_.state,R=N.radiusAxisMap,j=N.angleAxisMap,z=sl(R),F=sl(j),L=F.cx,B=F.cy,$=F.innerRadius,U=F.outerRadius;return C.cloneElement(k,{polarAngles:Array.isArray(P)?P:Wo(F,!0).map(function(W){return W.coordinate}),polarRadius:Array.isArray(O)?O:Wo(z,!0).map(function(W){return W.coordinate}),cx:L,cy:B,innerRadius:$,outerRadius:U,key:k.key||"polar-grid",radialLines:E})}),De(_,"renderLegend",function(){var k=_.state.formattedGraphicalItems,S=_.props,E=S.children,P=S.width,O=S.height,N=_.props.margin||{},R=P-(N.left||0)-(N.right||0),j=yJ({children:E,formattedGraphicalItems:k,legendWidth:R,legendContent:c});if(!j)return null;var z=j.item,F=fz(j,D7e);return C.cloneElement(z,Y(Y({},F),{},{chartWidth:P,chartHeight:O,margin:N,onBBoxUpdate:_.handleLegendBBoxUpdate}))}),De(_,"renderTooltip",function(){var k,S=_.props,E=S.children,P=S.accessibilityLayer,O=bi(E,Lr);if(!O)return null;var N=_.state,R=N.isTooltipActive,j=N.activeCoordinate,z=N.activePayload,F=N.activeLabel,L=N.offset,B=(k=O.props.active)!==null&&k!==void 0?k:R;return C.cloneElement(O,{viewBox:Y(Y({},L),{},{x:L.left,y:L.top}),active:B,label:F,payload:B?z:[],coordinate:j,accessibilityLayer:P})}),De(_,"renderBrush",function(k){var S=_.props,E=S.margin,P=S.data,O=_.state,N=O.offset,R=O.dataStartIndex,j=O.dataEndIndex,z=O.updateId;return C.cloneElement(k,{key:k.key||"_recharts-brush",onChange:ux(_.handleBrushChange,k.props.onChange),data:P,x:ae(k.props.x)?k.props.x:N.left,y:ae(k.props.y)?k.props.y:N.top+N.height+N.brushBottom-(E.bottom||0),width:ae(k.props.width)?k.props.width:N.width,startIndex:R,endIndex:j,updateId:"brush-".concat(z)})}),De(_,"renderReferenceElement",function(k,S,E){if(!k)return null;var P=_,O=P.clipPathId,N=_.state,R=N.xAxisMap,j=N.yAxisMap,z=N.offset,F=k.type.defaultProps||{},L=k.props,B=L.xAxisId,$=B===void 0?F.xAxisId:B,U=L.yAxisId,W=U===void 0?F.yAxisId:U;return C.cloneElement(k,{key:k.key||"".concat(S,"-").concat(E),xAxis:R[$],yAxis:j[W],viewBox:{x:z.left,y:z.top,width:z.width,height:z.height},clipPathId:O})}),De(_,"renderActivePoints",function(k){var S=k.item,E=k.activePoint,P=k.basePoint,O=k.childIndex,N=k.isRange,R=[],j=S.props.key,z=S.item.type.defaultProps!==void 0?Y(Y({},S.item.type.defaultProps),S.item.props):S.item.props,F=z.activeDot,L=z.dataKey,B=Y(Y({index:O,dataKey:L,cx:E.x,cy:E.y,r:4,fill:jR(S.item),strokeWidth:2,stroke:"#fff",payload:E.payload,value:E.value},Ie(F,!1)),o1(F));return R.push(x.renderActiveDot(F,B,"".concat(j,"-activePoint-").concat(O))),P?R.push(x.renderActiveDot(F,Y(Y({},B),{},{cx:P.x,cy:P.y}),"".concat(j,"-basePoint-").concat(O))):N&&R.push(null),R}),De(_,"renderGraphicChild",function(k,S,E){var P=_.filterFormatItem(k,S,E);if(!P)return null;var O=_.getTooltipEventType(),N=_.state,R=N.isTooltipActive,j=N.tooltipAxis,z=N.activeTooltipIndex,F=N.activeLabel,L=_.props.children,B=bi(L,Lr),$=P.props,U=$.points,W=$.isRange,Z=$.baseLine,Q=P.item.type.defaultProps!==void 0?Y(Y({},P.item.type.defaultProps),P.item.props):P.item.props,fe=Q.activeDot,Le=Q.hide,Ye=Q.activeBar,rt=Q.activeShape,Gt=!!(!Le&&R&&B&&(fe||Ye||rt)),tn={};O!=="axis"&&B&&B.props.trigger==="click"?tn={onClick:ux(_.handleItemMouseEnter,k.props.onClick)}:O!=="axis"&&(tn={onMouseLeave:ux(_.handleItemMouseLeave,k.props.onMouseLeave),onMouseEnter:ux(_.handleItemMouseEnter,k.props.onMouseEnter)});var pe=C.cloneElement(k,Y(Y({},P.props),tn));function Ae(it){return typeof j.dataKey=="function"?j.dataKey(it.payload):null}if(Gt)if(z>=0){var Ne,J;if(j.dataKey&&!j.allowDuplicatedCategory){var gt=typeof j.dataKey=="function"?Ae:"payload.".concat(j.dataKey.toString());Ne=s1(U,gt,F),J=W&&Z&&s1(Z,gt,F)}else Ne=U==null?void 0:U[z],J=W&&Z&&Z[z];if(rt||Ye){var We=k.props.activeIndex!==void 0?k.props.activeIndex:z;return[C.cloneElement(k,Y(Y(Y({},P.props),tn),{},{activeIndex:We})),null,null]}if(!qe(Ne))return[pe].concat(Xh(_.renderActivePoints({item:P,activePoint:Ne,basePoint:J,childIndex:z,isRange:W})))}else{var _t,Ot=(_t=_.getItemByXY(_.state.activeCoordinate))!==null&&_t!==void 0?_t:{graphicalItem:pe},oe=Ot.graphicalItem,ge=oe.item,ke=ge===void 0?k:ge,Je=oe.childIndex,Nt=Y(Y(Y({},P.props),tn),{},{activeIndex:Je});return[C.cloneElement(ke,Nt),null,null]}return W?[pe,null,null]:[pe,null]}),De(_,"renderCustomized",function(k,S,E){return C.cloneElement(k,Y(Y({key:"recharts-customized-".concat(E)},_.props),_.state))}),De(_,"renderMap",{CartesianGrid:{handler:mx,once:!0},ReferenceArea:{handler:_.renderReferenceElement},ReferenceLine:{handler:mx},ReferenceDot:{handler:_.renderReferenceElement},XAxis:{handler:mx},YAxis:{handler:mx},Brush:{handler:_.renderBrush,once:!0},Bar:{handler:_.renderGraphicChild},Line:{handler:_.renderGraphicChild},Area:{handler:_.renderGraphicChild},Radar:{handler:_.renderGraphicChild},RadialBar:{handler:_.renderGraphicChild},Scatter:{handler:_.renderGraphicChild},Pie:{handler:_.renderGraphicChild},Funnel:{handler:_.renderGraphicChild},Tooltip:{handler:_.renderCursor,once:!0},PolarGrid:{handler:_.renderPolarGrid,once:!0},PolarAngleAxis:{handler:_.renderPolarAxis},PolarRadiusAxis:{handler:_.renderPolarAxis},Customized:{handler:_.renderCustomized}}),_.clipPathId="".concat((w=b.id)!==null&&w!==void 0?w:bp("recharts"),"-clip"),_.throttleTriggeredAfterMouseMove=gX(_.triggeredAfterMouseMove,(T=b.throttleDelay)!==null&&T!==void 0?T:1e3/60),_.state={},_}return K7e(x,v),z7e(x,[{key:"componentDidMount",value:function(){var w,T;this.addListener(),this.accessibilityManager.setDetails({container:this.container,offset:{left:(w=this.props.margin.left)!==null&&w!==void 0?w:0,top:(T=this.props.margin.top)!==null&&T!==void 0?T:0},coordinateList:this.state.tooltipTicks,mouseHandlerCallback:this.triggeredAfterMouseMove,layout:this.props.layout}),this.displayDefaultTooltip()}},{key:"displayDefaultTooltip",value:function(){var w=this.props,T=w.children,_=w.data,k=w.height,S=w.layout,E=bi(T,Lr);if(E){var P=E.props.defaultIndex;if(!(typeof P!="number"||P<0||P>this.state.tooltipTicks.length-1)){var O=this.state.tooltipTicks[P]&&this.state.tooltipTicks[P].value,N=fO(this.state,_,P,O),R=this.state.tooltipTicks[P].coordinate,j=(this.state.offset.top+k)/2,z=S==="horizontal",F=z?{x:R,y:j}:{y:R,x:j},L=this.state.formattedGraphicalItems.find(function($){var U=$.item;return U.type.name==="Scatter"});L&&(F=Y(Y({},F),L.props.points[P].tooltipPosition),N=L.props.points[P].tooltipPayload);var B={activeTooltipIndex:P,isTooltipActive:!0,activeLabel:O,activePayload:N,activeCoordinate:F};this.setState(B),this.renderCursor(E),this.accessibilityManager.setIndex(P)}}}},{key:"getSnapshotBeforeUpdate",value:function(w,T){if(!this.props.accessibilityLayer)return null;if(this.state.tooltipTicks!==T.tooltipTicks&&this.accessibilityManager.setDetails({coordinateList:this.state.tooltipTicks}),this.props.layout!==w.layout&&this.accessibilityManager.setDetails({layout:this.props.layout}),this.props.margin!==w.margin){var _,k;this.accessibilityManager.setDetails({offset:{left:(_=this.props.margin.left)!==null&&_!==void 0?_:0,top:(k=this.props.margin.top)!==null&&k!==void 0?k:0}})}return null}},{key:"componentDidUpdate",value:function(w){BC([bi(w.children,Lr)],[bi(this.props.children,Lr)])||this.displayDefaultTooltip()}},{key:"componentWillUnmount",value:function(){this.removeListener(),this.throttleTriggeredAfterMouseMove.cancel()}},{key:"getTooltipEventType",value:function(){var w=bi(this.props.children,Lr);if(w&&typeof w.props.shared=="boolean"){var T=w.props.shared?"axis":"item";return a.indexOf(T)>=0?T:s}return s}},{key:"getMouseInfo",value:function(w){if(!this.container)return null;var T=this.container,_=T.getBoundingClientRect(),k=dFe(_),S={chartX:Math.round(w.pageX-k.left),chartY:Math.round(w.pageY-k.top)},E=_.width/T.offsetWidth||1,P=this.inRange(S.chartX,S.chartY,E);if(!P)return null;var O=this.state,N=O.xAxisMap,R=O.yAxisMap,j=this.getTooltipEventType();if(j!=="axis"&&N&&R){var z=sl(N).scale,F=sl(R).scale,L=z&&z.invert?z.invert(S.chartX):null,B=F&&F.invert?F.invert(S.chartY):null;return Y(Y({},S),{},{xValue:L,yValue:B})}var $=pz(this.state,this.props.data,this.props.layout,P);return $?Y(Y({},S),$):null}},{key:"inRange",value:function(w,T){var _=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,k=this.props.layout,S=w/_,E=T/_;if(k==="horizontal"||k==="vertical"){var P=this.state.offset,O=S>=P.left&&S<=P.left+P.width&&E>=P.top&&E<=P.top+P.height;return O?{x:S,y:E}:null}var N=this.state,R=N.angleAxisMap,j=N.radiusAxisMap;if(R&&j){var z=sl(R);return VU({x:S,y:E},z)}return null}},{key:"parseEventsOfWrapper",value:function(){var w=this.props.children,T=this.getTooltipEventType(),_=bi(w,Lr),k={};_&&T==="axis"&&(_.props.trigger==="click"?k={onClick:this.handleClick}:k={onMouseEnter:this.handleMouseEnter,onMouseMove:this.handleMouseMove,onMouseLeave:this.handleMouseLeave,onTouchMove:this.handleTouchMove,onTouchStart:this.handleTouchStart,onTouchEnd:this.handleTouchEnd});var S=o1(this.props,this.handleOuterEvent);return Y(Y({},S),k)}},{key:"addListener",value:function(){UA.on(zA,this.handleReceiveSyncEvent)}},{key:"removeListener",value:function(){UA.removeListener(zA,this.handleReceiveSyncEvent)}},{key:"filterFormatItem",value:function(w,T,_){for(var k=this.state.formattedGraphicalItems,S=0,E=k.length;S<E;S++){var P=k[S];if(P.item===w||P.props.key===w.key||T===ea(P.item.type)&&_===P.childIndex)return P}return null}},{key:"renderClipPath",value:function(){var w=this.clipPathId,T=this.state.offset,_=T.left,k=T.top,S=T.height,E=T.width;return M.createElement("defs",null,M.createElement("clipPath",{id:w},M.createElement("rect",{x:_,y:k,height:S,width:E})))}},{key:"getXScales",value:function(){var w=this.state.xAxisMap;return w?Object.entries(w).reduce(function(T,_){var k=dz(_,2),S=k[0],E=k[1];return Y(Y({},T),{},De({},S,E.scale))},{}):null}},{key:"getYScales",value:function(){var w=this.state.yAxisMap;return w?Object.entries(w).reduce(function(T,_){var k=dz(_,2),S=k[0],E=k[1];return Y(Y({},T),{},De({},S,E.scale))},{}):null}},{key:"getXScaleByAxisId",value:function(w){var T;return(T=this.state.xAxisMap)===null||T===void 0||(T=T[w])===null||T===void 0?void 0:T.scale}},{key:"getYScaleByAxisId",value:function(w){var T;return(T=this.state.yAxisMap)===null||T===void 0||(T=T[w])===null||T===void 0?void 0:T.scale}},{key:"getItemByXY",value:function(w){var T=this.state,_=T.formattedGraphicalItems,k=T.activeItem;if(_&&_.length)for(var S=0,E=_.length;S<E;S++){var P=_[S],O=P.props,N=P.item,R=N.type.defaultProps!==void 0?Y(Y({},N.type.defaultProps),N.props):N.props,j=ea(N.type);if(j==="Bar"){var z=(O.data||[]).find(function($){return N9e(w,$)});if(z)return{graphicalItem:P,payload:z}}else if(j==="RadialBar"){var F=(O.data||[]).find(function($){return VU(w,$)});if(F)return{graphicalItem:P,payload:F}}else if(mE(P,k)||gE(P,k)||Qy(P,k)){var L=bqe({graphicalItem:P,activeTooltipItem:k,itemData:R.data}),B=R.activeIndex===void 0?L:R.activeIndex;return{graphicalItem:Y(Y({},P),{},{childIndex:B}),payload:Qy(P,k)?R.data[L]:P.props.data[L]}}}return null}},{key:"render",value:function(){var w=this;if(!C3(this))return null;var T=this.props,_=T.children,k=T.className,S=T.width,E=T.height,P=T.style,O=T.compact,N=T.title,R=T.desc,j=fz(T,M7e),z=Ie(j,!1);if(O)return M.createElement(K5,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},M.createElement(zC,pf({},z,{width:S,height:E,title:N,desc:R}),this.renderClipPath(),O3(_,this.renderMap)));if(this.props.accessibilityLayer){var F,L;z.tabIndex=(F=this.props.tabIndex)!==null&&F!==void 0?F:0,z.role=(L=this.props.role)!==null&&L!==void 0?L:"application",z.onKeyDown=function($){w.accessibilityManager.keyboardEvent($)},z.onFocus=function(){w.accessibilityManager.focus()}}var B=this.parseEventsOfWrapper();return M.createElement(K5,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},M.createElement("div",pf({className:He("recharts-wrapper",k),style:Y({position:"relative",cursor:"default",width:S,height:E},P)},B,{ref:function(U){w.container=U}}),M.createElement(zC,pf({},z,{width:S,height:E,title:N,desc:R,style:Z7e}),this.renderClipPath(),O3(_,this.renderMap)),this.renderLegend(),this.renderTooltip()))}}])}(C.Component);De(m,"displayName",n),De(m,"defaultProps",Y({layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:{top:5,right:5,bottom:5,left:5},reverseStackOrder:!1,syncMethod:"index"},d)),De(m,"getDerivedStateFromProps",function(v,x){var b=v.dataKey,w=v.data,T=v.children,_=v.width,k=v.height,S=v.layout,E=v.stackOffset,P=v.margin,O=x.dataStartIndex,N=x.dataEndIndex;if(x.updateId===void 0){var R=mz(v);return Y(Y(Y({},R),{},{updateId:0},p(Y(Y({props:v},R),{},{updateId:0}),x)),{},{prevDataKey:b,prevData:w,prevWidth:_,prevHeight:k,prevLayout:S,prevStackOffset:E,prevMargin:P,prevChildren:T})}if(b!==x.prevDataKey||w!==x.prevData||_!==x.prevWidth||k!==x.prevHeight||S!==x.prevLayout||E!==x.prevStackOffset||!Nf(P,x.prevMargin)){var j=mz(v),z={chartX:x.chartX,chartY:x.chartY,isTooltipActive:x.isTooltipActive},F=Y(Y({},pz(x,w,S)),{},{updateId:x.updateId+1}),L=Y(Y(Y({},j),z),F);return Y(Y(Y({},L),p(Y({props:v},L),x)),{},{prevDataKey:b,prevData:w,prevWidth:_,prevHeight:k,prevLayout:S,prevStackOffset:E,prevMargin:P,prevChildren:T})}if(!BC(T,x.prevChildren)){var B,$,U,W,Z=bi(T,Fh),Q=Z&&(B=($=Z.props)===null||$===void 0?void 0:$.startIndex)!==null&&B!==void 0?B:O,fe=Z&&(U=(W=Z.props)===null||W===void 0?void 0:W.endIndex)!==null&&U!==void 0?U:N,Le=Q!==O||fe!==N,Ye=!qe(w),rt=Ye&&!Le?x.updateId:x.updateId+1;return Y(Y({updateId:rt},p(Y(Y({props:v},x),{},{updateId:rt,dataStartIndex:Q,dataEndIndex:fe}),x)),{},{prevChildren:T,dataStartIndex:Q,dataEndIndex:fe})}return null}),De(m,"renderActiveDot",function(v,x,b){var w;return C.isValidElement(v)?w=C.cloneElement(v,x):Fe(v)?w=v(x):w=M.createElement(uE,x),M.createElement(ft,{className:"recharts-active-dot",key:b},w)});var g=C.forwardRef(function(x,b){return M.createElement(m,pf({},x,{ref:b}))});return g.displayName=m.displayName,g},FZ=qR({chartName:"LineChart",GraphicalChild:Zu,axisComponents:[{axisType:"xAxis",AxisComp:ya},{axisType:"yAxis",AxisComp:va}],formatAxisMap:iZ}),HR=qR({chartName:"BarChart",GraphicalChild:yo,defaultTooltipEventType:"axis",validateTooltipEventTypes:["axis","item"],axisComponents:[{axisType:"xAxis",AxisComp:ya},{axisType:"yAxis",AxisComp:va}],formatAxisMap:iZ}),cGe=qR({chartName:"PieChart",GraphicalChild:ka,validateTooltipEventTypes:["item"],defaultTooltipEventType:"item",legendContent:"children",axisComponents:[{axisType:"angleAxis",AxisComp:pE},{axisType:"radiusAxis",AxisComp:fE}],formatAxisMap:aze,defaultProps:{layout:"centric",startAngle:0,endAngle:360,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"}});function uGe({analytics:t}){var e;return h.jsxs("div",{className:"space-y-8",children:[h.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[h.jsx("div",{className:"bg-surface border border-surface-light rounded-lg p-4",children:h.jsxs("div",{className:"flex items-center justify-between",children:[h.jsxs("div",{children:[h.jsx("p",{className:"text-sm text-gray-400",children:"Total Students"}),h.jsx("p",{className:"text-2xl font-bold text-white",children:t.total_students})]}),h.jsx(Jt,{className:"h-8 w-8 text-primary"})]})}),h.jsx("div",{className:"bg-surface border border-surface-light rounded-lg p-4",children:h.jsxs("div",{className:"flex items-center justify-between",children:[h.jsxs("div",{children:[h.jsx("p",{className:"text-sm text-gray-400",children:"Completion Rate"}),h.jsxs("p",{className:"text-2xl font-bold text-white",children:[t.completion_rate,"%"]})]}),h.jsx(YW,{className:"h-8 w-8 text-green-500"})]})}),h.jsx("div",{className:"bg-surface border border-surface-light rounded-lg p-4",children:h.jsxs("div",{className:"flex items-center justify-between",children:[h.jsxs("div",{children:[h.jsx("p",{className:"text-sm text-gray-400",children:"Avg. Quiz Score"}),h.jsxs("p",{className:"text-2xl font-bold text-white",children:[t.avg_quiz_score,"%"]})]}),h.jsx(ls,{className:"h-8 w-8 text-yellow-500"})]})}),h.jsx("div",{className:"bg-surface border border-surface-light rounded-lg p-4",children:h.jsxs("div",{className:"flex items-center justify-between",children:[h.jsxs("div",{children:[h.jsx("p",{className:"text-sm text-gray-400",children:"Active Today"}),h.jsx("p",{className:"text-2xl font-bold text-white",children:((e=t.daily_activity[t.daily_activity.length-1])==null?void 0:e.active_students)||0})]}),h.jsx(fo,{className:"h-8 w-8 text-blue-500"})]})})]}),h.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[h.jsxs("div",{className:"bg-surface border border-surface-light rounded-lg p-6",children:[h.jsx("h3",{className:"text-lg font-medium text-white mb-4",children:"Daily Activity"}),h.jsx("div",{className:"h-64",children:h.jsx(Rf,{width:"100%",height:"100%",children:h.jsxs(FZ,{data:t.daily_activity,children:[h.jsx(Wh,{strokeDasharray:"3 3",stroke:"#374151"}),h.jsx(ya,{dataKey:"date",stroke:"#9CA3AF"}),h.jsx(va,{stroke:"#9CA3AF"}),h.jsx(Lr,{contentStyle:{backgroundColor:"#1F2937",border:"none",borderRadius:"0.375rem"}}),h.jsx(Zu,{type:"monotone",dataKey:"active_students",stroke:"#3B82F6",strokeWidth:2}),h.jsx(Zu,{type:"monotone",dataKey:"completed_lessons",stroke:"#10B981",strokeWidth:2})]})})})]}),h.jsxs("div",{className:"bg-surface border border-surface-light rounded-lg p-6",children:[h.jsx("h3",{className:"text-lg font-medium text-white mb-4",children:"Lesson Engagement"}),h.jsx("div",{className:"h-64",children:h.jsx(Rf,{width:"100%",height:"100%",children:h.jsxs(HR,{data:t.lesson_engagement,children:[h.jsx(Wh,{strokeDasharray:"3 3",stroke:"#374151"}),h.jsx(ya,{dataKey:"lesson_id",stroke:"#9CA3AF"}),h.jsx(va,{stroke:"#9CA3AF"}),h.jsx(Lr,{contentStyle:{backgroundColor:"#1F2937",border:"none",borderRadius:"0.375rem"}}),h.jsx(yo,{dataKey:"views",fill:"#3B82F6"})]})})})]})]})]})}function dGe(){var b;const{communityId:t,courseId:e}=nc();Os();const[n,r]=C.useState(null),[i,s]=C.useState(null),[o,a]=C.useState([]),[l,c]=C.useState(null),[u,d]=C.useState(!1),[f,p]=C.useState(!0),[m,g]=C.useState(null);C.useEffect(()=>{e&&ee.currentUser&&v()},[e,ee.currentUser]);async function v(){var w,T,_,k,S;if(e)try{p(!0),g(null);const E=await ci(ht(le,"courses",e));if(!E.exists())throw new Error("Course not found");const P={id:E.id,...E.data()};r(P),!i&&((_=(T=(w=P.modules)==null?void 0:w[0])==null?void 0:T.lessons)!=null&&_[0])&&s(P.modules[0].lessons[0].id);const O=wt(Ce(le,"discussions"),pt("course_id","==",e),mn("created_at","desc")),R=(await Ft(O)).docs.map(z=>({id:z.id,...z.data()}));a(R);const j=P.created_by===((k=ee.currentUser)==null?void 0:k.uid);if(d(j),!j&&ee.currentUser){const z=await ci(ht(le,"course_progress",`${e}_${(S=ee.currentUser)==null?void 0:S.uid}`));z.exists()&&c(z.data())}}catch(E){console.error("Error loading course:",E),g(E instanceof Error?E:new Error("Failed to load course")),te.error("Failed to load course")}finally{p(!1)}}const x=(b=n==null?void 0:n.modules)==null?void 0:b.flatMap(w=>w.lessons).find(w=>w.id===i);return f?h.jsxs(G.div,{initial:{opacity:0},animate:{opacity:1},className:"max-w-7xl mx-auto space-y-8",children:[h.jsx(Ci,{type:"banner"}),h.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[h.jsx("div",{className:"lg:col-span-2",children:h.jsx(Ci,{type:"card",count:2})}),h.jsx("div",{children:h.jsx(Ci,{type:"card"})})]})]}):m||!n?h.jsxs(G.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},className:"flex flex-col items-center justify-center min-h-[400px]",children:[h.jsx("p",{className:"text-red-500 mb-4",children:(m==null?void 0:m.message)||"Course not found"}),h.jsx("button",{onClick:()=>v(),className:"px-4 py-2 bg-primary text-white rounded-md hover:bg-primary/90",children:"Try Again"})]}):h.jsxs(G.div,{initial:{opacity:0},animate:{opacity:1},className:"max-w-7xl mx-auto space-y-8",children:[h.jsx(G.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},children:h.jsx(Fke,{course:n,isAdmin:u,onBannerChange:async w=>{try{await ui(ht(le,"courses",e),{banner_url:w,thumbnail_url:w,updated_at:lt()}),r(T=>T?{...T,banner_url:w,thumbnail_url:w}:null),te.success("Course banner updated")}catch(T){console.error("Error updating banner:",T),te.error("Failed to update banner")}}})}),u&&n.analytics&&h.jsx(G.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},children:h.jsx(uGe,{analytics:n.analytics})}),h.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[h.jsxs(G.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:.2},className:"lg:col-span-2 space-y-8",children:[h.jsx(or,{mode:"wait",children:x&&h.jsx(G.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},children:h.jsx(Wke,{lesson:x,isAdmin:u,onQuizComplete:async w=>{if(ee.currentUser)try{const T=ht(le,"course_progress",`${e}_${ee.currentUser.uid}`),_=await ci(T);if(_.exists()){const k=_.data();k.completed_lessons.includes(w.quiz_id)||(k.completed_lessons.push(w.quiz_id),await ui(T,k),c(k))}te.success("Quiz completed successfully!")}catch(T){console.error("Error saving quiz progress:",T),te.error("Failed to save quiz progress")}}})},x.id)}),h.jsx(G.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3},children:h.jsx(Kke,{discussions:o,onCreateDiscussion:async(w,T)=>{if(ee.currentUser)try{const _=await Pn(Ce(le,"discussions"),{title:w,content:T,course_id:e,user_id:ee.currentUser.uid,created_at:lt(),user:{id:ee.currentUser.uid,email:ee.currentUser.email,full_name:ee.currentUser.displayName||"Anonymous"}});return te.success("Discussion created successfully"),v(),_}catch(_){throw console.error("Error creating discussion:",_),te.error("Failed to create discussion"),_}}})})]}),h.jsx(G.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},transition:{delay:.4},className:"space-y-6",children:h.jsx(Bke,{course:n,progress:l,onLessonSelect:s,currentLessonId:i})})]})]})}function fGe(){const t=A_(),e=fN({queryKey:["courses"],queryFn:async()=>(await Ft(Ce(le,"courses"))).docs.map(s=>({id:s.id,...s.data()}))}),n=Ob({mutationFn:async i=>{if(!ee.currentUser)throw new Error("Must be logged in");return{id:(await Pn(Ce(le,"courses"),{...i,created_by:ee.currentUser.uid,created_at:lt(),status:"draft"})).id,...i}},onSuccess:()=>{t.invalidateQueries({queryKey:["courses"]}),te.success("Course created successfully")},onError:i=>{console.error("Error creating course:",i),te.error("Failed to create course")}}),r=Ob({mutationFn:async({id:i,data:s})=>{const o=ht(le,"courses",i);return await ui(o,{...s,updated_at:lt()}),{id:i,...s}},onSuccess:()=>{t.invalidateQueries({queryKey:["courses"]}),te.success("Course updated successfully")},onError:i=>{console.error("Error updating course:",i),te.error("Failed to update course")}});return{courses:e.data||[],isLoading:e.isLoading,error:e.error,createCourse:n.mutate,updateCourse:r.mutate}}function WR(t){const e=A_(),n=fN({queryKey:["products",t],queryFn:async()=>(await Ft(Ce(le,"products"))).docs.map(o=>({id:o.id,...o.data()})),enabled:!!t}),r=Ob({mutationFn:async s=>{if(!ee.currentUser)throw new Error("Must be logged in");return{id:(await Pn(Ce(le,"products"),{...s,creator_id:ee.currentUser.uid,created_at:lt(),status:"draft"})).id,...s}},onSuccess:()=>{e.invalidateQueries({queryKey:["products"]}),te.success("Product created successfully")},onError:s=>{console.error("Error creating product:",s),te.error("Failed to create product")}}),i=Ob({mutationFn:async({id:s,data:o})=>{const a=ht(le,"products",s);return await ui(a,{...o,updated_at:lt()}),{id:s,...o}},onSuccess:()=>{e.invalidateQueries({queryKey:["products"]}),te.success("Product updated successfully")},onError:s=>{console.error("Error updating product:",s),te.error("Failed to update product")}});return{products:n.data||[],isLoading:n.isLoading,error:n.error,createProduct:r.mutate,updateProduct:i.mutate}}function hGe({course:t}){var e,n,r,i;return h.jsx(G.div,{whileHover:{scale:1.01},whileTap:{scale:.99},transition:{duration:.2},children:h.jsxs(yt,{to:`/communities/${t.community_id}/courses/${t.id}`,className:"flex bg-surface border border-surface-light rounded-lg overflow-hidden hover:border-primary/50 transition-all duration-200",children:[h.jsxs("div",{className:"w-48 h-32 flex-shrink-0 relative overflow-hidden",children:[t.thumbnail_url?h.jsx(G.img,{src:t.thumbnail_url,alt:t.title,className:"w-full h-full object-cover",whileHover:{scale:1.1},transition:{duration:.3}}):h.jsx("div",{className:"w-full h-full bg-surface-light flex items-center justify-center",children:h.jsx(G.div,{whileHover:{rotate:15},transition:{duration:.2},className:"w-12 h-12 rounded-full bg-surface flex items-center justify-center",children:h.jsx(ls,{className:"h-6 w-6 text-gray-400"})})}),t.type==="course"&&h.jsx("div",{className:"absolute top-2 right-2 px-2 py-1 bg-primary/90 text-white text-xs font-medium rounded-full",children:"Course"})]}),h.jsxs("div",{className:"flex-1 p-4",children:[h.jsxs("div",{className:"flex items-center justify-between mb-2",children:[h.jsxs("div",{className:"flex items-center space-x-2",children:[t.category&&h.jsx("span",{className:"px-2 py-1 text-xs font-medium text-primary bg-primary/10 rounded-full",children:t.category}),t.level&&h.jsx("span",{className:"px-2 py-1 text-xs font-medium text-gray-400 bg-surface-light rounded-full",children:t.level})]}),t.price!==void 0&&h.jsx(G.span,{className:"text-sm font-medium text-white bg-surface-light px-3 py-1 rounded-full",whileHover:{scale:1.05},children:t.price===0?"Free":`$${t.price}`})]}),h.jsx("h3",{className:"text-white font-medium mb-1 line-clamp-1",children:t.title}),h.jsxs("div",{className:"flex items-center text-sm text-gray-400 mb-2",children:[h.jsxs("div",{className:"flex items-center",children:[h.jsx(Kl,{className:"h-4 w-4 mr-1"}),((e=t.instructor)==null?void 0:e.full_name)||"Unknown Instructor"]}),h.jsx("span",{className:"mx-2",children:""}),h.jsxs("div",{className:"flex items-center",children:[h.jsx(fo,{className:"h-4 w-4 mr-1"}),t.duration||0," mins"]})]}),h.jsxs("div",{className:"flex items-center justify-between",children:[h.jsxs("div",{className:"flex items-center",children:[h.jsx(bo,{className:"h-4 w-4 text-yellow-400 mr-1"}),h.jsx("span",{className:"text-sm font-medium text-white",children:((r=(n=t.metrics)==null?void 0:n.avg_course_rating)==null?void 0:r.toFixed(1))||"0.0"}),h.jsxs("span",{className:"mx-1 text-sm text-gray-400",children:["(",((i=t.metrics)==null?void 0:i.total_reviews)||0,")"]})]}),h.jsxs(G.div,{className:"flex items-center text-sm text-gray-400",whileHover:{scale:1.05},children:[h.jsx(Jt,{className:"h-4 w-4 mr-1"}),t.enrollment_count||0," students"]})]})]})]})})}function pGe(){var u;const{courses:t,isLoading:e}=fGe(),{products:n,isLoading:r}=WR((u=ee.currentUser)==null?void 0:u.uid),[i,s]=C.useState(""),[o,a]=C.useState("all"),l=[...t||[],...n||[]].filter(d=>{const f=d.title.toLowerCase().includes(i.toLowerCase())||d.description.toLowerCase().includes(i.toLowerCase()),p=o==="all"||d.type===o;return f&&p}),c=e||r;return h.jsxs(G.div,{initial:{opacity:0},animate:{opacity:1},className:"space-y-6",children:[h.jsxs("div",{className:"flex justify-between items-center",children:[h.jsxs(G.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},children:[h.jsx("h1",{className:"text-3xl font-bold text-white",children:"Courses"}),h.jsx("p",{className:"text-gray-400 mt-2",children:"Browse and manage your learning content"})]}),h.jsxs(G.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},className:"flex space-x-4",children:[h.jsxs(yt,{to:"/products/new",className:"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md text-white bg-primary hover:bg-primary/90 transition-all duration-200 hover:scale-105",children:[h.jsx(Ri,{className:"h-4 w-4 mr-1"}),"Create Product"]}),h.jsxs(yt,{to:"/communities/new/courses/new",className:"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md text-white bg-primary hover:bg-primary/90 transition-all duration-200 hover:scale-105",children:[h.jsx(Ri,{className:"h-4 w-4 mr-1"}),"Create Course"]})]})]}),h.jsxs(G.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"flex items-center space-x-4",children:[h.jsxs("div",{className:"flex-1 relative",children:[h.jsx("input",{type:"text",value:i,onChange:d=>s(d.target.value),placeholder:"Search courses...",className:"w-full pl-10 pr-4 py-2 bg-surface border border-surface-light rounded-lg text-white placeholder-gray-400 focus:ring-2 focus:ring-primary focus:border-primary transition-all duration-200"}),h.jsx(sS,{className:"absolute left-3 top-2.5 h-5 w-5 text-gray-400"})]}),h.jsxs("div",{className:"relative",children:[h.jsxs("select",{value:o,onChange:d=>a(d.target.value),className:"appearance-none pl-10 pr-8 py-2 bg-surface border border-surface-light rounded-lg text-white focus:ring-2 focus:ring-primary focus:border-primary transition-all duration-200",children:[h.jsx("option",{value:"all",children:"All Types"}),h.jsx("option",{value:"course",children:"Courses"}),h.jsx("option",{value:"coaching",children:"Coaching"})]}),h.jsx(E2,{className:"absolute left-3 top-2.5 h-5 w-5 text-gray-400"})]})]}),h.jsx(or,{mode:"wait",children:c?h.jsx(G.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"space-y-4",children:h.jsx(Ci,{count:5,type:"list"})},"loading"):h.jsxs(G.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"space-y-4",children:[l.map((d,f)=>h.jsx(G.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:f*.1},children:h.jsx(hGe,{course:d})},d.id)),l.length===0&&h.jsxs(G.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},className:"text-center py-12",children:[h.jsx(ls,{className:"h-16 w-16 text-gray-400 mx-auto mb-4"}),h.jsx("p",{className:"text-gray-400 text-lg",children:"No courses found matching your criteria"}),h.jsx(yt,{to:"/communities/new/courses/new",className:"inline-block mt-4 text-primary hover:text-primary/90 transition-colors",children:"Create your first course"})]})]},"content")})]})}function mGe(){var k,S,E,P,O,N,R,j,z;const{id:t}=nc(),[e,n]=C.useState(null),[r,i]=C.useState([]),[s,o]=C.useState([]),[a,l]=C.useState(!0),[c,u]=C.useState(null),[d,f]=C.useState(!1),[p,m]=C.useState(!1),[g,v]=C.useState({full_name:"",bio:"",website:"",social_links:{twitter:"",linkedin:"",github:""}}),x=((k=ee.currentUser)==null?void 0:k.uid)===t;C.useEffect(()=>{t&&b()},[t]);async function b(){try{l(!0),u(null);const F=await ci(ht(le,"users",t));if(!F.exists())throw new Error("Creator not found");const L={id:F.id,...F.data()};n(L),v({full_name:L.full_name,bio:L.bio||"",website:L.website||"",social_links:L.social_links||{}}),await Promise.all([w(L.id),T(L.id)])}catch(F){console.error("Error loading creator data:",F),u(F),Et(F,"Failed to load creator profile")}finally{l(!1)}}async function w(F){try{const L=wt(Ce(le,"courses"),pt("created_by","==",F),mn("created_at","desc")),$=(await Ft(L)).docs.map(U=>({id:U.id,...U.data()}));i($)}catch(L){Et(L,"Failed to load courses")}}async function T(F){try{const L=wt(Ce(le,"communities"),pt("created_by","==",F),mn("created_at","desc")),$=(await Ft(L)).docs.map(U=>({id:U.id,...U.data()}));o($)}catch(L){Et(L,"Failed to load communities")}}async function _(){if(!(!ee.currentUser||!e))try{await ui(ht(le,"users",e.id),{...g,updated_at:lt()}),n(F=>F?{...F,...g}:null),m(!1),te.success("Profile updated successfully")}catch(F){Et(F,"Failed to update profile")}}return a?h.jsxs(G.div,{initial:{opacity:0},animate:{opacity:1},className:"space-y-8",children:[h.jsx(Ci,{type:"banner"}),h.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:h.jsx(Ci,{type:"card",count:3})})]}):c||!e?h.jsxs(G.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},className:"flex flex-col items-center justify-center min-h-[400px]",children:[h.jsx(Cv,{className:"h-12 w-12 text-red-500 mb-4"}),h.jsx("p",{className:"text-gray-400 mb-4",children:(c==null?void 0:c.message)||"Creator not found"}),h.jsx(yt,{to:"/",className:"px-4 py-2 bg-primary text-white rounded-md hover:bg-primary/90",children:"Return Home"})]}):h.jsxs(G.div,{initial:{opacity:0},animate:{opacity:1},className:"space-y-8",children:[h.jsxs(G.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-surface border border-surface-light rounded-lg overflow-hidden",children:[h.jsxs("div",{className:"relative",children:[h.jsx(Rv,{currentBannerUrl:e.banner_url,onBannerChange:async F=>{if(ee.currentUser)try{await ui(ht(le,"users",e.id),{banner_url:F,updated_at:lt()}),n(L=>L?{...L,banner_url:F}:null),te.success("Banner updated")}catch(L){Et(L,"Failed to update banner")}},height:"h-64"}),h.jsx("div",{className:"absolute -bottom-16 left-6",children:h.jsx(iG,{currentAvatarUrl:e.avatar_url,onAvatarChange:async F=>{if(ee.currentUser)try{await ui(ht(le,"users",e.id),{avatar_url:F,updated_at:lt()}),n(L=>L?{...L,avatar_url:F}:null),te.success("Profile photo updated")}catch(L){Et(L,"Failed to update profile photo")}},size:"lg"})})]}),h.jsxs("div",{className:"px-6 pt-20 pb-6",children:[h.jsxs("div",{className:"flex justify-between items-start",children:[h.jsx("div",{className:"flex-1",children:p?h.jsxs("div",{className:"space-y-4",children:[h.jsx("input",{type:"text",value:g.full_name,onChange:F=>v({...g,full_name:F.target.value}),className:"w-full px-3 py-2 bg-surface-light border border-surface-light rounded-md text-white focus:outline-none focus:ring-primary focus:border-primary",placeholder:"Full Name"}),h.jsx("textarea",{value:g.bio,onChange:F=>v({...g,bio:F.target.value}),className:"w-full px-3 py-2 bg-surface-light border border-surface-light rounded-md text-white focus:outline-none focus:ring-primary focus:border-primary",placeholder:"Bio",rows:3}),h.jsxs("div",{className:"space-y-2",children:[h.jsxs("div",{className:"flex items-center space-x-2",children:[h.jsx(VP,{className:"h-5 w-5 text-gray-400"}),h.jsx("input",{type:"url",value:g.website,onChange:F=>v({...g,website:F.target.value}),className:"flex-1 px-3 py-2 bg-surface-light border border-surface-light rounded-md text-white focus:outline-none focus:ring-primary focus:border-primary",placeholder:"Website URL"})]}),h.jsxs("div",{className:"flex items-center space-x-2",children:[h.jsx(c4,{className:"h-5 w-5 text-gray-400"}),h.jsx("input",{type:"url",value:g.social_links.twitter,onChange:F=>v({...g,social_links:{...g.social_links,twitter:F.target.value}}),className:"flex-1 px-3 py-2 bg-surface-light border border-surface-light rounded-md text-white focus:outline-none focus:ring-primary focus:border-primary",placeholder:"Twitter URL"})]}),h.jsxs("div",{className:"flex items-center space-x-2",children:[h.jsx(a4,{className:"h-5 w-5 text-gray-400"}),h.jsx("input",{type:"url",value:g.social_links.linkedin,onChange:F=>v({...g,social_links:{...g.social_links,linkedin:F.target.value}}),className:"flex-1 px-3 py-2 bg-surface-light border border-surface-light rounded-md text-white focus:outline-none focus:ring-primary focus:border-primary",placeholder:"LinkedIn URL"})]}),h.jsxs("div",{className:"flex items-center space-x-2",children:[h.jsx(s4,{className:"h-5 w-5 text-gray-400"}),h.jsx("input",{type:"url",value:g.social_links.github,onChange:F=>v({...g,social_links:{...g.social_links,github:F.target.value}}),className:"flex-1 px-3 py-2 bg-surface-light border border-surface-light rounded-md text-white focus:outline-none focus:ring-primary focus:border-primary",placeholder:"GitHub URL"})]})]}),h.jsxs("div",{className:"flex justify-end space-x-3",children:[h.jsx("button",{onClick:()=>m(!1),className:"px-4 py-2 text-sm text-gray-400 hover:text-white",children:h.jsx(mh,{className:"h-4 w-4"})}),h.jsxs("button",{onClick:_,className:"inline-flex items-center px-4 py-2 bg-primary text-white rounded-md hover:bg-primary/90",children:[h.jsx(eK,{className:"h-4 w-4 mr-2"}),"Save Changes"]})]})]}):h.jsxs(h.Fragment,{children:[h.jsx("h1",{className:"text-3xl font-bold text-white",children:e.full_name}),e.bio&&h.jsx("p",{className:"mt-2 text-gray-300",children:e.bio}),h.jsxs("div",{className:"mt-4 flex items-center space-x-4",children:[e.website&&h.jsx("a",{href:e.website,target:"_blank",rel:"noopener noreferrer",className:"text-gray-400 hover:text-white",children:h.jsx(VP,{className:"h-5 w-5"})}),((S=e.social_links)==null?void 0:S.twitter)&&h.jsx("a",{href:e.social_links.twitter,target:"_blank",rel:"noopener noreferrer",className:"text-gray-400 hover:text-white",children:h.jsx(c4,{className:"h-5 w-5"})}),((E=e.social_links)==null?void 0:E.linkedin)&&h.jsx("a",{href:e.social_links.linkedin,target:"_blank",rel:"noopener noreferrer",className:"text-gray-400 hover:text-white",children:h.jsx(a4,{className:"h-5 w-5"})}),((P=e.social_links)==null?void 0:P.github)&&h.jsx("a",{href:e.social_links.github,target:"_blank",rel:"noopener noreferrer",className:"text-gray-400 hover:text-white",children:h.jsx(s4,{className:"h-5 w-5"})})]})]})}),h.jsx("div",{className:"flex items-center space-x-4",children:x?h.jsxs(h.Fragment,{children:[h.jsxs("button",{onClick:()=>f(!0),className:"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md text-white bg-primary hover:bg-primary/90 transition-all duration-200",children:[h.jsx(BP,{className:"h-4 w-4 mr-2"}),"Invite Collaborator"]}),!p&&h.jsxs("button",{onClick:()=>m(!0),className:"inline-flex items-center px-4 py-2 border border-surface-light text-sm font-medium rounded-md text-white hover:bg-surface-light transition-all duration-200",children:[h.jsx(iS,{className:"h-4 w-4 mr-2"}),"Edit Profile"]})]}):h.jsxs(yt,{to:`/creators/${e.id}/storefront`,className:"inline-flex items-center px-4 py-2 bg-primary text-white rounded-md hover:bg-primary/90 transition-all duration-200",children:[h.jsx(Npe,{className:"h-4 w-4 mr-2"}),"View Storefront"]})})]}),h.jsxs("div",{className:"mt-6 grid grid-cols-1 md:grid-cols-4 gap-4",children:[h.jsxs(G.div,{whileHover:{scale:1.02},className:"bg-surface-light rounded-lg p-4",children:[h.jsx("p",{className:"text-sm text-gray-400",children:"Total Students"}),h.jsx("p",{className:"text-2xl font-bold text-white",children:((N=(O=e.metrics)==null?void 0:O.total_students)==null?void 0:N.toLocaleString())||0})]}),h.jsxs(G.div,{whileHover:{scale:1.02},className:"bg-surface-light rounded-lg p-4",children:[h.jsx("p",{className:"text-sm text-gray-400",children:"Courses"}),h.jsx("p",{className:"text-2xl font-bold text-white",children:((R=e.metrics)==null?void 0:R.total_courses)||0})]}),h.jsxs(G.div,{whileHover:{scale:1.02},className:"bg-surface-light rounded-lg p-4",children:[h.jsx("p",{className:"text-sm text-gray-400",children:"Communities"}),h.jsx("p",{className:"text-2xl font-bold text-white",children:s.length})]}),h.jsxs(G.div,{whileHover:{scale:1.02},className:"bg-surface-light rounded-lg p-4",children:[h.jsx("p",{className:"text-sm text-gray-400",children:"Average Rating"}),h.jsx("p",{className:"text-2xl font-bold text-white",children:((z=(j=e.metrics)==null?void 0:j.avg_course_rating)==null?void 0:z.toFixed(1))||"0.0"})]})]})]})]}),h.jsx(G.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},className:"bg-surface border border-surface-light rounded-lg p-6",children:h.jsx(oG,{userId:t})}),s.length>0&&h.jsxs(G.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},className:"space-y-6",children:[h.jsx("h2",{className:"text-2xl font-bold text-white",children:"Communities"}),h.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:s.map((F,L)=>h.jsx(G.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:L*.1},children:h.jsx(aG,{community:F})},F.id))})]}),r.length>0&&h.jsxs(G.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3},className:"space-y-6",children:[h.jsx("h2",{className:"text-2xl font-bold text-white",children:"Courses"}),h.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:r.map((F,L)=>h.jsx(G.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:L*.1},children:h.jsx(lj,{course:F})},F.id))})]}),d&&h.jsx(tY,{type:"creator",targetId:t,onClose:()=>f(!1)})]})}function BZ({product:t,showActions:e=!0}){return h.jsx("div",{className:"bg-surface border border-surface-light rounded-lg overflow-hidden hover:border-primary/50 transition-colors",children:h.jsxs("div",{className:"p-6",children:[h.jsxs("div",{className:"flex items-center justify-between mb-4",children:[h.jsxs("div",{className:"flex items-center space-x-2",children:[h.jsx(ZW,{className:"h-5 w-5 text-primary"}),h.jsx("span",{className:"px-2 py-1 text-xs font-medium text-primary bg-primary/10 rounded-full",children:t.type})]}),h.jsxs("div",{className:"text-lg font-bold text-white",children:["$",t.price]})]}),h.jsx("h3",{className:"text-xl font-semibold text-white mb-2",children:t.title}),h.jsx("p",{className:"text-gray-400 mb-4 line-clamp-2",children:t.description}),h.jsxs("div",{className:"flex items-center justify-between text-sm text-gray-400",children:[h.jsxs("div",{className:"flex items-center",children:[h.jsx(fo,{className:"h-4 w-4 mr-1"}),t.delivery_method==="live"?"Live Session":"On Demand"]}),h.jsxs("div",{className:"flex items-center",children:[h.jsx(Jt,{className:"h-4 w-4 mr-1"}),t.enrolled_count||0," enrolled"]})]}),e&&h.jsxs("div",{className:"mt-6 flex space-x-3",children:[h.jsx(yt,{to:`/products/${t.id}`,className:"flex-1 inline-flex justify-center items-center px-4 py-2 border border-surface-light text-sm font-medium rounded-md text-white hover:bg-surface-light",children:"Learn More"}),h.jsxs("button",{onClick:()=>{},className:"flex-1 inline-flex justify-center items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md text-white bg-primary hover:bg-primary/90",children:[h.jsx(nS,{className:"h-4 w-4 mr-1"}),"Purchase"]})]})]})})}function gGe({creator:t}){var n,r,i,s,o,a;const e=[{month:"Jan",students:120,revenue:2400},{month:"Feb",students:150,revenue:3e3},{month:"Mar",students:180,revenue:3600},{month:"Apr",students:220,revenue:4400},{month:"May",students:280,revenue:5600},{month:"Jun",students:350,revenue:7e3}];return h.jsxs("div",{className:"space-y-8",children:[h.jsx("h2",{className:"text-2xl font-bold text-white",children:"Analytics"}),h.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[h.jsx("div",{className:"bg-surface border border-surface-light rounded-lg p-6",children:h.jsxs("div",{className:"flex items-center justify-between",children:[h.jsxs("div",{children:[h.jsx("p",{className:"text-sm text-gray-400",children:"Monthly Revenue"}),h.jsxs("p",{className:"text-2xl font-bold text-white",children:["$",((r=(n=t.metrics)==null?void 0:n.monthly_revenue)==null?void 0:r.toLocaleString())||0]})]}),h.jsx(fp,{className:"h-8 w-8 text-green-500"})]})}),h.jsx("div",{className:"bg-surface border border-surface-light rounded-lg p-6",children:h.jsxs("div",{className:"flex items-center justify-between",children:[h.jsxs("div",{children:[h.jsx("p",{className:"text-sm text-gray-400",children:"Active Students"}),h.jsx("p",{className:"text-2xl font-bold text-white",children:((s=(i=t.metrics)==null?void 0:i.active_students)==null?void 0:s.toLocaleString())||0})]}),h.jsx(Jt,{className:"h-8 w-8 text-blue-500"})]})}),h.jsx("div",{className:"bg-surface border border-surface-light rounded-lg p-6",children:h.jsxs("div",{className:"flex items-center justify-between",children:[h.jsxs("div",{children:[h.jsx("p",{className:"text-sm text-gray-400",children:"Average Rating"}),h.jsx("p",{className:"text-2xl font-bold text-white",children:((a=(o=t.metrics)==null?void 0:o.avg_course_rating)==null?void 0:a.toFixed(1))||"0.0"})]}),h.jsx(bo,{className:"h-8 w-8 text-yellow-500"})]})})]}),h.jsxs("div",{className:"bg-surface border border-surface-light rounded-lg p-6",children:[h.jsx("h3",{className:"text-lg font-semibold text-white mb-6",children:"Growth Trends"}),h.jsx("div",{className:"h-80",children:h.jsx(Rf,{width:"100%",height:"100%",children:h.jsxs(HR,{data:e,children:[h.jsx(Wh,{strokeDasharray:"3 3",stroke:"#374151"}),h.jsx(ya,{dataKey:"month",stroke:"#9CA3AF"}),h.jsx(va,{stroke:"#9CA3AF"}),h.jsx(Lr,{contentStyle:{backgroundColor:"#1F2937",border:"none",borderRadius:"0.375rem"}}),h.jsx(yo,{dataKey:"students",name:"Students",fill:"#3B82F6"}),h.jsx(yo,{dataKey:"revenue",name:"Revenue",fill:"#10B981"})]})})})]})]})}function yGe(){var l,c,u,d,f;const{id:t}=nc(),[e,n]=M.useState(null),{products:r,isLoading:i}=WR(t),[s,o]=M.useState(!0);M.useEffect(()=>{a()},[t]);const a=async()=>{if(t)try{const p=ht(le,"users",t),m=await ci(p);m.exists()?n({id:m.id,...m.data()}):te.error("Creator not found")}catch(p){console.error("Error loading creator:",p),te.error("Failed to load creator profile")}finally{o(!1)}};return s||i?h.jsxs("div",{className:"animate-pulse space-y-8",children:[h.jsx("div",{className:"h-48 bg-surface-light rounded-lg"}),h.jsx("div",{className:"h-8 bg-surface-light rounded w-1/4"}),h.jsx("div",{className:"grid grid-cols-3 gap-6",children:[...Array(3)].map((p,m)=>h.jsx("div",{className:"h-32 bg-surface-light rounded-lg"},m))})]}):e?h.jsxs("div",{className:"space-y-8",children:[h.jsxs("div",{className:"bg-surface border border-surface-light rounded-lg overflow-hidden",children:[h.jsx("div",{className:"h-48 gradient-banner"}),h.jsx("div",{className:"px-6 py-5",children:h.jsxs("div",{className:"flex flex-col md:flex-row md:items-start md:space-x-6",children:[h.jsx("div",{className:"-mt-20 mb-6 md:mb-0",children:e.avatar_url?h.jsx("img",{src:e.avatar_url,alt:e.full_name,className:"h-32 w-32 rounded-full border-4 border-surface bg-surface object-cover"}):h.jsx("div",{className:"h-32 w-32 rounded-full border-4 border-surface bg-surface flex items-center justify-center",children:h.jsx(Kl,{className:"h-12 w-12 text-primary"})})}),h.jsxs("div",{className:"flex-1",children:[h.jsxs("div",{className:"flex items-start justify-between",children:[h.jsxs("div",{children:[h.jsx("h1",{className:"text-3xl font-bold text-white",children:e.full_name}),e.bio&&h.jsx("p",{className:"mt-2 text-gray-300",children:e.bio})]}),((l=e.metrics)==null?void 0:l.avg_course_rating)&&h.jsxs("div",{className:"flex items-center space-x-1 px-3 py-1 bg-primary/10 rounded-full",children:[h.jsx(bo,{className:"h-4 w-4 text-primary"}),h.jsxs("span",{className:"text-primary font-medium",children:[e.metrics.avg_course_rating.toFixed(1)," Rating"]})]})]}),h.jsxs("div",{className:"mt-6 grid grid-cols-1 md:grid-cols-3 gap-4",children:[h.jsxs("div",{className:"bg-surface-light rounded-lg p-4",children:[h.jsx("p",{className:"text-sm text-gray-400",children:"Total Students"}),h.jsx("p",{className:"text-2xl font-bold text-white",children:((u=(c=e.metrics)==null?void 0:c.total_students)==null?void 0:u.toLocaleString())||0})]}),h.jsxs("div",{className:"bg-surface-light rounded-lg p-4",children:[h.jsx("p",{className:"text-sm text-gray-400",children:"Courses"}),h.jsx("p",{className:"text-2xl font-bold text-white",children:((d=e.metrics)==null?void 0:d.total_courses)||0})]}),h.jsxs("div",{className:"bg-surface-light rounded-lg p-4",children:[h.jsx("p",{className:"text-sm text-gray-400",children:"Completion Rate"}),h.jsxs("p",{className:"text-2xl font-bold text-white",children:[((f=e.metrics)==null?void 0:f.completion_rate)||0,"%"]})]})]})]})]})})]}),h.jsxs("div",{className:"space-y-6",children:[h.jsx("h2",{className:"text-2xl font-bold text-white",children:"Products"}),h.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[r.map(p=>h.jsx(BZ,{product:p},p.id)),r.length===0&&h.jsx("div",{className:"col-span-full text-center py-12 text-gray-400",children:"No products available yet"})]})]}),h.jsx(gGe,{creator:e})]}):h.jsx("div",{className:"text-center py-12 text-gray-400",children:"Creator not found"})}function vGe(){var a;const{products:t,isLoading:e}=WR((a=ee.currentUser)==null?void 0:a.uid),[n,r]=M.useState(""),[i,s]=M.useState("all"),o=t.filter(l=>{const c=l.title.toLowerCase().includes(n.toLowerCase())||l.description.toLowerCase().includes(n.toLowerCase()),u=i==="all"||l.type===i;return c&&u});return h.jsxs("div",{className:"space-y-6",children:[h.jsxs("div",{className:"flex justify-between items-center",children:[h.jsx("h1",{className:"text-3xl font-bold text-white",children:"Products"}),h.jsxs(yt,{to:"/products/new",className:"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md text-white bg-primary hover:bg-primary/90",children:[h.jsx(Ri,{className:"h-4 w-4 mr-1"}),"Create Product"]})]}),h.jsxs("div",{className:"flex items-center space-x-4",children:[h.jsxs("div",{className:"flex-1 relative",children:[h.jsx("input",{type:"text",value:n,onChange:l=>r(l.target.value),placeholder:"Search products...",className:"w-full pl-10 pr-4 py-2 bg-surface border border-surface-light rounded-lg text-white placeholder-gray-400 focus:ring-2 focus:ring-primary focus:border-primary"}),h.jsx(sS,{className:"absolute left-3 top-2.5 h-5 w-5 text-gray-400"})]}),h.jsxs("div",{className:"relative",children:[h.jsxs("select",{value:i,onChange:l=>s(l.target.value),className:"appearance-none pl-10 pr-8 py-2 bg-surface border border-surface-light rounded-lg text-white focus:ring-2 focus:ring-primary focus:border-primary",children:[h.jsx("option",{value:"all",children:"All Types"}),h.jsx("option",{value:"course",children:"Courses"}),h.jsx("option",{value:"coaching",children:"Coaching"})]}),h.jsx(E2,{className:"absolute left-3 top-2.5 h-5 w-5 text-gray-400"})]})]}),e?h.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[...Array(6)].map((l,c)=>h.jsxs("div",{className:"animate-pulse bg-surface border border-surface-light rounded-lg p-6",children:[h.jsx("div",{className:"h-4 bg-surface-light rounded w-1/4 mb-4"}),h.jsx("div",{className:"h-6 bg-surface-light rounded w-3/4 mb-2"}),h.jsx("div",{className:"h-4 bg-surface-light rounded w-full mb-4"}),h.jsx("div",{className:"h-10 bg-surface-light rounded"})]},c))}):h.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[o.map(l=>h.jsx(BZ,{product:l},l.id)),o.length===0&&h.jsx("div",{className:"col-span-full text-center py-12 text-gray-400",children:"No products found matching your criteria"})]})]})}var UZ="https://js.stripe.com/v3",xGe=/^https:\/\/js\.stripe\.com\/v3\/?(\?.*)?$/,yz="loadStripe.setLoadParameters was called but an existing Stripe.js script already exists in the document; existing script parameters will be used",bGe=function(){for(var e=document.querySelectorAll('script[src^="'.concat(UZ,'"]')),n=0;n<e.length;n++){var r=e[n];if(xGe.test(r.src))return r}return null},vz=function(e){var n="",r=document.createElement("script");r.src="".concat(UZ).concat(n);var i=document.head||document.body;if(!i)throw new Error("Expected document.body not to be null. Stripe.js requires a <body> element.");return i.appendChild(r),r},wGe=function(e,n){!e||!e._registerWrapper||e._registerWrapper({name:"stripe-js",version:"2.4.0",startTime:n})},vm=null,gx=null,yx=null,_Ge=function(e){return function(){e(new Error("Failed to load Stripe.js"))}},SGe=function(e,n){return function(){window.Stripe?e(window.Stripe):n(new Error("Stripe.js not available"))}},EGe=function(e){return vm!==null?vm:(vm=new Promise(function(n,r){if(typeof window>"u"||typeof document>"u"){n(null);return}if(window.Stripe&&e&&console.warn(yz),window.Stripe){n(window.Stripe);return}try{var i=bGe();if(i&&e)console.warn(yz);else if(!i)i=vz(e);else if(i&&yx!==null&&gx!==null){var s;i.removeEventListener("load",yx),i.removeEventListener("error",gx),(s=i.parentNode)===null||s===void 0||s.removeChild(i),i=vz(e)}yx=SGe(n,r),gx=_Ge(r),i.addEventListener("load",yx),i.addEventListener("error",gx)}catch(o){r(o);return}}),vm.catch(function(n){return vm=null,Promise.reject(n)}))},TGe=function(e,n,r){if(e===null)return null;var i=e.apply(void 0,n);return wGe(i,r),i},xm,zZ=!1,qZ=function(){return xm||(xm=EGe(null).catch(function(e){return xm=null,Promise.reject(e)}),xm)};Promise.resolve().then(function(){return qZ()}).catch(function(t){zZ||console.warn(t)});var AGe=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];zZ=!0;var i=Date.now();return qZ().then(function(s){return TGe(s,n,i)})};const kGe=AGe("pk_test_51QKxgoAGjsptZ7IfyE0DT73w4Je7PTTVeyIHGHuUQZrm5cdydRZ8Hu6PbAzNjCVGTOD5LEnrjlglCq2xVMbugRSj002e5nsGwk");async function PGe(t,e){if(!ee.currentUser){te.error("Please sign in to make a purchase");return}try{const n=await Pn(Ce(le,"stripe_checkout_sessions"),{price:e,product_id:t,user_id:ee.currentUser.uid,success_url:`${window.location.origin}/products/${t}?success=true`,cancel_url:`${window.location.origin}/products/${t}?canceled=true`,created_at:lt()}),r=await ci(n),{sessionId:i}=r.data(),s=await kGe;if(!s)throw new Error("Stripe failed to load");const{error:o}=await s.redirectToCheckout({sessionId:i});if(o)throw o}catch(n){console.error("Error creating checkout session:",n),te.error("Failed to process payment")}}function CGe(){var l;const{id:t}=nc(),e=Os(),[n,r]=M.useState(null),[i,s]=M.useState(!0);M.useEffect(()=>{o()},[t]);const o=async()=>{if(t)try{const c=ht(le,"products",t),u=await ci(c);u.exists()?r({id:u.id,...u.data()}):(te.error("Product not found"),e("/products"))}catch(c){console.error("Error loading product:",c),te.error("Failed to load product")}finally{s(!1)}},a=async()=>{if(n)try{await PGe(n.id,n.stripe_price_id)}catch(c){console.error("Error initiating purchase:",c),te.error("Failed to initiate purchase")}};return i?h.jsxs("div",{className:"animate-pulse space-y-8",children:[h.jsx("div",{className:"h-8 bg-surface-light rounded w-1/4"}),h.jsx("div",{className:"h-64 bg-surface-light rounded"}),h.jsx("div",{className:"h-4 bg-surface-light rounded w-3/4"}),h.jsx("div",{className:"h-4 bg-surface-light rounded w-1/2"})]}):n?h.jsx("div",{className:"max-w-4xl mx-auto space-y-8",children:h.jsxs("div",{className:"bg-surface border border-surface-light rounded-lg overflow-hidden",children:[n.thumbnail_url?h.jsx("img",{src:n.thumbnail_url,alt:n.title,className:"w-full h-64 object-cover"}):h.jsx("div",{className:"w-full h-64 bg-gradient-to-r from-primary/20 to-primary/10 flex items-center justify-center",children:h.jsx(ZW,{className:"h-16 w-16 text-primary"})}),h.jsxs("div",{className:"p-6",children:[h.jsxs("div",{className:"flex items-center space-x-2 mb-4",children:[h.jsx("span",{className:"px-2 py-1 text-xs font-medium text-primary bg-primary/10 rounded-full",children:n.type}),h.jsx("span",{className:"px-2 py-1 text-xs font-medium text-gray-400 bg-surface-light rounded-full",children:n.category})]}),h.jsx("h1",{className:"text-3xl font-bold text-white mb-4",children:n.title}),h.jsx("p",{className:"text-gray-300 mb-6",children:n.description}),h.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 mb-6",children:[h.jsxs("div",{className:"bg-surface-light rounded-lg p-4",children:[h.jsx(nS,{className:"h-5 w-5 text-primary mb-2"}),h.jsx("p",{className:"text-sm text-gray-400",children:"Price"}),h.jsxs("p",{className:"text-xl font-bold text-white",children:["$",n.price]})]}),h.jsxs("div",{className:"bg-surface-light rounded-lg p-4",children:[h.jsx(fo,{className:"h-5 w-5 text-green-500 mb-2"}),h.jsx("p",{className:"text-sm text-gray-400",children:"Delivery"}),h.jsx("p",{className:"text-xl font-bold text-white",children:n.delivery_method==="live"?"Live Session":"On Demand"})]}),h.jsxs("div",{className:"bg-surface-light rounded-lg p-4",children:[h.jsx(Jt,{className:"h-5 w-5 text-blue-500 mb-2"}),h.jsx("p",{className:"text-sm text-gray-400",children:"Enrolled"}),h.jsx("p",{className:"text-xl font-bold text-white",children:n.enrolled_count||0})]}),h.jsxs("div",{className:"bg-surface-light rounded-lg p-4",children:[h.jsx(Gx,{className:"h-5 w-5 text-purple-500 mb-2"}),h.jsx("p",{className:"text-sm text-gray-400",children:"Duration"}),h.jsxs("p",{className:"text-xl font-bold text-white",children:[n.duration||"--"," mins"]})]})]}),n.type==="course"&&h.jsxs("div",{className:"border-t border-surface-light pt-6 mb-6",children:[h.jsx("h2",{className:"text-xl font-semibold text-white mb-4",children:"What You'll Learn"}),h.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:(l=n.learning_objectives)==null?void 0:l.map((c,u)=>h.jsxs("div",{className:"flex items-start space-x-2",children:[h.jsx(ls,{className:"h-5 w-5 text-primary flex-shrink-0 mt-0.5"}),h.jsx("span",{className:"text-gray-300",children:c})]},u))})]}),n.type==="coaching"&&h.jsxs("div",{className:"border-t border-surface-light pt-6 mb-6",children:[h.jsx("h2",{className:"text-xl font-semibold text-white mb-4",children:"Session Details"}),h.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[h.jsxs("div",{className:"flex items-center space-x-2",children:[h.jsx(tK,{className:"h-5 w-5 text-primary"}),h.jsx("span",{className:"text-gray-300",children:"1-on-1 Video Call"})]}),h.jsxs("div",{className:"flex items-center space-x-2",children:[h.jsx(fo,{className:"h-5 w-5 text-primary"}),h.jsxs("span",{className:"text-gray-300",children:[n.duration," Minutes"]})]})]})]}),h.jsx("button",{onClick:a,className:"w-full py-3 bg-primary text-white rounded-lg hover:bg-primary/90 transition-colors",children:"Purchase Now"})]})]})}):h.jsx("div",{className:"text-center py-12 text-gray-400",children:"Product not found"})}const IGe={BASE_URL:"/",DEV:!1,MODE:"production",PROD:!0,SSR:!1,VITE_STRIPE_PUBLIC_KEY:"pk_test_51QKxgoAGjsptZ7IfyE0DT73w4Je7PTTVeyIHGHuUQZrm5cdydRZ8Hu6PbAzNjCVGTOD5LEnrjlglCq2xVMbugRSj002e5nsGwk",VITE_STRIPE_SECRET_KEY:"sk_test_51QKxgoAGjsptZ7IfcnDlFdoyKcEqwBTKWOcqyT0u4kFOtnfZpPu9GXhrH7ScsjQddSbwr2jybQXDVoeGamhJs0di00fWSVrGc8"},xz=t=>{let e;const n=new Set,r=(u,d)=>{const f=typeof u=="function"?u(e):u;if(!Object.is(f,e)){const p=e;e=d??(typeof f!="object"||f===null)?f:Object.assign({},e,f),n.forEach(m=>m(e,p))}},i=()=>e,l={setState:r,getState:i,getInitialState:()=>c,subscribe:u=>(n.add(u),()=>n.delete(u)),destroy:()=>{(IGe?"production":void 0)!=="production"&&console.warn("[DEPRECATED] The `destroy` method will be unsupported in a future version. Instead use unsubscribe function returned by subscribe. Everything will be garbage-collected if store is garbage-collected."),n.clear()}},c=e=t(r,i,l);return l},OGe=t=>t?xz(t):xz;var HZ={exports:{}},WZ={},KZ={exports:{}},GZ={};/**
 * @license React
 * use-sync-external-store-shim.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Jh=C;function NGe(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var jGe=typeof Object.is=="function"?Object.is:NGe,RGe=Jh.useState,DGe=Jh.useEffect,MGe=Jh.useLayoutEffect,LGe=Jh.useDebugValue;function $Ge(t,e){var n=e(),r=RGe({inst:{value:n,getSnapshot:e}}),i=r[0].inst,s=r[1];return MGe(function(){i.value=n,i.getSnapshot=e,HA(i)&&s({inst:i})},[t,n,e]),DGe(function(){return HA(i)&&s({inst:i}),t(function(){HA(i)&&s({inst:i})})},[t]),LGe(n),n}function HA(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!jGe(t,n)}catch{return!0}}function VGe(t,e){return e()}var FGe=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?VGe:$Ge;GZ.useSyncExternalStore=Jh.useSyncExternalStore!==void 0?Jh.useSyncExternalStore:FGe;KZ.exports=GZ;var BGe=KZ.exports;/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var SE=C,UGe=BGe;function zGe(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var qGe=typeof Object.is=="function"?Object.is:zGe,HGe=UGe.useSyncExternalStore,WGe=SE.useRef,KGe=SE.useEffect,GGe=SE.useMemo,QGe=SE.useDebugValue;WZ.useSyncExternalStoreWithSelector=function(t,e,n,r,i){var s=WGe(null);if(s.current===null){var o={hasValue:!1,value:null};s.current=o}else o=s.current;s=GGe(function(){function l(p){if(!c){if(c=!0,u=p,p=r(p),i!==void 0&&o.hasValue){var m=o.value;if(i(m,p))return d=m}return d=p}if(m=d,qGe(u,p))return m;var g=r(p);return i!==void 0&&i(m,g)?m:(u=p,d=g)}var c=!1,u,d,f=n===void 0?null:n;return[function(){return l(e())},f===null?void 0:function(){return l(f())}]},[e,n,r,i]);var a=HGe(t,s[0],s[1]);return KGe(function(){o.hasValue=!0,o.value=a},[a]),QGe(a),a};HZ.exports=WZ;var YGe=HZ.exports;const XGe=vt(YGe),QZ={BASE_URL:"/",DEV:!1,MODE:"production",PROD:!0,SSR:!1,VITE_STRIPE_PUBLIC_KEY:"pk_test_51QKxgoAGjsptZ7IfyE0DT73w4Je7PTTVeyIHGHuUQZrm5cdydRZ8Hu6PbAzNjCVGTOD5LEnrjlglCq2xVMbugRSj002e5nsGwk",VITE_STRIPE_SECRET_KEY:"sk_test_51QKxgoAGjsptZ7IfcnDlFdoyKcEqwBTKWOcqyT0u4kFOtnfZpPu9GXhrH7ScsjQddSbwr2jybQXDVoeGamhJs0di00fWSVrGc8"},{useDebugValue:JGe}=M,{useSyncExternalStoreWithSelector:ZGe}=XGe;let bz=!1;const eQe=t=>t;function tQe(t,e=eQe,n){(QZ?"production":void 0)!=="production"&&n&&!bz&&(console.warn("[DEPRECATED] Use `createWithEqualityFn` instead of `create` or use `useStoreWithEqualityFn` instead of `useStore`. They can be imported from 'zustand/traditional'. https://github.com/pmndrs/zustand/discussions/1937"),bz=!0);const r=ZGe(t.subscribe,t.getState,t.getServerState||t.getInitialState,e,n);return JGe(r),r}const nQe=t=>{(QZ?"production":void 0)!=="production"&&typeof t!="function"&&console.warn("[DEPRECATED] Passing a vanilla store will be unsupported in a future version. Instead use `import { useStore } from 'zustand'`.");const e=typeof t=="function"?OGe(t):t,n=(r,i)=>tQe(e,r,i);return Object.assign(n,e),n},YZ=t=>nQe,rQe={BASE_URL:"/",DEV:!1,MODE:"production",PROD:!0,SSR:!1,VITE_STRIPE_PUBLIC_KEY:"pk_test_51QKxgoAGjsptZ7IfyE0DT73w4Je7PTTVeyIHGHuUQZrm5cdydRZ8Hu6PbAzNjCVGTOD5LEnrjlglCq2xVMbugRSj002e5nsGwk",VITE_STRIPE_SECRET_KEY:"sk_test_51QKxgoAGjsptZ7IfcnDlFdoyKcEqwBTKWOcqyT0u4kFOtnfZpPu9GXhrH7ScsjQddSbwr2jybQXDVoeGamhJs0di00fWSVrGc8"};function XZ(t,e){let n;try{n=t()}catch{return}return{getItem:i=>{var s;const o=l=>l===null?null:JSON.parse(l,void 0),a=(s=n.getItem(i))!=null?s:null;return a instanceof Promise?a.then(o):o(a)},setItem:(i,s)=>n.setItem(i,JSON.stringify(s,void 0)),removeItem:i=>n.removeItem(i)}}const nv=t=>e=>{try{const n=t(e);return n instanceof Promise?n:{then(r){return nv(r)(n)},catch(r){return this}}}catch(n){return{then(r){return this},catch(r){return nv(r)(n)}}}},iQe=(t,e)=>(n,r,i)=>{let s={getStorage:()=>localStorage,serialize:JSON.stringify,deserialize:JSON.parse,partialize:v=>v,version:0,merge:(v,x)=>({...x,...v}),...e},o=!1;const a=new Set,l=new Set;let c;try{c=s.getStorage()}catch{}if(!c)return t((...v)=>{console.warn(`[zustand persist middleware] Unable to update item '${s.name}', the given storage is currently unavailable.`),n(...v)},r,i);const u=nv(s.serialize),d=()=>{const v=s.partialize({...r()});let x;const b=u({state:v,version:s.version}).then(w=>c.setItem(s.name,w)).catch(w=>{x=w});if(x)throw x;return b},f=i.setState;i.setState=(v,x)=>{f(v,x),d()};const p=t((...v)=>{n(...v),d()},r,i);let m;const g=()=>{var v;if(!c)return;o=!1,a.forEach(b=>b(r()));const x=((v=s.onRehydrateStorage)==null?void 0:v.call(s,r()))||void 0;return nv(c.getItem.bind(c))(s.name).then(b=>{if(b)return s.deserialize(b)}).then(b=>{if(b)if(typeof b.version=="number"&&b.version!==s.version){if(s.migrate)return s.migrate(b.state,b.version);console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return b.state}).then(b=>{var w;return m=s.merge(b,(w=r())!=null?w:p),n(m,!0),d()}).then(()=>{x==null||x(m,void 0),o=!0,l.forEach(b=>b(m))}).catch(b=>{x==null||x(void 0,b)})};return i.persist={setOptions:v=>{s={...s,...v},v.getStorage&&(c=v.getStorage())},clearStorage:()=>{c==null||c.removeItem(s.name)},getOptions:()=>s,rehydrate:()=>g(),hasHydrated:()=>o,onHydrate:v=>(a.add(v),()=>{a.delete(v)}),onFinishHydration:v=>(l.add(v),()=>{l.delete(v)})},g(),m||p},sQe=(t,e)=>(n,r,i)=>{let s={storage:XZ(()=>localStorage),partialize:g=>g,version:0,merge:(g,v)=>({...v,...g}),...e},o=!1;const a=new Set,l=new Set;let c=s.storage;if(!c)return t((...g)=>{console.warn(`[zustand persist middleware] Unable to update item '${s.name}', the given storage is currently unavailable.`),n(...g)},r,i);const u=()=>{const g=s.partialize({...r()});return c.setItem(s.name,{state:g,version:s.version})},d=i.setState;i.setState=(g,v)=>{d(g,v),u()};const f=t((...g)=>{n(...g),u()},r,i);i.getInitialState=()=>f;let p;const m=()=>{var g,v;if(!c)return;o=!1,a.forEach(b=>{var w;return b((w=r())!=null?w:f)});const x=((v=s.onRehydrateStorage)==null?void 0:v.call(s,(g=r())!=null?g:f))||void 0;return nv(c.getItem.bind(c))(s.name).then(b=>{if(b)if(typeof b.version=="number"&&b.version!==s.version){if(s.migrate)return[!0,s.migrate(b.state,b.version)];console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return[!1,b.state];return[!1,void 0]}).then(b=>{var w;const[T,_]=b;if(p=s.merge(_,(w=r())!=null?w:f),n(p,!0),T)return u()}).then(()=>{x==null||x(p,void 0),p=r(),o=!0,l.forEach(b=>b(p))}).catch(b=>{x==null||x(void 0,b)})};return i.persist={setOptions:g=>{s={...s,...g},g.storage&&(c=g.storage)},clearStorage:()=>{c==null||c.removeItem(s.name)},getOptions:()=>s,rehydrate:()=>m(),hasHydrated:()=>o,onHydrate:g=>(a.add(g),()=>{a.delete(g)}),onFinishHydration:g=>(l.add(g),()=>{l.delete(g)})},s.skipHydration||m(),p||f},oQe=(t,e)=>"getStorage"in e||"serialize"in e||"deserialize"in e?((rQe?"production":void 0)!=="production"&&console.warn("[DEPRECATED] `getStorage`, `serialize` and `deserialize` options are deprecated. Use `storage` option instead."),iQe(t,e)):sQe(t,e),JZ=oQe,aQe=YZ()(JZ(t=>({theme:"dark",setTheme:e=>t({theme:e})}),{name:"theme-storage",storage:XZ(()=>localStorage)})),lQe={emailNotifications:!0,pushNotifications:!0,courseLanguage:"en",timezone:Intl.DateTimeFormat().resolvedOptions().timeZone,contentDifficulty:"intermediate"},cQe=YZ()(JZ(t=>({preferences:lQe,updatePreferences:e=>t(n=>({preferences:{...n.preferences,...e}}))}),{name:"user-preferences"}));function uQe(){const{theme:t,setTheme:e}=aQe(),{preferences:n,updatePreferences:r}=cQe(),i=o=>{e(o),te.success("Theme updated successfully")},s=(o,a)=>{r({[o]:a}),te.success("Preferences updated successfully")};return h.jsxs("div",{className:"max-w-4xl mx-auto space-y-8",children:[h.jsxs("div",{className:"flex items-center space-x-3",children:[h.jsx(A2,{className:"h-8 w-8 text-primary"}),h.jsx("h1",{className:"text-3xl font-bold text-white",children:"Settings"})]}),h.jsxs("div",{className:"bg-surface border border-surface-light rounded-lg p-6 space-y-8",children:[h.jsxs("div",{children:[h.jsx("h2",{className:"text-xl font-semibold text-white mb-4",children:"Theme"}),h.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[h.jsxs("button",{onClick:()=>i("light"),className:`flex items-center justify-center p-4 rounded-lg border ${t==="light"?"border-primary bg-primary/10":"border-surface-light hover:border-primary/50"}`,children:[h.jsx(Rpe,{className:"h-6 w-6 text-yellow-500 mr-2"}),h.jsx("span",{className:"text-white",children:"Light"})]}),h.jsxs("button",{onClick:()=>i("dark"),className:`flex items-center justify-center p-4 rounded-lg border ${t==="dark"?"border-primary bg-primary/10":"border-surface-light hover:border-primary/50"}`,children:[h.jsx(Spe,{className:"h-6 w-6 text-blue-500 mr-2"}),h.jsx("span",{className:"text-white",children:"Dark"})]}),h.jsxs("button",{onClick:()=>i("system"),className:`flex items-center justify-center p-4 rounded-lg border ${t==="system"?"border-primary bg-primary/10":"border-surface-light hover:border-primary/50"}`,children:[h.jsx(_pe,{className:"h-6 w-6 text-green-500 mr-2"}),h.jsx("span",{className:"text-white",children:"System"})]})]})]}),h.jsxs("div",{children:[h.jsx("h2",{className:"text-xl font-semibold text-white mb-4",children:"Notifications"}),h.jsxs("div",{className:"space-y-4",children:[h.jsxs("div",{className:"flex items-center justify-between",children:[h.jsxs("div",{className:"flex items-center space-x-2",children:[h.jsx(ew,{className:"h-5 w-5 text-primary"}),h.jsx("span",{className:"text-white",children:"Email Notifications"})]}),h.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[h.jsx("input",{type:"checkbox",checked:n.emailNotifications,onChange:o=>s("emailNotifications",o.target.checked),className:"sr-only peer"}),h.jsx("div",{className:"w-11 h-6 bg-surface-light rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-primary"})]})]}),h.jsxs("div",{className:"flex items-center justify-between",children:[h.jsxs("div",{className:"flex items-center space-x-2",children:[h.jsx(ew,{className:"h-5 w-5 text-primary"}),h.jsx("span",{className:"text-white",children:"Push Notifications"})]}),h.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[h.jsx("input",{type:"checkbox",checked:n.pushNotifications,onChange:o=>s("pushNotifications",o.target.checked),className:"sr-only peer"}),h.jsx("div",{className:"w-11 h-6 bg-surface-light rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-primary"})]})]})]})]}),h.jsxs("div",{children:[h.jsx("h2",{className:"text-xl font-semibold text-white mb-4",children:"Learning Preferences"}),h.jsxs("div",{className:"space-y-4",children:[h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Course Language"}),h.jsxs("select",{value:n.courseLanguage,onChange:o=>s("courseLanguage",o.target.value),className:"w-full px-3 py-2 bg-surface-light border border-surface-light rounded-md text-white focus:outline-none focus:ring-primary focus:border-primary",children:[h.jsx("option",{value:"en",children:"English"}),h.jsx("option",{value:"es",children:"Spanish"}),h.jsx("option",{value:"fr",children:"French"}),h.jsx("option",{value:"de",children:"German"})]})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Content Difficulty"}),h.jsxs("select",{value:n.contentDifficulty,onChange:o=>s("contentDifficulty",o.target.value),className:"w-full px-3 py-2 bg-surface-light border border-surface-light rounded-md text-white focus:outline-none focus:ring-primary focus:border-primary",children:[h.jsx("option",{value:"beginner",children:"Beginner"}),h.jsx("option",{value:"intermediate",children:"Intermediate"}),h.jsx("option",{value:"advanced",children:"Advanced"})]})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Timezone"}),h.jsx("select",{value:n.timezone,onChange:o=>s("timezone",o.target.value),className:"w-full px-3 py-2 bg-surface-light border border-surface-light rounded-md text-white focus:outline-none focus:ring-primary focus:border-primary",children:Intl.supportedValuesOf("timeZone").map(o=>h.jsx("option",{value:o,children:o},o))})]})]})]})]})]})}const wz=["#335EF7","#10B981","#F59E0B","#EC4899"];function dQe({data:t,timeRange:e,onTimeRangeChange:n}){return h.jsxs("div",{className:"space-y-8",children:[h.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[h.jsxs(G.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-surface border border-surface-light rounded-lg p-6",children:[h.jsxs("div",{className:"flex items-center justify-between mb-2",children:[h.jsx(nS,{className:"h-6 w-6 text-green-500"}),h.jsxs("div",{className:`flex items-center ${t.revenue.growth>=0?"text-green-500":"text-red-500"}`,children:[t.revenue.growth>=0?h.jsx(LP,{className:"h-4 w-4"}):h.jsx(MP,{className:"h-4 w-4"}),h.jsxs("span",{className:"text-sm",children:[Math.abs(t.revenue.growth),"%"]})]})]}),h.jsx("p",{className:"text-sm text-gray-400",children:"Total Revenue"}),h.jsxs("p",{className:"text-2xl font-bold text-white",children:["$",t.revenue.total.toLocaleString()]})]}),h.jsxs(G.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},className:"bg-surface border border-surface-light rounded-lg p-6",children:[h.jsxs("div",{className:"flex items-center justify-between mb-2",children:[h.jsx(Jt,{className:"h-6 w-6 text-blue-500"}),h.jsxs("div",{className:`flex items-center ${t.students.growth>=0?"text-green-500":"text-red-500"}`,children:[t.students.growth>=0?h.jsx(LP,{className:"h-4 w-4"}):h.jsx(MP,{className:"h-4 w-4"}),h.jsxs("span",{className:"text-sm",children:[Math.abs(t.students.growth),"%"]})]})]}),h.jsx("p",{className:"text-sm text-gray-400",children:"Active Students"}),h.jsx("p",{className:"text-2xl font-bold text-white",children:t.students.active.toLocaleString()})]}),h.jsxs(G.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},className:"bg-surface border border-surface-light rounded-lg p-6",children:[h.jsxs("div",{className:"flex items-center justify-between mb-2",children:[h.jsx(bo,{className:"h-6 w-6 text-yellow-500"}),h.jsxs("span",{className:"text-sm text-gray-400",children:[t.engagement.reviewCount," reviews"]})]}),h.jsx("p",{className:"text-sm text-gray-400",children:"Average Rating"}),h.jsx("p",{className:"text-2xl font-bold text-white",children:t.engagement.averageRating.toFixed(1)})]}),h.jsxs(G.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3},className:"bg-surface border border-surface-light rounded-lg p-6",children:[h.jsxs("div",{className:"flex items-center justify-between mb-2",children:[h.jsx(fp,{className:"h-6 w-6 text-purple-500"}),h.jsx("span",{className:"text-sm text-gray-400",children:"Course Completion"})]}),h.jsx("p",{className:"text-sm text-gray-400",children:"Completion Rate"}),h.jsxs("p",{className:"text-2xl font-bold text-white",children:[t.engagement.completionRate,"%"]})]})]}),h.jsx("div",{className:"flex justify-end space-x-2",children:["week","month","year"].map(r=>h.jsx("button",{onClick:()=>n(r),className:`px-4 py-2 rounded-md text-sm font-medium ${e===r?"bg-primary text-white":"bg-surface-light text-gray-400 hover:text-white"}`,children:r.charAt(0).toUpperCase()+r.slice(1)},r))}),h.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[h.jsxs("div",{className:"bg-surface border border-surface-light rounded-lg p-6",children:[h.jsx("h3",{className:"text-lg font-medium text-white mb-6",children:"Revenue Trend"}),h.jsx("div",{className:"h-80",children:h.jsx(Rf,{width:"100%",height:"100%",children:h.jsxs(FZ,{data:t.revenue.history,children:[h.jsx(Wh,{strokeDasharray:"3 3",stroke:"#374151"}),h.jsx(ya,{dataKey:"date",stroke:"#9CA3AF"}),h.jsx(va,{stroke:"#9CA3AF"}),h.jsx(Lr,{contentStyle:{backgroundColor:"#1F2937",border:"none",borderRadius:"0.375rem"}}),h.jsx(Zu,{type:"monotone",dataKey:"amount",stroke:"#335EF7",strokeWidth:2})]})})})]}),h.jsxs("div",{className:"bg-surface border border-surface-light rounded-lg p-6",children:[h.jsx("h3",{className:"text-lg font-medium text-white mb-6",children:"Students by Product"}),h.jsx("div",{className:"h-80",children:h.jsx(Rf,{width:"100%",height:"100%",children:h.jsxs(HR,{data:t.students.byProduct,children:[h.jsx(Wh,{strokeDasharray:"3 3",stroke:"#374151"}),h.jsx(ya,{dataKey:"name",stroke:"#9CA3AF"}),h.jsx(va,{stroke:"#9CA3AF"}),h.jsx(Lr,{contentStyle:{backgroundColor:"#1F2937",border:"none",borderRadius:"0.375rem"}}),h.jsx(yo,{dataKey:"count",fill:"#335EF7",radius:[4,4,0,0]})]})})})]}),h.jsxs("div",{className:"bg-surface border border-surface-light rounded-lg p-6 lg:col-span-2",children:[h.jsx("h3",{className:"text-lg font-medium text-white mb-6",children:"Category Distribution"}),h.jsx("div",{className:"h-80",children:h.jsx(Rf,{width:"100%",height:"100%",children:h.jsxs(cGe,{children:[h.jsx(ka,{data:t.engagement.categories,dataKey:"value",nameKey:"name",cx:"50%",cy:"50%",outerRadius:120,label:!0,children:t.engagement.categories.map((r,i)=>h.jsx(JS,{fill:wz[i%wz.length]},`cell-${i}`))}),h.jsx(Lr,{contentStyle:{backgroundColor:"#1F2937",border:"none",borderRadius:"0.375rem"}})]})})})]})]})]})}function fQe(t="week"){return fN({queryKey:["analytics",t],queryFn:async()=>{if(!ee.currentUser)throw new Error("Not authenticated");const e=wt(Ce(le,"transactions"),pt("creator_id","==",ee.currentUser.uid),mn("created_at","desc")),r=(await Ft(e)).docs.map(a=>a.data()),i=wt(Ce(le,"enrollments"),pt("creator_id","==",ee.currentUser.uid),mn("created_at","desc")),o=(await Ft(i)).docs.map(a=>a.data());return{revenue:{total:r.reduce((a,l)=>a+(l.amount||0),0),growth:_z(),history:hQe()},students:{total:o.length,active:o.filter(a=>a.status==="active").length,growth:_z(),byProduct:pQe()},engagement:{completionRate:mQe(),averageRating:4.5,reviewCount:128,categories:[{name:"Programming",value:45},{name:"Design",value:30},{name:"Business",value:15},{name:"Marketing",value:10}]}}},enabled:!!ee.currentUser})}function _z(t,e){return 15}function hQe(t,e){return[{date:"2024-01",amount:5e3},{date:"2024-02",amount:6200},{date:"2024-03",amount:7400}]}function pQe(t){return[{name:"Course A",count:120},{name:"Course B",count:80},{name:"Course C",count:60}]}function mQe(t){return 78}function gQe(){const[t,e]=C.useState("week"),{data:n,isLoading:r,error:i}=fQe(t);return r?h.jsxs("div",{className:"animate-pulse space-y-8",children:[h.jsx("div",{className:"h-8 bg-surface-light rounded w-1/4"}),h.jsx("div",{className:"grid grid-cols-4 gap-6",children:[...Array(4)].map((s,o)=>h.jsx("div",{className:"h-32 bg-surface-light rounded-lg"},o))}),h.jsx("div",{className:"h-96 bg-surface-light rounded-lg"})]}):i||!n?h.jsxs("div",{className:"text-center py-12",children:[h.jsx("p",{className:"text-red-500",children:"Failed to load analytics data"}),h.jsx("button",{onClick:()=>window.location.reload(),className:"mt-4 px-4 py-2 bg-primary text-white rounded-md hover:bg-primary/90",children:"Retry"})]}):h.jsxs("div",{className:"space-y-8",children:[h.jsxs("div",{className:"flex items-center space-x-3",children:[h.jsx(S2,{className:"h-8 w-8 text-primary"}),h.jsx("h1",{className:"text-3xl font-bold text-white",children:"Analytics"})]}),h.jsx(dQe,{data:n,timeRange:t,onTimeRangeChange:e})]})}function yQe(){const{code:t}=nc(),e=Os(),[n,r]=C.useState(!0),[i,s]=C.useState(null),[o,a]=C.useState(null);C.useEffect(()=>{t&&l()},[t]);const l=async()=>{try{r(!0),a(null);const u=await eY(t);s(u)}catch(u){a(u.message)}finally{r(!1)}},c=async()=>{if(!ee.currentUser){localStorage.setItem("pendingInvite",t),e("/login");return}try{r(!0),await Mke(t),i.type==="community"?e(`/communities/${i.targetId}`):e(`/creators/${i.targetId}`)}catch(u){te.error(u.message)}finally{r(!1)}};return n?h.jsx("div",{className:"min-h-screen flex items-center justify-center",children:h.jsx(dp,{className:"h-8 w-8 text-primary animate-spin"})}):o?h.jsx("div",{className:"min-h-screen flex items-center justify-center",children:h.jsxs("div",{className:"text-center",children:[h.jsx(FP,{className:"h-12 w-12 text-red-500 mx-auto mb-4"}),h.jsx("h1",{className:"text-2xl font-bold text-white mb-2",children:"Invalid Invite"}),h.jsx("p",{className:"text-gray-400 mb-6",children:o}),h.jsx("button",{onClick:()=>e("/"),className:"px-4 py-2 bg-primary text-white rounded-md hover:bg-primary/90",children:"Return Home"})]})}):h.jsx("div",{className:"min-h-screen flex items-center justify-center",children:h.jsx("div",{className:"bg-surface border border-surface-light rounded-lg p-8 max-w-md w-full mx-4",children:h.jsxs("div",{className:"text-center",children:[h.jsx(FP,{className:"h-12 w-12 text-primary mx-auto mb-4"}),h.jsx("h1",{className:"text-2xl font-bold text-white mb-2",children:"You've Been Invited!"}),h.jsx("p",{className:"text-gray-400 mb-6",children:i.type==="community"?"You've been invited to join a community":"You've been invited to collaborate"}),h.jsx("button",{onClick:c,disabled:n,className:"w-full px-4 py-2 bg-primary text-white rounded-md hover:bg-primary/90 disabled:opacity-50 mb-4",children:n?"Processing...":"Accept Invite"}),h.jsx("button",{onClick:()=>e("/"),className:"text-gray-400 hover:text-white",children:"Maybe Later"})]})})})}function vQe(){var m,g;const{username:t}=nc(),[e,n]=C.useState(null),[r,i]=C.useState([]),[s,o]=C.useState([]),[a,l]=C.useState(!0),[c,u]=C.useState(null);C.useEffect(()=>{t&&d()},[t]);async function d(){try{l(!0),u(null);const v=Ce(le,"users"),x=wt(v,pt("username","==",t)),b=await Ft(x);if(b.empty){u("User not found"),l(!1);return}const w={id:b.docs[0].id,...b.docs[0].data()};n(w),await Promise.all([f(w.id),p(w.id)])}catch(v){console.error("Error loading user data:",v),u("Failed to load profile"),te.error("Failed to load profile")}finally{l(!1)}}async function f(v){try{const x=wt(Ce(le,"communities"),pt("created_by","==",v)),w=(await Ft(x)).docs.map(T=>({id:T.id,...T.data()}));i(w)}catch(x){console.error("Error loading communities:",x)}}async function p(v){try{const x=wt(Ce(le,"courses"),pt("created_by","==",v)),w=(await Ft(x)).docs.map(T=>({id:T.id,...T.data()}));o(w)}catch(x){console.error("Error loading courses:",x)}}return a?h.jsx("div",{className:"flex items-center justify-center min-h-screen bg-background",children:h.jsx("div",{className:"animate-pulse text-gray-400",children:"Loading..."})}):c?h.jsx("div",{className:"flex flex-col items-center justify-center min-h-screen bg-background",children:h.jsxs("div",{className:"text-center",children:[h.jsx("h1",{className:"text-2xl font-bold text-white mb-4",children:c}),h.jsx("p",{className:"text-gray-400",children:"The user you're looking for doesn't exist."})]})}):e?h.jsx("div",{className:"min-h-screen bg-background py-12",children:h.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[h.jsxs("div",{className:"bg-surface border border-surface-light rounded-lg overflow-hidden",children:[h.jsx("div",{className:"h-48 gradient-banner"}),h.jsx("div",{className:"px-6 py-5",children:h.jsxs("div",{className:"flex flex-col md:flex-row md:items-start md:space-x-6",children:[h.jsx("div",{className:"-mt-20 mb-6 md:mb-0",children:e.avatar_url?h.jsx("img",{src:e.avatar_url,alt:e.full_name,className:"h-32 w-32 rounded-full border-4 border-surface bg-surface object-cover"}):h.jsx("div",{className:"h-32 w-32 rounded-full border-4 border-surface bg-surface flex items-center justify-center",children:h.jsx(Kl,{className:"h-12 w-12 text-primary"})})}),h.jsxs("div",{className:"flex-1",children:[h.jsx("h1",{className:"text-3xl font-bold text-white",children:e.full_name}),e.bio&&h.jsx("p",{className:"mt-2 text-gray-300",children:e.bio}),h.jsxs("div",{className:"mt-6 grid grid-cols-1 md:grid-cols-3 gap-4",children:[h.jsx("div",{className:"bg-surface-light rounded-lg p-4",children:h.jsxs("div",{className:"flex items-center justify-between",children:[h.jsxs("div",{children:[h.jsx("p",{className:"text-sm text-gray-400",children:"Communities"}),h.jsx("p",{className:"text-2xl font-bold text-white",children:r.length})]}),h.jsx(Jt,{className:"h-6 w-6 text-primary"})]})}),h.jsx("div",{className:"bg-surface-light rounded-lg p-4",children:h.jsxs("div",{className:"flex items-center justify-between",children:[h.jsxs("div",{children:[h.jsx("p",{className:"text-sm text-gray-400",children:"Courses"}),h.jsx("p",{className:"text-2xl font-bold text-white",children:s.length})]}),h.jsx(ls,{className:"h-6 w-6 text-green-500"})]})}),h.jsx("div",{className:"bg-surface-light rounded-lg p-4",children:h.jsxs("div",{className:"flex items-center justify-between",children:[h.jsxs("div",{children:[h.jsx("p",{className:"text-sm text-gray-400",children:"Rating"}),h.jsx("p",{className:"text-2xl font-bold text-white",children:((g=(m=e.metrics)==null?void 0:m.avg_course_rating)==null?void 0:g.toFixed(1))||"0.0"})]}),h.jsx(bo,{className:"h-6 w-6 text-yellow-500"})]})})]})]})]})})]}),s.length>0&&h.jsxs("div",{className:"mt-12",children:[h.jsx("h2",{className:"text-2xl font-bold text-white mb-6",children:"Courses"}),h.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:s.map(v=>h.jsx(lj,{course:v},v.id))})]})]})}):h.jsx(I8,{to:"/"})}function xQe({children:t}){const[e,n]=C.useState(!1),[r,i]=C.useState(null);return C.useEffect(()=>{const s=mq(ee,o=>{i(!!o),n(!0)});return()=>s()},[]),e?r?h.jsx(h.Fragment,{children:t}):h.jsx(I8,{to:"/login"}):h.jsx("div",{className:"flex items-center justify-center min-h-screen",children:h.jsx("div",{className:"animate-pulse text-gray-400",children:"Loading..."})})}function bQe(){const{pathname:t}=nd();return C.useEffect(()=>{window.scrollTo({top:0,left:0,behavior:"smooth"})},[t]),null}function wQe(){return h.jsx(p0e,{children:h.jsxs(Nie,{children:[h.jsx(bQe,{}),h.jsx(Zhe,{position:"top-right",toastOptions:{duration:3e3,style:{background:"#1A1B23",color:"#fff",border:"1px solid #2D2E3A"}}}),h.jsxs(Tie,{children:[h.jsx(Cn,{path:"/login",element:h.jsx(qxe,{})}),h.jsx(Cn,{path:"/invite/:code",element:h.jsx(yQe,{})}),h.jsx(Cn,{path:"/:username",element:h.jsx(vQe,{})}),h.jsxs(Cn,{path:"/",element:h.jsx(xQe,{children:h.jsx(zxe,{})}),children:[h.jsx(Cn,{index:!0,element:h.jsx(gbe,{})}),h.jsx(Cn,{path:"communities",element:h.jsx(bwe,{})}),h.jsx(Cn,{path:"communities/new",element:h.jsx($ke,{})}),h.jsx(Cn,{path:"communities/:id",element:h.jsx(Lke,{})}),h.jsx(Cn,{path:"communities/:communityId/courses/new",element:h.jsx(Vke,{})}),h.jsx(Cn,{path:"communities/:communityId/courses/:courseId",element:h.jsx(dGe,{})}),h.jsx(Cn,{path:"courses",element:h.jsx(pGe,{})}),h.jsx(Cn,{path:"profile",element:h.jsx(xwe,{})}),h.jsx(Cn,{path:"creators/:id",element:h.jsx(mGe,{})}),h.jsx(Cn,{path:"creators/:id/storefront",element:h.jsx(yGe,{})}),h.jsx(Cn,{path:"products",element:h.jsx(vGe,{})}),h.jsx(Cn,{path:"products/:id",element:h.jsx(CGe,{})}),h.jsx(Cn,{path:"settings",element:h.jsx(uQe,{})}),h.jsx(Cn,{path:"analytics",element:h.jsx(gQe,{})})]})]})]})})}const Ve=t=>typeof t=="string",bm=()=>{let t,e;const n=new Promise((r,i)=>{t=r,e=i});return n.resolve=t,n.reject=e,n},Sz=t=>t==null?"":""+t,_Qe=(t,e,n)=>{t.forEach(r=>{e[r]&&(n[r]=e[r])})},SQe=/###/g,Ez=t=>t&&t.indexOf("###")>-1?t.replace(SQe,"."):t,Tz=t=>!t||Ve(t),bg=(t,e,n)=>{const r=Ve(e)?e.split("."):e;let i=0;for(;i<r.length-1;){if(Tz(t))return{};const s=Ez(r[i]);!t[s]&&n&&(t[s]=new n),Object.prototype.hasOwnProperty.call(t,s)?t=t[s]:t={},++i}return Tz(t)?{}:{obj:t,k:Ez(r[i])}},Az=(t,e,n)=>{const{obj:r,k:i}=bg(t,e,Object);if(r!==void 0||e.length===1){r[i]=n;return}let s=e[e.length-1],o=e.slice(0,e.length-1),a=bg(t,o,Object);for(;a.obj===void 0&&o.length;)s=`${o[o.length-1]}.${s}`,o=o.slice(0,o.length-1),a=bg(t,o,Object),a&&a.obj&&typeof a.obj[`${a.k}.${s}`]<"u"&&(a.obj=void 0);a.obj[`${a.k}.${s}`]=n},EQe=(t,e,n,r)=>{const{obj:i,k:s}=bg(t,e,Object);i[s]=i[s]||[],i[s].push(n)},o_=(t,e)=>{const{obj:n,k:r}=bg(t,e);if(n)return n[r]},TQe=(t,e,n)=>{const r=o_(t,n);return r!==void 0?r:o_(e,n)},ZZ=(t,e,n)=>{for(const r in e)r!=="__proto__"&&r!=="constructor"&&(r in t?Ve(t[r])||t[r]instanceof String||Ve(e[r])||e[r]instanceof String?n&&(t[r]=e[r]):ZZ(t[r],e[r],n):t[r]=e[r]);return t},jd=t=>t.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&");var AQe={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;"};const kQe=t=>Ve(t)?t.replace(/[&<>"'\/]/g,e=>AQe[e]):t;class PQe{constructor(e){this.capacity=e,this.regExpMap=new Map,this.regExpQueue=[]}getRegExp(e){const n=this.regExpMap.get(e);if(n!==void 0)return n;const r=new RegExp(e);return this.regExpQueue.length===this.capacity&&this.regExpMap.delete(this.regExpQueue.shift()),this.regExpMap.set(e,r),this.regExpQueue.push(e),r}}const CQe=[" ",",","?","!",";"],IQe=new PQe(20),OQe=(t,e,n)=>{e=e||"",n=n||"";const r=CQe.filter(o=>e.indexOf(o)<0&&n.indexOf(o)<0);if(r.length===0)return!0;const i=IQe.getRegExp(`(${r.map(o=>o==="?"?"\\?":o).join("|")})`);let s=!i.test(t);if(!s){const o=t.indexOf(n);o>0&&!i.test(t.substring(0,o))&&(s=!0)}return s},hO=function(t,e){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:".";if(!t)return;if(t[e])return t[e];const r=e.split(n);let i=t;for(let s=0;s<r.length;){if(!i||typeof i!="object")return;let o,a="";for(let l=s;l<r.length;++l)if(l!==s&&(a+=n),a+=r[l],o=i[a],o!==void 0){if(["string","number","boolean"].indexOf(typeof o)>-1&&l<r.length-1)continue;s+=l-s+1;break}i=o}return i},a_=t=>t&&t.replace("_","-"),NQe={type:"logger",log(t){this.output("log",t)},warn(t){this.output("warn",t)},error(t){this.output("error",t)},output(t,e){console&&console[t]&&console[t].apply(console,e)}};class l_{constructor(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.init(e,n)}init(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.prefix=n.prefix||"i18next:",this.logger=e||NQe,this.options=n,this.debug=n.debug}log(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return this.forward(n,"log","",!0)}warn(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return this.forward(n,"warn","",!0)}error(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return this.forward(n,"error","")}deprecate(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return this.forward(n,"warn","WARNING DEPRECATED: ",!0)}forward(e,n,r,i){return i&&!this.debug?null:(Ve(e[0])&&(e[0]=`${r}${this.prefix} ${e[0]}`),this.logger[n](e))}create(e){return new l_(this.logger,{prefix:`${this.prefix}:${e}:`,...this.options})}clone(e){return e=e||this.options,e.prefix=e.prefix||this.prefix,new l_(this.logger,e)}}var Xs=new l_;class EE{constructor(){this.observers={}}on(e,n){return e.split(" ").forEach(r=>{this.observers[r]||(this.observers[r]=new Map);const i=this.observers[r].get(n)||0;this.observers[r].set(n,i+1)}),this}off(e,n){if(this.observers[e]){if(!n){delete this.observers[e];return}this.observers[e].delete(n)}}emit(e){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];this.observers[e]&&Array.from(this.observers[e].entries()).forEach(o=>{let[a,l]=o;for(let c=0;c<l;c++)a(...r)}),this.observers["*"]&&Array.from(this.observers["*"].entries()).forEach(o=>{let[a,l]=o;for(let c=0;c<l;c++)a.apply(a,[e,...r])})}}class kz extends EE{constructor(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{ns:["translation"],defaultNS:"translation"};super(),this.data=e||{},this.options=n,this.options.keySeparator===void 0&&(this.options.keySeparator="."),this.options.ignoreJSONStructure===void 0&&(this.options.ignoreJSONStructure=!0)}addNamespaces(e){this.options.ns.indexOf(e)<0&&this.options.ns.push(e)}removeNamespaces(e){const n=this.options.ns.indexOf(e);n>-1&&this.options.ns.splice(n,1)}getResource(e,n,r){let i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};const s=i.keySeparator!==void 0?i.keySeparator:this.options.keySeparator,o=i.ignoreJSONStructure!==void 0?i.ignoreJSONStructure:this.options.ignoreJSONStructure;let a;e.indexOf(".")>-1?a=e.split("."):(a=[e,n],r&&(Array.isArray(r)?a.push(...r):Ve(r)&&s?a.push(...r.split(s)):a.push(r)));const l=o_(this.data,a);return!l&&!n&&!r&&e.indexOf(".")>-1&&(e=a[0],n=a[1],r=a.slice(2).join(".")),l||!o||!Ve(r)?l:hO(this.data&&this.data[e]&&this.data[e][n],r,s)}addResource(e,n,r,i){let s=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{silent:!1};const o=s.keySeparator!==void 0?s.keySeparator:this.options.keySeparator;let a=[e,n];r&&(a=a.concat(o?r.split(o):r)),e.indexOf(".")>-1&&(a=e.split("."),i=n,n=a[1]),this.addNamespaces(n),Az(this.data,a,i),s.silent||this.emit("added",e,n,r,i)}addResources(e,n,r){let i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{silent:!1};for(const s in r)(Ve(r[s])||Array.isArray(r[s]))&&this.addResource(e,n,s,r[s],{silent:!0});i.silent||this.emit("added",e,n,r)}addResourceBundle(e,n,r,i,s){let o=arguments.length>5&&arguments[5]!==void 0?arguments[5]:{silent:!1,skipCopy:!1},a=[e,n];e.indexOf(".")>-1&&(a=e.split("."),i=r,r=n,n=a[1]),this.addNamespaces(n);let l=o_(this.data,a)||{};o.skipCopy||(r=JSON.parse(JSON.stringify(r))),i?ZZ(l,r,s):l={...l,...r},Az(this.data,a,l),o.silent||this.emit("added",e,n,r)}removeResourceBundle(e,n){this.hasResourceBundle(e,n)&&delete this.data[e][n],this.removeNamespaces(n),this.emit("removed",e,n)}hasResourceBundle(e,n){return this.getResource(e,n)!==void 0}getResourceBundle(e,n){return n||(n=this.options.defaultNS),this.options.compatibilityAPI==="v1"?{...this.getResource(e,n)}:this.getResource(e,n)}getDataByLanguage(e){return this.data[e]}hasLanguageSomeTranslations(e){const n=this.getDataByLanguage(e);return!!(n&&Object.keys(n)||[]).find(i=>n[i]&&Object.keys(n[i]).length>0)}toJSON(){return this.data}}var eee={processors:{},addPostProcessor(t){this.processors[t.name]=t},handle(t,e,n,r,i){return t.forEach(s=>{this.processors[s]&&(e=this.processors[s].process(e,n,r,i))}),e}};const Pz={};class c_ extends EE{constructor(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};super(),_Qe(["resourceStore","languageUtils","pluralResolver","interpolator","backendConnector","i18nFormat","utils"],e,this),this.options=n,this.options.keySeparator===void 0&&(this.options.keySeparator="."),this.logger=Xs.create("translator")}changeLanguage(e){e&&(this.language=e)}exists(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{interpolation:{}};if(e==null)return!1;const r=this.resolve(e,n);return r&&r.res!==void 0}extractFromKey(e,n){let r=n.nsSeparator!==void 0?n.nsSeparator:this.options.nsSeparator;r===void 0&&(r=":");const i=n.keySeparator!==void 0?n.keySeparator:this.options.keySeparator;let s=n.ns||this.options.defaultNS||[];const o=r&&e.indexOf(r)>-1,a=!this.options.userDefinedKeySeparator&&!n.keySeparator&&!this.options.userDefinedNsSeparator&&!n.nsSeparator&&!OQe(e,r,i);if(o&&!a){const l=e.match(this.interpolator.nestingRegexp);if(l&&l.length>0)return{key:e,namespaces:Ve(s)?[s]:s};const c=e.split(r);(r!==i||r===i&&this.options.ns.indexOf(c[0])>-1)&&(s=c.shift()),e=c.join(i)}return{key:e,namespaces:Ve(s)?[s]:s}}translate(e,n,r){if(typeof n!="object"&&this.options.overloadTranslationOptionHandler&&(n=this.options.overloadTranslationOptionHandler(arguments)),typeof n=="object"&&(n={...n}),n||(n={}),e==null)return"";Array.isArray(e)||(e=[String(e)]);const i=n.returnDetails!==void 0?n.returnDetails:this.options.returnDetails,s=n.keySeparator!==void 0?n.keySeparator:this.options.keySeparator,{key:o,namespaces:a}=this.extractFromKey(e[e.length-1],n),l=a[a.length-1],c=n.lng||this.language,u=n.appendNamespaceToCIMode||this.options.appendNamespaceToCIMode;if(c&&c.toLowerCase()==="cimode"){if(u){const T=n.nsSeparator||this.options.nsSeparator;return i?{res:`${l}${T}${o}`,usedKey:o,exactUsedKey:o,usedLng:c,usedNS:l,usedParams:this.getUsedParamsDetails(n)}:`${l}${T}${o}`}return i?{res:o,usedKey:o,exactUsedKey:o,usedLng:c,usedNS:l,usedParams:this.getUsedParamsDetails(n)}:o}const d=this.resolve(e,n);let f=d&&d.res;const p=d&&d.usedKey||o,m=d&&d.exactUsedKey||o,g=Object.prototype.toString.apply(f),v=["[object Number]","[object Function]","[object RegExp]"],x=n.joinArrays!==void 0?n.joinArrays:this.options.joinArrays,b=!this.i18nFormat||this.i18nFormat.handleAsObject,w=!Ve(f)&&typeof f!="boolean"&&typeof f!="number";if(b&&f&&w&&v.indexOf(g)<0&&!(Ve(x)&&Array.isArray(f))){if(!n.returnObjects&&!this.options.returnObjects){this.options.returnedObjectHandler||this.logger.warn("accessing an object - but returnObjects options is not enabled!");const T=this.options.returnedObjectHandler?this.options.returnedObjectHandler(p,f,{...n,ns:a}):`key '${o} (${this.language})' returned an object instead of string.`;return i?(d.res=T,d.usedParams=this.getUsedParamsDetails(n),d):T}if(s){const T=Array.isArray(f),_=T?[]:{},k=T?m:p;for(const S in f)if(Object.prototype.hasOwnProperty.call(f,S)){const E=`${k}${s}${S}`;_[S]=this.translate(E,{...n,joinArrays:!1,ns:a}),_[S]===E&&(_[S]=f[S])}f=_}}else if(b&&Ve(x)&&Array.isArray(f))f=f.join(x),f&&(f=this.extendTranslation(f,e,n,r));else{let T=!1,_=!1;const k=n.count!==void 0&&!Ve(n.count),S=c_.hasDefaultValue(n),E=k?this.pluralResolver.getSuffix(c,n.count,n):"",P=n.ordinal&&k?this.pluralResolver.getSuffix(c,n.count,{ordinal:!1}):"",O=k&&!n.ordinal&&n.count===0&&this.pluralResolver.shouldUseIntlApi(),N=O&&n[`defaultValue${this.options.pluralSeparator}zero`]||n[`defaultValue${E}`]||n[`defaultValue${P}`]||n.defaultValue;!this.isValidLookup(f)&&S&&(T=!0,f=N),this.isValidLookup(f)||(_=!0,f=o);const j=(n.missingKeyNoValueFallbackToKey||this.options.missingKeyNoValueFallbackToKey)&&_?void 0:f,z=S&&N!==f&&this.options.updateMissing;if(_||T||z){if(this.logger.log(z?"updateKey":"missingKey",c,l,o,z?N:f),s){const $=this.resolve(o,{...n,keySeparator:!1});$&&$.res&&this.logger.warn("Seems the loaded translations were in flat JSON format instead of nested. Either set keySeparator: false on init or make sure your translations are published in nested format.")}let F=[];const L=this.languageUtils.getFallbackCodes(this.options.fallbackLng,n.lng||this.language);if(this.options.saveMissingTo==="fallback"&&L&&L[0])for(let $=0;$<L.length;$++)F.push(L[$]);else this.options.saveMissingTo==="all"?F=this.languageUtils.toResolveHierarchy(n.lng||this.language):F.push(n.lng||this.language);const B=($,U,W)=>{const Z=S&&W!==f?W:j;this.options.missingKeyHandler?this.options.missingKeyHandler($,l,U,Z,z,n):this.backendConnector&&this.backendConnector.saveMissing&&this.backendConnector.saveMissing($,l,U,Z,z,n),this.emit("missingKey",$,l,U,f)};this.options.saveMissing&&(this.options.saveMissingPlurals&&k?F.forEach($=>{const U=this.pluralResolver.getSuffixes($,n);O&&n[`defaultValue${this.options.pluralSeparator}zero`]&&U.indexOf(`${this.options.pluralSeparator}zero`)<0&&U.push(`${this.options.pluralSeparator}zero`),U.forEach(W=>{B([$],o+W,n[`defaultValue${W}`]||N)})}):B(F,o,N))}f=this.extendTranslation(f,e,n,d,r),_&&f===o&&this.options.appendNamespaceToMissingKey&&(f=`${l}:${o}`),(_||T)&&this.options.parseMissingKeyHandler&&(this.options.compatibilityAPI!=="v1"?f=this.options.parseMissingKeyHandler(this.options.appendNamespaceToMissingKey?`${l}:${o}`:o,T?f:void 0):f=this.options.parseMissingKeyHandler(f))}return i?(d.res=f,d.usedParams=this.getUsedParamsDetails(n),d):f}extendTranslation(e,n,r,i,s){var o=this;if(this.i18nFormat&&this.i18nFormat.parse)e=this.i18nFormat.parse(e,{...this.options.interpolation.defaultVariables,...r},r.lng||this.language||i.usedLng,i.usedNS,i.usedKey,{resolved:i});else if(!r.skipInterpolation){r.interpolation&&this.interpolator.init({...r,interpolation:{...this.options.interpolation,...r.interpolation}});const c=Ve(e)&&(r&&r.interpolation&&r.interpolation.skipOnVariables!==void 0?r.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables);let u;if(c){const f=e.match(this.interpolator.nestingRegexp);u=f&&f.length}let d=r.replace&&!Ve(r.replace)?r.replace:r;if(this.options.interpolation.defaultVariables&&(d={...this.options.interpolation.defaultVariables,...d}),e=this.interpolator.interpolate(e,d,r.lng||this.language||i.usedLng,r),c){const f=e.match(this.interpolator.nestingRegexp),p=f&&f.length;u<p&&(r.nest=!1)}!r.lng&&this.options.compatibilityAPI!=="v1"&&i&&i.res&&(r.lng=this.language||i.usedLng),r.nest!==!1&&(e=this.interpolator.nest(e,function(){for(var f=arguments.length,p=new Array(f),m=0;m<f;m++)p[m]=arguments[m];return s&&s[0]===p[0]&&!r.context?(o.logger.warn(`It seems you are nesting recursively key: ${p[0]} in key: ${n[0]}`),null):o.translate(...p,n)},r)),r.interpolation&&this.interpolator.reset()}const a=r.postProcess||this.options.postProcess,l=Ve(a)?[a]:a;return e!=null&&l&&l.length&&r.applyPostProcessor!==!1&&(e=eee.handle(l,e,n,this.options&&this.options.postProcessPassResolved?{i18nResolved:{...i,usedParams:this.getUsedParamsDetails(r)},...r}:r,this)),e}resolve(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r,i,s,o,a;return Ve(e)&&(e=[e]),e.forEach(l=>{if(this.isValidLookup(r))return;const c=this.extractFromKey(l,n),u=c.key;i=u;let d=c.namespaces;this.options.fallbackNS&&(d=d.concat(this.options.fallbackNS));const f=n.count!==void 0&&!Ve(n.count),p=f&&!n.ordinal&&n.count===0&&this.pluralResolver.shouldUseIntlApi(),m=n.context!==void 0&&(Ve(n.context)||typeof n.context=="number")&&n.context!=="",g=n.lngs?n.lngs:this.languageUtils.toResolveHierarchy(n.lng||this.language,n.fallbackLng);d.forEach(v=>{this.isValidLookup(r)||(a=v,!Pz[`${g[0]}-${v}`]&&this.utils&&this.utils.hasLoadedNamespace&&!this.utils.hasLoadedNamespace(a)&&(Pz[`${g[0]}-${v}`]=!0,this.logger.warn(`key "${i}" for languages "${g.join(", ")}" won't get resolved as namespace "${a}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!")),g.forEach(x=>{if(this.isValidLookup(r))return;o=x;const b=[u];if(this.i18nFormat&&this.i18nFormat.addLookupKeys)this.i18nFormat.addLookupKeys(b,u,x,v,n);else{let T;f&&(T=this.pluralResolver.getSuffix(x,n.count,n));const _=`${this.options.pluralSeparator}zero`,k=`${this.options.pluralSeparator}ordinal${this.options.pluralSeparator}`;if(f&&(b.push(u+T),n.ordinal&&T.indexOf(k)===0&&b.push(u+T.replace(k,this.options.pluralSeparator)),p&&b.push(u+_)),m){const S=`${u}${this.options.contextSeparator}${n.context}`;b.push(S),f&&(b.push(S+T),n.ordinal&&T.indexOf(k)===0&&b.push(S+T.replace(k,this.options.pluralSeparator)),p&&b.push(S+_))}}let w;for(;w=b.pop();)this.isValidLookup(r)||(s=w,r=this.getResource(x,v,w,n))}))})}),{res:r,usedKey:i,exactUsedKey:s,usedLng:o,usedNS:a}}isValidLookup(e){return e!==void 0&&!(!this.options.returnNull&&e===null)&&!(!this.options.returnEmptyString&&e==="")}getResource(e,n,r){let i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};return this.i18nFormat&&this.i18nFormat.getResource?this.i18nFormat.getResource(e,n,r,i):this.resourceStore.getResource(e,n,r,i)}getUsedParamsDetails(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const n=["defaultValue","ordinal","context","replace","lng","lngs","fallbackLng","ns","keySeparator","nsSeparator","returnObjects","returnDetails","joinArrays","postProcess","interpolation"],r=e.replace&&!Ve(e.replace);let i=r?e.replace:e;if(r&&typeof e.count<"u"&&(i.count=e.count),this.options.interpolation.defaultVariables&&(i={...this.options.interpolation.defaultVariables,...i}),!r){i={...i};for(const s of n)delete i[s]}return i}static hasDefaultValue(e){const n="defaultValue";for(const r in e)if(Object.prototype.hasOwnProperty.call(e,r)&&n===r.substring(0,n.length)&&e[r]!==void 0)return!0;return!1}}const WA=t=>t.charAt(0).toUpperCase()+t.slice(1);class Cz{constructor(e){this.options=e,this.supportedLngs=this.options.supportedLngs||!1,this.logger=Xs.create("languageUtils")}getScriptPartFromCode(e){if(e=a_(e),!e||e.indexOf("-")<0)return null;const n=e.split("-");return n.length===2||(n.pop(),n[n.length-1].toLowerCase()==="x")?null:this.formatLanguageCode(n.join("-"))}getLanguagePartFromCode(e){if(e=a_(e),!e||e.indexOf("-")<0)return e;const n=e.split("-");return this.formatLanguageCode(n[0])}formatLanguageCode(e){if(Ve(e)&&e.indexOf("-")>-1){if(typeof Intl<"u"&&typeof Intl.getCanonicalLocales<"u")try{let i=Intl.getCanonicalLocales(e)[0];if(i&&this.options.lowerCaseLng&&(i=i.toLowerCase()),i)return i}catch{}const n=["hans","hant","latn","cyrl","cans","mong","arab"];let r=e.split("-");return this.options.lowerCaseLng?r=r.map(i=>i.toLowerCase()):r.length===2?(r[0]=r[0].toLowerCase(),r[1]=r[1].toUpperCase(),n.indexOf(r[1].toLowerCase())>-1&&(r[1]=WA(r[1].toLowerCase()))):r.length===3&&(r[0]=r[0].toLowerCase(),r[1].length===2&&(r[1]=r[1].toUpperCase()),r[0]!=="sgn"&&r[2].length===2&&(r[2]=r[2].toUpperCase()),n.indexOf(r[1].toLowerCase())>-1&&(r[1]=WA(r[1].toLowerCase())),n.indexOf(r[2].toLowerCase())>-1&&(r[2]=WA(r[2].toLowerCase()))),r.join("-")}return this.options.cleanCode||this.options.lowerCaseLng?e.toLowerCase():e}isSupportedCode(e){return(this.options.load==="languageOnly"||this.options.nonExplicitSupportedLngs)&&(e=this.getLanguagePartFromCode(e)),!this.supportedLngs||!this.supportedLngs.length||this.supportedLngs.indexOf(e)>-1}getBestMatchFromCodes(e){if(!e)return null;let n;return e.forEach(r=>{if(n)return;const i=this.formatLanguageCode(r);(!this.options.supportedLngs||this.isSupportedCode(i))&&(n=i)}),!n&&this.options.supportedLngs&&e.forEach(r=>{if(n)return;const i=this.getLanguagePartFromCode(r);if(this.isSupportedCode(i))return n=i;n=this.options.supportedLngs.find(s=>{if(s===i)return s;if(!(s.indexOf("-")<0&&i.indexOf("-")<0)&&(s.indexOf("-")>0&&i.indexOf("-")<0&&s.substring(0,s.indexOf("-"))===i||s.indexOf(i)===0&&i.length>1))return s})}),n||(n=this.getFallbackCodes(this.options.fallbackLng)[0]),n}getFallbackCodes(e,n){if(!e)return[];if(typeof e=="function"&&(e=e(n)),Ve(e)&&(e=[e]),Array.isArray(e))return e;if(!n)return e.default||[];let r=e[n];return r||(r=e[this.getScriptPartFromCode(n)]),r||(r=e[this.formatLanguageCode(n)]),r||(r=e[this.getLanguagePartFromCode(n)]),r||(r=e.default),r||[]}toResolveHierarchy(e,n){const r=this.getFallbackCodes(n||this.options.fallbackLng||[],e),i=[],s=o=>{o&&(this.isSupportedCode(o)?i.push(o):this.logger.warn(`rejecting language code not found in supportedLngs: ${o}`))};return Ve(e)&&(e.indexOf("-")>-1||e.indexOf("_")>-1)?(this.options.load!=="languageOnly"&&s(this.formatLanguageCode(e)),this.options.load!=="languageOnly"&&this.options.load!=="currentOnly"&&s(this.getScriptPartFromCode(e)),this.options.load!=="currentOnly"&&s(this.getLanguagePartFromCode(e))):Ve(e)&&s(this.formatLanguageCode(e)),r.forEach(o=>{i.indexOf(o)<0&&s(this.formatLanguageCode(o))}),i}}let jQe=[{lngs:["ach","ak","am","arn","br","fil","gun","ln","mfe","mg","mi","oc","pt","pt-BR","tg","tl","ti","tr","uz","wa"],nr:[1,2],fc:1},{lngs:["af","an","ast","az","bg","bn","ca","da","de","dev","el","en","eo","es","et","eu","fi","fo","fur","fy","gl","gu","ha","hi","hu","hy","ia","it","kk","kn","ku","lb","mai","ml","mn","mr","nah","nap","nb","ne","nl","nn","no","nso","pa","pap","pms","ps","pt-PT","rm","sco","se","si","so","son","sq","sv","sw","ta","te","tk","ur","yo"],nr:[1,2],fc:2},{lngs:["ay","bo","cgg","fa","ht","id","ja","jbo","ka","km","ko","ky","lo","ms","sah","su","th","tt","ug","vi","wo","zh"],nr:[1],fc:3},{lngs:["be","bs","cnr","dz","hr","ru","sr","uk"],nr:[1,2,5],fc:4},{lngs:["ar"],nr:[0,1,2,3,11,100],fc:5},{lngs:["cs","sk"],nr:[1,2,5],fc:6},{lngs:["csb","pl"],nr:[1,2,5],fc:7},{lngs:["cy"],nr:[1,2,3,8],fc:8},{lngs:["fr"],nr:[1,2],fc:9},{lngs:["ga"],nr:[1,2,3,7,11],fc:10},{lngs:["gd"],nr:[1,2,3,20],fc:11},{lngs:["is"],nr:[1,2],fc:12},{lngs:["jv"],nr:[0,1],fc:13},{lngs:["kw"],nr:[1,2,3,4],fc:14},{lngs:["lt"],nr:[1,2,10],fc:15},{lngs:["lv"],nr:[1,2,0],fc:16},{lngs:["mk"],nr:[1,2],fc:17},{lngs:["mnk"],nr:[0,1,2],fc:18},{lngs:["mt"],nr:[1,2,11,20],fc:19},{lngs:["or"],nr:[2,1],fc:2},{lngs:["ro"],nr:[1,2,20],fc:20},{lngs:["sl"],nr:[5,1,2,3],fc:21},{lngs:["he","iw"],nr:[1,2,20,21],fc:22}],RQe={1:t=>+(t>1),2:t=>+(t!=1),3:t=>0,4:t=>t%10==1&&t%100!=11?0:t%10>=2&&t%10<=4&&(t%100<10||t%100>=20)?1:2,5:t=>t==0?0:t==1?1:t==2?2:t%100>=3&&t%100<=10?3:t%100>=11?4:5,6:t=>t==1?0:t>=2&&t<=4?1:2,7:t=>t==1?0:t%10>=2&&t%10<=4&&(t%100<10||t%100>=20)?1:2,8:t=>t==1?0:t==2?1:t!=8&&t!=11?2:3,9:t=>+(t>=2),10:t=>t==1?0:t==2?1:t<7?2:t<11?3:4,11:t=>t==1||t==11?0:t==2||t==12?1:t>2&&t<20?2:3,12:t=>+(t%10!=1||t%100==11),13:t=>+(t!==0),14:t=>t==1?0:t==2?1:t==3?2:3,15:t=>t%10==1&&t%100!=11?0:t%10>=2&&(t%100<10||t%100>=20)?1:2,16:t=>t%10==1&&t%100!=11?0:t!==0?1:2,17:t=>t==1||t%10==1&&t%100!=11?0:1,18:t=>t==0?0:t==1?1:2,19:t=>t==1?0:t==0||t%100>1&&t%100<11?1:t%100>10&&t%100<20?2:3,20:t=>t==1?0:t==0||t%100>0&&t%100<20?1:2,21:t=>t%100==1?1:t%100==2?2:t%100==3||t%100==4?3:0,22:t=>t==1?0:t==2?1:(t<0||t>10)&&t%10==0?2:3};const DQe=["v1","v2","v3"],MQe=["v4"],Iz={zero:0,one:1,two:2,few:3,many:4,other:5},LQe=()=>{const t={};return jQe.forEach(e=>{e.lngs.forEach(n=>{t[n]={numbers:e.nr,plurals:RQe[e.fc]}})}),t};class $Qe{constructor(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.languageUtils=e,this.options=n,this.logger=Xs.create("pluralResolver"),(!this.options.compatibilityJSON||MQe.includes(this.options.compatibilityJSON))&&(typeof Intl>"u"||!Intl.PluralRules)&&(this.options.compatibilityJSON="v3",this.logger.error("Your environment seems not to be Intl API compatible, use an Intl.PluralRules polyfill. Will fallback to the compatibilityJSON v3 format handling.")),this.rules=LQe(),this.pluralRulesCache={}}addRule(e,n){this.rules[e]=n}clearCache(){this.pluralRulesCache={}}getRule(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(this.shouldUseIntlApi()){const r=a_(e==="dev"?"en":e),i=n.ordinal?"ordinal":"cardinal",s=JSON.stringify({cleanedCode:r,type:i});if(s in this.pluralRulesCache)return this.pluralRulesCache[s];let o;try{o=new Intl.PluralRules(r,{type:i})}catch{if(!e.match(/-|_/))return;const l=this.languageUtils.getLanguagePartFromCode(e);o=this.getRule(l,n)}return this.pluralRulesCache[s]=o,o}return this.rules[e]||this.rules[this.languageUtils.getLanguagePartFromCode(e)]}needsPlural(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const r=this.getRule(e,n);return this.shouldUseIntlApi()?r&&r.resolvedOptions().pluralCategories.length>1:r&&r.numbers.length>1}getPluralFormsOfKey(e,n){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return this.getSuffixes(e,r).map(i=>`${n}${i}`)}getSuffixes(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const r=this.getRule(e,n);return r?this.shouldUseIntlApi()?r.resolvedOptions().pluralCategories.sort((i,s)=>Iz[i]-Iz[s]).map(i=>`${this.options.prepend}${n.ordinal?`ordinal${this.options.prepend}`:""}${i}`):r.numbers.map(i=>this.getSuffix(e,i,n)):[]}getSuffix(e,n){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const i=this.getRule(e,r);return i?this.shouldUseIntlApi()?`${this.options.prepend}${r.ordinal?`ordinal${this.options.prepend}`:""}${i.select(n)}`:this.getSuffixRetroCompatible(i,n):(this.logger.warn(`no plural rule found for: ${e}`),"")}getSuffixRetroCompatible(e,n){const r=e.noAbs?e.plurals(n):e.plurals(Math.abs(n));let i=e.numbers[r];this.options.simplifyPluralSuffix&&e.numbers.length===2&&e.numbers[0]===1&&(i===2?i="plural":i===1&&(i=""));const s=()=>this.options.prepend&&i.toString()?this.options.prepend+i.toString():i.toString();return this.options.compatibilityJSON==="v1"?i===1?"":typeof i=="number"?`_plural_${i.toString()}`:s():this.options.compatibilityJSON==="v2"||this.options.simplifyPluralSuffix&&e.numbers.length===2&&e.numbers[0]===1?s():this.options.prepend&&r.toString()?this.options.prepend+r.toString():r.toString()}shouldUseIntlApi(){return!DQe.includes(this.options.compatibilityJSON)}}const Oz=function(t,e,n){let r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:".",i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!0,s=TQe(t,e,n);return!s&&i&&Ve(n)&&(s=hO(t,n,r),s===void 0&&(s=hO(e,n,r))),s},KA=t=>t.replace(/\$/g,"$$$$");class VQe{constructor(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.logger=Xs.create("interpolator"),this.options=e,this.format=e.interpolation&&e.interpolation.format||(n=>n),this.init(e)}init(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};e.interpolation||(e.interpolation={escapeValue:!0});const{escape:n,escapeValue:r,useRawValueToEscape:i,prefix:s,prefixEscaped:o,suffix:a,suffixEscaped:l,formatSeparator:c,unescapeSuffix:u,unescapePrefix:d,nestingPrefix:f,nestingPrefixEscaped:p,nestingSuffix:m,nestingSuffixEscaped:g,nestingOptionsSeparator:v,maxReplaces:x,alwaysFormat:b}=e.interpolation;this.escape=n!==void 0?n:kQe,this.escapeValue=r!==void 0?r:!0,this.useRawValueToEscape=i!==void 0?i:!1,this.prefix=s?jd(s):o||"{{",this.suffix=a?jd(a):l||"}}",this.formatSeparator=c||",",this.unescapePrefix=u?"":d||"-",this.unescapeSuffix=this.unescapePrefix?"":u||"",this.nestingPrefix=f?jd(f):p||jd("$t("),this.nestingSuffix=m?jd(m):g||jd(")"),this.nestingOptionsSeparator=v||",",this.maxReplaces=x||1e3,this.alwaysFormat=b!==void 0?b:!1,this.resetRegExp()}reset(){this.options&&this.init(this.options)}resetRegExp(){const e=(n,r)=>n&&n.source===r?(n.lastIndex=0,n):new RegExp(r,"g");this.regexp=e(this.regexp,`${this.prefix}(.+?)${this.suffix}`),this.regexpUnescape=e(this.regexpUnescape,`${this.prefix}${this.unescapePrefix}(.+?)${this.unescapeSuffix}${this.suffix}`),this.nestingRegexp=e(this.nestingRegexp,`${this.nestingPrefix}(.+?)${this.nestingSuffix}`)}interpolate(e,n,r,i){let s,o,a;const l=this.options&&this.options.interpolation&&this.options.interpolation.defaultVariables||{},c=p=>{if(p.indexOf(this.formatSeparator)<0){const x=Oz(n,l,p,this.options.keySeparator,this.options.ignoreJSONStructure);return this.alwaysFormat?this.format(x,void 0,r,{...i,...n,interpolationkey:p}):x}const m=p.split(this.formatSeparator),g=m.shift().trim(),v=m.join(this.formatSeparator).trim();return this.format(Oz(n,l,g,this.options.keySeparator,this.options.ignoreJSONStructure),v,r,{...i,...n,interpolationkey:g})};this.resetRegExp();const u=i&&i.missingInterpolationHandler||this.options.missingInterpolationHandler,d=i&&i.interpolation&&i.interpolation.skipOnVariables!==void 0?i.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables;return[{regex:this.regexpUnescape,safeValue:p=>KA(p)},{regex:this.regexp,safeValue:p=>this.escapeValue?KA(this.escape(p)):KA(p)}].forEach(p=>{for(a=0;s=p.regex.exec(e);){const m=s[1].trim();if(o=c(m),o===void 0)if(typeof u=="function"){const v=u(e,s,i);o=Ve(v)?v:""}else if(i&&Object.prototype.hasOwnProperty.call(i,m))o="";else if(d){o=s[0];continue}else this.logger.warn(`missed to pass in variable ${m} for interpolating ${e}`),o="";else!Ve(o)&&!this.useRawValueToEscape&&(o=Sz(o));const g=p.safeValue(o);if(e=e.replace(s[0],g),d?(p.regex.lastIndex+=o.length,p.regex.lastIndex-=s[0].length):p.regex.lastIndex=0,a++,a>=this.maxReplaces)break}}),e}nest(e,n){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},i,s,o;const a=(l,c)=>{const u=this.nestingOptionsSeparator;if(l.indexOf(u)<0)return l;const d=l.split(new RegExp(`${u}[ ]*{`));let f=`{${d[1]}`;l=d[0],f=this.interpolate(f,o);const p=f.match(/'/g),m=f.match(/"/g);(p&&p.length%2===0&&!m||m.length%2!==0)&&(f=f.replace(/'/g,'"'));try{o=JSON.parse(f),c&&(o={...c,...o})}catch(g){return this.logger.warn(`failed parsing options string in nesting for key ${l}`,g),`${l}${u}${f}`}return o.defaultValue&&o.defaultValue.indexOf(this.prefix)>-1&&delete o.defaultValue,l};for(;i=this.nestingRegexp.exec(e);){let l=[];o={...r},o=o.replace&&!Ve(o.replace)?o.replace:o,o.applyPostProcessor=!1,delete o.defaultValue;let c=!1;if(i[0].indexOf(this.formatSeparator)!==-1&&!/{.*}/.test(i[1])){const u=i[1].split(this.formatSeparator).map(d=>d.trim());i[1]=u.shift(),l=u,c=!0}if(s=n(a.call(this,i[1].trim(),o),o),s&&i[0]===e&&!Ve(s))return s;Ve(s)||(s=Sz(s)),s||(this.logger.warn(`missed to resolve ${i[1]} for nesting ${e}`),s=""),c&&(s=l.reduce((u,d)=>this.format(u,d,r.lng,{...r,interpolationkey:i[1].trim()}),s.trim())),e=e.replace(i[0],s),this.regexp.lastIndex=0}return e}}const FQe=t=>{let e=t.toLowerCase().trim();const n={};if(t.indexOf("(")>-1){const r=t.split("(");e=r[0].toLowerCase().trim();const i=r[1].substring(0,r[1].length-1);e==="currency"&&i.indexOf(":")<0?n.currency||(n.currency=i.trim()):e==="relativetime"&&i.indexOf(":")<0?n.range||(n.range=i.trim()):i.split(";").forEach(o=>{if(o){const[a,...l]=o.split(":"),c=l.join(":").trim().replace(/^'+|'+$/g,""),u=a.trim();n[u]||(n[u]=c),c==="false"&&(n[u]=!1),c==="true"&&(n[u]=!0),isNaN(c)||(n[u]=parseInt(c,10))}})}return{formatName:e,formatOptions:n}},Rd=t=>{const e={};return(n,r,i)=>{let s=i;i&&i.interpolationkey&&i.formatParams&&i.formatParams[i.interpolationkey]&&i[i.interpolationkey]&&(s={...s,[i.interpolationkey]:void 0});const o=r+JSON.stringify(s);let a=e[o];return a||(a=t(a_(r),i),e[o]=a),a(n)}};class BQe{constructor(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.logger=Xs.create("formatter"),this.options=e,this.formats={number:Rd((n,r)=>{const i=new Intl.NumberFormat(n,{...r});return s=>i.format(s)}),currency:Rd((n,r)=>{const i=new Intl.NumberFormat(n,{...r,style:"currency"});return s=>i.format(s)}),datetime:Rd((n,r)=>{const i=new Intl.DateTimeFormat(n,{...r});return s=>i.format(s)}),relativetime:Rd((n,r)=>{const i=new Intl.RelativeTimeFormat(n,{...r});return s=>i.format(s,r.range||"day")}),list:Rd((n,r)=>{const i=new Intl.ListFormat(n,{...r});return s=>i.format(s)})},this.init(e)}init(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{interpolation:{}};this.formatSeparator=n.interpolation.formatSeparator||","}add(e,n){this.formats[e.toLowerCase().trim()]=n}addCached(e,n){this.formats[e.toLowerCase().trim()]=Rd(n)}format(e,n,r){let i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};const s=n.split(this.formatSeparator);if(s.length>1&&s[0].indexOf("(")>1&&s[0].indexOf(")")<0&&s.find(a=>a.indexOf(")")>-1)){const a=s.findIndex(l=>l.indexOf(")")>-1);s[0]=[s[0],...s.splice(1,a)].join(this.formatSeparator)}return s.reduce((a,l)=>{const{formatName:c,formatOptions:u}=FQe(l);if(this.formats[c]){let d=a;try{const f=i&&i.formatParams&&i.formatParams[i.interpolationkey]||{},p=f.locale||f.lng||i.locale||i.lng||r;d=this.formats[c](a,p,{...u,...i,...f})}catch(f){this.logger.warn(f)}return d}else this.logger.warn(`there was no format function for ${c}`);return a},e)}}const UQe=(t,e)=>{t.pending[e]!==void 0&&(delete t.pending[e],t.pendingCount--)};class zQe extends EE{constructor(e,n,r){let i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};super(),this.backend=e,this.store=n,this.services=r,this.languageUtils=r.languageUtils,this.options=i,this.logger=Xs.create("backendConnector"),this.waitingReads=[],this.maxParallelReads=i.maxParallelReads||10,this.readingCalls=0,this.maxRetries=i.maxRetries>=0?i.maxRetries:5,this.retryTimeout=i.retryTimeout>=1?i.retryTimeout:350,this.state={},this.queue=[],this.backend&&this.backend.init&&this.backend.init(r,i.backend,i)}queueLoad(e,n,r,i){const s={},o={},a={},l={};return e.forEach(c=>{let u=!0;n.forEach(d=>{const f=`${c}|${d}`;!r.reload&&this.store.hasResourceBundle(c,d)?this.state[f]=2:this.state[f]<0||(this.state[f]===1?o[f]===void 0&&(o[f]=!0):(this.state[f]=1,u=!1,o[f]===void 0&&(o[f]=!0),s[f]===void 0&&(s[f]=!0),l[d]===void 0&&(l[d]=!0)))}),u||(a[c]=!0)}),(Object.keys(s).length||Object.keys(o).length)&&this.queue.push({pending:o,pendingCount:Object.keys(o).length,loaded:{},errors:[],callback:i}),{toLoad:Object.keys(s),pending:Object.keys(o),toLoadLanguages:Object.keys(a),toLoadNamespaces:Object.keys(l)}}loaded(e,n,r){const i=e.split("|"),s=i[0],o=i[1];n&&this.emit("failedLoading",s,o,n),!n&&r&&this.store.addResourceBundle(s,o,r,void 0,void 0,{skipCopy:!0}),this.state[e]=n?-1:2,n&&r&&(this.state[e]=0);const a={};this.queue.forEach(l=>{EQe(l.loaded,[s],o),UQe(l,e),n&&l.errors.push(n),l.pendingCount===0&&!l.done&&(Object.keys(l.loaded).forEach(c=>{a[c]||(a[c]={});const u=l.loaded[c];u.length&&u.forEach(d=>{a[c][d]===void 0&&(a[c][d]=!0)})}),l.done=!0,l.errors.length?l.callback(l.errors):l.callback())}),this.emit("loaded",a),this.queue=this.queue.filter(l=>!l.done)}read(e,n,r){let i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0,s=arguments.length>4&&arguments[4]!==void 0?arguments[4]:this.retryTimeout,o=arguments.length>5?arguments[5]:void 0;if(!e.length)return o(null,{});if(this.readingCalls>=this.maxParallelReads){this.waitingReads.push({lng:e,ns:n,fcName:r,tried:i,wait:s,callback:o});return}this.readingCalls++;const a=(c,u)=>{if(this.readingCalls--,this.waitingReads.length>0){const d=this.waitingReads.shift();this.read(d.lng,d.ns,d.fcName,d.tried,d.wait,d.callback)}if(c&&u&&i<this.maxRetries){setTimeout(()=>{this.read.call(this,e,n,r,i+1,s*2,o)},s);return}o(c,u)},l=this.backend[r].bind(this.backend);if(l.length===2){try{const c=l(e,n);c&&typeof c.then=="function"?c.then(u=>a(null,u)).catch(a):a(null,c)}catch(c){a(c)}return}return l(e,n,a)}prepareLoading(e,n){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},i=arguments.length>3?arguments[3]:void 0;if(!this.backend)return this.logger.warn("No backend was added via i18next.use. Will not load resources."),i&&i();Ve(e)&&(e=this.languageUtils.toResolveHierarchy(e)),Ve(n)&&(n=[n]);const s=this.queueLoad(e,n,r,i);if(!s.toLoad.length)return s.pending.length||i(),null;s.toLoad.forEach(o=>{this.loadOne(o)})}load(e,n,r){this.prepareLoading(e,n,{},r)}reload(e,n,r){this.prepareLoading(e,n,{reload:!0},r)}loadOne(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"";const r=e.split("|"),i=r[0],s=r[1];this.read(i,s,"read",void 0,void 0,(o,a)=>{o&&this.logger.warn(`${n}loading namespace ${s} for language ${i} failed`,o),!o&&a&&this.logger.log(`${n}loaded namespace ${s} for language ${i}`,a),this.loaded(e,o,a)})}saveMissing(e,n,r,i,s){let o=arguments.length>5&&arguments[5]!==void 0?arguments[5]:{},a=arguments.length>6&&arguments[6]!==void 0?arguments[6]:()=>{};if(this.services.utils&&this.services.utils.hasLoadedNamespace&&!this.services.utils.hasLoadedNamespace(n)){this.logger.warn(`did not save key "${r}" as the namespace "${n}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!");return}if(!(r==null||r==="")){if(this.backend&&this.backend.create){const l={...o,isUpdate:s},c=this.backend.create.bind(this.backend);if(c.length<6)try{let u;c.length===5?u=c(e,n,r,i,l):u=c(e,n,r,i),u&&typeof u.then=="function"?u.then(d=>a(null,d)).catch(a):a(null,u)}catch(u){a(u)}else c(e,n,r,i,a,l)}!e||!e[0]||this.store.addResource(e[0],n,r,i)}}}const Nz=()=>({debug:!1,initImmediate:!0,ns:["translation"],defaultNS:["translation"],fallbackLng:["dev"],fallbackNS:!1,supportedLngs:!1,nonExplicitSupportedLngs:!1,load:"all",preload:!1,simplifyPluralSuffix:!0,keySeparator:".",nsSeparator:":",pluralSeparator:"_",contextSeparator:"_",partialBundledLanguages:!1,saveMissing:!1,updateMissing:!1,saveMissingTo:"fallback",saveMissingPlurals:!0,missingKeyHandler:!1,missingInterpolationHandler:!1,postProcess:!1,postProcessPassResolved:!1,returnNull:!1,returnEmptyString:!0,returnObjects:!1,joinArrays:!1,returnedObjectHandler:!1,parseMissingKeyHandler:!1,appendNamespaceToMissingKey:!1,appendNamespaceToCIMode:!1,overloadTranslationOptionHandler:t=>{let e={};if(typeof t[1]=="object"&&(e=t[1]),Ve(t[1])&&(e.defaultValue=t[1]),Ve(t[2])&&(e.tDescription=t[2]),typeof t[2]=="object"||typeof t[3]=="object"){const n=t[3]||t[2];Object.keys(n).forEach(r=>{e[r]=n[r]})}return e},interpolation:{escapeValue:!0,format:t=>t,prefix:"{{",suffix:"}}",formatSeparator:",",unescapePrefix:"-",nestingPrefix:"$t(",nestingSuffix:")",nestingOptionsSeparator:",",maxReplaces:1e3,skipOnVariables:!0}}),jz=t=>(Ve(t.ns)&&(t.ns=[t.ns]),Ve(t.fallbackLng)&&(t.fallbackLng=[t.fallbackLng]),Ve(t.fallbackNS)&&(t.fallbackNS=[t.fallbackNS]),t.supportedLngs&&t.supportedLngs.indexOf("cimode")<0&&(t.supportedLngs=t.supportedLngs.concat(["cimode"])),t),vx=()=>{},qQe=t=>{Object.getOwnPropertyNames(Object.getPrototypeOf(t)).forEach(n=>{typeof t[n]=="function"&&(t[n]=t[n].bind(t))})};class rv extends EE{constructor(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=arguments.length>1?arguments[1]:void 0;if(super(),this.options=jz(e),this.services={},this.logger=Xs,this.modules={external:[]},qQe(this),n&&!this.isInitialized&&!e.isClone){if(!this.options.initImmediate)return this.init(e,n),this;setTimeout(()=>{this.init(e,n)},0)}}init(){var e=this;let n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=arguments.length>1?arguments[1]:void 0;this.isInitializing=!0,typeof n=="function"&&(r=n,n={}),!n.defaultNS&&n.defaultNS!==!1&&n.ns&&(Ve(n.ns)?n.defaultNS=n.ns:n.ns.indexOf("translation")<0&&(n.defaultNS=n.ns[0]));const i=Nz();this.options={...i,...this.options,...jz(n)},this.options.compatibilityAPI!=="v1"&&(this.options.interpolation={...i.interpolation,...this.options.interpolation}),n.keySeparator!==void 0&&(this.options.userDefinedKeySeparator=n.keySeparator),n.nsSeparator!==void 0&&(this.options.userDefinedNsSeparator=n.nsSeparator);const s=u=>u?typeof u=="function"?new u:u:null;if(!this.options.isClone){this.modules.logger?Xs.init(s(this.modules.logger),this.options):Xs.init(null,this.options);let u;this.modules.formatter?u=this.modules.formatter:typeof Intl<"u"&&(u=BQe);const d=new Cz(this.options);this.store=new kz(this.options.resources,this.options);const f=this.services;f.logger=Xs,f.resourceStore=this.store,f.languageUtils=d,f.pluralResolver=new $Qe(d,{prepend:this.options.pluralSeparator,compatibilityJSON:this.options.compatibilityJSON,simplifyPluralSuffix:this.options.simplifyPluralSuffix}),u&&(!this.options.interpolation.format||this.options.interpolation.format===i.interpolation.format)&&(f.formatter=s(u),f.formatter.init(f,this.options),this.options.interpolation.format=f.formatter.format.bind(f.formatter)),f.interpolator=new VQe(this.options),f.utils={hasLoadedNamespace:this.hasLoadedNamespace.bind(this)},f.backendConnector=new zQe(s(this.modules.backend),f.resourceStore,f,this.options),f.backendConnector.on("*",function(p){for(var m=arguments.length,g=new Array(m>1?m-1:0),v=1;v<m;v++)g[v-1]=arguments[v];e.emit(p,...g)}),this.modules.languageDetector&&(f.languageDetector=s(this.modules.languageDetector),f.languageDetector.init&&f.languageDetector.init(f,this.options.detection,this.options)),this.modules.i18nFormat&&(f.i18nFormat=s(this.modules.i18nFormat),f.i18nFormat.init&&f.i18nFormat.init(this)),this.translator=new c_(this.services,this.options),this.translator.on("*",function(p){for(var m=arguments.length,g=new Array(m>1?m-1:0),v=1;v<m;v++)g[v-1]=arguments[v];e.emit(p,...g)}),this.modules.external.forEach(p=>{p.init&&p.init(this)})}if(this.format=this.options.interpolation.format,r||(r=vx),this.options.fallbackLng&&!this.services.languageDetector&&!this.options.lng){const u=this.services.languageUtils.getFallbackCodes(this.options.fallbackLng);u.length>0&&u[0]!=="dev"&&(this.options.lng=u[0])}!this.services.languageDetector&&!this.options.lng&&this.logger.warn("init: no languageDetector is used and no lng is defined"),["getResource","hasResourceBundle","getResourceBundle","getDataByLanguage"].forEach(u=>{this[u]=function(){return e.store[u](...arguments)}}),["addResource","addResources","addResourceBundle","removeResourceBundle"].forEach(u=>{this[u]=function(){return e.store[u](...arguments),e}});const l=bm(),c=()=>{const u=(d,f)=>{this.isInitializing=!1,this.isInitialized&&!this.initializedStoreOnce&&this.logger.warn("init: i18next is already initialized. You should call init just once!"),this.isInitialized=!0,this.options.isClone||this.logger.log("initialized",this.options),this.emit("initialized",this.options),l.resolve(f),r(d,f)};if(this.languages&&this.options.compatibilityAPI!=="v1"&&!this.isInitialized)return u(null,this.t.bind(this));this.changeLanguage(this.options.lng,u)};return this.options.resources||!this.options.initImmediate?c():setTimeout(c,0),l}loadResources(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:vx;const i=Ve(e)?e:this.language;if(typeof e=="function"&&(r=e),!this.options.resources||this.options.partialBundledLanguages){if(i&&i.toLowerCase()==="cimode"&&(!this.options.preload||this.options.preload.length===0))return r();const s=[],o=a=>{if(!a||a==="cimode")return;this.services.languageUtils.toResolveHierarchy(a).forEach(c=>{c!=="cimode"&&s.indexOf(c)<0&&s.push(c)})};i?o(i):this.services.languageUtils.getFallbackCodes(this.options.fallbackLng).forEach(l=>o(l)),this.options.preload&&this.options.preload.forEach(a=>o(a)),this.services.backendConnector.load(s,this.options.ns,a=>{!a&&!this.resolvedLanguage&&this.language&&this.setResolvedLanguage(this.language),r(a)})}else r(null)}reloadResources(e,n,r){const i=bm();return typeof e=="function"&&(r=e,e=void 0),typeof n=="function"&&(r=n,n=void 0),e||(e=this.languages),n||(n=this.options.ns),r||(r=vx),this.services.backendConnector.reload(e,n,s=>{i.resolve(),r(s)}),i}use(e){if(!e)throw new Error("You are passing an undefined module! Please check the object you are passing to i18next.use()");if(!e.type)throw new Error("You are passing a wrong module! Please check the object you are passing to i18next.use()");return e.type==="backend"&&(this.modules.backend=e),(e.type==="logger"||e.log&&e.warn&&e.error)&&(this.modules.logger=e),e.type==="languageDetector"&&(this.modules.languageDetector=e),e.type==="i18nFormat"&&(this.modules.i18nFormat=e),e.type==="postProcessor"&&eee.addPostProcessor(e),e.type==="formatter"&&(this.modules.formatter=e),e.type==="3rdParty"&&this.modules.external.push(e),this}setResolvedLanguage(e){if(!(!e||!this.languages)&&!(["cimode","dev"].indexOf(e)>-1))for(let n=0;n<this.languages.length;n++){const r=this.languages[n];if(!(["cimode","dev"].indexOf(r)>-1)&&this.store.hasLanguageSomeTranslations(r)){this.resolvedLanguage=r;break}}}changeLanguage(e,n){var r=this;this.isLanguageChangingTo=e;const i=bm();this.emit("languageChanging",e);const s=l=>{this.language=l,this.languages=this.services.languageUtils.toResolveHierarchy(l),this.resolvedLanguage=void 0,this.setResolvedLanguage(l)},o=(l,c)=>{c?(s(c),this.translator.changeLanguage(c),this.isLanguageChangingTo=void 0,this.emit("languageChanged",c),this.logger.log("languageChanged",c)):this.isLanguageChangingTo=void 0,i.resolve(function(){return r.t(...arguments)}),n&&n(l,function(){return r.t(...arguments)})},a=l=>{!e&&!l&&this.services.languageDetector&&(l=[]);const c=Ve(l)?l:this.services.languageUtils.getBestMatchFromCodes(l);c&&(this.language||s(c),this.translator.language||this.translator.changeLanguage(c),this.services.languageDetector&&this.services.languageDetector.cacheUserLanguage&&this.services.languageDetector.cacheUserLanguage(c)),this.loadResources(c,u=>{o(u,c)})};return!e&&this.services.languageDetector&&!this.services.languageDetector.async?a(this.services.languageDetector.detect()):!e&&this.services.languageDetector&&this.services.languageDetector.async?this.services.languageDetector.detect.length===0?this.services.languageDetector.detect().then(a):this.services.languageDetector.detect(a):a(e),i}getFixedT(e,n,r){var i=this;const s=function(o,a){let l;if(typeof a!="object"){for(var c=arguments.length,u=new Array(c>2?c-2:0),d=2;d<c;d++)u[d-2]=arguments[d];l=i.options.overloadTranslationOptionHandler([o,a].concat(u))}else l={...a};l.lng=l.lng||s.lng,l.lngs=l.lngs||s.lngs,l.ns=l.ns||s.ns,l.keyPrefix!==""&&(l.keyPrefix=l.keyPrefix||r||s.keyPrefix);const f=i.options.keySeparator||".";let p;return l.keyPrefix&&Array.isArray(o)?p=o.map(m=>`${l.keyPrefix}${f}${m}`):p=l.keyPrefix?`${l.keyPrefix}${f}${o}`:o,i.t(p,l)};return Ve(e)?s.lng=e:s.lngs=e,s.ns=n,s.keyPrefix=r,s}t(){return this.translator&&this.translator.translate(...arguments)}exists(){return this.translator&&this.translator.exists(...arguments)}setDefaultNamespace(e){this.options.defaultNS=e}hasLoadedNamespace(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(!this.isInitialized)return this.logger.warn("hasLoadedNamespace: i18next was not initialized",this.languages),!1;if(!this.languages||!this.languages.length)return this.logger.warn("hasLoadedNamespace: i18n.languages were undefined or empty",this.languages),!1;const r=n.lng||this.resolvedLanguage||this.languages[0],i=this.options?this.options.fallbackLng:!1,s=this.languages[this.languages.length-1];if(r.toLowerCase()==="cimode")return!0;const o=(a,l)=>{const c=this.services.backendConnector.state[`${a}|${l}`];return c===-1||c===0||c===2};if(n.precheck){const a=n.precheck(this,o);if(a!==void 0)return a}return!!(this.hasResourceBundle(r,e)||!this.services.backendConnector.backend||this.options.resources&&!this.options.partialBundledLanguages||o(r,e)&&(!i||o(s,e)))}loadNamespaces(e,n){const r=bm();return this.options.ns?(Ve(e)&&(e=[e]),e.forEach(i=>{this.options.ns.indexOf(i)<0&&this.options.ns.push(i)}),this.loadResources(i=>{r.resolve(),n&&n(i)}),r):(n&&n(),Promise.resolve())}loadLanguages(e,n){const r=bm();Ve(e)&&(e=[e]);const i=this.options.preload||[],s=e.filter(o=>i.indexOf(o)<0&&this.services.languageUtils.isSupportedCode(o));return s.length?(this.options.preload=i.concat(s),this.loadResources(o=>{r.resolve(),n&&n(o)}),r):(n&&n(),Promise.resolve())}dir(e){if(e||(e=this.resolvedLanguage||(this.languages&&this.languages.length>0?this.languages[0]:this.language)),!e)return"rtl";const n=["ar","shu","sqr","ssh","xaa","yhd","yud","aao","abh","abv","acm","acq","acw","acx","acy","adf","ads","aeb","aec","afb","ajp","apc","apd","arb","arq","ars","ary","arz","auz","avl","ayh","ayl","ayn","ayp","bbz","pga","he","iw","ps","pbt","pbu","pst","prp","prd","ug","ur","ydd","yds","yih","ji","yi","hbo","men","xmn","fa","jpr","peo","pes","prs","dv","sam","ckb"],r=this.services&&this.services.languageUtils||new Cz(Nz());return n.indexOf(r.getLanguagePartFromCode(e))>-1||e.toLowerCase().indexOf("-arab")>1?"rtl":"ltr"}static createInstance(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=arguments.length>1?arguments[1]:void 0;return new rv(e,n)}cloneInstance(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:vx;const r=e.forkResourceStore;r&&delete e.forkResourceStore;const i={...this.options,...e,isClone:!0},s=new rv(i);return(e.debug!==void 0||e.prefix!==void 0)&&(s.logger=s.logger.clone(e)),["store","services","language"].forEach(a=>{s[a]=this[a]}),s.services={...this.services},s.services.utils={hasLoadedNamespace:s.hasLoadedNamespace.bind(s)},r&&(s.store=new kz(this.store.data,i),s.services.resourceStore=s.store),s.translator=new c_(s.services,i),s.translator.on("*",function(a){for(var l=arguments.length,c=new Array(l>1?l-1:0),u=1;u<l;u++)c[u-1]=arguments[u];s.emit(a,...c)}),s.init(i,n),s.translator.options=i,s.translator.backendConnector.services.utils={hasLoadedNamespace:s.hasLoadedNamespace.bind(s)},s}toJSON(){return{options:this.options,store:this.store,language:this.language,languages:this.languages,resolvedLanguage:this.resolvedLanguage}}}const cr=rv.createInstance();cr.createInstance=rv.createInstance;cr.createInstance;cr.dir;cr.init;cr.loadResources;cr.reloadResources;cr.use;cr.changeLanguage;cr.getFixedT;cr.t;cr.exists;cr.setDefaultNamespace;cr.hasLoadedNamespace;cr.loadNamespaces;cr.loadLanguages;function HQe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function iv(t){"@babel/helpers - typeof";return iv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},iv(t)}function WQe(t,e){if(iv(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(iv(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function KQe(t){var e=WQe(t,"string");return iv(e)=="symbol"?e:e+""}function GQe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,KQe(r.key),r)}}function QQe(t,e,n){return e&&GQe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}var tee=[],YQe=tee.forEach,XQe=tee.slice;function JQe(t){return YQe.call(XQe.call(arguments,1),function(e){if(e)for(var n in e)t[n]===void 0&&(t[n]=e[n])}),t}var Rz=/^[\u0009\u0020-\u007e\u0080-\u00ff]+$/,ZQe=function(e,n,r){var i=r||{};i.path=i.path||"/";var s=encodeURIComponent(n),o="".concat(e,"=").concat(s);if(i.maxAge>0){var a=i.maxAge-0;if(Number.isNaN(a))throw new Error("maxAge should be a Number");o+="; Max-Age=".concat(Math.floor(a))}if(i.domain){if(!Rz.test(i.domain))throw new TypeError("option domain is invalid");o+="; Domain=".concat(i.domain)}if(i.path){if(!Rz.test(i.path))throw new TypeError("option path is invalid");o+="; Path=".concat(i.path)}if(i.expires){if(typeof i.expires.toUTCString!="function")throw new TypeError("option expires is invalid");o+="; Expires=".concat(i.expires.toUTCString())}if(i.httpOnly&&(o+="; HttpOnly"),i.secure&&(o+="; Secure"),i.sameSite){var l=typeof i.sameSite=="string"?i.sameSite.toLowerCase():i.sameSite;switch(l){case!0:o+="; SameSite=Strict";break;case"lax":o+="; SameSite=Lax";break;case"strict":o+="; SameSite=Strict";break;case"none":o+="; SameSite=None";break;default:throw new TypeError("option sameSite is invalid")}}return o},Dz={create:function(e,n,r,i){var s=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{path:"/",sameSite:"strict"};r&&(s.expires=new Date,s.expires.setTime(s.expires.getTime()+r*60*1e3)),i&&(s.domain=i),document.cookie=ZQe(e,encodeURIComponent(n),s)},read:function(e){for(var n="".concat(e,"="),r=document.cookie.split(";"),i=0;i<r.length;i++){for(var s=r[i];s.charAt(0)===" ";)s=s.substring(1,s.length);if(s.indexOf(n)===0)return s.substring(n.length,s.length)}return null},remove:function(e){this.create(e,"",-1)}},eYe={name:"cookie",lookup:function(e){var n;if(e.lookupCookie&&typeof document<"u"){var r=Dz.read(e.lookupCookie);r&&(n=r)}return n},cacheUserLanguage:function(e,n){n.lookupCookie&&typeof document<"u"&&Dz.create(n.lookupCookie,e,n.cookieMinutes,n.cookieDomain,n.cookieOptions)}},tYe={name:"querystring",lookup:function(e){var n;if(typeof window<"u"){var r=window.location.search;!window.location.search&&window.location.hash&&window.location.hash.indexOf("?")>-1&&(r=window.location.hash.substring(window.location.hash.indexOf("?")));for(var i=r.substring(1),s=i.split("&"),o=0;o<s.length;o++){var a=s[o].indexOf("=");if(a>0){var l=s[o].substring(0,a);l===e.lookupQuerystring&&(n=s[o].substring(a+1))}}}return n}},wm=null,Mz=function(){if(wm!==null)return wm;try{wm=window!=="undefined"&&window.localStorage!==null;var e="i18next.translate.boo";window.localStorage.setItem(e,"foo"),window.localStorage.removeItem(e)}catch{wm=!1}return wm},nYe={name:"localStorage",lookup:function(e){var n;if(e.lookupLocalStorage&&Mz()){var r=window.localStorage.getItem(e.lookupLocalStorage);r&&(n=r)}return n},cacheUserLanguage:function(e,n){n.lookupLocalStorage&&Mz()&&window.localStorage.setItem(n.lookupLocalStorage,e)}},_m=null,Lz=function(){if(_m!==null)return _m;try{_m=window!=="undefined"&&window.sessionStorage!==null;var e="i18next.translate.boo";window.sessionStorage.setItem(e,"foo"),window.sessionStorage.removeItem(e)}catch{_m=!1}return _m},rYe={name:"sessionStorage",lookup:function(e){var n;if(e.lookupSessionStorage&&Lz()){var r=window.sessionStorage.getItem(e.lookupSessionStorage);r&&(n=r)}return n},cacheUserLanguage:function(e,n){n.lookupSessionStorage&&Lz()&&window.sessionStorage.setItem(n.lookupSessionStorage,e)}},iYe={name:"navigator",lookup:function(e){var n=[];if(typeof navigator<"u"){if(navigator.languages)for(var r=0;r<navigator.languages.length;r++)n.push(navigator.languages[r]);navigator.userLanguage&&n.push(navigator.userLanguage),navigator.language&&n.push(navigator.language)}return n.length>0?n:void 0}},sYe={name:"htmlTag",lookup:function(e){var n,r=e.htmlTag||(typeof document<"u"?document.documentElement:null);return r&&typeof r.getAttribute=="function"&&(n=r.getAttribute("lang")),n}},oYe={name:"path",lookup:function(e){var n;if(typeof window<"u"){var r=window.location.pathname.match(/\/([a-zA-Z-]*)/g);if(r instanceof Array)if(typeof e.lookupFromPathIndex=="number"){if(typeof r[e.lookupFromPathIndex]!="string")return;n=r[e.lookupFromPathIndex].replace("/","")}else n=r[0].replace("/","")}return n}},aYe={name:"subdomain",lookup:function(e){var n=typeof e.lookupFromSubdomainIndex=="number"?e.lookupFromSubdomainIndex+1:1,r=typeof window<"u"&&window.location&&window.location.hostname&&window.location.hostname.match(/^(\w{2,5})\.(([a-z0-9-]{1,63}\.[a-z]{2,6})|localhost)/i);if(r)return r[n]}};function lYe(){return{order:["querystring","cookie","localStorage","sessionStorage","navigator","htmlTag"],lookupQuerystring:"lng",lookupCookie:"i18next",lookupLocalStorage:"i18nextLng",lookupSessionStorage:"i18nextLng",caches:["localStorage"],excludeCacheFor:["cimode"],convertDetectedLanguage:function(e){return e}}}var nee=function(){function t(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};HQe(this,t),this.type="languageDetector",this.detectors={},this.init(e,n)}return QQe(t,[{key:"init",value:function(n){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};this.services=n||{languageUtils:{}},this.options=JQe(r,this.options||{},lYe()),typeof this.options.convertDetectedLanguage=="string"&&this.options.convertDetectedLanguage.indexOf("15897")>-1&&(this.options.convertDetectedLanguage=function(s){return s.replace("-","_")}),this.options.lookupFromUrlIndex&&(this.options.lookupFromPathIndex=this.options.lookupFromUrlIndex),this.i18nOptions=i,this.addDetector(eYe),this.addDetector(tYe),this.addDetector(nYe),this.addDetector(rYe),this.addDetector(iYe),this.addDetector(sYe),this.addDetector(oYe),this.addDetector(aYe)}},{key:"addDetector",value:function(n){return this.detectors[n.name]=n,this}},{key:"detect",value:function(n){var r=this;n||(n=this.options.order);var i=[];return n.forEach(function(s){if(r.detectors[s]){var o=r.detectors[s].lookup(r.options);o&&typeof o=="string"&&(o=[o]),o&&(i=i.concat(o))}}),i=i.map(function(s){return r.options.convertDetectedLanguage(s)}),this.services.languageUtils.getBestMatchFromCodes?i:i.length>0?i[0]:null}},{key:"cacheUserLanguage",value:function(n,r){var i=this;r||(r=this.options.caches),r&&(this.options.excludeCacheFor&&this.options.excludeCacheFor.indexOf(n)>-1||r.forEach(function(s){i.detectors[s]&&i.detectors[s].cacheUserLanguage(n,i.options)}))}}]),t}();nee.type="languageDetector";const cYe={en:{common:{navigation:{home:"Home",communities:"Communities",courses:"Courses",profile:"Profile",settings:"Settings"},actions:{create:"Create",edit:"Edit",delete:"Delete",save:"Save",cancel:"Cancel",close:"Close",join:"Join",leave:"Leave",invite:"Invite"}},auth:{signIn:"Sign in",signOut:"Sign out",signUp:"Sign up"}},es:{common:{navigation:{home:"Inicio",communities:"Comunidades",courses:"Cursos",profile:"Perfil",settings:"Ajustes"},actions:{create:"Crear",edit:"Editar",delete:"Eliminar",save:"Guardar",cancel:"Cancelar",close:"Cerrar",join:"Unirse",leave:"Salir",invite:"Invitar"}},auth:{signIn:"Iniciar sesin",signOut:"Cerrar sesin",signUp:"Registrarse"}}};cr.use(nee).use(Dxe).init({resources:cYe,fallbackLng:"en",defaultNS:"common",detection:{order:["navigator","localStorage"],caches:["localStorage"]},interpolation:{escapeValue:!1}});cr.on("languageChanged",t=>{localStorage.setItem("i18nextLng",t),document.documentElement.lang=t});const uYe=new gre({defaultOptions:{queries:{staleTime:1e3*60*5,cacheTime:1e3*60*30,retry:1,refetchOnWindowFocus:!1}}}),dYe=null,fYe=a8(document.getElementById("root"));fYe.render(h.jsx(C.StrictMode,{children:h.jsx(C.Suspense,{fallback:h.jsx("div",{children:"Loading..."}),children:h.jsxs(wre,{client:uYe,children:[h.jsx(wQe,{}),dYe]})})}));
